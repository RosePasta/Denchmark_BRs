{"BR": {"BR_id": "1898", "BR_author": "aohan237", "BRopenT": "2019-08-23T06:32:51Z", "BRcloseT": "2019-11-11T19:46:08Z", "BR_text": {"BRsummary": "tfjs-executeAsync exception with tensorflow object detect api-mask-rcnn", "BRdescription": "\n i convert a tensorflow object detect api --mask rcnn model to tfjs.\n when i load the model, and run model.\n await model.executeAsync([tf.zeros([1, 800, 800, 3])]);\n there is an exception:\n \n (node:6828) UnhandledPromiseRejectionWarning: Error: The implicit shape can't be a fractional number. Got 900 / 1200\n \n location :\n @tensorflow/tfjs/node_modules/@tensorflow/tfjs-core/dist/util.js:301:15\n what's the problem and how to fix it\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "aohan237", "commentT": "2019-08-23T08:00:22Z", "comment_text": "\n \t\ti found that the problem maybe the tfjs-converter --quantization_bytes .\n when choose 1 the model will be raise these exception\n when choose 2 will be good.\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "aohan237", "commentT": "2019-08-23T16:01:35Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/aohan237>@aohan237</denchmark-link>\n  can you share the saved model files or link to the model in order for us to reproduce? thanks!\n \t\t"}, "comments_2": {"comment_id": 3, "comment_author": "aohan237", "commentT": "2019-08-26T02:21:28Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/pyu10055>@pyu10055</denchmark-link>\n \n <denchmark-link:https://github.com/tensorflow/models/blob/master/research/object_detection/g3doc/instance_segmentation.md>https://github.com/tensorflow/models/blob/master/research/object_detection/g3doc/instance_segmentation.md</denchmark-link>\n \n <denchmark-link:https://github.com/tensorflow/models/blob/master/research/object_detection/samples/configs/mask_rcnn_resnet50_atrous_coco.config>https://github.com/tensorflow/models/blob/master/research/object_detection/samples/configs/mask_rcnn_resnet50_atrous_coco.config</denchmark-link>\n \n \t\t"}, "comments_3": {"comment_id": 4, "comment_author": "aohan237", "commentT": "2019-11-02T05:13:10Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/aohan237>@aohan237</denchmark-link>\n  sorry for the delay, it would be great if you can provide the saved model for me to reproduce the problem. Thanks\n \t\t"}, "comments_4": {"comment_id": 5, "comment_author": "aohan237", "commentT": "2019-11-07T02:45:15Z", "comment_text": "\n \t\tsorry, the model i cant find it.  but the model  generated by following the links i give to you to produce.\n \t\t"}}}, "commit": {"commit_id": "7fe593efd6f39925ac1ba6d30b2b12ba5cafd6f6", "commit_author": "Ping Yu", "commitT": "2019-11-11 11:46:06-08:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "tfjs-converter\\python\\tensorflowjs\\write_weights.py", "file_new_name": "tfjs-converter\\python\\tensorflowjs\\write_weights.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "172,173", "deleted_lines": "172,173", "method_info": {"method_name": "_quantize_entry", "method_params": "entry,quantization_dtype", "method_startline": "142", "method_endline": "181"}}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "tfjs-converter\\python\\tensorflowjs\\write_weights_test.py", "file_new_name": "tfjs-converter\\python\\tensorflowjs\\write_weights_test.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "719,737,741,742,744,747,749", "deleted_lines": "718,719,720,721,742,743,745,748,750", "method_info": {"method_name": "test_quantize_group", "method_params": "self", "method_startline": "682", "method_endline": "750"}}, "hunk_1": {"Ismethod": 1, "added_lines": "497", "deleted_lines": null, "method_info": {"method_name": "test_1_group_2_packed_sharded_multi_dtype", "method_params": "self", "method_startline": "445", "method_endline": "506"}}}}}}}