{"BR": {"BR_id": "2632", "BR_author": "batrlatom", "BRopenT": "2020-01-01T23:16:02Z", "BRcloseT": "2020-01-27T14:23:02Z", "BR_text": {"BRsummary": "model save with tf.io.http and custom headers do not work", "BRdescription": "\n To get help from the community, we encourage using Stack Overflow and the <denchmark-link:https://stackoverflow.com/questions/tagged/tensorflow.js>tensorflow.js</denchmark-link>\n  tag.\n <denchmark-h:h4>TensorFlow.js version</denchmark-h>\n \n 1.3.1\n <denchmark-h:h4>Browser version</denchmark-h>\n \n Chrome\n <denchmark-h:h4>Describe the problem or feature request</denchmark-h>\n \n I am trying to save tfjs model on server with additional headers, but headers are not present in the request.\n <denchmark-h:h4>Code to reproduce the bug / link to feature request</denchmark-h>\n \n web:\n await model.save(tf.io.browserHTTPRequest(\n '<denchmark-link:http://localhost:5000/upload>http://localhost:5000/upload</denchmark-link>\n ',\n {method: 'POST', headers: {'class': 'Dog'}}));\n server:\n <denchmark-link:https://gist.github.com/dsmilkov/1b6046fd6132d7408d5257b0976f7864>https://gist.github.com/dsmilkov/1b6046fd6132d7408d5257b0976f7864</denchmark-link>\n \n \n 'print(request.headers)' in  /upload method\n \n If you would like to get help from the community, we encourage using Stack Overflow and the <denchmark-link:https://stackoverflow.com/questions/tagged/tensorflow.js>tensorflow.js</denchmark-link>\n  tag.\n GitHub issues for this repository are tracked in the <denchmark-link:https://github.com/tensorflow/tfjs/issues>tfjs union repository</denchmark-link>\n .\n Please file your issue there, following the guidance in <denchmark-link:https://github.com/tensorflow/tfjs/blob/master/ISSUE_TEMPLATE.md>that issue template</denchmark-link>\n .\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "batrlatom", "commentT": "2020-01-02T10:15:03Z", "comment_text": "\n \t\tDocumentation differs from the implementation slightly. It would be nice to\n change it to actual one ( at: <denchmark-link:https://js.tensorflow.org/api/latest/#io.http>https://js.tensorflow.org/api/latest/#io.http</denchmark-link>\n  ) .\n The right code for client headers should be\n <denchmark-code>              const saveResult = await this.model.save(tf.io.http(\n               'http://localhost:5000/upload', {requestInit: { method: 'POST',\n                headers: {\n                    'class': 'Dog'\n                }}}));\n </denchmark-code>\n \n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "batrlatom", "commentT": "2020-01-02T21:32:38Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/batrlatom>@batrlatom</denchmark-link>\n  thank you , do you want to submit a PR for this change ?\n cc <denchmark-link:https://github.com/nsthorat>@nsthorat</denchmark-link>\n  <denchmark-link:https://github.com/kangyizhang>@kangyizhang</denchmark-link>\n \n \t\t"}}}, "commit": {"commit_id": "a60f32fbb3d12801c35e464a1f5fd173d575097a", "commit_author": "Rajeshwar Reddy T", "commitT": "2020-01-27 09:23:01-05:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "tfjs-core\\src\\io\\http.ts", "file_new_name": "tfjs-core\\src\\io\\http.ts", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "300", "deleted_lines": "300"}}}}}}