{"BR": {"BR_id": "3241", "BR_author": "kedevked", "BRopenT": "2020-05-09T21:19:40Z", "BRcloseT": "2020-05-18T16:02:40Z", "BR_text": {"BRsummary": "globalAveragePooling2d requires to pass an empty object", "BRdescription": "\n To get help from the community, we encourage using Stack Overflow and the <denchmark-link:https://stackoverflow.com/questions/tagged/tensorflow.js>tensorflow.js</denchmark-link>\n  tag.\n <denchmark-h:h4>TensorFlow.js version</denchmark-h>\n \n 1.7.2\n <denchmark-h:h4>Browser version</denchmark-h>\n \n chrome 81\n <denchmark-h:h4>Describe the problem or feature request</denchmark-h>\n \n An empty object needs to be passed to the layer for it tries to access the name parameter. It will fail if not\n <denchmark-h:h4>Code to reproduce the bug / link to feature request</denchmark-h>\n \n let model = tf.sequential();\n model.add(tf.layers.conv2d({\n   inputShape: [224, 224 , 3],\n   kernelSize: 3,\n   activation: 'relu',\n   filters: 8\n }));\n \n // model.add(tf.layers.globalAveragePooling2d()); will fail\n  model.add(tf.layers.globalAveragePooling2d({})); // will work\n model.summary()\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "kedevked", "commentT": "2020-05-09T21:20:23Z", "comment_text": "\n \t\tif this is confirmed to be an issue and that no one is on it, I can take it.\n It can be fixed by giving a default value () to the  <denchmark-link:https://github.com/tensorflow/tfjs/blob/9de661ab49a08aed73776580b0883015c201b184/tfjs-layers/src/engine/topology.ts#L454>constructor</denchmark-link>\n \n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "kedevked", "commentT": "2020-05-11T22:13:09Z", "comment_text": "\n \t\tSeems to be a bug, please submit a fix. Thank you.\n cc <denchmark-link:https://github.com/annxingyuan>@annxingyuan</denchmark-link>\n \n \t\t"}}}, "commit": {"commit_id": "0da59f041aba349423992fd5a4d0297495c6cb2d", "commit_author": "kedevked", "commitT": "2020-05-18 09:02:39-07:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "tfjs-layers\\src\\engine\\topology.ts", "file_new_name": "tfjs-layers\\src\\engine\\topology.ts", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "454", "deleted_lines": "454", "method_info": {"method_name": "constructor", "method_params": "LayerArgs", "method_startline": "454", "method_endline": "525"}}, "hunk_1": {"Ismethod": 1, "added_lines": "454", "deleted_lines": "454", "method_info": {"method_name": "constructor", "method_params": "LayerArgs", "method_startline": "454", "method_endline": "525"}}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 4, "file_old_name": "tfjs-layers\\src\\engine\\topology_test.ts", "file_new_name": "tfjs-layers\\src\\engine\\topology_test.ts", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "405,413,421,430,437,445,452,461,468,477,487,494,503,512,519", "deleted_lines": "405,413,421,430,437,445,452,461,468,477,487,494,503,512,519", "method_info": {"method_name": "testInputs", "method_params": "", "method_startline": "399", "method_endline": "524"}}, "hunk_1": {"Ismethod": 1, "added_lines": "134", "deleted_lines": "134", "method_info": {"method_name": "(anonymous)", "method_params": "", "method_startline": "133", "method_endline": "135"}}, "hunk_2": {"Ismethod": 1, "added_lines": "23", "deleted_lines": "23", "method_info": {"method_name": "constructor", "method_params": "LayerArgs", "method_startline": "23", "method_endline": "25"}}, "hunk_3": {"Ismethod": 1, "added_lines": "23", "deleted_lines": "23", "method_info": {"method_name": "constructor", "method_params": "LayerArgs", "method_startline": "23", "method_endline": "25"}}}}}}}