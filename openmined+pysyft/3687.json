{"BR": {"BR_id": "3687", "BR_author": "youben11", "BRopenT": "2020-06-10T09:45:26Z", "BRcloseT": "2020-06-18T12:36:28Z", "BR_text": {"BRsummary": "Rank to Worker_ID translation should be linked to a specific CrypTen computation", "BRdescription": "\n <denchmark-h:h2>Description</denchmark-h>\n \n Server workers are intended to run multiple queries from client in parallel. Starting multiple CrypTen computation on the same worker at a time should be possible, however, due to the current way of storing the rank-to-worker-id translation, starting a new computation will overwrite the old translation dictionary and lead to undefined behavior.\n <denchmark-h:h2>How to Reproduce</denchmark-h>\n \n \n Start a server worker supporting CrypTen messages\n Start two consecutive and long CrypTen computations with different workers involved\n \n <denchmark-h:h2>Expected Behavior</denchmark-h>\n \n Running parallel CrypTen computation should work normally as if they were run sequentially.\n <denchmark-h:h2>Additional Context</denchmark-h>\n \n Also see <denchmark-link:https://github.com/OpenMined/PySyft/issues/3516>#3516</denchmark-link>\n \n \t"}, "comments": {}}, "commit": {"commit_id": "db61f12afe51b3a216c53db80813b8d8ac378055", "commit_author": "Ayoub Benaissa", "commitT": "2020-06-17 14:58:26+01:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "syft\\frameworks\\crypten\\__init__.py", "file_new_name": "syft\\frameworks\\crypten\\__init__.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "43,44,45,46", "deleted_lines": null, "method_info": {"method_name": "load", "method_params": "str,int,kwargs", "method_startline": "41", "method_endline": "58"}}, "hunk_1": {"Ismethod": 1, "added_lines": "16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38", "deleted_lines": null, "method_info": {"method_name": "get_worker_from_rank", "method_params": "int,int", "method_startline": "16", "method_endline": "38"}}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 8, "file_old_name": "syft\\frameworks\\crypten\\context.py", "file_new_name": "syft\\frameworks\\crypten\\context.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "16", "deleted_lines": "16", "method_info": {"method_name": "_launch", "method_params": "func,rank,world_size,master_addr,master_port,queue,func_args,func_kwargs", "method_startline": "15", "method_endline": "16"}}, "hunk_1": {"Ismethod": 1, "added_lines": "41", "deleted_lines": "37,41", "method_info": {"method_name": "_new_party", "method_params": "func,rank,world_size,master_addr,master_port,func_args,func_kwargs", "method_startline": "37", "method_endline": "43"}}, "hunk_2": {"Ismethod": 1, "added_lines": "50,54,68", "deleted_lines": "63", "method_info": {"method_name": "run_party", "method_params": "cid,func,rank,world_size,master_addr,master_port,func_args,func_kwargs", "method_startline": "50", "method_endline": "78"}}, "hunk_3": {"Ismethod": 1, "added_lines": null, "deleted_lines": "133,134,192,193", "method_info": {"method_name": "decorator.wrapper", "method_params": "args,kwargs", "method_startline": "106", "method_endline": "194"}}, "hunk_4": {"Ismethod": 1, "added_lines": null, "deleted_lines": "133,134,192,193", "method_info": {"method_name": "decorator", "method_params": "func", "method_startline": "104", "method_endline": "196"}}, "hunk_5": {"Ismethod": 1, "added_lines": "16", "deleted_lines": "16", "method_info": {"method_name": "_launch", "method_params": "cid,func,rank,world_size,master_addr,master_port,queue,func_args,func_kwargs", "method_startline": "15", "method_endline": "16"}}, "hunk_6": {"Ismethod": 1, "added_lines": "50,54,68", "deleted_lines": "46,63", "method_info": {"method_name": "run_party", "method_params": "func,rank,world_size,master_addr,master_port,func_args,func_kwargs", "method_startline": "46", "method_endline": "73"}}, "hunk_7": {"Ismethod": 1, "added_lines": "41,45", "deleted_lines": "41,46", "method_info": {"method_name": "_new_party", "method_params": "cid,func,rank,world_size,master_addr,master_port,func_args,func_kwargs", "method_startline": "41", "method_endline": "47"}}}}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 6, "file_old_name": "syft\\frameworks\\crypten\\message_handler.py", "file_new_name": "syft\\frameworks\\crypten\\message_handler.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "68,69,70,71,78,81,82,83,84,85,86", "deleted_lines": "69,76,79,82,85", "method_info": {"method_name": "run_crypten_party_jail", "method_params": "self,CryptenInitJail", "method_startline": "57", "method_endline": "87"}}, "hunk_1": {"Ismethod": 1, "added_lines": "89,92", "deleted_lines": null, "method_info": {"method_name": "_current_rank", "method_params": "self,rank_to_worker_id", "method_startline": "89", "method_endline": "96"}}, "hunk_2": {"Ismethod": 1, "added_lines": "37,38,39,40,48,51,52,53,54", "deleted_lines": "44,52,55", "method_info": {"method_name": "run_crypten_party_plan", "method_params": "self,CryptenInitPlan", "method_startline": "26", "method_endline": "55"}}, "hunk_3": {"Ismethod": 1, "added_lines": null, "deleted_lines": "25", "method_info": {"method_name": "__init__", "method_params": "self,object_store,worker", "method_startline": "22", "method_endline": "25"}}, "hunk_4": {"Ismethod": 1, "added_lines": null, "deleted_lines": "16,17,18", "method_info": {"method_name": "get_worker_from_rank", "method_params": "BaseWorker,int", "method_startline": "16", "method_endline": "18"}}, "hunk_5": {"Ismethod": 1, "added_lines": "82,83,84,85,86,89", "deleted_lines": "82,85", "method_info": {"method_name": "_current_rank", "method_params": "self", "method_startline": "82", "method_endline": "89"}}}}, "file_3": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "test\\crypten\\test_context.py", "file_new_name": "test\\crypten\\test_context.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "189", "deleted_lines": "189", "method_info": {"method_name": "test_run_party", "method_params": "", "method_startline": "182", "method_endline": "191"}}}}}}}