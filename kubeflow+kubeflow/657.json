{"BR": {"BR_id": "657", "BR_author": "jlewi", "BRopenT": "2018-04-13T21:47:11Z", "BRcloseT": "2018-04-20T19:00:01Z", "BR_text": {"BRsummary": "Segfault in bootstrapper while processing .kube", "BRdescription": "\n <denchmark-code> /opt/kubeflow/bootstraper --app-dir=/home/jlewi/kf-apps/test-app0413\n {\"filename\":\"app/server.go:106\",\"level\":\"info\",\"msg\":\"Reading config from file: /home/jlewi/.kube/config\",\"time\":\"2018-04-13T20:32:04Z\"}\n panic: runtime error: invalid memory address or nil pointer dereference\n [signal SIGSEGV: segmentation violation code=0x1 addr=0x8 pc=0xfbf5bc]\n \n goroutine 1 [running]:\n github.com/kubeflow/kubeflow/bootstrap/cmd/bootstrap/app.modifyGcloudCommand(0xc420559910, 0x0, 0x0)\n \t/home/jlewi/go/src/github.com/kubeflow/kubeflow/bootstrap/cmd/bootstrap/app/server.go:68 +0xbc\n github.com/kubeflow/kubeflow/bootstrap/cmd/bootstrap/app.getClusterConfig(0xc4201b37a0, 0x0, 0x4, 0xc42044a5b0, 0x2)\n \t/home/jlewi/go/src/github.com/kubeflow/kubeflow/bootstrap/cmd/bootstrap/app/server.go:119 +0x291\n github.com/kubeflow/kubeflow/bootstrap/cmd/bootstrap/app.Run(0xc42029d950, 0xc4202a51a0, 0x13aa9c0)\n \t/home/jlewi/go/src/github.com/kubeflow/kubeflow/bootstrap/cmd/bootstrap/app/server.go:193 +0x4b\n main.main()\n \t/home/jlewi/go/src/github.com/kubeflow/kubeflow/bootstrap/cmd/bootstrap/main.go:45 +0x6b\n \n </denchmark-code>\n \n /assign <denchmark-link:https://github.com/kunmingg>@kunmingg</denchmark-link>\n \n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "jlewi", "commentT": "2018-04-16T22:45:12Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/jlewi>@jlewi</denchmark-link>\n  cannot recreate from my side, any special formatting for ?\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "jlewi", "commentT": "2018-04-20T00:11:47Z", "comment_text": "\n \t\tI am facing the same issue as well\n \t\t"}, "comments_2": {"comment_id": 3, "comment_author": "jlewi", "commentT": "2018-04-20T00:15:29Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/ankushagarwal>@ankushagarwal</denchmark-link>\n  Can you add your error message? and which branch are you using?\n Thanks!\n \t\t"}, "comments_3": {"comment_id": 4, "comment_author": "jlewi", "commentT": "2018-04-20T00:22:39Z", "comment_text": "\n \t\tIn line \n \n \n kubeflow/bootstrap/cmd/bootstrap/app/server.go\n \n \n          Line 71\n       in\n       94e8803\n \n \n \n \n \n \n  if a.AuthProvider.Name != \"gcp\" { \n \n \n \n \n \n you need to check for a.AuthProvider != nil\n Not every AuthInfo object has a AuthProvider set\n For example\n <denchmark-code>- name: kf-dev\n  user:\n    auth-provider:\n      config:\n        access-token: xyz\n        cmd-args: config config-helper --format=json\n        cmd-path: /Users/agwl/google-cloud-sdk/bin/gcloud\n        expiry: 2018-04-19 21:51:16\n        expiry-key: '{.credential.token_expiry}'\n        token-key: '{.credential.access_token}'\n      name: gcp\n - name: minikube\n  user:\n    client-certificate: /Users/agwl/.minikube/client.crt\n    client-key: /Users/agwl/.minikube/client.key\n </denchmark-code>\n \n \t\t"}, "comments_4": {"comment_id": 5, "comment_author": "jlewi", "commentT": "2018-04-20T00:25:24Z", "comment_text": "\n \t\tGot it, thanks! Lucky i don't have minikube locally.\n \t\t"}}}, "commit": {"commit_id": "5eb0d7260fedddbd02081711ff7e945f035427d8", "commit_author": "kunmingg", "commitT": "2018-04-20 12:00:00-07:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "bootstrap\\Dockerfile", "file_new_name": "bootstrap\\Dockerfile", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "11,51", "deleted_lines": "11,51"}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "bootstrap\\Makefile", "file_new_name": "bootstrap\\Makefile", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "15", "deleted_lines": "15"}}}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "bootstrap\\README.md", "file_new_name": "bootstrap\\README.md", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "40,43", "deleted_lines": "40,43"}}}, "file_3": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "bootstrap\\cmd\\bootstrap\\app\\server.go", "file_new_name": "bootstrap\\cmd\\bootstrap\\app\\server.go", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "71", "deleted_lines": "71", "method_info": {"method_name": "modifyGcloudCommand", "method_params": "Config", "method_startline": "69", "method_endline": "82"}}, "hunk_1": {"Ismethod": 1, "added_lines": "231,240,241,242", "deleted_lines": "231,240,241,242", "method_info": {"method_name": "Run", "method_params": "ServerOption", "method_startline": "202", "method_endline": "416"}}}}}}}