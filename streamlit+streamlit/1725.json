{"BR": {"BR_id": "1725", "BR_author": "tvst", "BRopenT": "2020-07-17T00:11:47Z", "BRcloseT": "2020-07-17T23:15:46Z", "BR_text": {"BRsummary": "Regression: missing icons/fonts when deployed under a subpath (not \"/\")", "BRdescription": "\n <denchmark-h:h1>Summary</denchmark-h>\n \n When you deploy Streamlit at foo.com/bar/baz, all of Streamlit's static assets will be hosted at foo.com/bar/baz/assets. However, Streamlit is looking for those assets at foo.com/assets.\n Culprit: <denchmark-link:https://github.com/streamlit/streamlit/pull/1635>#1635</denchmark-link>\n \n <denchmark-h:h1>Steps to reproduce</denchmark-h>\n \n \n Deploy your app at host where your app will be at a path other than the root\n Go to our app\n \n <denchmark-h:h2>Expected behavior:</denchmark-h>\n \n The app loads and all icons (hamburger menu, for example) and fonts are present\n <denchmark-h:h2>Actual behavior:</denchmark-h>\n \n The app loads but all icons are replaced with squares, and Streamlit doesn't use IBM Plex font.\n <denchmark-h:h2>Is this a regression?</denchmark-h>\n \n yes\n \t"}, "comments": {}}, "commit": {"commit_id": "a20aba7fbc0380b8ed05664f33275d81435a2df7", "commit_author": "Thiago Teixeira", "commitT": "2020-07-17 16:15:45-07:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "Makefile", "file_new_name": "Makefile", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "320,321,322,323", "deleted_lines": "320,321,322,323"}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "frontend\\package.json", "file_new_name": "frontend\\package.json", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "5", "deleted_lines": "5"}}}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "frontend\\src\\assets\\css\\fonts.scss", "file_new_name": "frontend\\src\\assets\\css\\fonts.scss", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "23,24,33,34,41,42,49,50,57,58,67,68,76,77,84,85,93,94", "deleted_lines": "23,24,33,34,41,42,49,50,57,58,67,75,76,83,91"}}}, "file_3": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "frontend\\src\\assets\\css\\open-iconic.scss", "file_new_name": "frontend\\src\\assets\\css\\open-iconic.scss", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "17,18", "deleted_lines": "17"}}}, "file_4": {"file_change_type": "RENAME", "file_Nmethod": 0, "file_old_name": "frontend\\public\\assets\\fonts\\IBM_Plex.LICENSE", "file_new_name": "frontend\\src\\assets\\fonts\\IBM_Plex.LICENSE"}, "file_5": {"file_change_type": "RENAME", "file_Nmethod": 0, "file_old_name": "frontend\\public\\assets\\fonts\\IBM_Plex_Mono\\IBMPlexMono-Regular.ttf", "file_new_name": "frontend\\src\\assets\\fonts\\IBM_Plex_Mono\\IBMPlexMono-Regular.ttf"}, "file_6": {"file_change_type": "RENAME", "file_Nmethod": 0, "file_old_name": "frontend\\public\\assets\\fonts\\IBM_Plex_Mono\\OFL.txt", "file_new_name": "frontend\\src\\assets\\fonts\\IBM_Plex_Mono\\OFL.txt"}, "file_7": {"file_change_type": "RENAME", "file_Nmethod": 0, "file_old_name": "frontend\\public\\assets\\fonts\\IBM_Plex_Sans\\IBMPlexSans-Bold.ttf", "file_new_name": "frontend\\src\\assets\\fonts\\IBM_Plex_Sans\\IBMPlexSans-Bold.ttf"}, "file_8": {"file_change_type": "RENAME", "file_Nmethod": 0, "file_old_name": "frontend\\public\\assets\\fonts\\IBM_Plex_Sans\\IBMPlexSans-BoldItalic.ttf", "file_new_name": "frontend\\src\\assets\\fonts\\IBM_Plex_Sans\\IBMPlexSans-BoldItalic.ttf"}, "file_9": {"file_change_type": "RENAME", "file_Nmethod": 0, "file_old_name": "frontend\\public\\assets\\fonts\\IBM_Plex_Sans\\IBMPlexSans-Italic.ttf", "file_new_name": "frontend\\src\\assets\\fonts\\IBM_Plex_Sans\\IBMPlexSans-Italic.ttf"}, "file_10": {"file_change_type": "RENAME", "file_Nmethod": 0, "file_old_name": "frontend\\public\\assets\\fonts\\IBM_Plex_Sans\\IBMPlexSans-Light.ttf", "file_new_name": "frontend\\src\\assets\\fonts\\IBM_Plex_Sans\\IBMPlexSans-Light.ttf"}, "file_11": {"file_change_type": "RENAME", "file_Nmethod": 0, "file_old_name": "frontend\\public\\assets\\fonts\\IBM_Plex_Sans\\IBMPlexSans-LightItalic.ttf", "file_new_name": "frontend\\src\\assets\\fonts\\IBM_Plex_Sans\\IBMPlexSans-LightItalic.ttf"}, "file_12": {"file_change_type": "RENAME", "file_Nmethod": 0, "file_old_name": "frontend\\public\\assets\\fonts\\IBM_Plex_Sans\\IBMPlexSans-Medium.ttf", "file_new_name": "frontend\\src\\assets\\fonts\\IBM_Plex_Sans\\IBMPlexSans-Medium.ttf"}, "file_13": {"file_change_type": "RENAME", "file_Nmethod": 0, "file_old_name": "frontend\\public\\assets\\fonts\\IBM_Plex_Sans\\IBMPlexSans-MediumItalic.ttf", "file_new_name": "frontend\\src\\assets\\fonts\\IBM_Plex_Sans\\IBMPlexSans-MediumItalic.ttf"}, "file_14": {"file_change_type": "RENAME", "file_Nmethod": 0, "file_old_name": "frontend\\public\\assets\\fonts\\IBM_Plex_Sans\\IBMPlexSans-Regular.ttf", "file_new_name": "frontend\\src\\assets\\fonts\\IBM_Plex_Sans\\IBMPlexSans-Regular.ttf"}, "file_15": {"file_change_type": "RENAME", "file_Nmethod": 0, "file_old_name": "frontend\\public\\assets\\fonts\\IBM_Plex_Sans\\OFL.txt", "file_new_name": "frontend\\src\\assets\\fonts\\IBM_Plex_Sans\\OFL.txt"}, "file_16": {"file_change_type": "RENAME", "file_Nmethod": 0, "file_old_name": "frontend\\public\\assets\\fonts\\open-iconic\\open-iconic.eot", "file_new_name": "frontend\\src\\assets\\fonts\\open-iconic\\open-iconic.eot"}, "file_17": {"file_change_type": "RENAME", "file_Nmethod": 0, "file_old_name": "frontend\\public\\assets\\fonts\\open-iconic\\open-iconic.otf", "file_new_name": "frontend\\src\\assets\\fonts\\open-iconic\\open-iconic.otf"}, "file_18": {"file_change_type": "RENAME", "file_Nmethod": 0, "file_old_name": "frontend\\public\\assets\\fonts\\open-iconic\\open-iconic.svg", "file_new_name": "frontend\\src\\assets\\fonts\\open-iconic\\open-iconic.svg"}, "file_19": {"file_change_type": "RENAME", "file_Nmethod": 0, "file_old_name": "frontend\\public\\assets\\fonts\\open-iconic\\open-iconic.ttf", "file_new_name": "frontend\\src\\assets\\fonts\\open-iconic\\open-iconic.ttf"}, "file_20": {"file_change_type": "RENAME", "file_Nmethod": 0, "file_old_name": "frontend\\public\\assets\\fonts\\open-iconic\\open-iconic.woff", "file_new_name": "frontend\\src\\assets\\fonts\\open-iconic\\open-iconic.woff"}, "file_21": {"file_change_type": "RENAME", "file_Nmethod": 0, "file_old_name": "frontend\\public\\assets\\img\\Material-Icons.LICENSE", "file_new_name": "frontend\\src\\assets\\img\\Material-Icons.LICENSE"}, "file_22": {"file_change_type": "RENAME", "file_Nmethod": 0, "file_old_name": "frontend\\public\\assets\\img\\Noto-Emoji-Font.LICENSE", "file_new_name": "frontend\\src\\assets\\img\\Noto-Emoji-Font.LICENSE"}, "file_23": {"file_change_type": "RENAME", "file_Nmethod": 0, "file_old_name": "frontend\\public\\assets\\img\\Open-Iconic.LICENSE", "file_new_name": "frontend\\src\\assets\\img\\Open-Iconic.LICENSE"}, "file_24": {"file_change_type": "RENAME", "file_Nmethod": 0, "file_old_name": "frontend\\public\\assets\\img\\emoji\\emoji_u1f388.png", "file_new_name": "frontend\\src\\assets\\img\\emoji\\emoji_u1f388.png"}, "file_25": {"file_change_type": "RENAME", "file_Nmethod": 0, "file_old_name": "frontend\\public\\assets\\img\\emoji\\emoji_u1f604.png", "file_new_name": "frontend\\src\\assets\\img\\emoji\\emoji_u1f604.png"}, "file_26": {"file_change_type": "RENAME", "file_Nmethod": 0, "file_old_name": "frontend\\public\\assets\\img\\emoji\\emoji_u1f60e.png", "file_new_name": "frontend\\src\\assets\\img\\emoji\\emoji_u1f60e.png"}, "file_27": {"file_change_type": "RENAME", "file_Nmethod": 0, "file_old_name": "frontend\\public\\assets\\img\\emoji\\emoji_u1f929.png", "file_new_name": "frontend\\src\\assets\\img\\emoji\\emoji_u1f929.png"}, "file_28": {"file_change_type": "RENAME", "file_Nmethod": 0, "file_old_name": "frontend\\public\\assets\\img\\icon_running.gif", "file_new_name": "frontend\\src\\assets\\img\\icon_running.gif"}, "file_29": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "frontend\\src\\components\\core\\StatusWidget\\StatusWidget.tsx", "file_new_name": "frontend\\src\\components\\core\\StatusWidget\\StatusWidget.tsx", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "31,32,33,34,35,36,37,299", "deleted_lines": "292"}}}, "file_30": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "frontend\\src\\components\\elements\\Balloons\\Balloons.tsx", "file_new_name": "frontend\\src\\components\\elements\\Balloons\\Balloons.tsx", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "22,23,24,25,26,27,28,29,30,46,47,48,49", "deleted_lines": "37,38,39,40,41,42,43,44"}}}}}}