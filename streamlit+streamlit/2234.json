{"BR": {"BR_id": "2234", "BR_author": "aht", "BRopenT": "2020-10-20T22:05:42Z", "BRcloseT": "2020-10-29T11:45:53Z", "BR_text": {"BRsummary": "streamlit hello fails with protobuf==3.11.3", "BRdescription": "\n <denchmark-h:h1>Summary</denchmark-h>\n \n streamlit hello raises an Exception after install\n <denchmark-h:h1>Steps to reproduce</denchmark-h>\n \n What are the steps we should take to reproduce the bug:\n \n pip install streamlit\n streamlit hello\n \n <denchmark-h:h2>Expected behavior:</denchmark-h>\n \n Expected to see hello world examples.\n <denchmark-h:h2>Actual behavior:</denchmark-h>\n \n <denchmark-code>Traceback (most recent call last):\n   File \"/Library/Frameworks/Python.framework/Versions/3.8/bin/streamlit\", line 5, in <module>\n     from streamlit.cli import main\n   File \"/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/streamlit/__init__.py\", line 75, in <module>\n     from streamlit.delta_generator import DeltaGenerator as _DeltaGenerator\n   File \"/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/streamlit/delta_generator.py\", line 25, in <module>\n     from streamlit.proto import Block_pb2\n   File \"/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/streamlit/proto/Block_pb2.py\", line 21, in <module>\n     create_key=_descriptor._internal_create_key,\n AttributeError: module 'google.protobuf.descriptor' has no attribute '_internal_create_key'\n </denchmark-code>\n \n <denchmark-h:h1>Debug info</denchmark-h>\n \n \n Streamlit version: 0.69.2\n Python version: 3.8.2\n Using Conda? PipEnv? PyEnv? Pex? No. Just pip & python3.\n OS version: Mac OS Catalina 10.15.7\n Browser version: n/a\n \n <denchmark-h:h1>Additional information</denchmark-h>\n \n I was able to resolve by upgrading protobuf package to 3.13.0.\n The offending version is 3.11.3, but Pipfile says protobuf = \">=3.6.0\" is sufficient but clearly not the case.\n <denchmark-code>pip freeze | grep protobuf\n protobuf==3.11.3\n </denchmark-code>\n \n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "aht", "commentT": "2020-10-21T05:19:02Z", "comment_text": "\n \t\tThis was the first result I saw from Google when I received the same error trying to test the install with streamlit hello.\n I am on Ubuntu 20.04 and Python 3.9.\n I upgraded protobuf (pip install --upgrade protobuf) to 3.13.0 and now it is working.\n Just wanted to say thanks for taking the time to document this issue.\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "aht", "commentT": "2020-10-21T06:04:54Z", "comment_text": "\n \t\tI can submit a PR to requires protobuf>=3.13.0.\n \t\t"}, "comments_2": {"comment_id": 3, "comment_author": "aht", "commentT": "2020-10-21T18:31:04Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/aht>@aht</denchmark-link>\n  Please submit a PR and our engineers will take a look. Thanks!\n \t\t"}}}, "commit": {"commit_id": "9a2059ecf1ff3a17cc3dda274f207b8f2f0b8b37", "commit_author": "Darsh Patel", "commitT": "2020-10-28 11:27:10-10:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "lib\\Pipfile", "file_new_name": "lib\\Pipfile", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "44,45", "deleted_lines": "44"}}}}}}