{"BR": {"BR_id": "510", "BR_author": "dashesy", "BRopenT": "2019-02-22T02:04:16Z", "BRcloseT": "2019-03-08T04:11:18Z", "BR_text": {"BRsummary": "ModuleNotFoundError: No module named 'numpy.core._multiarray_umath'", "BRdescription": "\n Describe the bug\n After pip install onnxruntim\n A clear and concise description of what the bug is.\n import onnxruntime\n ModuleNotFoundError                       Traceback (most recent call last)\n ModuleNotFoundError: No module named 'numpy.core._multiarray_umath'\n System information\n \n OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Windows 10\n ONNX Runtime installed from (source or binary): pip install onnxruntime\n ONNX Runtime version: 0.2.1\n Python version: 3.7\n GCC/Compiler version (if compiling from source):\n CUDA/cuDNN version:\n GPU model and memory:\n \n To Reproduce\n import onnxruntime\n Additional context\n Fresh Anaconda3\n pip install onnxruntime\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "dashesy", "commentT": "2019-02-22T02:08:48Z", "comment_text": "\n \t\tWhat numpy version are you using, and how was it installed (conda or pip)? The output from 'conda list' would be helpful to determine this.\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "dashesy", "commentT": "2019-02-22T02:25:18Z", "comment_text": "\n \t\tThis was fresh install of Anaconda3 I also updated numpy with the same error. This is from conda list:\n <denchmark-code>numpy                     1.15.4           py37h19fb1c0_0\n numpy-base                1.15.4           py37hc3f5095_0\n </denchmark-code>\n \n Also, I have not install onnx itself because it is giving me error:\n <denchmark-code>$ pip install onnx\n Collecting onnx\n   Using cached https://files.pythonhosted.org/packages/59/09/61f817a530cd9b9bd0e289bc9cda46f662fcda4dc1bd687b36d45365e3ea/onnx-1.4.1.tar.gz\n     Complete output from command python setup.py egg_info:\n     fatal: not a git repository (or any of the parent directories): .git\n     Traceback (most recent call last):\n       File \"<string>\", line 1, in <module>\n       File \"C:\\Users\\ehazar\\AppData\\Local\\Temp\\pip-install-sopv5lb_\\onnx\\setup.py\", line 71, in <module>\n         assert CMAKE, 'Could not find \"cmake\" executable!'\n     AssertionError: Could not find \"cmake\" executable!\n \n     ----------------------------------------\n Command \"python setup.py egg_info\" failed with error code 1 in C:\\Users\\ehazar\\AppData\\Local\\Temp\\pip-install-sopv5lb_\\onnx\\\n </denchmark-code>\n \n Tries to compile (perhaps no wheel for Windows?)\n \t\t"}, "comments_2": {"comment_id": 3, "comment_author": "dashesy", "commentT": "2019-02-22T02:28:50Z", "comment_text": "\n \t\t\n I also updated numpy with the same error.\n \n That would strongly suggest it's an issue with the numpy install. You could try uninstalling and reinstalling numpy. If you can't import numpy into python, the issue is below onnxruntime.\n \t\t"}, "comments_3": {"comment_id": 4, "comment_author": "dashesy", "commentT": "2019-02-22T02:31:49Z", "comment_text": "\n \t\tI can import numpy fine\n <denchmark-code>$ ipython\n Python 3.7.1 (default, Dec 10 2018, 22:54:23) [MSC v.1915 64 bit (AMD64)]\n Type 'copyright', 'credits' or 'license' for more information\n IPython 7.2.0 -- An enhanced Interactive Python. Type '?' for help.\n \n In [1]: import numpy as np\n </denchmark-code>\n \n What about onnx? isn't that a dependency? I guess it has no wheels installs for Windows\n \t\t"}, "comments_4": {"comment_id": 5, "comment_author": "dashesy", "commentT": "2019-02-22T02:35:17Z", "comment_text": "\n \t\tI believe there's a binary install.\n conda install -c conda-forge onnx\n \t\t"}, "comments_5": {"comment_id": 6, "comment_author": "dashesy", "commentT": "2019-02-22T02:36:12Z", "comment_text": "\n \t\tOk I did pip install --upgrade numpy and now I have numpy-1.16.1 and that fixed the issue. I think you should add numpy >= 1.16 to your requirements\n \t\t"}, "comments_6": {"comment_id": 7, "comment_author": "dashesy", "commentT": "2019-02-22T02:39:37Z", "comment_text": "\n \t\tconda install -c conda-forge onnx does install onnx, but it also downgrades numpy to 1.15, I wonder why there is a hard requirement to 1.15\n \t\t"}, "comments_7": {"comment_id": 8, "comment_author": "dashesy", "commentT": "2019-02-22T02:45:00Z", "comment_text": "\n \t\thuh it also downgraded the entire python py37 to py36 (I wonder why conda even allows that!) and installs conda-forge/win-64::onnx-1.1.1-py36_0\n What is a working environment to try onnxruntime in Python? what is the suggested Python version, ...?\n \t\t"}, "comments_8": {"comment_id": 9, "comment_author": "dashesy", "commentT": "2019-02-22T03:38:46Z", "comment_text": "\n \t\thi sorry for replying late:\n \n for onnxruntime numpy issue: yes it is a known issue. upgrading to latest numpy version will solve it. we are looking into it.\n for onnx: currently conda-forge did not have a 3.7 protobuf package. We suggest u working on python 3.6 with conda installed 3.5.2 version protobuf library. 3.6.1 protobuf for python 3.6 is also missing some symbols. We are thinking of switching to build protobuf lib on the fly instead of using shipped binary soon. see https://github.com/onnx/onnx/blob/master/appveyor.yml for steps.\n \n Thanks \ud83d\ude03\n \t\t"}, "comments_9": {"comment_id": 10, "comment_author": "dashesy", "commentT": "2019-02-24T20:41:51Z", "comment_text": "\n \t\tI had the same problem. Uninstalling numpy 1.15.3 and installing numpy 1.16.1 solved it for me (it also solved the segfault issue I was having).\n \t\t"}, "comments_10": {"comment_id": 11, "comment_author": "dashesy", "commentT": "2019-02-28T19:21:43Z", "comment_text": "\n \t\tStarted with a miniconda\n Installed a py36 conda environment,\n <denchmark-code>conda create --name py36 python=3.6 anaconda\n </denchmark-code>\n \n and upgraded numpy\n <denchmark-code>pip install --upgrade numpy\n </denchmark-code>\n \n Then I can install and import both\n <denchmark-code>pip install onnx\n pip install onnxruntime\n </denchmark-code>\n \n \t\t"}, "comments_11": {"comment_id": 12, "comment_author": "dashesy", "commentT": "2019-03-08T04:11:18Z", "comment_text": "\n \t\tThis will get resolved in the latest release coming out soon (few days). Stay tuned.\n \t\t"}}}, "commit": {"commit_id": "f5dfbba6556d04c515ac7c22743b52354f5dd1bb", "commit_author": "Raymond Yang", "commitT": "2019-03-05 11:07:28-08:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "setup.py", "file_new_name": "setup.py", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "74", "deleted_lines": null}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "tools\\ci_build\\build.py", "file_new_name": "tools\\ci_build\\build.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "199", "deleted_lines": "199", "method_info": {"method_name": "install_python_deps", "method_params": "", "method_startline": "198", "method_endline": "200"}}}}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "tools\\ci_build\\github\\azure-pipelines\\azure-pipelines-py-packaging.yml", "file_new_name": "tools\\ci_build\\github\\azure-pipelines\\azure-pipelines-py-packaging.yml", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "199", "deleted_lines": "199"}}}, "file_3": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "tools\\ci_build\\github\\linux\\docker\\scripts\\install_ubuntu.sh", "file_new_name": "tools\\ci_build\\github\\linux\\docker\\scripts\\install_ubuntu.sh", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "10,56,65", "deleted_lines": "55,62"}}}}}}