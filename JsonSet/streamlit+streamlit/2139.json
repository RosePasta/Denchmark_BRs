{"BR": {"BR_id": "2139", "BR_author": "theimposingdwarf", "BRopenT": "2020-10-10T01:46:50Z", "BRcloseT": "2020-10-15T16:15:17Z", "BR_text": {"BRsummary": "Media + Components (Ace Editor) don't work in Safari or Chrome iOS", "BRdescription": "\n <denchmark-h:h1>Summary</denchmark-h>\n \n Playing audio and using components (like Ace Editor) don't work in Safari for desktop or iOS or for Chrome for iOS. These same functions all work great on Chrome for desktop.\n <denchmark-h:h1>Steps to reproduce</denchmark-h>\n \n \n Go Here: https://share.streamlit.io/jkanner/streamlit-audio/main/app.py\n Or run this script: streamlit run https://raw.githubusercontent.com/Ghasel/streamlit-ace/master/examples/streamlit_ace_demo.py\n \n <denchmark-h:h2>Expected behavior:</denchmark-h>\n \n The hosted app at 1 has audio files that should play in Safari. They only work in Chrome.\n Running the app locally at 2 uses the Ace Editor and should echo below what is in the editor.\n <denchmark-h:h2>Actual behavior:</denchmark-h>\n \n The hosted apps audio files only work in Chrome and yield an error in Safari.\n The echo only works in Chrome and adding text to the editor in an app viewed in Safari gives an empty string.\n <denchmark-h:h2>Is this a regression?</denchmark-h>\n \n no\n <denchmark-h:h1>Debug info</denchmark-h>\n \n Hosted app is on Streamlit for Teams Beta\n \n Streamlit version: 0.68.0\n Python version: 3.8.3\n Using Conda? PipEnv? PyEnv? Pex?\n OS version: Mac OS 10.15.3\n Browser version: Safari 13.0.5, Chrome Version 85.0.4183.121\n \n <denchmark-h:h1>Additional information</denchmark-h>\n \n From discussions here: <denchmark-link:https://discuss.streamlit.io/t/trouble-with-st-audio-in-safari/6160>Trouble with st Audio in Safari</denchmark-link>\n \n and here: <denchmark-link:https://discuss.streamlit.io/t/ace-editor/3657/9>Ace Editor Release Thread</denchmark-link>\n \n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "theimposingdwarf", "commentT": "2020-10-12T18:11:46Z", "comment_text": "\n \t\tHi <denchmark-link:https://github.com/theimposingdwarf>@theimposingdwarf</denchmark-link>\n  Thank you so much for the report. I can't speak for the Ace Editor yet, but I can explain the audio. Can you test on the ? You can install it by uninstalling streamlit and run .\n To explain the problem, Safari requires the server to support <denchmark-link:https://developer.mozilla.org/en-US/docs/Web/HTTP/Range_requests>Range Requests</denchmark-link>\n . We found this problem with regard to videos, so I am sure this would apply to audio\n See <denchmark-link:https://github.com/streamlit/streamlit/issues/1804#issuecomment-687328551>#1804 (comment)</denchmark-link>\n \n I can't explain the Ace Editor yet, but could you verify the issue continues exists on nightly? Thanks!\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "theimposingdwarf", "commentT": "2020-10-14T01:58:49Z", "comment_text": "\n \t\tI can confirm that with streamlit-nightly 0.68.2.dev20201012 it looks like the video player (I haven't had a chance to verify if the audio player works yet) is working well in desktop and mobile safari.\n It does look like the Ace Editor still isn't working.\n \t\t"}, "comments_2": {"comment_id": 3, "comment_author": "theimposingdwarf", "commentT": "2020-10-14T05:46:18Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/theimposingdwarf>@theimposingdwarf</denchmark-link>\n  I have a PR out for a fix. Turns out Safari doesn't support the BigInt64Array Type, and so there was a . This is an update to the , so streamlit-ace will need to upgrade their library and repackage it when it's released.\n \t\t"}, "comments_3": {"comment_id": 4, "comment_author": "theimposingdwarf", "commentT": "2020-10-15T16:15:17Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/theimposingdwarf>@theimposingdwarf</denchmark-link>\n  the update to the  is out. <denchmark-link:https://www.npmjs.com/package/streamlit-component-lib>https://www.npmjs.com/package/streamlit-component-lib</denchmark-link>\n \n The next step would be for <denchmark-link:https://github.com/Ghasel/streamlit-ace>https://github.com/Ghasel/streamlit-ace</denchmark-link>\n  to update the component to use the latest library. I am going to close this issue since the issue should be resolved on Streamlit's side. If the component fails with the latest update, feel free to reopen this.\n \t\t"}, "comments_4": {"comment_id": 5, "comment_author": "theimposingdwarf", "commentT": "2020-10-15T16:48:39Z", "comment_text": "\n \t\tHello, thanks for the fix <denchmark-link:https://github.com/kmcgrady>@kmcgrady</denchmark-link>\n !\n <denchmark-link:https://github.com/theimposingdwarf>@theimposingdwarf</denchmark-link>\n  I'll update Streamlit Ace this week-end\n \t\t"}, "comments_5": {"comment_id": 6, "comment_author": "theimposingdwarf", "commentT": "2020-10-17T01:22:38Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/kmcgrady>@kmcgrady</denchmark-link>\n  <denchmark-link:https://github.com/okld>@okld</denchmark-link>\n  Thank you! Looking forward to trying it out!\n \t\t"}, "comments_6": {"comment_id": 7, "comment_author": "theimposingdwarf", "commentT": "2020-10-19T12:05:41Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/theimposingdwarf>@theimposingdwarf</denchmark-link>\n  Little update, I just pushed a new version. You can now pip install --upgrade streamlit-ace\n \t\t"}, "comments_7": {"comment_id": 8, "comment_author": "theimposingdwarf", "commentT": "2020-10-20T00:44:03Z", "comment_text": "\n \t\tWorks great! <denchmark-link:https://github.com/okld>@okld</denchmark-link>\n  Is it just me or did the previous version update the variable without needing to press control+enter?\n \t\t"}, "comments_8": {"comment_id": 9, "comment_author": "theimposingdwarf", "commentT": "2020-10-20T16:31:01Z", "comment_text": "\n \t\tI didn't update the parameter since it was introduced (version 0.0.2). By default it auto refreshes streamlit.\n \t\t"}}}, "commit": {"commit_id": "c99bcc6045fc89e21ed0bc96fe85901a397888a2", "commit_author": "Ken McGrady", "commitT": "2020-10-13 23:49:30-07:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "component-lib\\src\\streamlit.ts", "file_new_name": "component-lib\\src\\streamlit.ts", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "239,240,241,242,243,244,245,246,247,258", "deleted_lines": "249,250", "method_info": {"method_name": "isTypedArray", "method_params": "any", "method_startline": "238", "method_endline": "260"}}}}}}}