{"BR": {"BR_id": "36198", "BR_author": "yourtheron", "BRopenT": "2020-01-25T06:10:44Z", "BRcloseT": "2020-12-03T18:55:44Z", "BR_text": {"BRsummary": "model.summary() Does not Work in Some Cases", "BRdescription": "\n Tf Version 2.1\n Having been suggested by <denchmark-link:https://github.com/reedwm>@reedwm</denchmark-link>\n  I am filing this bug. Please see the last comment in issue <denchmark-link:https://github.com/tensorflow/tensorflow/issues/35441>#35441</denchmark-link>\n  for details.\n /CC <denchmark-link:https://github.com/reedwm>@reedwm</denchmark-link>\n \n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "yourtheron", "commentT": "2020-01-27T09:01:37Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/yourtheron>@yourtheron</denchmark-link>\n  ,\n Thank you for raising bug, can you please provide us an example to reproduce the issue?\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "yourtheron", "commentT": "2020-01-28T02:27:51Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/oanush>@oanush</denchmark-link>\n  . As I mentioned above, please refer to the last comment in issue <denchmark-link:https://github.com/tensorflow/tensorflow/issues/35441>#35441</denchmark-link>\n  and talk to <denchmark-link:https://github.com/reedwm>@reedwm</denchmark-link>\n  , who actually found out the bug and suggested me about raising it in a new issue. How the bug was found out was too long and unnecessary to be repeated.\n \t\t"}, "comments_2": {"comment_id": 3, "comment_author": "yourtheron", "commentT": "2020-01-28T03:39:54Z", "comment_text": "\n \t\tAh I see the issue. You never used either of your Concatenate layers. Here is a smaller example to reproduce:\n import tensorflow as tf\n \n class MyModel(tf.keras.Model):\n   def __init__(self):\n     super(MyModel, self).__init__()\n     self.dense = tf.keras.layers.Dense(16)\n     self.concat = tf.keras.layers.Concatenate(axis=1)\n \n   def call(self, inputs):\n     return self.dense(inputs)\n \n model = MyModel()\n model.build((16, 16))\n model.summary()\n The error is\n <denchmark-code>ValueError: You tried to call `count_params` on concatenate, but the layer isn't built. You can build it manually via: `concatenate.build(batch_input_shape)`.\n </denchmark-code>\n \n This isn't a bug, but perhaps we could improve the error message?\n \t\t"}, "comments_3": {"comment_id": 4, "comment_author": "yourtheron", "commentT": "2020-02-22T00:28:54Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/tensorflowbutler>@tensorflowbutler</denchmark-link>\n  Sorry for the delay due to the hotch-potch in China, I am also confused, is it not a bug related to model.summary() in tf2.1?\n \t\t"}, "comments_4": {"comment_id": 5, "comment_author": "yourtheron", "commentT": "2020-12-03T18:55:45Z", "comment_text": "\n \t\tAre you satisfied with the resolution of your issue?\n <denchmark-link:https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=Yes&entry.2137816233=https://github.com/tensorflow/tensorflow/issues/36198>Yes</denchmark-link>\n \n <denchmark-link:https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=No&entry.2137816233=https://github.com/tensorflow/tensorflow/issues/36198>No</denchmark-link>\n \n \t\t"}}}, "commit": {"commit_id": "bb2e09ad7207c504296962192fa5f1b7ec53a659", "commit_author": "Reed Wanderman-Milne", "commitT": "2020-12-03 10:54:34-08:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "tensorflow\\python\\keras\\tests\\model_subclassing_test.py", "file_new_name": "tensorflow\\python\\keras\\tests\\model_subclassing_test.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "345,353,354,355,356,357,358,359,360,361,362,363", "deleted_lines": "345,353", "method_info": {"method_name": "test_summary", "method_params": "self", "method_startline": "329", "method_endline": "363"}}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "tensorflow\\python\\keras\\utils\\layer_utils.py", "file_new_name": "tensorflow\\python\\keras\\utils\\layer_utils.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "210,211,212,213,214,215,216", "deleted_lines": "210", "method_info": {"method_name": "print_summary.print_layer_summary", "method_params": "layer", "method_startline": "196", "method_endline": "217"}}, "hunk_1": {"Ismethod": 1, "added_lines": "210,211,212,213,214,215,216", "deleted_lines": "210", "method_info": {"method_name": "print_summary", "method_params": "model,line_length,positions,print_fn", "method_startline": "111", "method_endline": "276"}}}}}}}