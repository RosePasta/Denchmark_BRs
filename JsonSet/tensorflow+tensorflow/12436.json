{"BR": {"BR_id": "12436", "BR_author": "EFanZh", "BRopenT": "2017-08-21T03:15:45Z", "BRcloseT": "2017-09-17T18:11:34Z", "BR_text": {"BRsummary": "zeros_like doesn't fully respect the optimize argument", "BRdescription": "\n <denchmark-link:https://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/ops/array_ops.py#L1463>The definition of zeros_like</denchmark-link>\n  is:\n def zeros_like(tensor, dtype=None, name=None, optimize=True):\n   with ops.name_scope(name, \"zeros_like\", [tensor]) as name:\n     tensor = ops.convert_to_tensor(tensor, name=\"tensor\")\n \n     if tensor.shape.is_fully_defined():\n       # We can produce a zeros tensor independent of the value of 'tensor',\n       # since the shape is known statically.\n       return zeros(tensor.shape, dtype=dtype or tensor.dtype, name=name)\n \n     if dtype is not None and dtype != tensor.dtype:\n       return zeros(\n           shape_internal(tensor, optimize=optimize), dtype=dtype, name=name)\n     else:\n       return gen_array_ops._zeros_like(tensor, name=name)\n We can see that if the shape of  is already known, the  parameter is ignored, which is inconsistent with the <denchmark-link:https://www.tensorflow.org/api_docs/python/tf/zeros_like>documented behavior</denchmark-link>\n .\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "EFanZh", "commentT": "2017-08-21T21:50:52Z", "comment_text": "\n \t\tI think  flag should be respected. Added a PR <denchmark-link:https://github.com/tensorflow/tensorflow/pull/12459>#12459</denchmark-link>\n  for it.\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "EFanZh", "commentT": "2017-08-28T04:40:04Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/benoitsteiner>@benoitsteiner</denchmark-link>\n , could you please update this issue upon concluding review of <denchmark-link:https://github.com/tensorflow/tensorflow/pull/12459>#12459</denchmark-link>\n ? Thanks\n \t\t"}}}, "commit": {"commit_id": "9ba48146942219a2d97e9a2110f88f20d62c4cb6", "commit_author": "Yong Tang", "commitT": "2017-09-17 11:11:33-07:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "tensorflow\\python\\ops\\array_ops.py", "file_new_name": "tensorflow\\python\\ops\\array_ops.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "1484,1485", "deleted_lines": "1484", "method_info": {"method_name": "zeros_like", "method_params": "tensor,dtype,name,optimize", "method_startline": "1446", "method_endline": "1494"}}}}}}}