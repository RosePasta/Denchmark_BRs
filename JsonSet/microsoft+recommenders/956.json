{"BR": {"BR_id": "956", "BR_author": "yueguoguo", "BRopenT": "2019-10-17T08:23:27Z", "BRcloseT": "2019-10-29T03:16:37Z", "BR_text": {"BRsummary": "[BUG] pip install does not work", "BRdescription": "\n <denchmark-h:h3>Description</denchmark-h>\n \n By following the instructions <denchmark-link:https://github.com/microsoft/recommenders/blob/master/SETUP.md>here</denchmark-link>\n , the pip install operation is successful but the package installed cannot be imported. The issue was reported <denchmark-link:https://github.com/microsoft/recommenders/pull/851#discussion_r311445617>here</denchmark-link>\n  in the PR <denchmark-link:https://github.com/microsoft/recommenders/pull/851>#851</denchmark-link>\n  but the solution does not resolve the issue.\n Tried putting setup.py under the root of the repository, like the way that NLP and CV repositories do, there was another error as follows\n <denchmark-code>Installing collected packages: reco-utils\n   Found existing installation: reco-utils 2019.9\n     Uninstalling reco-utils-2019.9:\n       Successfully uninstalled reco-utils-2019.9\n   Running setup.py develop for reco-utils\n     ERROR: Command errored out with exit status 1:\n      command: /data/anaconda/envs/graph_base/bin/python -c 'import sys, setuptools, tokenize; sys.argv[0] = '\"'\"'/data/home/zhle/notebooks/recommenders/setup.py'\"'\"'; __file__='\"'\"'/data/home/zhle/notebooks/recommenders/setup.py'\"'\"';f=getattr(tokenize, '\"'\"'open'\"'\"', open)(__file__);code=f.read().replace('\"'\"'\\r\\n'\"'\"', '\"'\"'\\n'\"'\"');f.close();exec(compile(code, __file__, '\"'\"'exec'\"'\"'))' develop --no-deps\n          cwd: /data/home/zhle/notebooks/recommenders/\n     Complete output (5 lines):\n     Traceback (most recent call last):\n       File \"<string>\", line 1, in <module>\n       File \"/data/home/zhle/notebooks/recommenders/setup.py\", line 8, in <module>\n         VERSION = __import__(\"__init__\").VERSION\n     ModuleNotFoundError: No module named '__init__'\n     ----------------------------------------\n   Rolling back uninstall of reco-utils\n   Moving to /data/anaconda/envs/graph_base/lib/python3.6/site-packages/reco-utils.egg-link\n    from /tmp/pip-uninstall-t38y7r7p/reco-utils.egg-link\n ERROR: Command errored out with exit status 1: /data/anaconda/envs/graph_base/bin/python -c 'import sys, setuptools, tokenize; sys.argv[0] = '\"'\"'/data/home/zhle/notebooks/recommenders/setup.py'\"'\"'; __file__='\"'\"'/data/home/zhle/notebooks/recommenders/setup.py'\"'\"';f=getattr(tokenize, '\"'\"'open'\"'\"', open)(__file__);code=f.read().replace('\"'\"'\\r\\n'\"'\"', '\"'\"'\\n'\"'\"');f.close();exec(compile(code, __file__, '\"'\"'exec'\"'\"'))' develop --no-deps Check the logs for full command output.\n </denchmark-code>\n \n Comment the line of VERSION = __import__(\"__init__\").VERSION it worked, and importing of reco_utils is successful.\n <denchmark-h:h3>In which platform does it happen?</denchmark-h>\n \n The error can be replicated on a DSVM by following the pip install instruction in <denchmark-link:https://github.com/microsoft/recommenders/blob/master/SETUP.md>here</denchmark-link>\n .\n <denchmark-h:h3>How do we replicate the issue?</denchmark-h>\n \n Same as above\n <denchmark-h:h3>Expected behavior (i.e. solution)</denchmark-h>\n \n The reco_utils should be imported without issue after pip installation.\n <denchmark-h:h3>Other Comments</denchmark-h>\n \n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "yueguoguo", "commentT": "2019-10-17T08:24:29Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/gramhagen>@gramhagen</denchmark-link>\n  not sure if it is something to do with  functionality of pip install from github, but putting the  under root directory of the repo solves the problem.\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "yueguoguo", "commentT": "2019-10-17T15:47:24Z", "comment_text": "\n \t\tok, yeah this simplifies the install from git too. should be fixed now.\n \t\t"}}}, "commit": {"commit_id": "8443388039de0bad82d7187bf6c37de787106698", "commit_author": "Scott Graham", "commitT": "2019-10-21 09:30:03-04:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "SETUP.md", "file_new_name": "SETUP.md", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "323,325,327,328", "deleted_lines": "323,325,327,328"}}}, "file_1": {"file_change_type": "RENAME", "file_Nmethod": 0, "file_old_name": "reco_utils\\setup.py", "file_new_name": "setup.py"}}}}