{"BR": {"BR_id": "3522", "BR_author": "sahandrez", "BRopenT": "2020-02-27T21:06:44Z", "BRcloseT": "2020-02-27T23:48:42Z", "BR_text": {"BRsummary": "Cannot Build Unity Executables on Release 0.14 and 0.14.1", "BRdescription": "\n Hello,\n I have migrated my project from 0.13 to 0.14 and then 0.14.1. The environment works fine in the Editor when I press play but when I want to build the executable, the build will finish with success but with the following errors:\n <denchmark-code>C:\\Users\\srezaeishoshtari\\workspace\\UnityProjects\\fresh_clone\\ml-agents\\com.unity.ml-agents\\Runtime\\Sensor\\CameraSensorComponent.cs(9,27): warning CS0109: The member 'CameraSensorComponent.camera' does not hide an accessible member. The new keyword is not required.\n \n C:\\Users\\srezaeishoshtari\\workspace\\UnityProjects\\fresh_clone\\ml-agents\\com.unity.ml-agents\\Runtime\\Policy\\BehaviorParameters.cs(34,22): warning CS0649: Field 'BehaviorParameters.m_BehaviorType' is never assigned to, and will always have its default value \n \n Build completed with a result of 'Succeeded'\n UnityEngine.GUIUtility:ProcessEvent(Int32, IntPtr) (at C:/buildslave/unity/build/Modules/IMGUI/GUIUtility.cs:179)\n </denchmark-code>\n \n And when I execute the file, a broken empty environment starts (see attached image) starts.\n At first, I thought the issue was with the migration of our project, but then I did a fresh clone of ml-agents (tried with both releases 0.14 and 0.14.1) and the exact same thing happens with the provided example environments.\n This is the log file of when I launch the .exe file:\n <denchmark-code>Mono path[0] = 'C:/Users/srezaeishoshtari/workspace/UnityProjects/fresh_clone/built/test/Unity Environment_Data/Managed'\n Mono config path = 'C:/Users/srezaeishoshtari/workspace/UnityProjects/fresh_clone/built/test/MonoBleedingEdge/etc'\n PlayerConnection initialized from C:/Users/srezaeishoshtari/workspace/UnityProjects/fresh_clone/built/test/Unity Environment_Data (debug = 0)\n PlayerConnection initialized network socket : 0.0.0.0 55204\n Multi-casting \"[IP] 10.128.12.182 [Port] 55204 [Flags] 2 [Guid] 2354467184 [EditorId] 2630875911 [Version] 1048832 [Id] WindowsPlayer(MTL-BG699) [Debug] 0 [PackageName] WindowsPlayer\" to [225.0.0.222:54997]...\n Started listening to [0.0.0.0:55204]\n PlayerConnection already initialized - listening to [0.0.0.0:55204]\n Initialize engine version: 2018.4.17f1 (b830f56f42f0)\n GfxDevice: creating device client; threaded=1\n Direct3D:\n     Version:  Direct3D 11.0 [level 11.1]\n     Renderer: NVIDIA GeForce GTX 1070 (ID=0x1b81)\n     Vendor:   \n     VRAM:     8088 MB\n     Driver:   25.21.14.2600\n Begin MonoManager ReloadAssembly\n - Completed reload, in  0.731 seconds\n <RI> Initializing input.\n \n <RI> Input initialized.\n \n <RI> Initialized touch support.\n \n The referenced script (SerializeAgent) on this Behaviour is missing!\n  \n (Filename: C:\\buildslave\\unity\\build\\Runtime/Scripting/ManagedReference/SerializableManagedRef.cpp Line: 195)\n \n The referenced script on this Behaviour (Game Object 'Agent') is missing!\n  \n (Filename: C:\\buildslave\\unity\\build\\Runtime/Mono/ManagedMonoBehaviourRef.cpp Line: 294)\n \n A scripted object (probably SerializeAgent?) has a different serialization layout when loading. (Read 32 bytes but expected 44 bytes)\n Did you #ifdef UNITY_EDITOR a section of your serialized properties in any of your scripts?\n  \n (Filename: C:\\buildslave\\unity\\build\\Runtime/Serialize/SerializedFile.cpp Line: 2002)\n \n UnloadTime: 0.719300 ms\n Setting up 6 worker threads for Enlighten.\n   Thread -> id: 2aec -> priority: 1 \n   Thread -> id: 3e90 -> priority: 1 \n   Thread -> id: 85f4 -> priority: 1 \n   Thread -> id: 9314 -> priority: 1 \n   Thread -> id: 88f4 -> priority: 1 \n   Thread -> id: 8e14 -> priority: 1 \n </denchmark-code>\n \n Two files are missing which seem might be due to some Windows/Mac compatibility. The first half of the path to the file is in Windows format and the rest Unix.\n I have tested on Unity 2018.4.17f1 and 2019.3.3f1. I never had such issues with ML-Agents 0.13. This seems like a bug to me or else I am missing some thing.\n Thanks,\n Sahand\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "sahandrez", "commentT": "2020-02-27T21:07:28Z", "comment_text": "\n \t\tThis is a screenshot of the environment.\n <denchmark-link:https://user-images.githubusercontent.com/32560115/75486786-2e3fbd00-597b-11ea-999c-29e7f9526952.png></denchmark-link>\n \n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "sahandrez", "commentT": "2020-02-27T22:05:18Z", "comment_text": "\n \t\tHi <denchmark-link:https://github.com/sahandrez>@sahandrez</denchmark-link>\n ,\n In the build dialog you need to add the open scene and remove this one.  I'll fix this for the next release.\n \t\t"}, "comments_2": {"comment_id": 3, "comment_author": "sahandrez", "commentT": "2020-02-27T22:09:25Z", "comment_text": "\n \t\tFix is here: <denchmark-link:https://github.com/Unity-Technologies/ml-agents/pull/3524>#3524</denchmark-link>\n \n \t\t"}}}, "commit": {"commit_id": "627af6342081802d8469be20a4124614880a17a5", "commit_author": "Chris Goy", "commitT": "2020-02-27 16:24:17-08:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "Project\\ProjectSettings\\EditorBuildSettings.asset", "file_new_name": "Project\\ProjectSettings\\EditorBuildSettings.asset", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": null, "deleted_lines": null}}}, "file_1": {"file_change_type": "DELETE", "file_Nmethod": 0, "file_old_name": "com.unity.ml-agents\\Tests\\Runtime\\SerializationTest.cs", "file_new_name": "None"}, "file_2": {"file_change_type": "DELETE", "file_Nmethod": 0, "file_old_name": "com.unity.ml-agents\\Tests\\Runtime\\SerializationTest.cs.meta", "file_new_name": "com.unity.ml-agents\\Tests\\Runtime\\SerializationTest.cs.meta"}, "file_3": {"file_change_type": "DELETE", "file_Nmethod": 0, "file_old_name": "com.unity.ml-agents\\Tests\\Runtime\\SerializeAgent.cs", "file_new_name": "None"}, "file_4": {"file_change_type": "DELETE", "file_Nmethod": 0, "file_old_name": "com.unity.ml-agents\\Tests\\Runtime\\SerializeAgent.cs.meta", "file_new_name": "com.unity.ml-agents\\Tests\\Runtime\\SerializeAgent.cs.meta"}, "file_5": {"file_change_type": "DELETE", "file_Nmethod": 0, "file_old_name": "com.unity.ml-agents\\Tests\\Runtime\\Unity.ML-Agents.Runtime.Tests.asmdef", "file_new_name": "None"}, "file_6": {"file_change_type": "DELETE", "file_Nmethod": 0, "file_old_name": "com.unity.ml-agents\\Tests\\Runtime\\Unity.ML-Agents.Runtime.Tests.asmdef.meta", "file_new_name": "com.unity.ml-agents\\Tests\\Runtime\\Unity.ML-Agents.Runtime.Tests.asmdef.meta"}}}}