{"BR": {"BR_id": "7623", "BR_author": "ColinFinck", "BRopenT": "2016-11-07T20:13:07Z", "BRcloseT": "2016-11-28T16:10:17Z", "BR_text": {"BRsummary": "Build fails with C++11 enabled in MinGW-w64 5.3.0 - Different conditionals in Detection Based Tracker", "BRdescription": "\n <denchmark-h:h5>System information (version)</denchmark-h>\n \n \n OpenCV => 3.1\n Operating System / Platform => Windows 32 Bit\n Compiler => MinGW-w64 5.3.0 (as shipped with Qt 5.7)\n \n <denchmark-h:h5>Detailed description</denchmark-h>\n \n In an attempt to compile OpenCV 3.1 with the Qt 5.7-bundled 32-Bit MinGW-w64 5.3.0 compiler and proper Qt GUI bindings, I needed to do \"set CXXFLAGS=-std=gnu++11\" prior to compiling. Otherwise, build fails at the Qt bindings, because latest Qt 5.7 can only be built with C++11 enabled.\n With this option though, build fails at 74% in detection_based_tracker.cpp.\n This code is only conditionally compiled and while I cannot totally figure out what platforms you want to exclude, the conditions should at least be the same in detection_based_tracker.cpp and detection_based_tracker.hpp. Currently, detection_based_tracker.cpp checks for __cplusplus > 199711L and detection_based_tracker.hpp wants __cplusplus > 201103L. In my opinion, this needs to be changed to > 199711L in the .hpp file. It fixes the problem for me.\n <denchmark-h:h5>Steps to reproduce</denchmark-h>\n \n mkdir mingw_build\n cd mingw_build\n set CXXFLAGS=-std=gnu++11\n cmake -D WITH_QT=ON -D WITH_OPENGL=ON -G \"MinGW Makefiles\" ../sources\n mingw32-make\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "ColinFinck", "commentT": "2016-11-08T10:18:48Z", "comment_text": "\n \t\tPlease provide a pull request with the suggested fix, so that this issue can be tracked more easily.\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "ColinFinck", "commentT": "2016-11-28T03:22:53Z", "comment_text": "\n \t\tCan I work on this issue?\n \t\t"}, "comments_2": {"comment_id": 3, "comment_author": "ColinFinck", "commentT": "2016-11-28T08:27:22Z", "comment_text": "\n \t\t\n Can I work on this issue?\n \n Of course, anyone is free to supply a pull request to try and solve open issues.\n \t\t"}}}, "commit": {"commit_id": "e8f591143ca30433981c1c72db0df1acca054444", "commit_author": "Colin Finck", "commitT": "2016-11-28 10:15:16+01:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "modules\\objdetect\\include\\opencv2\\objdetect\\detection_based_tracker.hpp", "file_new_name": "modules\\objdetect\\include\\opencv2\\objdetect\\detection_based_tracker.hpp", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "49", "deleted_lines": "49"}}}}}}