{"BR": {"BR_id": "5423", "BR_author": "pipehappy", "BRopenT": "2015-10-01T06:16:47Z", "BRcloseT": "2015-12-20T23:48:29Z", "BR_text": {"BRsummary": "compile problem on FreeBSD 10.2, PTHREAD_RECURSIVE_MUTEX_INITIALIZER", "BRdescription": "\n Try to compile on FreeBSD 10.2, but get the follow error:\n <denchmark-code>opencv/modules/core/src/parallel_pthreads.cpp:257:57 error: use of undeclared identifier\n 'PTHREAD_RECURSIVE_MUTEX_INITIALIZER'\n ...\n </denchmark-code>\n \n A short search shows there is no portable way to statically initialize a recursive mutex. Anyone use opencv on freebsd would shine some light upon this? Thank you!\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "pipehappy", "commentT": "2015-10-01T07:53:22Z", "comment_text": "\n \t\tJust build OpenCV without pthreads support by disabling the option in cmake?\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "pipehappy", "commentT": "2015-10-01T11:54:12Z", "comment_text": "\n \t\tIt looks like PTHREAD_RECURSIVE_MUTEX_INITIALIZER is a GNU/Linux extension.\n <denchmark-link:http://stackoverflow.com/questions/7037481/c-how-do-you-declare-a-recursive-mutex-with-posix-threads>http://stackoverflow.com/questions/7037481/c-how-do-you-declare-a-recursive-mutex-with-posix-threads</denchmark-link>\n \n shows a way to initialize it dynamically but statically initialization is required here. Maybe we just need a static block here.\n \t\t"}, "comments_2": {"comment_id": 3, "comment_author": "pipehappy", "commentT": "2015-10-09T04:43:25Z", "comment_text": "\n \t\tPlease see the issue that I just created, <denchmark-link:https://github.com/Itseez/opencv/issues/5476>#5476</denchmark-link>\n , and comment if needed.\n I think it has more information and is more general because affects all platforms.\n \t\t"}, "comments_3": {"comment_id": 4, "comment_author": "pipehappy", "commentT": "2015-12-08T12:50:08Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/pipehappy>@pipehappy</denchmark-link>\n  Does <denchmark-link:https://github.com/opencv/opencv/pull/5765>#5765</denchmark-link>\n  patch work for you?\n \t\t"}, "comments_4": {"comment_id": 5, "comment_author": "pipehappy", "commentT": "2017-01-08T11:47:45Z", "comment_text": "\n \t\tI have the same problem in Alpine linux. Has anyone solved this problem?\n \t\t"}, "comments_5": {"comment_id": 6, "comment_author": "pipehappy", "commentT": "2017-01-08T15:47:48Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/qiukaijia>@qiukaijia</denchmark-link>\n  did you try the mentioned fix by <denchmark-link:https://github.com/alalek>@alalek</denchmark-link>\n ?\n \t\t"}, "comments_6": {"comment_id": 7, "comment_author": "pipehappy", "commentT": "2017-01-09T02:39:35Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/StevenPuttemans>@StevenPuttemans</denchmark-link>\n  I have just modified file with this commit: <denchmark-link:https://github.com/opencv/opencv/commit/78376c0f63834642b8133ab5d3b5f658d65a0bb2#diff-44c4b36c20fff2956b4c317dd0502eea>78376c0#diff-44c4b36c20fff2956b4c317dd0502eea</denchmark-link>\n \n however, there are compile errors:\n say  CV_SINGLETON_LAZY_INIT_REF is not declared in this scope\n \t\t"}}}, "commit": {"commit_id": "78376c0f63834642b8133ab5d3b5f658d65a0bb2", "commit_author": "Alexander Alekhin", "commitT": "2015-12-08 13:55:02+03:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 4, "file_old_name": "modules\\core\\src\\parallel_pthreads.cpp", "file_new_name": "modules\\core\\src\\parallel_pthreads.cpp", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "158", "deleted_lines": "158,159", "method_info": {"method_name": "cv::ThreadManager::instance", "method_params": "", "method_startline": "156", "method_endline": "159"}}, "hunk_1": {"Ismethod": 1, "added_lines": "206", "deleted_lines": "203,204,205,206,207,208,209", "method_info": {"method_name": "cv::ThreadManager::ptr_holder::~ptr_holder", "method_params": "", "method_startline": "203", "method_endline": "209"}}, "hunk_2": {"Ismethod": 1, "added_lines": "350,351,352,353,354,355", "deleted_lines": null, "method_info": {"method_name": "cv::ThreadManager::ThreadManager", "method_params": "", "method_startline": "346", "method_endline": "374"}}, "hunk_3": {"Ismethod": 1, "added_lines": null, "deleted_lines": "201", "method_info": {"method_name": "cv::ThreadManager::ptr_holder::ptr_holder", "method_params": "", "method_startline": "201", "method_endline": "201"}}}}}}}