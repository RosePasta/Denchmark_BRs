{"BR": {"BR_id": "2680", "BR_author": "shtoshni92", "BRopenT": "2020-07-23T19:39:33Z", "BRcloseT": "2020-08-08T10:02:44Z", "BR_text": {"BRsummary": "Checkpoint saving order", "BRdescription": "\n The last model save action, <denchmark-link:https://github.com/PyTorchLightning/pytorch-lightning/blob/1369012bc71f257dcf7423ec65146d055ddc1cc7/pytorch_lightning/callbacks/model_checkpoint.py#L295>here</denchmark-link>\n , should be after saving the top k model because the best model and best score could have changed. Swapping the order allows resuming the training from the last checkpoint, with the last checkpoint having the latest information about the best model path/score.\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "shtoshni92", "commentT": "2020-07-23T19:40:28Z", "comment_text": "\n \t\tHi! thanks for your contribution!, great first issue!\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "shtoshni92", "commentT": "2020-08-08T05:11:41Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/shtoshni92>@shtoshni92</denchmark-link>\n  Thanks for the bug report and sorry for the long wait, it was actually an easy fix (see linked PR)\n \t\t"}}}, "commit": {"commit_id": "f798cffd02a0b6cbdc3033c981501c1a0c4677bd", "commit_author": "Adrian W\u00e4lchli", "commitT": "2020-08-08 06:02:43-04:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "CHANGELOG.md", "file_new_name": "CHANGELOG.md", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "109,110", "deleted_lines": null}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "pytorch_lightning\\callbacks\\model_checkpoint.py", "file_new_name": "pytorch_lightning\\callbacks\\model_checkpoint.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "343,344,345", "deleted_lines": "305,306,307,308", "method_info": {"method_name": "on_validation_end", "method_params": "self,trainer,pl_module", "method_startline": "284", "method_endline": "345"}}}}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "pytorch_lightning\\trainer\\training_io.py", "file_new_name": "pytorch_lightning\\trainer\\training_io.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "439,440,448", "deleted_lines": "439,440,448", "method_info": {"method_name": "restore_training_state", "method_params": "self,checkpoint", "method_startline": "421", "method_endline": "484"}}, "hunk_1": {"Ismethod": 1, "added_lines": "357,358", "deleted_lines": "357,358", "method_info": {"method_name": "dump_checkpoint", "method_params": "self,bool", "method_startline": "333", "method_endline": "400"}}}}, "file_3": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "tests\\callbacks\\test_model_checkpoint.py", "file_new_name": "tests\\callbacks\\test_model_checkpoint.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130", "deleted_lines": null, "method_info": {"method_name": "test_model_checkpoint_save_last_checkpoint_contents", "method_params": "tmpdir", "method_startline": "99", "method_endline": "130"}}}}}}}