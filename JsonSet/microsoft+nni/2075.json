{"BR": {"BR_id": "2075", "BR_author": "Sundrops", "BRopenT": "2020-02-18T08:01:59Z", "BRcloseT": "2020-03-05T00:03:33Z", "BR_text": {"BRsummary": "Can not submit customized trial when I used BatchTuner", "BRdescription": "\n <denchmark-link:https://user-images.githubusercontent.com/14829222/74715249-107da400-5267-11ea-9a4c-a6fbcbf04068.png></denchmark-link>\n \n \n         Object.keys(customized).map(item => {\n            .......\n                 // the item(optimizer/learning_rate) is not in the keys of searchSpace using BatchTuner.\n                 // search space: {\"combine_params\": xxxxxxx}\n                 if (searchSpace[item]._type === 'choice') {\n                     if (searchSpace[item]._value.find((val: string | number) =>\n                         val === customized[item]) === undefined) {\n                         flag = true;\n                         return;\n                     }\n                 } else {\n                     if (customized[item] < searchSpace[item]._value[0]\n                         || customized[item] > searchSpace[item]._value[1]) {\n                         flag = true;\n                         return;\n                     }\n                 }\n             }\n         });\n nni/src/sdk/pynni/nni/batch_tuner/batch_tuner.py\n     def is_valid(self, search_space):\n .......\n # the key: combine_params is removed\n             if isinstance(search_space[param][VALUE], list):\n                 return search_space[param][VALUE]\n     def generate_parameters(self, parameter_id, **kwargs):\n ......\n         return self._values[self._count]\n An imperfect solution is as follow. But this solution can not check whether the customized setting is in existing search space when you use BatchTuner\n         Object.keys(customized).map(item => {\n                 # fix bug\n                 if (searchSpace[item] === undefined) {\n                     return;\n                 }\n                 if (searchSpace[item]._type === 'choice') {\n                     if (searchSpace[item]._value.find((val: string | number) =>\n                         val === customized[item]) === undefined) {\n                         flag = true;\n                         return;\n                     }\n         });\n \t"}, "comments": {}}, "commit": {"commit_id": "444d2d7b074cfe7b66e0279deaf0fe7fbb5b6d0a", "commit_author": "liuzhe-lz", "commitT": "2020-03-05 08:03:32+08:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "src\\webui\\src\\components\\Modals\\CustomizedTrial.tsx", "file_new_name": "src\\webui\\src\\components\\Modals\\CustomizedTrial.tsx", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "62,69,70,71,72,73,77,83,89,277", "deleted_lines": "62,72,78,84,272"}}}}}}