{"BR": {"BR_id": "364", "BR_author": "cclauss", "BRopenT": "2019-10-23T10:25:37Z", "BRcloseT": "2019-10-23T13:37:18Z", "BR_text": {"BRsummary": "[BUG] Undefined names in Python code", "BRdescription": "\n Describe the bug\n A clear and concise description of what the bug is.\n <denchmark-link:http://flake8.pycqa.org>flake8</denchmark-link>\n  testing of <denchmark-link:https://github.com/evilsocket/pwnagotchi>https://github.com/evilsocket/pwnagotchi</denchmark-link>\n  on Python 3.8.0\n $ flake8 . --count --select=E9,F63,F7,F82 --show-source --statistics\n <denchmark-code>./pwnagotchi/ui/hw/libs/waveshare/lcdhat/config.py:34:23: F821 undefined name 'BUSY_PIN'\n     return GPIO.input(BUSY_PIN)\n                       ^\n ./pwnagotchi/ui/hw/libs/waveshare/lcdhat/config.py:44:5: F821 undefined name 'bus'\n     bus.write_byte_data(address, reg, value)\n     ^\n ./pwnagotchi/ui/hw/libs/waveshare/lcdhat/config.py:44:25: F821 undefined name 'address'\n     bus.write_byte_data(address, reg, value)\n                         ^\n 3     F821 undefined name 'BUSY_PIN'\n 3\n </denchmark-code>\n \n  are the \"\" <denchmark-link:http://flake8.pycqa.org>flake8</denchmark-link>\n  issues that can halt the runtime with a SyntaxError, NameError, etc. These 5 are different from most other flake8 issues which are merely \"style violations\" -- useful for readability but they do not effect runtime safety.\n \n F821: undefined name name\n F822: undefined name name in __all__\n F823: local variable name referenced before assignment\n E901: SyntaxError or IndentationError\n E999: SyntaxError -- failed to compile a file into an Abstract Syntax Tree\n \n To Reproduce\n Steps to reproduce the behavior:\n \n flake8 . --count --select=E9,F63,F7,F82 --show-source --statistics\n \n Expected behavior\n A clear and concise description of what you expected to happen.\n No undefined names in Python code.\n Screenshots\n If applicable, add screenshots to help explain your problem.\n Environment (please complete the following information):\n \n Pwnagotchi version\n OS version\n Type of hardware\n Any additional hardware used\n \n Additional context\n Add any other context about the problem here.\n These instance have the potential to raise NameError at runtime.\n \t"}, "comments": {}}, "commit": {"commit_id": "277906a6738553263db0174d003dd1367137423e", "commit_author": "Simone Margaritelli", "commitT": "2019-10-23 15:37:12+02:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 6, "file_old_name": "pwnagotchi\\ui\\hw\\libs\\waveshare\\lcdhat\\ST7789.py", "file_new_name": "pwnagotchi\\ui\\hw\\libs\\waveshare\\lcdhat\\ST7789.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "119,121,123", "deleted_lines": "118,120,122,124", "method_info": {"method_name": "reset", "method_params": "self", "method_startline": "117", "method_endline": "124"}}, "hunk_1": {"Ismethod": 1, "added_lines": "38,42,44,55,67,73,110", "deleted_lines": "37,41,43,54,66,72,109", "method_info": {"method_name": "Init", "method_params": "self", "method_startline": "37", "method_endline": "115"}}, "hunk_2": {"Ismethod": 1, "added_lines": "143,149,151,152,153,155,156,157,158", "deleted_lines": "148,150,151,152,154,155,156,157,158", "method_info": {"method_name": "ShowImage", "method_params": "self,Image,Xstart,Ystart", "method_startline": "143", "method_endline": "158"}}, "hunk_3": {"Ismethod": 1, "added_lines": "162,163,164,165,166", "deleted_lines": "161,162,163,164,165", "method_info": {"method_name": "clear", "method_params": "self", "method_startline": "160", "method_endline": "166"}}, "hunk_4": {"Ismethod": 1, "added_lines": "127,129,130,131,132,133,134,139,141", "deleted_lines": "126,128,129,130,131,132,133,138,140,141", "method_info": {"method_name": "SetWindows", "method_params": "self,Xstart,Ystart,Xend,Yend", "method_startline": "126", "method_endline": "141"}}, "hunk_5": {"Ismethod": 1, "added_lines": "10,13,19,20,21,23", "deleted_lines": "10,13,19,20,21,23", "method_info": {"method_name": "__init__", "method_params": "self,spi,rst,dc,bl", "method_startline": "10", "method_endline": "25"}}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 7, "file_old_name": "pwnagotchi\\ui\\hw\\libs\\waveshare\\lcdhat\\config.py", "file_new_name": "pwnagotchi\\ui\\hw\\libs\\waveshare\\lcdhat\\config.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": null, "deleted_lines": "30,31", "method_info": {"method_name": "digital_write", "method_params": "pin,value", "method_startline": "30", "method_endline": "31"}}, "hunk_1": {"Ismethod": 1, "added_lines": null, "deleted_lines": "43,44", "method_info": {"method_name": "i2c_writebyte", "method_params": "reg,value", "method_startline": "43", "method_endline": "44"}}, "hunk_2": {"Ismethod": 1, "added_lines": null, "deleted_lines": "39,40,41", "method_info": {"method_name": "spi_writebyte", "method_params": "data", "method_startline": "39", "method_endline": "41"}}, "hunk_3": {"Ismethod": 1, "added_lines": null, "deleted_lines": "47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67", "method_info": {"method_name": "module_init", "method_params": "", "method_startline": "47", "method_endline": "67"}}, "hunk_4": {"Ismethod": 1, "added_lines": null, "deleted_lines": "69,70,71,72", "method_info": {"method_name": "module_exit", "method_params": "", "method_startline": "69", "method_endline": "72"}}, "hunk_5": {"Ismethod": 1, "added_lines": null, "deleted_lines": "33,34", "method_info": {"method_name": "digital_read", "method_params": "pin", "method_startline": "33", "method_endline": "34"}}, "hunk_6": {"Ismethod": 1, "added_lines": null, "deleted_lines": "36,37", "method_info": {"method_name": "delay_ms", "method_params": "delaytime", "method_startline": "36", "method_endline": "37"}}}}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 5, "file_old_name": "pwnagotchi\\ui\\hw\\libs\\waveshare\\lcdhat\\epd.py", "file_new_name": "pwnagotchi\\ui\\hw\\libs\\waveshare\\lcdhat\\epd.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "21", "deleted_lines": "21", "method_info": {"method_name": "display", "method_params": "self,image", "method_startline": "19", "method_endline": "21"}}, "hunk_1": {"Ismethod": 1, "added_lines": "14", "deleted_lines": null, "method_info": {"method_name": "init", "method_params": "self", "method_startline": "13", "method_endline": "14"}}, "hunk_2": {"Ismethod": 1, "added_lines": "16,17", "deleted_lines": "16,17", "method_info": {"method_name": "clear", "method_params": "self", "method_startline": "16", "method_endline": "17"}}, "hunk_3": {"Ismethod": 1, "added_lines": "9,10,11", "deleted_lines": "6,7,8,11", "method_info": {"method_name": "__init__", "method_params": "self", "method_startline": "6", "method_endline": "11"}}, "hunk_4": {"Ismethod": 1, "added_lines": null, "deleted_lines": "23,24", "method_info": {"method_name": "Clear", "method_params": "self", "method_startline": "23", "method_endline": "24"}}}}}}}