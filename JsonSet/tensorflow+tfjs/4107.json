{"BR": {"BR_id": "4107", "BR_author": "BruceDai", "BRopenT": "2020-10-22T09:32:01Z", "BRcloseT": "2020-10-23T17:34:51Z", "BR_text": {"BRsummary": "[wasm] worker.js onmessage() captured an uncaught exception:Uncaught ReferenceError: t is not defined", "BRdescription": "\n System information\n \n \n OS Platform and Distribution: Ubuntu 18.04.4 LTS\n \n \n TensorFlow.js installed from (npm or script link):\n \"@tensorflow/tfjs-backend-wasm\": \"2.6.0\",\n \"@tensorflow/tfjs-core\": \"2.6.0\"\n \n \n Browser version: Linux stable 85.0.4183.102\n \n \n \n Following <denchmark-link:https://github.com/tensorflow/tfjs/tree/master/tfjs-backend-wasm#using-bundlers>Using bundlers guide</denchmark-link>\n  to update <denchmark-link:https://github.com/BruceDai/tfjs/commit/143eef51e12261ba709762d881ede0e73862ee46>the minimal starter project code with latest @tensorflow/tfjs-backend-wasm (version 2.6.0)</denchmark-link>\n , an error \"worker.js onmessage() captured an uncaught exception:Uncaught ReferenceError: t is not defined\" happened.\n Describe the expected behavior\n The minimal starter project works well, none error happens.\n Standalone code to reproduce the issue\n Enabled two flags WebAssembly SIMD support. and WebAssembly threads support on chrome://flags tab, then execute following commands.\n git clone https://github.com/BruceDai/tfjs\n cd tfjs\n git checkout webpack-wasm\n cd tfjs-backend-wasm/starter/webpack/\n npm install\n npm run build\n npm run watch\n <denchmark-link:https://github.com/annxingyuan>@annxingyuan</denchmark-link>\n  Would you please help to look at this issue, thanks.\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "BruceDai", "commentT": "2020-10-23T16:20:54Z", "comment_text": "\n \t\tThanks <denchmark-link:https://github.com/BruceDai>@BruceDai</denchmark-link>\n  for pointing this out. I believe I have a fix here: <denchmark-link:https://github.com/tensorflow/tfjs/pull/4121>#4121</denchmark-link>\n \n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "BruceDai", "commentT": "2020-10-23T17:34:52Z", "comment_text": "\n \t\tAre you satisfied with the resolution of your issue?\n <denchmark-link:https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=Yes&entry.2137816233=https://github.com/tensorflow/tfjs/issues/4107>Yes</denchmark-link>\n \n <denchmark-link:https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=No&entry.2137816233=https://github.com/tensorflow/tfjs/issues/4107>No</denchmark-link>\n \n \t\t"}, "comments_2": {"comment_id": 3, "comment_author": "BruceDai", "commentT": "2020-10-26T01:47:30Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/annxingyuan>@annxingyuan</denchmark-link>\n  I could still reproduce the reported error \"worker.js onmessage() captured an uncaught exception:Uncaught ReferenceError: t is not defined\", any suggestion, thanks.\n \t\t"}, "comments_3": {"comment_id": 4, "comment_author": "BruceDai", "commentT": "2020-10-26T11:36:21Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/BruceDai>@BruceDai</denchmark-link>\n  did you test this on master?\n \t\t"}, "comments_4": {"comment_id": 5, "comment_author": "BruceDai", "commentT": "2020-10-27T01:16:42Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/annxingyuan>@annxingyuan</denchmark-link>\n  Yes, I tested on master branch with the commit id: <denchmark-link:https://github.com/tensorflow/tfjs/commit/920794d97c0898cd44fa64e0273e97d901bfb873>920794d</denchmark-link>\n  which already included your <denchmark-link:https://github.com/tensorflow/tfjs/commit/83f5004d55a94a9095d462bcbc4cefa2f1b09dbc>fixed patch</denchmark-link>\n , the issue is still reproduced, any suggestion, thanks.\n \t\t"}, "comments_5": {"comment_id": 6, "comment_author": "BruceDai", "commentT": "2020-10-29T06:12:39Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/annxingyuan>@annxingyuan</denchmark-link>\n  Any update? Thanks.\n \t\t"}, "comments_6": {"comment_id": 7, "comment_author": "BruceDai", "commentT": "2020-11-02T14:33:24Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/annxingyuan>@annxingyuan</denchmark-link>\n  Did this issue reproduce on your side? Thanks.\n \t\t"}, "comments_7": {"comment_id": 8, "comment_author": "BruceDai", "commentT": "2020-11-03T10:17:46Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/annxingyuan>@annxingyuan</denchmark-link>\n  I try latest tfjs-backend-wasm of 2.7.0, it works, suggest you upgrade package.json for starter/webpack project :) .\n \t\t"}}}, "commit": {"commit_id": "83f5004d55a94a9095d462bcbc4cefa2f1b09dbc", "commit_author": "Ann Yuan", "commitT": "2020-10-23 13:34:50-04:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "tfjs-backend-wasm\\package.json", "file_new_name": "tfjs-backend-wasm\\package.json", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "6,7,67,68,69,70", "deleted_lines": "6,7,67,68,69,70"}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "tfjs-backend-wasm\\rollup.config.js", "file_new_name": "tfjs-backend-wasm\\rollup.config.js", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "84,99,100,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,141,142,143,144,145,146,149", "deleted_lines": "99,100,101,102,103,104,105,106,107,108,109,110,111,122,123,127,128,129", "method_info": {"method_name": "module.exports", "method_params": "", "method_startline": "78", "method_endline": "151"}}}}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "tfjs-backend-wasm\\scripts\\build-npm.sh", "file_new_name": "tfjs-backend-wasm\\scripts\\build-npm.sh", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "23", "deleted_lines": "23"}}}, "file_3": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "tfjs-backend-wasm\\starter\\webpack\\package.json", "file_new_name": "tfjs-backend-wasm\\starter\\webpack\\package.json", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "11,12", "deleted_lines": "11,12"}}}, "file_4": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "tfjs-backend-wasm\\starter\\webpack\\src\\index.js", "file_new_name": "tfjs-backend-wasm\\starter\\webpack\\src\\index.js", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "25,26,27,28,29", "deleted_lines": null, "method_info": {"method_name": "run", "method_params": "", "method_startline": "24", "method_endline": "32"}}}}, "file_5": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "tfjs-backend-wasm\\starter\\webpack\\yarn.lock", "file_new_name": "tfjs-backend-wasm\\starter\\webpack\\yarn.lock", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "5,6,7,8,12,13,14,15,21,2685,2686,2687,2688", "deleted_lines": "5,6,7,8,12,13,14,15,21,2685,2686,2687,2688"}}}, "file_6": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "tfjs-backend-wasm\\yarn.lock", "file_new_name": "tfjs-backend-wasm\\yarn.lock", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "12,13,14,15,16,17,18,217,218,219,220,221,246,247,248,249,250,251,252,253,254,830,831,832,833,834,835,836,837,838,839,840,841,842,843,844,845,846,847,848,849,850,851,852,853,854,855,856,857,858,859,860,861,862,863,864,865,866,867,868,869,870,1880,1881,1882,1883,1884,1994,1995,1996,1997,1998,1999,2000,2001,2002,2073,2138,2139,2140,2141,2142,2143,2144,2298,2299,2300,2301,2302,2303,2304,2427,3119,3230,3401,3415,3416,3417,3418,3419,3420,3421,3422,3457,3458,3459,3460,3462,3463,3464,3465,3466,3468,3514,3515,3516,3517,3518,3519,3769,3770,3771,3772", "deleted_lines": "855,856,857,858,859,1884,1885,1886,1887,1888,1889,1890,1891,1892,1908,1909,1910,1911,1912,1913,1914,1915,1940,1941,1942,1943,1944,1945,1946,1947,1948,2028,2368,2598,2599,2600,2601,2602,2603,2604,2674,2675,2676,2677,2678,2679,2680,2965,2966,2967,2968,2969,2970,2971,2979,2980,2981,2982,2983,2984,2985,2991,2992,2993,2994,2995,3063,3064,3065,3066,3067,3098,3120,3121,3122,3123,3124,3125,3126,3216,3387,3435,3436,3437,3438,3440,3441,3442,3443,3444,3446,3447,3448,3449,3450,3451,3452,3453,3454,3455,3456,3457,3458,3459,3460,3461,3462,3463,3464,3465,3466,3467,3468,3469,3470,3471,3472,3473,3474,3475,3476,3477,3478,3479,3480,3481,3482,3483,3484,3485,3486,3532,3533,3534,3535,3536,3537,3538,3539,3540,3790,3791,3792,3793,3864,3865,3866,3867,3868"}}}}}}