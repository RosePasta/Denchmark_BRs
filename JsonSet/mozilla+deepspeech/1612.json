{"BR": {"BR_id": "1612", "BR_author": "hao-olli-ai", "BRopenT": "2018-10-02T03:01:25Z", "BRcloseT": "2018-10-02T13:20:10Z", "BR_text": {"BRsummary": "Cannot inference with a single audio file", "BRdescription": "\n Hi all,\n I got a problem with the function \"do_single_file_inference\" after running the program as follow:\n \n Training: I trained with 1000 epoches and the result was:\n \n <denchmark-code>I Test of Epoch 1000 - WER: 0.003585, loss: 0.11275059029160085, mean edit distance: 0.001187\n </denchmark-code>\n \n \n Using inferencing function:\n I changed the mode of program from train and test to one_shot_infer as follow:\n \n <denchmark-code>tf.app.flags.DEFINE_boolean ('train',            False,        'whether to train the network')\n tf.app.flags.DEFINE_boolean ('test',             False,        'whether to test the network')\n tf.app.flags.DEFINE_string  ('one_shot_infer',     \n  './vivos/train/waves/VIVOSDEV01/VIVOSDEV01_R002.wav',       'one-shot ...')\n </denchmark-code>\n \n then I run DeepSpeech again\n \n Error:\n \n <denchmark-code>Traceback (most recent call last):\n   File \"DeepSpeech.py\", line 1977, in <module>\n     tf.app.run(main)\n   File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/platform/app.py\", line 125, in run\n     _sys.exit(main(argv))\n   File \"DeepSpeech.py\", line 1969, in main\n     do_single_file_inference(FLAGS.one_shot_infer)\n   File \"DeepSpeech.py\", line 1913, in do_single_file_inference\n     inputs['input_lengths']: [len(chunk)],\n   File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py\", line 887, in run\n     run_metadata_ptr)\n   File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/client/session.py\", line 1086, in _run\n     str(subfeed_t.get_shape())))\n ValueError: Cannot feed value of shape (1, 16, 26) for Tensor 'input_node:0', which has shape '(1, 16, 19, 26)'\n </denchmark-code>\n \n I ran the program in Ubuntu 16.04, tensorflow-gpu 1.11, GTX 1080 Ti\n The file I used for inferencing was one of my training files. When training, there was no problem but it was an error in inferencing. I do not know what happen. Help me, please!\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "hao-olli-ai", "commentT": "2018-10-02T10:22:23Z", "comment_text": "\n \t\tI do repoduce that exactly now.\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "hao-olli-ai", "commentT": "2019-01-02T16:42:59Z", "comment_text": "\n \t\tThis thread has been automatically locked since there has not been any recent activity after it was closed. Please open a new issue for related bugs.\n \t\t"}}}, "commit": {"commit_id": "1b8b46ec9570e073ea5686baede615c0c8854b49", "commit_author": "Alexandre Lissy", "commitT": "2018-10-02 14:20:45+02:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "DeepSpeech.py", "file_new_name": "DeepSpeech.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "1898,1899,1900,1901,1902,1903,1904,1905,1906,1907,1908,1911,1912,1914,1917,1918,1919,1920,1921", "deleted_lines": "1898,1901,1902,1904,1907", "method_info": {"method_name": "do_single_file_inference", "method_params": "input_file_path", "method_startline": "1877", "method_endline": "1936"}}}}}}}