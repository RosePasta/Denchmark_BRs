{"BR": {"BR_id": "322", "BR_author": "rshyamsundar", "BRopenT": "2019-09-16T23:49:03Z", "BRcloseT": "2019-09-19T14:12:17Z", "BR_text": {"BRsummary": "DeepAR training fails for time series with Business day frequency", "BRdescription": "\n <denchmark-h:h2>Description</denchmark-h>\n \n It looks like the changes in <denchmark-link:https://github.com/awslabs/gluon-ts/pull/265>#265</denchmark-link>\n  are affecting the DeepAR training for time series with business day frequency e.g.,  dataset in the repository.\n These are running without error before the commit of <denchmark-link:https://github.com/awslabs/gluon-ts/pull/265>#265</denchmark-link>\n \n <denchmark-h:h2>To Reproduce</denchmark-h>\n \n Run evaluate_model.py by replacing the m4_hourly dataset by exchange_rate and SimpleFeedFDeorwardEstimator by DeepAREstimator.\n (Running generate_evaluations with DeepAREstimator will also fail similarly on exchange_rate dataset.)\n <denchmark-h:h2>Error Message</denchmark-h>\n \n <denchmark-code>Traceback (most recent call last):\n   File \"/Users/rangapur/gluon-ts/examples/evaluate_model.py\", line 37, in <module>\n     trainer=Trainer(epochs=5, num_batches_per_epoch=10),\n   File \"/Users/rangapur/gluon-ts/src/gluonts/core/component.py\", line 443, in init_wrapper\n     return init(self, **all_args)\n   File \"/Users/rangapur/gluon-ts/src/gluonts/model/deepar/_estimator.py\", line 179, in __init__\n     else time_features_from_frequency_str(self.freq)\n   File \"/Users/rangapur/gluon-ts/src/gluonts/time_feature/lag.py\", line 83, in time_features_from_frequency_str\n     raise RuntimeError(supported_freq_msg)\n RuntimeError: \n     Unsupported frequency 1B\n \n     The following frequencies are supported:\n \n         Y   - yearly\n             alias: A\n         M   - monthly\n         W   - week\n         D   - daily\n         H   - hourly\n         T   - minutely\n             alias: min\n </denchmark-code>\n \n \t"}, "comments": {}}, "commit": {"commit_id": "c0bc208ca62e05c851aea9c0ebe4506c5d459c4d", "commit_author": "Lorenzo Stella", "commitT": "2019-09-19 16:04:57+02:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "src\\gluonts\\model\\canonical\\_estimator.py", "file_new_name": "src\\gluonts\\model\\canonical\\_estimator.py", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "28", "deleted_lines": "28"}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "src\\gluonts\\model\\deep_factor\\_estimator.py", "file_new_name": "src\\gluonts\\model\\deep_factor\\_estimator.py", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "31", "deleted_lines": "31"}}}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "src\\gluonts\\model\\deepar\\_estimator.py", "file_new_name": "src\\gluonts\\model\\deepar\\_estimator.py", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "27,30", "deleted_lines": "27,29"}}}, "file_3": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "src\\gluonts\\model\\deepstate\\_estimator.py", "file_new_name": "src\\gluonts\\model\\deepstate\\_estimator.py", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "28", "deleted_lines": "28,29,30,31"}}}, "file_4": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "src\\gluonts\\model\\gp_forecaster\\_estimator.py", "file_new_name": "src\\gluonts\\model\\gp_forecaster\\_estimator.py", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "28", "deleted_lines": "28,29,30,31"}}}, "file_5": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "src\\gluonts\\model\\npts\\_predictor.py", "file_new_name": "src\\gluonts\\model\\npts\\_predictor.py", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "28", "deleted_lines": "28"}}}, "file_6": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "src\\gluonts\\model\\seq2seq\\_seq2seq_estimator.py", "file_new_name": "src\\gluonts\\model\\seq2seq\\_seq2seq_estimator.py", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "39", "deleted_lines": "39"}}}, "file_7": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "src\\gluonts\\model\\transformer\\_estimator.py", "file_new_name": "src\\gluonts\\model\\transformer\\_estimator.py", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "27", "deleted_lines": "27"}}}, "file_8": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "src\\gluonts\\model\\wavenet\\_estimator.py", "file_new_name": "src\\gluonts\\model\\wavenet\\_estimator.py", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "36", "deleted_lines": "36"}}}, "file_9": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "src\\gluonts\\time_feature\\__init__.py", "file_new_name": "src\\gluonts\\time_feature\\__init__.py", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "24,43", "deleted_lines": null}}}, "file_10": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "src\\gluonts\\time_feature\\_base.py", "file_new_name": "src\\gluonts\\time_feature\\_base.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175", "deleted_lines": null, "method_info": {"method_name": "time_features_from_frequency_str", "method_params": "str", "method_startline": "126", "method_endline": "175"}}}}, "file_11": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "src\\gluonts\\time_feature\\lag.py", "file_new_name": "src\\gluonts\\time_feature\\lag.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": null, "deleted_lines": "36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83", "method_info": {"method_name": "time_features_from_frequency_str", "method_params": "str", "method_startline": "36", "method_endline": "83"}}}}}}}