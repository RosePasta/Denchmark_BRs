{"BR": {"BR_id": "295", "BR_author": "tdenimal", "BRopenT": "2019-09-09T15:33:33Z", "BRcloseT": "2019-09-10T11:16:59Z", "BR_text": {"BRsummary": "Wavenet : cannot change default activation function - Gluonts 0.3.3", "BRdescription": "\n Hello,\n It seems that there is an error, in Gluonts 0.3.3,  when you change the default activation function (ELU) for the  WAVENET estimator, for example by relu\n \n estimator = WaveNetEstimator(\n freq = \"1W\",\n dilation_depth = 4,\n train_window_length = 20,\n prediction_length = 10,\n act_type=\"relu\")\n estimator.train(train)\n \n Results in the following exception :\n \n TypeError                                 Traceback (most recent call last)\n  in \n ----> 1 estimator.train(train)\n ~/anaconda3/envs/gluonts/lib/python3.7/site-packages/gluonts/model/wavenet/_estimator.py in train(self, training_data)\n 294             params = self._get_wavenet_args(bin_centers)\n 295             params.update(pred_length=pred_length)\n --> 296             trained_net = WaveNet(**params)\n 297\n 298         self.trainer(\n \n \n ~/anaconda3/envs/gluonts/lib/python3.7/site-packages/gluonts/model/wavenet/_network.py in init(self, bin_values, n_residue, n_skip, dilation_depth, n_stacks, act_type, cardinality, embedding_dimension, pred_length, **kwargs)\n 192                 nn.ELU()\n 193                 if act_type == \"elu\"\n --> 194                 else nn.Activation(act_type=act_type)\n 195             )\n 196             self.cross_entropy_loss = gluon.loss.SoftmaxCrossEntropyLoss()\n TypeError: init() missing 1 required positional argument: 'activation'\n \n Seems that the correct syntax should be :\n nn.Activation(activation=act_type)\n See <denchmark-link:http://mxnet.incubator.apache.org/versions/1.4.1/api/python/gluon/nn.html#mxnet.gluon.nn.Activation>http://mxnet.incubator.apache.org/versions/1.4.1/api/python/gluon/nn.html#mxnet.gluon.nn.Activation</denchmark-link>\n \n It seems to work when you change the syntax that way.\n Best regards,\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "tdenimal", "commentT": "2019-09-09T17:02:54Z", "comment_text": "\n \t\tThanks. This is indeed a bug. Could you perhaps send a PR for that?\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "tdenimal", "commentT": "2019-09-10T08:45:16Z", "comment_text": "\n \t\tok done :)\n \t\t"}, "comments_2": {"comment_id": 3, "comment_author": "tdenimal", "commentT": "2019-09-10T11:16:59Z", "comment_text": "\n \t\tThanks!\n \t\t"}}}, "commit": {"commit_id": "cc7f36ad68b8cfc97fb4a299164fc6e6a979f848", "commit_author": "Thomas DENIMAL", "commitT": "2019-09-10 12:48:38+02:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "src\\gluonts\\model\\wavenet\\_network.py", "file_new_name": "src\\gluonts\\model\\wavenet\\_network.py", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "194", "deleted_lines": "194"}}}}}}