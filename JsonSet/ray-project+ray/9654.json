{"BR": {"BR_id": "9654", "BR_author": "wuisawesome", "BRopenT": "2020-07-23T07:23:40Z", "BRcloseT": "2020-07-30T01:27:44Z", "BR_text": {"BRsummary": "[Core] Worker stderr should be printed to stderr, not stdout", "BRdescription": "\n <denchmark-h:h3>What is the problem?</denchmark-h>\n \n Worker stderr logs should be printed to stderr not stdout\n This should really be fixed before Ray 1.0. There's also some old unused legacy code around raylet error logging that could be cleaned up with this.\n Once unit tests are written for this, they should be removed from the list in <denchmark-link:https://github.com/ray-project/ray/issues/9692>#9692</denchmark-link>\n \n <denchmark-h:h3>Reproduction (REQUIRED)</denchmark-h>\n \n Please provide a script that can be run to reproduce the issue. The script should have no external library dependencies (i.e., use fake or mock data / environments):\n <denchmark-code>@ray.remote\n def print_to_err():\n  print(\"hello world\", file=sys.stderr)\n \n ray.get(print_to_err.remote())\n </denchmark-code>\n \n This will print \"(pid=xxx) hello world\" to the driver's stdout.\n If we cannot run your script, we cannot fix your issue.\n \n  I have verified my script runs in a clean environment and reproduces the issue.\n  I have verified the issue also occurs with the latest wheels.\n \n \t"}, "comments": {}}, "commit": {"commit_id": "e6696b2533a391fdaed8274b3ac5d456415b399a", "commit_author": "Alex Wu", "commitT": "2020-07-29 13:19:04-07:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 3, "file_old_name": "python\\ray\\log_monitor.py", "file_new_name": "python\\ray\\log_monitor.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "253", "deleted_lines": null, "method_info": {"method_name": "check_log_files_and_publish_updates", "method_params": "self", "method_startline": "203", "method_endline": "258"}}, "hunk_1": {"Ismethod": 1, "added_lines": "133,134,142", "deleted_lines": null, "method_info": {"method_name": "update_log_filenames", "method_params": "self", "method_startline": "117", "method_endline": "145"}}, "hunk_2": {"Ismethod": 1, "added_lines": "32", "deleted_lines": null, "method_info": {"method_name": "__init__", "method_params": "self,filename,size_when_last_opened,file_position,file_handle,is_err_file,job_id", "method_startline": "27", "method_endline": "33"}}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "python\\ray\\tests\\test_output.py", "file_new_name": "python\\ray\\tests\\test_output.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30", "deleted_lines": null, "method_info": {"method_name": "test_worker_stdout", "method_params": "", "method_startline": "10", "method_endline": "30"}}}}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "python\\ray\\worker.py", "file_new_name": "python\\ray\\worker.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "1012,1013,1022,1023,1024,1025,1026,1029,1030,1031,1032,1033", "deleted_lines": "1020,1021,1022,1025,1026,1027", "method_info": {"method_name": "print_logs", "method_params": "redis_client,threads_stopped,job_id", "method_startline": "968", "method_endline": "1039"}}}}}}}