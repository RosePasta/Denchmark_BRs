{"BR": {"BR_id": "4048", "BR_author": "Xargonus", "BRopenT": "2019-07-30T11:04:42Z", "BRcloseT": "2019-08-01T15:26:13Z", "BR_text": {"BRsummary": "Init-model doeesn't work for some languages", "BRdescription": "\n Init-model doesn't work for some languages with less features. So far I have found that cs and bg don't work, but there are probably more. The problem is I think init-model expecting non-empty vocab.\n <denchmark-h:h2>Error</denchmark-h>\n \n python -m spacy init-model bg test\n \ufffd[2K\u2714 Counted frequencies\n \ufffd[2K\u2714 Read clusters\n 0it [00:00, ?it/s]\n Traceback (most recent call last):\n File \"C:\\Users\\xargo\\AppData\\Local\\Programs\\Python\\Python36\\lib\\runpy.py\", line 193, in _run_module_as_main\n \"main\", mod_spec)\n File \"C:\\Users\\xargo\\AppData\\Local\\Programs\\Python\\Python36\\lib\\runpy.py\", line 85, in run_code\n exec(code, run_globals)\n File \"C:\\Users\\xargo\\AppData\\Local\\Programs\\Python\\Python36\\lib\\site-packages\\spacy_main.py\", line 35, in \n plac.call(commands[command], sys.argv[1:])\n File \"C:\\Users\\xargo\\AppData\\Local\\Programs\\Python\\Python36\\lib\\site-packages\\plac_core.py\", line 328, in call\n cmd, result = parser.consume(arglist)\n File \"C:\\Users\\xargo\\AppData\\Local\\Programs\\Python\\Python36\\lib\\site-packages\\plac_core.py\", line 207, in consume\n return cmd, self.func(*(args + varargs + extraopts), **kwargs)\n File \"C:\\Users\\xargo\\AppData\\Local\\Programs\\Python\\Python36\\lib\\site-packages\\spacy\\cli\\init_model.py\", line 78, in init_model\n nlp = create_model(lang, lex_attrs)\n File \"C:\\Users\\xargo\\AppData\\Local\\Programs\\Python\\Python36\\lib\\site-packages\\spacy\\cli\\init_model.py\", line 146, in create_model\n oov_prob = min(lex.prob for lex in nlp.vocab)\n ValueError: min() arg is an empty sequence\n <denchmark-h:h2>How to reproduce the behaviour</denchmark-h>\n \n python -m spacy init-model cs test\n <denchmark-h:h2>Your Environment</denchmark-h>\n \n \n Operating System: Windows 10\n Python Version Used: 3.6.7\n spaCy Version Used: 2.1.6\n Environment Information:\n \n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "Xargonus", "commentT": "2019-07-30T11:37:33Z", "comment_text": "\n \t\tThanks for the report \u2013 fixed in <denchmark-link:https://github.com/explosion/spaCy/issues/4048>#4048</denchmark-link>\n .\n In the meantime, if you just want an empty blank model saved to a directory (no vectors etc.), you can also use this one-liner:\n python -c \"import spacy;spacy.blank('cs').to_disk('/path/to/model')\"\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "Xargonus", "commentT": "2019-08-31T15:42:30Z", "comment_text": "\n \t\tThis thread has been automatically locked since there has not been any recent activity after it was closed. Please open a new issue for related bugs.\n \t\t"}}}, "commit": {"commit_id": "8718ca8b1f173ebf1d710b1a463226526a8f9d8d", "commit_author": "Ines Montani", "commitT": "2019-08-01 17:26:09+02:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "spacy\\cli\\init_model.py", "file_new_name": "spacy\\cli\\init_model.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "153,154,155,156,157", "deleted_lines": "145,146", "method_info": {"method_name": "create_model", "method_params": "lang,lex_attrs", "method_startline": "139", "method_endline": "158"}}, "hunk_1": {"Ismethod": 1, "added_lines": "112,113,114,115,116,117,118,119,120,121,122,123,126,127,128,129,130,131,132,133,134,135", "deleted_lines": "111,112,113,114,115,116,119,120,121,122,123,124,125,126,127", "method_info": {"method_name": "read_attrs_from_deprecated", "method_params": "freqs_loc,clusters_loc", "method_startline": "111", "method_endline": "136"}}}}}}}