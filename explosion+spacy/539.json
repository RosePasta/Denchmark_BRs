{"BR": {"BR_id": "539", "BR_author": "dterg", "BRopenT": "2016-10-20T11:49:33Z", "BRcloseT": "2016-10-20T14:14:51Z", "BR_text": {"BRsummary": "UnicodeDecodeError when loading spacy", "BRdescription": "\n Whether I use:\n <denchmark-code>from spacy.en import English\n nlp = English()\n </denchmark-code>\n \n or\n <denchmark-code>\n import spacy\n nlp = spacy.load('en')\n </denchmark-code>\n \n I get the error:\n \n nlp = spacy.load('en')\n return cls(path=path, **overrides)\n if 'vocab' not in overrides \\\n lemmatizer = cls.create_lemmatizer(nlp)\n return Lemmatizer.load(nlp.path)\n rules = json.load(file_)\n return codecs.charmap_decode(input,self.errors,decoding_table)[0]\n \n UnicodeDecodeError: 'charmap' codec can't decode byte 0x9d in position 565: character maps to \n \n Could this be an issue with the encoding since python 2.7 handles encoding differently than 3.x? Although if I recall well, I used spacy on python 2.7 without any issues before.\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "dterg", "commentT": "2016-10-20T12:02:16Z", "comment_text": "\n \t\tThanks. I must have opened the file incorrectly. I need to add tests for different encoding environment variables to my travis config.\n Are you using Python 2.7 or Python 3.5?\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "dterg", "commentT": "2016-10-20T12:33:34Z", "comment_text": "\n \t\tPython 2.7(.12)\n \t\t"}, "comments_2": {"comment_id": 3, "comment_author": "dterg", "commentT": "2016-10-20T12:37:51Z", "comment_text": "\n \t\tWhile I fix the bug, try doing\n <denchmark-code>export LC_ALL=en_US.UTF8\n </denchmark-code>\n \n \t\t"}, "comments_3": {"comment_id": 4, "comment_author": "dterg", "commentT": "2016-10-20T12:47:07Z", "comment_text": "\n \t\tSorry forgot to add I'm running on windows\n \t\t"}, "comments_4": {"comment_id": 5, "comment_author": "dterg", "commentT": "2016-10-20T12:51:01Z", "comment_text": "\n \t\tAh. I hope you'll continue reporting problems if you have them :). We're running a bit blind on Windows at the moment.\n I've gotten the CI to test the null encoding environment now, and I've turned the test from red to green. I'll push the fix to PyPi.\n \t\t"}, "comments_5": {"comment_id": 6, "comment_author": "dterg", "commentT": "2016-10-20T13:12:00Z", "comment_text": "\n \t\tUpdated through pip (spacy 1.0.3) but seems like the issue is persisting :/\n \t\t"}, "comments_6": {"comment_id": 7, "comment_author": "dterg", "commentT": "2016-10-20T13:34:46Z", "comment_text": "\n \t\tThe fixed version is 1.0.4 \u2014 I think you nipped in just ahead of the upload. Try now.\n \t\t"}, "comments_7": {"comment_id": 8, "comment_author": "dterg", "commentT": "2016-10-20T14:14:51Z", "comment_text": "\n \t\tWorked like a charm. Thank you for your time to fix this!\n \t\t"}, "comments_8": {"comment_id": 9, "comment_author": "dterg", "commentT": "2018-05-09T10:12:17Z", "comment_text": "\n \t\tThis thread has been automatically locked since there has not been any recent activity after it was closed. Please open a new issue for related bugs.\n \t\t"}}}, "commit": {"commit_id": "f189a3cb00d072c189545052922eab5c4e51d917", "commit_author": "Matthew Honnibal", "commitT": "2016-10-20 14:42:56+02:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "spacy\\lemmatizer.py", "file_new_name": "spacy\\lemmatizer.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "31", "deleted_lines": "31", "method_info": {"method_name": "load", "method_params": "cls,path", "method_startline": "15", "method_endline": "33"}}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "spacy\\matcher.pyx", "file_new_name": "spacy\\matcher.pyx", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "178", "deleted_lines": "178"}}}}}}