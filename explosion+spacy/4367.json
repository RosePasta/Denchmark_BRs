{"BR": {"BR_id": "4367", "BR_author": "paoloq", "BRopenT": "2019-10-03T09:33:53Z", "BRcloseT": "2019-10-03T12:48:46Z", "BR_text": {"BRsummary": "DocBin's init has an issue with `attrs` as a `list`", "BRdescription": "\n <denchmark-h:h2>Error</denchmark-h>\n \n <denchmark-code>attrs = sorted(intify_attrs(attrs))\n   File \"attrs.pyx\", line 144, in spacy.attrs.intify_attrs\n AttributeError: 'list' object has no attribute 'items'\n </denchmark-code>\n \n <denchmark-h:h2>How to reproduce the behaviour</denchmark-h>\n \n doc_bin = DocBin(attrs=[\"LEMMA\", \"ENT_IOB\", \"ENT_TYPE\"])\n <denchmark-h:h2>Your Environment</denchmark-h>\n \n \n spaCy version: 2.2.0\n Platform: Linux-4.9.0-9-amd64-x86_64-with-debian-10.1\n Python version: 3.7.3\n \n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "paoloq", "commentT": "2019-10-03T11:04:16Z", "comment_text": "\n \t\tThanks for the report. I can't believe I didn't have tests for that :(.\n We should have a patch up today.\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "paoloq", "commentT": "2019-11-02T12:54:33Z", "comment_text": "\n \t\tThis thread has been automatically locked since there has not been any recent activity after it was closed. Please open a new issue for related bugs.\n \t\t"}}}, "commit": {"commit_id": "4e7259c6cf44540160a4e4fd5a62c7ff7308cc44", "commit_author": "Sofie Van Landeghem", "commitT": "2019-10-03 14:48:45+02:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "bin\\ud\\ud_train.py", "file_new_name": "bin\\ud\\ud_train.py", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "15", "deleted_lines": "28,29"}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "spacy\\attrs.pyx", "file_new_name": "spacy\\attrs.pyx", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "145,146,147,148,149,150,151,152,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169", "deleted_lines": "145,146,147,148,149,150,151,152,153,154,155,156,157,158"}}}, "file_2": {"file_change_type": "ADD", "file_Nmethod": 0, "file_old_name": "None", "file_new_name": "spacy\\tests\\regression\\test_issue4367.py"}, "file_3": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "spacy\\tests\\serialize\\test_serialize_doc.py", "file_new_name": "spacy\\tests\\serialize\\test_serialize_doc.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "66,67,68,69,70,71,72,73,74,75,76,77", "deleted_lines": null, "method_info": {"method_name": "test_serialize_doc_bin", "method_params": "", "method_startline": "66", "method_endline": "77"}}}}, "file_4": {"file_change_type": "MODIFY", "file_Nmethod": 3, "file_old_name": "spacy\\tokens\\_serialize.py", "file_new_name": "spacy\\tokens\\_serialize.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "145", "deleted_lines": "145", "method_info": {"method_name": "to_bytes", "method_params": "self", "method_startline": "126", "method_endline": "145"}}, "hunk_1": {"Ismethod": 1, "added_lines": "56", "deleted_lines": "56", "method_info": {"method_name": "__init__", "method_params": "self,attrs,store_user_data", "method_startline": "45", "method_endline": "63"}}, "hunk_2": {"Ismethod": 1, "added_lines": "155", "deleted_lines": "155", "method_info": {"method_name": "from_bytes", "method_params": "self,bytes_data", "method_startline": "147", "method_endline": "170"}}}}, "file_5": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "website\\docs\\usage\\saving-loading.md", "file_new_name": "website\\docs\\usage\\saving-loading.md", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "87", "deleted_lines": "87"}}}}}}