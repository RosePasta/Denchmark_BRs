{"BR": {"BR_id": "2177", "BR_author": "chandan2495", "BRopenT": "2018-04-03T07:14:27Z", "BRcloseT": "2018-04-03T16:30:29Z", "BR_text": {"BRsummary": "Why are we looking for exactly one attribute in case of set_extension on a doc.", "BRdescription": "\n \n \n \n spaCy/spacy/tokens/doc.pyx\n \n \n          Line 100\n       in\n       0de599b\n \n \n \n \n \n \n  assert nr_defined == 1 \n \n \n \n \n \n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "chandan2495", "commentT": "2018-04-03T10:24:03Z", "comment_text": "\n \t\tSorry about the lack of a clearer message here \u2013 my PR in <denchmark-link:https://github.com/explosion/spaCy/pull/2163>#2163</denchmark-link>\n  actually addresses this, removes all the random s and replaces them with proper error messages and more information. (See <denchmark-link:https://github.com/explosion/spaCy/pull/2163/files#diff-12839294d4cfa46801ac1f6075166f4bL100>here</denchmark-link>\n  and <denchmark-link:https://github.com/explosion/spaCy/pull/2163/files#diff-e05544161ef9df2b97bc6ee9e9732503R221>here</denchmark-link>\n  for this specific case.)\n I also just noticed that the way we're checking the arguments here is bad \u2013 you should in fact be able to define a getter and setter \u2013 just not any other combinations. Will fix this, thanks! \ud83d\udc4d\n Some more background on this, also in case others come across this issue later: spaCy supports <denchmark-link:https://spacy.io/usage/processing-pipelines#custom-components-attributes>three different types</denchmark-link>\n  of extension attributes:\n \n Attribute extensions with a default value, e.g. default=False.\n Property extensions with a getter and setter.\n Method extensions that make the extension attribute callable using the provided method.\n \n When you register an attribute, you'll need to decide which one it should be \u2013 for example, you can't mix a getter and a default value or a method and a getter, because this would make it impossible for spaCy to know how to retrieve the value and which function to execute.\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "chandan2495", "commentT": "2018-05-07T17:52:57Z", "comment_text": "\n \t\tThis thread has been automatically locked since there has not been any recent activity after it was closed. Please open a new issue for related bugs.\n \t\t"}}}, "commit": {"commit_id": "62b4b527d7a3d36dc041d648e3dbfcae30d0c5ed", "commit_author": "ines", "commitT": "2018-04-03 18:30:17+02:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "spacy\\errors.py", "file_new_name": "spacy\\errors.py", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "221,222,236,237,238,239,240,241", "deleted_lines": "221,222"}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 3, "file_old_name": "spacy\\tests\\test_underscore.py", "file_new_name": "spacy\\tests\\test_underscore.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "79,80,81,82", "deleted_lines": null, "method_info": {"method_name": "test_underscore_raises_for_invalid", "method_params": "invalid_kwargs", "method_startline": "79", "method_endline": "82"}}, "hunk_1": {"Ismethod": 1, "added_lines": "91,92,93", "deleted_lines": null, "method_info": {"method_name": "test_underscore_accepts_valid", "method_params": "valid_kwargs", "method_startline": "91", "method_endline": "93"}}, "hunk_2": {"Ismethod": 1, "added_lines": "67,68,69,70", "deleted_lines": null, "method_info": {"method_name": "test_underscore_raises_for_dup", "method_params": "obj", "method_startline": "67", "method_endline": "70"}}}}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "spacy\\tokens\\doc.pyx", "file_new_name": "spacy\\tokens\\doc.pyx", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "36,98,99,100,101", "deleted_lines": "36,98,99,100,101,102,103"}}}, "file_3": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "spacy\\tokens\\span.pyx", "file_new_name": "spacy\\tokens\\span.pyx", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "20,26,27,28,29", "deleted_lines": "20,26,27,28"}}}, "file_4": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "spacy\\tokens\\token.pyx", "file_new_name": "spacy\\tokens\\token.pyx", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "24,31,32,33,34", "deleted_lines": "24,31,32,33"}}}, "file_5": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "spacy\\tokens\\underscore.py", "file_new_name": "spacy\\tokens\\underscore.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77", "deleted_lines": null, "method_info": {"method_name": "get_ext_args", "method_params": "kwargs", "method_startline": "59", "method_endline": "77"}}}}}}}