{"BR": {"BR_id": "3248", "BR_author": "Abhijit-2592", "BRopenT": "2019-02-08T07:18:51Z", "BRcloseT": "2019-02-12T17:30:36Z", "BR_text": {"BRsummary": "pickling of PhraseMatcher not resolved yet in version '2.1.0a6' (nightly build)", "BRdescription": "\n <denchmark-link:https://github.com/explosion/spaCy/issues/1971>#1971</denchmark-link>\n  Issue show that pickling is solved for PhraseMatcher. But, there still seems to be a bug in version \n Minimal reproducible example\n import spacy\n from spacy.matcher import PhraseMatcher\n import pickle\n \n nlp = spacy.load(\"en\")\n matcher = PhraseMatcher(nlp.vocab, attr='LOWER')\n matcher.add('president', None, nlp(u\"Barack Obama\"), nlp(u\"Trump\"))\n matcher.add('health', None, nlp(u\"health care reform\"), nlp(u\"hospital\"))\n print(len(matcher)) # shows 4\n with open(\"./phrase_matcher.pkl\", 'wb') as f:\n     pickle.dump(obj=matcher,file=f)\n \n with open(\"./phrase_matcher.pkl\", 'rb') as f:\n     loaded_matcher = pickle.load(f)\n print(len(loaded_matcher)) # shows 0\n <denchmark-h:h2>One more Bug:</denchmark-h>\n \n According to documentation: len(matcher) should show 2 (only number of rule keys). But here it shows 4 (number of rules)\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "Abhijit-2592", "commentT": "2019-02-09T04:46:14Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/ines>@ines</denchmark-link>\n   Does this commit <denchmark-link:https://github.com/explosion/spaCy/pull/3252>#3252</denchmark-link>\n  resolve it? How can I get the latest one?\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "Abhijit-2592", "commentT": "2019-02-10T11:16:09Z", "comment_text": "\n \t\tYes, my PR in <denchmark-link:https://github.com/explosion/spaCy/pull/3252>#3252</denchmark-link>\n  should address my fix \u2013 we just need to review it and once it's merged, it'll be included in the next nightly. If you can't wait to test it, you can also build my  branch from source.\n \t\t"}, "comments_2": {"comment_id": 3, "comment_author": "Abhijit-2592", "commentT": "2019-02-10T11:27:21Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/ines>@ines</denchmark-link>\n  thanks a lot for your quick response\n \t\t"}, "comments_3": {"comment_id": 4, "comment_author": "Abhijit-2592", "commentT": "2019-03-14T18:48:02Z", "comment_text": "\n \t\tThis thread has been automatically locked since there has not been any recent activity after it was closed. Please open a new issue for related bugs.\n \t\t"}}}, "commit": {"commit_id": "b589b945dbe9c8660d58a99d17a9e849b987faf0", "commit_author": "Ines Montani", "commitT": "2019-02-12 18:27:54+01:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "spacy\\matcher\\phrasematcher.pyx", "file_new_name": "spacy\\matcher\\phrasematcher.pyx", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "36,59,69,81,82,95,220,221,222,223,224,225,226,227", "deleted_lines": "67,79"}}}, "file_1": {"file_change_type": "ADD", "file_Nmethod": 0, "file_old_name": "None", "file_new_name": "spacy\\tests\\regression\\test_issue3248.py"}}}}