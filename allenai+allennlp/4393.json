{"BR": {"BR_id": "4393", "BR_author": "epwalsh", "BRopenT": "2020-06-22T15:56:43Z", "BRcloseT": "2020-06-25T11:54:54Z", "BR_text": {"BRsummary": "Unexpected behavior with DataLoader.batches_per_epoch", "BRdescription": "\n From the discussion in <denchmark-link:https://github.com/allenai/allennlp/issues/4362>#4362</denchmark-link>\n .\n If batches_per_epochs is less than the total number of batches in the dataset, there is no guarantee that all unique instances will be seen during training.\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "epwalsh", "commentT": "2020-07-02T11:54:03Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/epwalsh>@epwalsh</denchmark-link>\n  It seems like  applies also to validation set. Is it expected behaviour?\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "epwalsh", "commentT": "2020-07-06T15:26:19Z", "comment_text": "\n \t\tThat is expected. If you only want batches_per_epoch set for training (like most use-cases, I assume) you can use a separate validation_data_loader.\n \t\t"}}}, "commit": {"commit_id": "e104e4419157a7d41e91421db6fa8ce304082feb", "commit_author": "Evan Pete Walsh", "commitT": "2020-06-25 11:54:53+00:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 5, "file_old_name": "tests\\data\\dataloader_test.py", "file_new_name": "tests\\data\\dataloader_test.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "10,11", "deleted_lines": "10,11", "method_info": {"method_name": "fake_instance_generator", "method_params": "str", "method_startline": "10", "method_endline": "11"}}, "hunk_1": {"Ismethod": 1, "added_lines": "30,31,32", "deleted_lines": null, "method_info": {"method_name": "test_loader_uses_all_instances_when_batches_per_epochs_set._read", "method_params": "self,str", "method_startline": "30", "method_endline": "32"}}, "hunk_2": {"Ismethod": 1, "added_lines": "15,16", "deleted_lines": null, "method_info": {"method_name": "test_multi_processing_with_lazy_dataset_warns.fake_instance_generator", "method_params": "str", "method_startline": "15", "method_endline": "16"}}, "hunk_3": {"Ismethod": 1, "added_lines": "15,16,17", "deleted_lines": null, "method_info": {"method_name": "test_multi_processing_with_lazy_dataset_warns", "method_params": "", "method_startline": "14", "method_endline": "19"}}, "hunk_4": {"Ismethod": 1, "added_lines": "23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57", "deleted_lines": null, "method_info": {"method_name": "test_loader_uses_all_instances_when_batches_per_epochs_set", "method_params": "lazy", "method_startline": "23", "method_endline": "57"}}}}}}}