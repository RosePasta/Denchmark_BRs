{"BR": {"BR_id": "258", "BR_author": "nirraviv", "BRopenT": "2020-11-26T14:05:50Z", "BRcloseT": "2021-01-17T09:56:53Z", "BR_text": {"BRsummary": "Delete hyper-parameters from web-app", "BRdescription": "\n I'm currently using trains==0.16.2 and registering hyper-parameters from a dictionary using task.connect(config).\n After a preliminary run from the terminal I'm trying to remove one hyper-parameter by explicitly deleting the argument from Configuration -> General and by deleting its content (that should set it as None?) but unfortunately in both the parameter is as the original run.\n Any idea how to solve this problem?\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "nirraviv", "commentT": "2020-11-26T16:40:22Z", "comment_text": "\n \t\tHi <denchmark-link:https://github.com/nirraviv>@nirraviv</denchmark-link>\n  ,\n \n unfortunately in both the parameter is as the original run\n \n Do you mean that after deleting it in the UI it immediately appears back in the UI?\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "nirraviv", "commentT": "2020-11-26T18:18:41Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/jkhenning>@jkhenning</denchmark-link>\n , if I'm deleting from the UI it appears back, and if I just set as empty it stays empty in the UI but the value when printing is not None (but the original value from the dictionary).\n \t\t"}, "comments_2": {"comment_id": 3, "comment_author": "nirraviv", "commentT": "2020-11-26T21:16:45Z", "comment_text": "\n \t\tHi <denchmark-link:https://github.com/nirraviv>@nirraviv</denchmark-link>\n \n Just making sure I understand the issue,\n You have an experiment in the system (created by running your code manually)\n You then clone the experiment in the UI, and change a parameter value to empty (i.e. None in most cases), then you send the experiment to be executed by  but the parameter stays the same?\n Is that correct ?\n Background:\n When creating an experiment from code (i.e. running the python code manually) all the configurations are stored in trains-server , this is a one way street, whatever you do in the UI will be overridden if the code is reusing (overwriting) the experiment. When trains-agent executes the code, the opposites happens and the parameters from the trains-server (UI) override the parameters in code.\n EDIT:\n Any chance you can post a code snippet to reproduce the issue ?\n \t\t"}, "comments_3": {"comment_id": 4, "comment_author": "nirraviv", "commentT": "2020-11-27T06:35:30Z", "comment_text": "\n \t\tHi <denchmark-link:https://github.com/bmartinn>@bmartinn</denchmark-link>\n  ,\n You are correct.\n I attached simple example.\n Steps to reproduce the problems:\n Experiment 1:\n \n Run the given code and clone a new task in the Web-APP.\n Delete (trash symbol) temp from Configuration -> General and enqueue this task.\n The temp=123 variable will appear again and will be printed in the Log tab (tmp: 123).\n \n Experiment 2:\n \n Same as in (1)\n Empty temp.\n The temp will stay empty in Configuration -> General but tmp: 123 will be printed in the Log tab (even though I expect it to be None).\n \n <denchmark-link:https://github.com/allegroai/trains/files/5606262/trains_mnist.py.txt>trains_mnist.py.txt</denchmark-link>\n \n \t\t"}, "comments_4": {"comment_id": 5, "comment_author": "nirraviv", "commentT": "2020-11-27T21:27:59Z", "comment_text": "\n \t\tThank you <denchmark-link:https://github.com/nirraviv>@nirraviv</denchmark-link>\n  , the code snippet really helped!\n Experiment (1): This is the expected behavior. when a field is missing the remote execution will use the default value and update back the UI.\n Experiment (2): This is the actual bug, the empty value should be cast to None, as the code demonstrates it is not, and we end up with the default value.\n \t\t"}, "comments_5": {"comment_id": 6, "comment_author": "nirraviv", "commentT": "2020-11-27T22:42:29Z", "comment_text": "\n \t\tHi <denchmark-link:https://github.com/nirraviv>@nirraviv</denchmark-link>\n \n Could you maybe verify the fix solved the issue?\n <denchmark-code>pip install git+https://github.com/allegroai/trains.git\n </denchmark-code>\n \n Notice that if you are running remotely, make sure that in the \"installed packages\" section you have:\n <denchmark-code>git+https://github.com/allegroai/trains.git\n </denchmark-code>\n \n \t\t"}, "comments_6": {"comment_id": 7, "comment_author": "nirraviv", "commentT": "2020-11-29T06:57:51Z", "comment_text": "\n \t\tHi <denchmark-link:https://github.com/bmartinn>@bmartinn</denchmark-link>\n ,\n The current version indeed fix the problem.\n Just to be sure, the trash icon in the configuration tab will only work if I added a new hyperparameter and then delete it?\n \t\t"}, "comments_7": {"comment_id": 8, "comment_author": "nirraviv", "commentT": "2020-11-30T22:24:50Z", "comment_text": "\n \t\tHi <denchmark-link:https://github.com/nirraviv>@nirraviv</denchmark-link>\n \n \n trash icon in the configuration tab will only work if I added a new hyperparameter and then delete it?\n \n The trash icon will remove the parameter from the UI, however it will not remove it from the dictionary itself (or argparse for that matter). Basically if there is no parameter, the default value will be updated back. Although it is possible to support variable removal, we feel it will allow you to break the code way too easily.\n WDYT?\n p.s.\n RC is now out with the fix\n <denchmark-code>pip install trains==0.16.4rc0\n </denchmark-code>\n \n \t\t"}, "comments_8": {"comment_id": 9, "comment_author": "nirraviv", "commentT": "2020-12-01T06:33:13Z", "comment_text": "\n \t\tHi <denchmark-link:https://github.com/bmartinn>@bmartinn</denchmark-link>\n  ,\n I agree that removing variable may be dangerous and empty fields should be enough for most of the cases, but in this case you should consider removing the trash icon since it is very confusing.\n \t\t"}, "comments_9": {"comment_id": 10, "comment_author": "nirraviv", "commentT": "2020-12-01T23:51:17Z", "comment_text": "\n \t\t\n you should consider removing the trash icon since it is very confusing.\n \n Good point \ud83d\udc4d\n It should probably be \"remove icon\", and maybe a tool tip explaining what will happen in remote execution.\n Since you can add any parameter to a section, it makes sense to have the opposite action, remove a parameter you might have mistakenly added...\n \t\t"}, "comments_10": {"comment_id": 11, "comment_author": "nirraviv", "commentT": "2021-01-17T09:56:53Z", "comment_text": "\n \t\tClosing as this was released in Trains v0.16.4\n \t\t"}}}, "commit": {"commit_id": "3f31194b9364a9c68c2b19d2ef92a4dc428bbe99", "commit_author": "allegroai", "commitT": "2020-11-27 23:24:15+02:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 6, "file_old_name": "trains\\backend_interface\\task\\args.py", "file_new_name": "trains\\backend_interface\\task\\args.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "202,208", "deleted_lines": "208,209,211,216", "method_info": {"method_name": "_find_parser_action", "method_params": "cls,a_parser,name", "method_startline": "200", "method_endline": "216"}}, "hunk_1": {"Ismethod": 1, "added_lines": "144,145,146,147,148,149,150,151,152", "deleted_lines": null, "method_info": {"method_name": "copy_defaults_from_argparse", "method_params": "self,parser,args,namespace,parsed_args", "method_startline": "143", "method_endline": "152"}}, "hunk_2": {"Ismethod": 1, "added_lines": "220,221,223,228,272,298,330,362,383,384,385,386,387,388,389,390,391,392,393,394,395,396,397,398,399,400,401,402", "deleted_lines": "316", "method_info": {"method_name": "copy_to_parser", "method_params": "self,parser,parsed_args", "method_startline": "218", "method_endline": "411"}}, "hunk_3": {"Ismethod": 1, "added_lines": "154,173,197", "deleted_lines": "182,183,184,185,186,187", "method_info": {"method_name": "_get_defaults_from_argparse", "method_params": "self,parser,args,namespace,parsed_args", "method_startline": "154", "method_endline": "197"}}, "hunk_4": {"Ismethod": 1, "added_lines": "479,488,497,510,512,513", "deleted_lines": "472", "method_info": {"method_name": "copy_to_dict", "method_params": "self,dictionary,prefix", "method_startline": "440", "method_endline": "525"}}, "hunk_5": {"Ismethod": 1, "added_lines": "220,221,223,228", "deleted_lines": null, "method_info": {"method_name": "copy_to_parser.cast_to_bool_int", "method_params": "value,strip", "method_startline": "219", "method_endline": "230"}}}}}}}