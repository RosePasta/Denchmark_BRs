{"BR": {"BR_id": "253", "BR_author": "n-Guard", "BRopenT": "2020-11-19T13:58:56Z", "BRcloseT": "2020-11-20T10:57:02Z", "BR_text": {"BRsummary": "Error when uploading keras models with trains==0.16.3", "BRdescription": "\n I get the following errors when keras models are being uploaded:\n <denchmark-code>trains.storage - ERROR - Calling upload callback when starting upload: maximum recursion depth exceeded\n trains.storage - INFO - Starting upload: /path/to/model.h5 => <FILESERVER-URL>/DefaultTemplate/train.59483bce57a64cf3ad936b72e9537c0b/models/model.h5\n trains.storage - WARNING - Exception on upload callback: maximum recursion depth exceeded in comparison\n </denchmark-code>\n \n Reproducible code: <denchmark-link:https://gist.github.com/n-Guard/c287822ae001f46172c82499a8328f8d>https://gist.github.com/n-Guard/c287822ae001f46172c82499a8328f8d</denchmark-link>\n \n tf.keras==2.3.1\n trains==0.16.3\n This problem was not present in trains 0.16.2.\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "n-Guard", "commentT": "2020-11-19T20:45:14Z", "comment_text": "\n \t\tThank you <denchmark-link:https://github.com/n-Guard>@n-Guard</denchmark-link>\n  , The bug is verified (the code snippet was very helpful).\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "n-Guard", "commentT": "2020-11-19T20:46:36Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/n-Guard>@n-Guard</denchmark-link>\n  it is now fixed on the master, feel free to check with:\n <denchmark-code>pip install git+https://github.com/allegroai/trains.git\n </denchmark-code>\n \n \t\t"}, "comments_2": {"comment_id": 3, "comment_author": "n-Guard", "commentT": "2020-11-20T10:56:54Z", "comment_text": "\n \t\tThank you very much, now everything works as expected!\n \t\t"}}}, "commit": {"commit_id": "91cbc161f4192f2146e7345a06c4fe1e9da21970", "commit_author": "allegroai", "commitT": "2020-11-19 22:45:07+02:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 3, "file_old_name": "trains\\storage\\helper.py", "file_new_name": "trains\\storage\\helper.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "571,572", "deleted_lines": "571,572", "method_info": {"method_name": "upload.callback", "method_params": "path", "method_startline": "571", "method_endline": "572"}}, "hunk_1": {"Ismethod": 1, "added_lines": "574,575", "deleted_lines": null, "method_info": {"method_name": "upload.callback", "method_params": "a_path", "method_startline": "574", "method_endline": "575"}}, "hunk_2": {"Ismethod": 1, "added_lines": "570,571,572,574,575,576", "deleted_lines": "571,572", "method_info": {"method_name": "upload", "method_params": "self,src_path,dest_path,extra,async_enable,cb,retries", "method_startline": "563", "method_endline": "587"}}}}}}}