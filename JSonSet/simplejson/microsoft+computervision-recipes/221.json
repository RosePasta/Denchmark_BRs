{"BR": {"BR_id": "221", "BR_author": "PatrickBue", "BRopenT": "2019-06-04T13:36:20Z", "BRcloseT": "2019-06-08T00:26:02Z", "BR_text": {"BRsummary": "[BUG] Copy_files() throws error on windows", "BRdescription": "\n See build status for windows GPU:\n <denchmark-link:https://dev.azure.com/best-practices/computervision/_build/results?buildId=2444>https://dev.azure.com/best-practices/computervision/_build/results?buildId=2444</denchmark-link>\n \n FileNotFoundError                         Traceback (most recent call last)\n E            in \n E                 2\n E                 3 # Training set T\n E           ----> 4 copy_files(data_imlist.train.items, datapath/'train', infer_subdir=True)\n E                 5 # We include first NEGATIVE_NUM negative images in U (neg_data.train_ds) to our initial training set T\n E                 6 copy_files(neg_data.train_ds.items[:NEGATIVE_NUM], datapath/'train'/'negative')\n E\n E           ~\\myvstsagent_work\\1\\s\\utils_cv\\common\\misc.py in copy_files(fpaths, dst, infer_subdir, remove)\n E                48\n E                49         if not os.path.isdir(dst):\n E           ---> 50             os.makedirs(dst)\n E                51         shutil.copy(fpath, dst)\n E                52\n E\n E           C:\\Anaconda\\envs\\cvbp\\lib\\os.py in makedirs(name, mode, exist_ok)\n E               218             return\n E               219     try:\n E           --> 220         mkdir(name, mode)\n E               221     except OSError:\n E               222         # Cannot rely on checking for EEXIST, since the operating system\n E\n E           FileNotFoundError: [WinError 206] The filename or extension is too long: 'C:\\Users\\cvbpuser\\AppData\\Local\\Temp\\tmpr3cc6f_8\\data\\train\\can\\can\\can\\can\\can\\can\\can\\can\\can\\can\\can\\can\\can\\can\\can\\carton\\carton\\carton\\carton\\carton\\carton\\carton\\carton\\carton\\carton\\carton\\carton\\carton\\carton\\carton\\carton\\carton\\carton\\carton'\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "PatrickBue", "commentT": "2019-06-04T13:37:11Z", "comment_text": "\n \t\t<denchmark-code>def copy_files(fpaths: Union[str, List[str]], dst: str, infer_subdir: bool = False, remove: bool = False):\n     \"\"\"Copy list of files into destination\n \n     Args:\n         fpaths: File path to copy\n         dst: Destination directory\n         infer_subdir: If True, try to infer directory structure of the files and copy.\n             Otherwise, just copy the files to dst\n         remove: Remove copied files from the original directory\n     \"\"\"\n     if isinstance(fpaths, (str, PosixPath)):\n         fpaths = [fpaths]\n </denchmark-code>\n \n \n   for fpath in fpaths:\n \n \n E       TypeError: 'WindowsPath' object is not iterable\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "PatrickBue", "commentT": "2019-06-08T00:26:02Z", "comment_text": "\n \t\tFixed by <denchmark-link:https://github.com/microsoft/computervision-recipes/pull/224>#224</denchmark-link>\n \n \t\t"}}}, "commit": {"commit_id": "63bab524ac1e433599f567236d31a580a73fbe53", "commit_author": "Jun Ki Min", "commitT": "2019-06-07 17:25:14-07:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "utils_cv\\common\\misc.py", "file_new_name": "utils_cv\\common\\misc.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "42", "deleted_lines": "42", "method_info": {"method_name": "copy_files", "method_params": "str,str,bool,bool", "method_startline": "32", "method_endline": "54"}}}}}}}