{"BR": {"BR_id": "485", "BR_author": "Coooorinne", "BRopenT": "2020-08-05T18:55:04Z", "BRcloseT": "2020-08-24T07:35:39Z", "BR_text": {"BRsummary": "Problems when installing FARM : ERROR: Could not find a version that satisfies the requirement torch==1.5.*", "BRdescription": "\n Hi,\n I was working with FARM in Google Colab do create a deep learning model for text classification. I've saved the model using the model.save and processor.save and then testet it with loading the model with the Inferencer, which worked all perfectly fine.\n Now i was trying to deploy the model and integrate it to a flask script to later load it into a webapp.\n I am using pycharm for this but I am having troubles loading and installing FARM. Up to now, I've tried all kinds of different versions to install Farm such as\n \n installing it in pycharm with a requirements.txt file\n installing it from the pycharm terminal using pip install farm, pip install farm==0.4.6, or cloning the GIT Repo, call requirements.txt and --editable .\n installing it from the package \"store\" in pycharm\n \n nothing fully worked. Sometimes it seemed to have installed FARM, but when i tried to import farm (or from farm.infer import Inferencer), I kept getting a Win126 error (specific module not found) and after googling I' came across this issue with updating torch but cudaonly, so I did that but it didn't solve the problem. I also tried to delete and deinstall everything and start fresh, but I am still getting \"module not found\" erros or it evens kills installing and I cant even properly install FARM anymore.\n So I thought that this might be because of my windows machine or some updates I did, so I tried ubuntu(version 20.04) in my VM, and when trying to install FARM from pycharm in Ubuntu system, its not working either., giving me a \"non-zero exit code (137)\" error.\n I've also tried another laptop, started pycharm, created a requirements.txt file and wanted to install farm.\n Again, i got the error.\n ERROR: Could not find a version that satisfies the requirement torch==1.5.* (from farm) (from versions: 0.1.2, 0.1.2.post1, 0.1.2.post2)\n Proposed Solution:\n Try to run this command from the system terminal. Make sure that you use the correct version of 'pip' installed for your Python interpreter located at 'C:\\Users\\Coreyn\\PycharmProjects\\testElea\\venv\\Scripts\\python.exe'.\n Command Output:\n <denchmark-code>Collecting farm\n   Using cached farm-0.4.6-py3-none-any.whl (184 kB)\n Requirement already satisfied: tqdm in c:\\users\\coreyn\\pycharmprojects\\testelea\\venv\\lib\\site-packages (from farm) (4.48.2)\n Collecting scipy>=1.3.2\n   Using cached scipy-1.5.2-cp37-cp37m-win_amd64.whl (31.2 MB)\n Collecting dill\n   Using cached dill-0.3.2.zip (177 kB)\n Collecting wheel\n   Using cached wheel-0.34.2-py2.py3-none-any.whl (26 kB)\n Collecting sklearn\n   Downloading sklearn-0.0.tar.gz (1.1 kB)\n Collecting flask-cors\n   Downloading Flask_Cors-3.0.8-py2.py3-none-any.whl (14 kB)\n Collecting seqeval\n   Downloading seqeval-0.0.12.tar.gz (21 kB)\n Collecting psutil\n   Using cached psutil-5.7.2-cp37-cp37m-win_amd64.whl (242 kB)\n Collecting Werkzeug==0.16.1\n   Using cached Werkzeug-0.16.1-py2.py3-none-any.whl (327 kB)\n Collecting flask-restplus\n   Downloading flask_restplus-0.13.0-py2.py3-none-any.whl (2.5 MB)\n \n DEPRECATION: The -b/--build/--build-dir/--build-directory option is deprecated. pip 20.3 will remove support for this functionality. A possible replacement is use the TMPDIR/TEMP/TMP environment variable, possibly combined with --no-clean. You can find discussion regarding this at https://github.com/pypa/pip/issues/8333.\n ERROR: Could not find a version that satisfies the requirement torch==1.5.* (from farm) (from versions: 0.1.2, 0.1.2.post1, 0.1.2.post2)\n ERROR: No matching distribution found for torch==1.5.* (from farm)\n \n </denchmark-code>\n \n I tried what is stated in the propsed solution, but got (almost) the same error:\n <denchmark-code>ERROR: Could not find a version that satisfies the requirement torch==1.5.* (from farm) (from versions: 0.1.2, 0.1.2.post1, 0.1.2.post2)\n ERROR: No matching distribution found for torch==1.5.* (from farm)\n </denchmark-code>\n \n That was my last try and I really don't know why I can't be able to install farm properly and import Inferencer, which I need to load my model and deploy it to a webapp. I am new to programming, but I guess it must be some technical issue with the torch==1.5 version, but clueless how to solve, since all my previous approaches have been failing.\n So, you guys are my last help! :D\n I am using python3.7, pip 20.2.1 and Windows10, 64bit OR ubuntu20.04 on my VM\n Any help appreciated!\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "Coooorinne", "commentT": "2020-08-05T19:00:25Z", "comment_text": "\n \t\tSeems similar to <denchmark-link:https://github.com/deepset-ai/haystack/issues/289>deepset-ai/haystack#289</denchmark-link>\n \n And I guess it is a windows issue in combination with the wildcard torch versioning.\n Did you try setting in the requirements.txt the pytorch==1.5.1 (replacing the * with a 1)?\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "Coooorinne", "commentT": "2020-08-05T19:23:26Z", "comment_text": "\n \t\tjust did it now. (cloned the git repo, manually changed the req. file, ran the req file and ran --editable .)\n could install farm succesfully, however, when I was importing the module (from farm.infer import Inferencer OR simply import farm), I got the following error message:\n <denchmark-code>\n from farm.infer import Inferencer\n Traceback (most recent call last):\n   File \"<input>\", line 1, in <module>\n   File \"C:\\Program Files\\JetBrains\\PyCharm Community Edition 2020.2\\plugins\\python-ce\\helpers\\pydev\\_pydev_bundle\\pydev_import_hook.py\", line 21, in do_import\n     module = self._system_import(name, *args, **kwargs)\n   File \"c:\\users\\c_ruc\\pycharmprojects\\testelea\\farm\\farm\\__init__.py\", line 3, in <module>\n     import torch.multiprocessing as mp\n   File \"C:\\Program Files\\JetBrains\\PyCharm Community Edition 2020.2\\plugins\\python-ce\\helpers\\pydev\\_pydev_bundle\\pydev_import_hook.py\", line 21, in do_import\n     module = self._system_import(name, *args, **kwargs)\n   File \"C:\\Users\\c_ruc\\PycharmProjects\\testElea\\venv\\lib\\site-packages\\torch\\__init__.py\", line 81, in <module>\n     ctypes.CDLL(dll)\n   File \"C:\\Users\\c_ruc\\AppData\\Local\\Programs\\Python\\Python37\\lib\\ctypes\\__init__.py\", line 364, in __init__\n     self._handle = _dlopen(self._name, mode)\n OSError: [WinError 126] The specified module could not be found\n </denchmark-code>\n \n \t\t"}, "comments_2": {"comment_id": 3, "comment_author": "Coooorinne", "commentT": "2020-08-06T11:03:12Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/tanaysoni>@tanaysoni</denchmark-link>\n  could you please have a look since it seems like a highly windows specific issue. Thanks\n \t\t"}, "comments_3": {"comment_id": 4, "comment_author": "Coooorinne", "commentT": "2020-08-11T08:23:23Z", "comment_text": "\n \t\tHi <denchmark-link:https://github.com/Coooorinne>@Coooorinne</denchmark-link>\n , do you still face the issue? It seems like an issue with the PyTorch installation.\n Could you test if import torch gets executed successfully?\n \t\t"}, "comments_4": {"comment_id": 5, "comment_author": "Coooorinne", "commentT": "2020-08-14T15:44:02Z", "comment_text": "\n \t\tThis is because the PyTorch version 1.5.* does not support CUDA. You can try and install a specific version of PyTorch using !pip install torch==1.5.0+cu101 torchvision==0.6.0+cu101 -f https://download.pytorch.org/whl/torch_stable.html \n \t\t"}, "comments_5": {"comment_id": 6, "comment_author": "Coooorinne", "commentT": "2020-08-22T14:52:48Z", "comment_text": "\n \t\tHi <denchmark-link:https://github.com/YojanaGadiya>@YojanaGadiya</denchmark-link>\n   and <denchmark-link:https://github.com/tanaysoni>@tanaysoni</denchmark-link>\n  , thanks for the help!\n I've tried installing the specific version of PyTorch using , which worked. I then cloned the Farm Git Repo and deletet the pytorch requirement in the requirements.txt file. and then installed farm. I got the message that farm was successfully installed.\n But I can't import farm now.\n I get the following error:\n <denchmark-code>Traceback (most recent call last):\n   File \"<input>\", line 1, in <module>\n   File \"C:\\Program Files\\JetBrains\\PyCharm Community Edition 2020.2\\plugins\\python-ce\\helpers\\pydev\\_pydev_bundle\\pydev_import_hook.py\", line 21, in do_import\n     module = self._system_import(name, *args, **kwargs)\n   File \"c:\\users\\c_ruc\\pycharmprojects\\elea\\farm\\farm\\__init__.py\", line 3, in <module>\n     import torch.multiprocessing as mp\n   File \"C:\\Program Files\\JetBrains\\PyCharm Community Edition 2020.2\\plugins\\python-ce\\helpers\\pydev\\_pydev_bundle\\pydev_import_hook.py\", line 21, in do_import\n     module = self._system_import(name, *args, **kwargs)\n   File \"C:\\Users\\c_ruc\\AppData\\Local\\Programs\\Python\\Python37\\lib\\site-packages\\torch\\__init__.py\", line 81, in <module>\n     ctypes.CDLL(dll)\n   File \"C:\\Users\\c_ruc\\AppData\\Local\\Programs\\Python\\Python37\\lib\\ctypes\\__init__.py\", line 364, in __init__\n     self._handle = _dlopen(self._name, mode)\n OSError: [WinError 126] The specified module could not be found\n </denchmark-code>\n \n And ideas on that?\n \t\t"}, "comments_6": {"comment_id": 7, "comment_author": "Coooorinne", "commentT": "2020-08-23T08:27:27Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/Coooorinne>@Coooorinne</denchmark-link>\n  why are you cloning the FARM repo? If you want to use that package, you can simply pip install it google colab.\n \t\t"}, "comments_7": {"comment_id": 8, "comment_author": "Coooorinne", "commentT": "2020-08-23T08:57:32Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/YojanaGadiya>@YojanaGadiya</denchmark-link>\n   I need farm on my local machine not google colab so I am working on pycharm. but when simply install farm via pip install farm, I get the problem with the torch version (see error below). That's why i tried to clone the git repo and remove the wildcard form pytorch in the requirements.txt or do what you suggested with the specific version including CUDA. Like that the installation worked but I cannot import it.\n Error:\n \n \t\t"}, "comments_8": {"comment_id": 9, "comment_author": "Coooorinne", "commentT": "2020-08-23T20:42:41Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/Coooorinne>@Coooorinne</denchmark-link>\n   This is weird as I am also using Pycharm and I can work with both torch and farm by installing it in my environment using pip. Could you provide details about your device?\n \t\t"}, "comments_9": {"comment_id": 10, "comment_author": "Coooorinne", "commentT": "2020-08-23T20:44:14Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/Coooorinne>@Coooorinne</denchmark-link>\n  Maybe you can try upgrading your python from 3.7 --> 3.8. Let me know if it works.\n \t\t"}, "comments_10": {"comment_id": 11, "comment_author": "Coooorinne", "commentT": "2020-08-23T21:21:56Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/YojanaGadiya>@YojanaGadiya</denchmark-link>\n  thanks, i upgraded to 3.8. used the pycharm terminal, installed the specific version of pytorch in my venv and then installed farm in my venv with pip install farm. Installation seemed to have worked but when importing farm in the pycharm python console it throws this error:\n <denchmark-code>>>>import farm\n Traceback (most recent call last):\n   File \"<input>\", line 1, in <module>\n   File \"C:\\Users\\c_ruc\\AppData\\Local\\JetBrains\\PyCharm Community Edition 2020.2\\plugins\\python-ce\\helpers\\pydev\\_pydev_bundle\\pydev_import_hook.py\", line 21, in do_import\n     module = self._system_import(name, *args, **kwargs)\n   File \"C:\\Users\\c_ruc\\PycharmProjects\\pythonProject\\venv\\lib\\site-packages\\farm\\__init__.py\", line 3, in <module>\n     import torch.multiprocessing as mp\n   File \"C:\\Users\\c_ruc\\AppData\\Local\\JetBrains\\PyCharm Community Edition 2020.2\\plugins\\python-ce\\helpers\\pydev\\_pydev_bundle\\pydev_import_hook.py\", line 21, in do_import\n     module = self._system_import(name, *args, **kwargs)\n   File \"C:\\Users\\c_ruc\\PycharmProjects\\pythonProject\\venv\\lib\\site-packages\\torch\\__init__.py\", line 81, in <module>\n     ctypes.CDLL(dll)\n   File \"C:\\Users\\c_ruc\\AppData\\Local\\Programs\\Python\\Python38\\lib\\ctypes\\__init__.py\", line 369, in __init__\n     self._handle = _dlopen(self._name, mode)\n FileNotFoundError: Could not find module 'C:\\Users\\c_ruc\\PycharmProjects\\pythonProject\\venv\\lib\\site-packages\\torch\\lib\\caffe2_nvrtc.dll'. Try using the full path with constructor syntax.\n \n </denchmark-code>\n \n I am using windows 10 home OS on my HP Spectre notebook.\n Processor: Intel (R) COre (TM), i5-7200 CPU @ 2.5GHz, 2.71 GHz\n System type: 64 bit operating system\n \t\t"}, "comments_11": {"comment_id": 12, "comment_author": "Coooorinne", "commentT": "2020-08-24T06:41:50Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/Coooorinne>@Coooorinne</denchmark-link>\n  I used anaconda as my python interpreter. Hence I do not get such an error. I found <denchmark-link:https://github.com/alievk/avatarify/issues/116>this</denchmark-link>\n  link. Hope it helps!\n \t\t"}, "comments_12": {"comment_id": 13, "comment_author": "Coooorinne", "commentT": "2020-08-24T07:35:39Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/YojanaGadiya>@YojanaGadiya</denchmark-link>\n  yes!! Now it works, thanks a lot!!\n Tried with anaconda environment and used <denchmark-link:https://github.com/pytorch/pytorch/issues/37022>pytorch/pytorch#37022</denchmark-link>\n  to solve the issues\n \t\t"}}}, "commit": {"commit_id": "153f4edbf9f8726cebcdffd8b4401298feaeeec4", "commit_author": "Tanay Soni", "commitT": "2020-08-10 12:19:45+02:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "requirements.txt", "file_new_name": "requirements.txt", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "6", "deleted_lines": "6"}}}}}}