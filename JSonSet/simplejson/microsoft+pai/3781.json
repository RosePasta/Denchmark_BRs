{"BR": {"BR_id": "3781", "BR_author": "debuggy", "BRopenT": "2019-10-30T05:57:02Z", "BRcloseT": "2019-10-31T05:50:07Z", "BR_text": {"BRsummary": "taskRetryCount is not passed to backend successfully", "BRdescription": "\n When submitting job with taskRetryCount: 3, the task role could not successfully retried 3 times because the backend received config with taskRetryCount: 0.\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "debuggy", "commentT": "2019-10-30T09:51:31Z", "comment_text": "\n \t\tThe single task retry is meaningless in gang scheduling jobs, not sure how to set it in gang allocation yet.\n For elastic jobs, the retry count could be used after enabling fancyRetryPolicy.\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "debuggy", "commentT": "2019-10-30T09:58:34Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/abuccts>@abuccts</denchmark-link>\n  For elastic jobs, can we make maxretrycount does not depend on fancyRetryPolicy? So, elastic jobs can disable task fancyRetryPolicy but set non-zero retry count.\n \t\t"}, "comments_2": {"comment_id": 3, "comment_author": "debuggy", "commentT": "2019-10-30T11:23:56Z", "comment_text": "\n \t\tCurrently, fancyRetryPolicy is set by us and is not exposed to user.\n For gang allocation, task level fancyRetryPolicy=false, otherwise, fancyRetryPolicy=true.\n \t\t"}, "comments_3": {"comment_id": 4, "comment_author": "debuggy", "commentT": "2019-10-30T14:09:19Z", "comment_text": "\n \t\tSo, <denchmark-link:https://github.com/debuggy>@debuggy</denchmark-link>\n  maybe you can turn off gang allocation, to test if taskRetryCount works.\n \t\t"}}}, "commit": {"commit_id": "67a3d3e938362f9c81a6a49cd83874a41325ad16", "commit_author": "Yifan Xiong", "commitT": "2019-10-31 13:50:06+08:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "src\\rest-server\\src\\models\\v2\\job\\k8s.js", "file_new_name": "src\\rest-server\\src\\models\\v2\\job\\k8s.js", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "299", "deleted_lines": null}}}}}}