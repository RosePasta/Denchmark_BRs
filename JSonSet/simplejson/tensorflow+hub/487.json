{"BR": {"BR_id": "487", "BR_author": "yufengg", "BRopenT": "2020-01-23T16:34:27Z", "BRcloseT": "2020-02-03T07:20:26Z", "BR_text": {"BRsummary": "object detection notebook has decode error", "BRdescription": "\n In this notebook: <denchmark-link:https://github.com/tensorflow/hub/blob/master/examples/colab/object_detection.ipynb>https://github.com/tensorflow/hub/blob/master/examples/colab/object_detection.ipynb</denchmark-link>\n \n If you run it top to bottom, it currently hits an error on this cell:\n run_detector(detector, downloaded_image_path)\n The error reads: 'bytes' object has no attribute 'numpy'\n It's because draw_boxes() runs the following line:\n class_names[i].numpy().decode(\"ascii\")\n which for some reason (maybe python2 compat???) calls .numpy() on the class names, which are coming back as bytestrings in python3. propose removing the .numpy() call and keeping .decode(\"ascii\"). Seems to work in py2 and py3 with this change.\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "yufengg", "commentT": "2020-01-23T16:55:11Z", "comment_text": "\n \t\t+<denchmark-link:https://github.com/kargeor>@kargeor</denchmark-link>\n , who authored the <denchmark-link:https://github.com/tensorflow/hub/pull/478>#478</denchmark-link>\n  change that added this call.\n <denchmark-link:https://github.com/kargeor>@kargeor</denchmark-link>\n , do you happen to remember what environments you used for the colab where having numpy() did work? Seems like it does not always work.\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "yufengg", "commentT": "2020-02-03T07:20:26Z", "comment_text": "\n \t\tWill approve the PR since some a few lines above, this line is already calling numpy():\n result = {key:value.numpy() for key,value in result.items()}\n \t\t"}}}, "commit": {"commit_id": "24e6ed6c2a36840f90ecef04148100ec651e99c6", "commit_author": "Yufeng", "commitT": "2020-02-03 09:49:30+01:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "examples\\colab\\object_detection.ipynb", "file_new_name": "examples\\colab\\object_detection.ipynb", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "256", "deleted_lines": "256"}}}}}}