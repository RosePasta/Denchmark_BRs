{"BR": {"BR_id": "2839", "BR_author": "jyh2986", "BRopenT": "2020-08-29T12:55:40Z", "BRcloseT": "2020-09-07T03:06:53Z", "BR_text": {"BRsummary": "Is StackedLSTMCell correct implementation?", "BRdescription": "\n For enas, StackedLSTMCell is implemented as below\n \n \n \n nni/src/sdk/pynni/nni/nas/pytorch/enas/mutator.py\n \n \n         Lines 23 to 28\n       in\n       bf8be1e\n \n \n \n \n \n \n  curr_c, curr_h = m(inputs, (prev_c[i], prev_h[i])) \n \n \n \n  next_c.append(curr_c) \n \n \n \n  next_h.append(curr_h) \n \n \n \n  # current implementation only supports batch size equals 1, \n \n \n \n  # but the algorithm does not necessarily have this limitation \n \n \n \n  inputs = curr_h[-1].view(1, -1) \n \n \n \n \n \n nn.LSTMCell outputs (hidden state, cell state) but the order of output is changed in the implementation.\n As a result, the cell state is used for output of LSTM.\n Is this an intention or wrong implementation?\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "jyh2986", "commentT": "2020-08-31T03:05:59Z", "comment_text": "\n \t\tHi <denchmark-link:https://github.com/jyh2986>@jyh2986</denchmark-link>\n . Thanks for asking.\n If you are right, the implementation is definitely buggy. You can raise a PR. Meanwhile, I'll check the PyTorch documentation for verification. Thanks.\n \t\t"}}}, "commit": {"commit_id": "23b892ca4d3368a386cf7ca434de9f83a9fba3d6", "commit_author": "Yunho Jeon", "commitT": "2020-08-31 06:21:07+00:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "src\\sdk\\pynni\\nni\\nas\\pytorch\\enas\\mutator.py", "file_new_name": "src\\sdk\\pynni\\nni\\nas\\pytorch\\enas\\mutator.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "139", "deleted_lines": "139", "method_info": {"method_name": "_lstm_next_step", "method_params": "self", "method_startline": "138", "method_endline": "139"}}, "hunk_1": {"Ismethod": 1, "added_lines": "20,21,23,29", "deleted_lines": "20,21,23,29", "method_info": {"method_name": "forward", "method_params": "self,inputs,hidden", "method_startline": "19", "method_endline": "29"}}}}}}}