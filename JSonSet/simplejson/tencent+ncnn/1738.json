{"BR": {"BR_id": "1738", "BR_author": "DickyQi", "BRopenT": "2020-05-06T03:45:55Z", "BRcloseT": "2020-05-18T07:40:51Z", "BR_text": {"BRsummary": "Compile at Mac OSX with vulkansdk-macos-1.2.135.0", "BRdescription": "\n compile with vulkansdk-macos-1.2.135.0, runtime error such as\n program_source:176:1972: error: cannot reserve 'sampler' resource location at index 0\n program_source:176:1720: error: cannot reserve 'texture' resource location at index 1\n program_source:185:148: error: cannot reserve 'buffer' resource location at index 0\n [mvk-error] VK_ERROR_INVALID_SHADER_NV: Compute shader function could not be compiled into pipeline. See previous logged error.\n vkCreateComputePipelines failed -1000012000\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "DickyQi", "commentT": "2020-05-06T08:24:06Z", "comment_text": "\n \t\tplease use 20200413 tag\n <denchmark-link:https://github.com/Tencent/ncnn/tree/20200413>https://github.com/Tencent/ncnn/tree/20200413</denchmark-link>\n \n It shall be a compatibility issue in shader code in master branch\n \t\t"}}}, "commit": {"commit_id": "c94d1b39ad2ad095d448d405d82fd729238f13ae", "commit_author": "nihuini", "commitT": "2020-05-18 15:40:28+08:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 4, "file_old_name": "src\\gpu.cpp", "file_new_name": "src\\gpu.cpp", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "1907,1908,1909,1910,1911", "deleted_lines": "1903,1904,1905", "method_info": {"method_name": "ncnn::VulkanDevice::create_utility_operator", "method_params": "", "method_startline": "1895", "method_endline": "1956"}}, "hunk_1": {"Ismethod": 1, "added_lines": "1969,1970,1971,1972", "deleted_lines": null, "method_info": {"method_name": "ncnn::VulkanDevice::destroy_utility_operator", "method_params": "", "method_startline": "1958", "method_endline": "2006"}}, "hunk_2": {"Ismethod": 1, "added_lines": "1545,1547,1548,1549,1550", "deleted_lines": "1545", "method_info": {"method_name": "ncnn::VulkanDevice::convert_packing", "method_params": "src,dst,dst_elempack,cmd,_opt", "method_startline": "1545", "method_endline": "1559"}}, "hunk_3": {"Ismethod": 1, "added_lines": "1545,1547,1548,1549,1550", "deleted_lines": "1545", "method_info": {"method_name": "ncnn::VulkanDevice::convert_packing", "method_params": "src,dst,dst_elempack,cmd,opt", "method_startline": "1545", "method_endline": "1555"}}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "src\\layer\\vulkan\\concat_vulkan.cpp", "file_new_name": "src\\layer\\vulkan\\concat_vulkan.cpp", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "205", "deleted_lines": "205", "method_info": {"method_name": "ncnn::Concat_vulkan::destroy_pipeline", "method_params": "", "method_startline": "205", "method_endline": "238"}}, "hunk_1": {"Ismethod": 1, "added_lines": "205", "deleted_lines": "205", "method_info": {"method_name": "ncnn::Concat_vulkan::destroy_pipeline", "method_params": "opt", "method_startline": "205", "method_endline": "238"}}}}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 6, "file_old_name": "src\\layer\\vulkan\\crop_vulkan.cpp", "file_new_name": "src\\layer\\vulkan\\crop_vulkan.cpp", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": null, "deleted_lines": "675,676", "method_info": {"method_name": "ncnn::Crop_vulkan::forward", "method_params": "bottom_blobs,top_blobs,cmd,opt", "method_startline": "670", "method_endline": "801"}}, "hunk_1": {"Ismethod": 1, "added_lines": "261", "deleted_lines": "261", "method_info": {"method_name": "ncnn::Crop_vulkan::destroy_pipeline", "method_params": "opt", "method_startline": "261", "method_endline": "291"}}, "hunk_2": {"Ismethod": 1, "added_lines": null, "deleted_lines": "420,421", "method_info": {"method_name": "ncnn::Crop_vulkan::forward", "method_params": "bottom_blobs,top_blobs,cmd,opt", "method_startline": "415", "method_endline": "546"}}, "hunk_3": {"Ismethod": 1, "added_lines": null, "deleted_lines": "550,551,552", "method_info": {"method_name": "ncnn::Crop_vulkan::forward", "method_params": "bottom_blob,top_blob,cmd,opt", "method_startline": "548", "method_endline": "668"}}, "hunk_4": {"Ismethod": 1, "added_lines": "261", "deleted_lines": "261", "method_info": {"method_name": "ncnn::Crop_vulkan::destroy_pipeline", "method_params": "", "method_startline": "261", "method_endline": "291"}}, "hunk_5": {"Ismethod": 1, "added_lines": null, "deleted_lines": "295,296,297", "method_info": {"method_name": "ncnn::Crop_vulkan::forward", "method_params": "bottom_blob,top_blob,cmd,opt", "method_startline": "293", "method_endline": "413"}}}}, "file_3": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "src\\layer\\vulkan\\packing_vulkan.cpp", "file_new_name": "src\\layer\\vulkan\\packing_vulkan.cpp", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "356,357,358,359", "deleted_lines": "355", "method_info": {"method_name": "ncnn::Packing_vulkan::forward", "method_params": "bottom_blob,top_blob,cmd,opt", "method_startline": "238", "method_endline": "411"}}}}, "file_4": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "src\\layer\\vulkan\\slice_vulkan.cpp", "file_new_name": "src\\layer\\vulkan\\slice_vulkan.cpp", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "197", "deleted_lines": "197", "method_info": {"method_name": "ncnn::Slice_vulkan::destroy_pipeline", "method_params": "opt", "method_startline": "197", "method_endline": "230"}}, "hunk_1": {"Ismethod": 1, "added_lines": "197", "deleted_lines": "197", "method_info": {"method_name": "ncnn::Slice_vulkan::destroy_pipeline", "method_params": "", "method_startline": "197", "method_endline": "230"}}}}, "file_5": {"file_change_type": "MODIFY", "file_Nmethod": 3, "file_old_name": "src\\net.cpp", "file_new_name": "src\\net.cpp", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "156,157,158,159", "deleted_lines": null, "method_info": {"method_name": "ncnn::Net::load_param", "method_params": "dr", "method_startline": "111", "method_endline": "303"}}, "hunk_1": {"Ismethod": 1, "added_lines": "533,534,535", "deleted_lines": null, "method_info": {"method_name": "ncnn::Net::load_model", "method_params": "dr", "method_startline": "481", "method_endline": "556"}}, "hunk_2": {"Ismethod": 1, "added_lines": "350,351,352,353", "deleted_lines": null, "method_info": {"method_name": "ncnn::Net::load_param_bin", "method_params": "dr", "method_startline": "306", "method_endline": "479"}}}}}}}