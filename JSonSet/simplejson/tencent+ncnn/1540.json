{"BR": {"BR_id": "1540", "BR_author": "heizhuguizu", "BRopenT": "2020-02-19T15:50:42Z", "BRcloseT": "2020-02-20T12:23:56Z", "BR_text": {"BRsummary": "Ncnn\u90e8\u7f72\u5b89\u5353\u7aef\u8fd0\u884c\u6a21\u578b\u7684\u65f6\u5019\u51fa\u73b0\u95ee\u9898", "BRdescription": "\n \u5728android\u624b\u673a\u4e0a\u90e8\u7f72\u6700\u65b0\u7248\u672c\u7684ncnn\u8fd0\u884c\u6a21\u578b\u7684\u65f6\u5019\u4f7f\u7528cpu\u53ef\u4ee5\u6b63\u786e\u8bc6\u522b\uff0c\u4f46\u4f7f\u7528gpu\u7684\u65f6\u5019\u8bc6\u522b\u9519\u8bef\u3002\u90e8\u7f72\u5148\u524d\u7248\u672c\uff08tag20200106\uff09\u7684ncnn\u8fd0\u884ccpu\u548cgpu\u90fd\u53ef\u4ee5\u6b63\u786e\u8bc6\u522b\u3002\u8fd0\u884c\u7684\u6a21\u578b\u91c7\u7528<denchmark-link:https://github.com/nihui/ncnn-assets/tree/master/models%E7%9A%84mobilenet_ssd_voc_ncnn%E3%80%82>https://github.com/nihui/ncnn-assets/tree/master/models\u7684mobilenet_ssd_voc_ncnn\u3002</denchmark-link>\n \n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "heizhuguizu", "commentT": "2020-02-20T02:25:42Z", "comment_text": "\n \t\tconfirmed\n \t\t"}}}, "commit": {"commit_id": "759d6536630c591d9f2c788194246e38aef16e8d", "commit_author": "nihui", "commitT": "2020-02-20 20:23:36+08:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "src\\layer\\vulkan\\batchnorm_vulkan.cpp", "file_new_name": "src\\layer\\vulkan\\batchnorm_vulkan.cpp", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "126,127,128,129,130,131,132,133,134,136", "deleted_lines": "126,128", "method_info": {"method_name": "ncnn::BatchNorm_vulkan::upload_model", "method_params": "cmd,opt", "method_startline": "124", "method_endline": "139"}}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "src\\layer\\vulkan\\convolution_vulkan.cpp", "file_new_name": "src\\layer\\vulkan\\convolution_vulkan.cpp", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "960,961,962,963", "deleted_lines": "960", "method_info": {"method_name": "ncnn::Convolution_vulkan::upload_model", "method_params": "cmd,opt", "method_startline": "695", "method_endline": "972"}}}}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "src\\layer\\vulkan\\convolutiondepthwise_vulkan.cpp", "file_new_name": "src\\layer\\vulkan\\convolutiondepthwise_vulkan.cpp", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "636,637,638,639,640,641,642,643,658", "deleted_lines": "644", "method_info": {"method_name": "ncnn::ConvolutionDepthWise_vulkan::forward", "method_params": "bottom_blob,top_blob,cmd,opt", "method_startline": "508", "method_endline": "732"}}, "hunk_1": {"Ismethod": 1, "added_lines": "421,434,435,436,437,499,500,501,502", "deleted_lines": "421,434,496", "method_info": {"method_name": "ncnn::ConvolutionDepthWise_vulkan::upload_model", "method_params": "cmd,opt", "method_startline": "415", "method_endline": "506"}}}}, "file_3": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "src\\layer\\vulkan\\deconvolution_vulkan.cpp", "file_new_name": "src\\layer\\vulkan\\deconvolution_vulkan.cpp", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "382,383,384,385", "deleted_lines": "382", "method_info": {"method_name": "ncnn::Deconvolution_vulkan::upload_model", "method_params": "cmd,opt", "method_startline": "316", "method_endline": "389"}}}}, "file_4": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "src\\layer\\vulkan\\deconvolutiondepthwise_vulkan.cpp", "file_new_name": "src\\layer\\vulkan\\deconvolutiondepthwise_vulkan.cpp", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "469,499,500,501,502,564,565,566,567", "deleted_lines": "469,499,561", "method_info": {"method_name": "ncnn::DeconvolutionDepthWise_vulkan::upload_model", "method_params": "cmd,opt", "method_startline": "463", "method_endline": "571"}}, "hunk_1": {"Ismethod": 1, "added_lines": "743,744,745,746,747,748,749,750,765", "deleted_lines": "751", "method_info": {"method_name": "ncnn::DeconvolutionDepthWise_vulkan::forward", "method_params": "bottom_blob,top_blob,cmd,opt", "method_startline": "573", "method_endline": "938"}}}}, "file_5": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "src\\layer\\vulkan\\innerproduct_vulkan.cpp", "file_new_name": "src\\layer\\vulkan\\innerproduct_vulkan.cpp", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "275,276,277,278", "deleted_lines": "275", "method_info": {"method_name": "ncnn::InnerProduct_vulkan::upload_model", "method_params": "cmd,opt", "method_startline": "234", "method_endline": "282"}}}}, "file_6": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "src\\layer\\vulkan\\instancenorm_vulkan.cpp", "file_new_name": "src\\layer\\vulkan\\instancenorm_vulkan.cpp", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "349,350,351,352,353,354,355,356,357,359", "deleted_lines": "349,351", "method_info": {"method_name": "ncnn::InstanceNorm_vulkan::upload_model", "method_params": "cmd,opt", "method_startline": "347", "method_endline": "362"}}}}, "file_7": {"file_change_type": "MODIFY", "file_Nmethod": 3, "file_old_name": "src\\layer\\vulkan\\normalize_vulkan.cpp", "file_new_name": "src\\layer\\vulkan\\normalize_vulkan.cpp", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "252,254,255,256,257,258,259", "deleted_lines": "251,253,254,255,256,257,258,259,260", "method_info": {"method_name": "ncnn::Normalize_vulkan::upload_model", "method_params": "cmd,opt", "method_startline": "250", "method_endline": "263"}}, "hunk_1": {"Ismethod": 1, "added_lines": "158,163,164,165,166,167,168", "deleted_lines": "158,163,164,165,166,167", "method_info": {"method_name": "ncnn::Normalize_vulkan::create_pipeline", "method_params": "opt", "method_startline": "45", "method_endline": "201"}}, "hunk_2": {"Ismethod": 1, "added_lines": "402", "deleted_lines": "403", "method_info": {"method_name": "ncnn::Normalize_vulkan::forward_inplace", "method_params": "bottom_top_blob,cmd,opt", "method_startline": "265", "method_endline": "419"}}}}, "file_8": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "src\\layer\\vulkan\\padding_vulkan.cpp", "file_new_name": "src\\layer\\vulkan\\padding_vulkan.cpp", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "143,144,145,146,147,148", "deleted_lines": "143", "method_info": {"method_name": "ncnn::Padding_vulkan::upload_model", "method_params": "cmd,opt", "method_startline": "138", "method_endline": "151"}}}}, "file_9": {"file_change_type": "MODIFY", "file_Nmethod": 3, "file_old_name": "src\\layer\\vulkan\\prelu_vulkan.cpp", "file_new_name": "src\\layer\\vulkan\\prelu_vulkan.cpp", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "151", "deleted_lines": "152", "method_info": {"method_name": "ncnn::PReLU_vulkan::forward_inplace", "method_params": "bottom_top_blob,cmd", "method_startline": "145", "method_endline": "167"}}, "hunk_1": {"Ismethod": 1, "added_lines": "132,134,135,136,137,138,139", "deleted_lines": "131,133,134,135,136,137,138,139,140", "method_info": {"method_name": "ncnn::PReLU_vulkan::upload_model", "method_params": "cmd,opt", "method_startline": "130", "method_endline": "143"}}, "hunk_2": {"Ismethod": 1, "added_lines": "60,62", "deleted_lines": "60", "method_info": {"method_name": "ncnn::PReLU_vulkan::create_pipeline", "method_params": "opt", "method_startline": "31", "method_endline": "114"}}}}, "file_10": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "src\\layer\\vulkan\\shader\\binaryop_broadcast_pack4.comp", "file_new_name": "src\\layer\\vulkan\\shader\\binaryop_broadcast_pack4.comp", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "96", "deleted_lines": "96"}}}, "file_11": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "src\\layer\\vulkan\\shader\\binaryop_broadcast_pack8.comp", "file_new_name": "src\\layer\\vulkan\\shader\\binaryop_broadcast_pack8.comp", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "97", "deleted_lines": "97"}}}, "file_12": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "src\\layer\\vulkan\\shader\\convolution_1x1s1d1.comp", "file_new_name": "src\\layer\\vulkan\\shader\\convolution_1x1s1d1.comp", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "44,45,46,47,50,92,93,94,96,124,125,126,128", "deleted_lines": null}}}, "file_13": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "src\\layer\\vulkan\\shader\\normalize_norm.comp", "file_new_name": "src\\layer\\vulkan\\shader\\normalize_norm.comp", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "28,30,90", "deleted_lines": "29,89"}}}, "file_14": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "src\\layer\\vulkan\\shader\\normalize_norm_pack4.comp", "file_new_name": "src\\layer\\vulkan\\shader\\normalize_norm_pack4.comp", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "28,30,90", "deleted_lines": "29,89"}}}, "file_15": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "src\\layer\\vulkan\\shader\\normalize_norm_pack8.comp", "file_new_name": "src\\layer\\vulkan\\shader\\normalize_norm_pack8.comp", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "29,31,90,91,92,93,94,95,96,97,98,99,100,101", "deleted_lines": "30,89,90,91,92,93,94"}}}, "file_16": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "src\\layer\\vulkan\\shader\\prelu.comp", "file_new_name": "src\\layer\\vulkan\\shader\\prelu.comp", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "25,27,62,63,64,65,66,67,68,69,70,71,72,73,74,75", "deleted_lines": "26,60,61,62,64"}}}, "file_17": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "src\\layer\\vulkan\\shader\\prelu_pack4.comp", "file_new_name": "src\\layer\\vulkan\\shader\\prelu_pack4.comp", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "25,27,62,63,64,65,66,67,68,69,70,71,72,73,74,75", "deleted_lines": "26,60,61,62,64"}}}, "file_18": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "src\\layer\\vulkan\\shader\\prelu_pack8.comp", "file_new_name": "src\\layer\\vulkan\\shader\\prelu_pack8.comp", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "26,28,63,64,65,66,67,68,69,70,71,72,73,74,75,76", "deleted_lines": "27,61,62,63,65"}}}, "file_19": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "src\\layer\\vulkan\\slice_vulkan.cpp", "file_new_name": "src\\layer\\vulkan\\slice_vulkan.cpp", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "290,291,292,293,294,295,296,388,389,390,391,392,393,394,544,545,546,547,548,549,550", "deleted_lines": "298,302,391,395,542,546", "method_info": {"method_name": "ncnn::Slice_vulkan::forward", "method_params": "bottom_blobs,top_blobs,cmd,opt", "method_startline": "266", "method_endline": "741"}}}}}}}