{"BR": {"BR_id": "2142", "BR_author": "BlueWinters", "BRopenT": "2020-09-22T00:59:19Z", "BRcloseT": "2020-10-26T12:09:31Z", "BR_text": {"BRsummary": "\u65b0\u52a0\u5165\u7684groupnorm\u5728onnx2ncnn\u8f6c\u6362\u4e2d\u5bfc\u81f4param\u51fa\u9519", "BRdescription": "\n \u95ee\u9898\u63cf\u8ff0\uff1agroupnorm\u5728onnx\u5230ncnn\u7684\u8f6c\u6362\u8fc7\u7a0b\u4e2d\uff0c\u4f1a\u5bfc\u81f4layers\u6570\u91cf\u7684\u9519\u8bef\uff0c\u5177\u4f53\u5982\u4e0b\uff1a\n \u5b9a\u4e49pytorch\u7684\u6a21\u578b\uff1a\n <denchmark-code>class Net(nn.Module):\n     def __init__(self):\n         super(Net, self).__init__()\n         self.gn = nn.GroupNorm(2, 4)\n \n     def forward(self, x):\n         return self.gn(x)\n </denchmark-code>\n \n \u4f9d\u6b21\u8fd0\u884c\u5bfc\u51faonnx\u6587\u4ef6<denchmark-link:https://github.com/Tencent/ncnn/files/5258770/onnx.zip>onnx.zip</denchmark-link>\n \n \u8fd0\u884connx2ncnn\u5bfc\u51faparam\u548cbin\uff0cparam\u6587\u4ef6\u4e2dlayers\u6570\u91cf\u4e3a0\n <denchmark-code>7767517\n 0 2\n Input            x                        0 1 x\n GroupNorm        y                        1 1 x y 0=2 1=4 2=1.000000e-05 3=1\n </denchmark-code>\n \n \u540c\u65f6\uff0cncnnoptimizer\u4e5f\u672a\u66f4\u65b0groupnorm\u76f8\u5173\u64cd\u4f5c\uff0c\u5177\u4f53\uff1a\n \u624b\u5de5\u4fee\u6539\u4e0a\u8ff0layers\uff080-->2\uff09\uff0c\u7136\u540e\u8fd0\u884cncnnoptimizer\uff0c\u5bfc\u51fagn-opt.bin\u7684\u5927\u5c0f\u4e3a0\uff08\u53c2\u6570\u88ab\u4e22\u5f03\u4e86QAQ\uff09\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "BlueWinters", "commentT": "2020-10-26T12:09:41Z", "comment_text": "\n \t\t\u4fee\u597d\u4e86\n \t\t"}}}, "commit": {"commit_id": "ac47a05488179980d8ff90412b6e415ba66fe7b3", "commit_author": "nihuini", "commitT": "2020-10-26 20:09:15+08:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "tools\\ncnnoptimize.cpp", "file_new_name": "tools\\ncnnoptimize.cpp", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "3283,3284,3285,3286,3287,3288,3289,3290,3291,3292,3293,3294,3295", "deleted_lines": null, "method_info": {"method_name": "NetOptimize::save", "method_params": "parampath,binpath", "method_startline": "2879", "method_endline": "3737"}}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "tools\\onnx\\onnx2ncnn.cpp", "file_new_name": "tools\\onnx\\onnx2ncnn.cpp", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "1214,1227,1228,1229,1230,1231,1232,1233,1234,1235,1259,1260,1261,1262,1263,1264,1265,1266,1267,1268,1269,1270,1271", "deleted_lines": "1214,1249,1251,1252", "method_info": {"method_name": "fuse_groupnorm", "method_params": "mutable_graph,weights,binaryop_weights,node_reference,blob_names,reduced_node_count,reduced_binaryop_weights", "method_startline": "1108", "method_endline": "1302"}}, "hunk_1": {"Ismethod": 1, "added_lines": "1880", "deleted_lines": "1861", "method_info": {"method_name": "main", "method_params": "argc,argv", "method_startline": "1648", "method_endline": "3842"}}}}}}}