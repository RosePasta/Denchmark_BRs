{"BR": {"BR_id": "1398", "BR_author": "robertnishihara", "BRopenT": "2018-01-07T02:06:44Z", "BRcloseT": "2018-01-25T22:14:38Z", "BR_text": {"BRsummary": "Error in parameter server examples when multiple workers try to download MNIST at the same time.", "BRdescription": "\n To reproduce the example, run the following (making sure that ray/examples/parameter_server/ does not have a copy of the MNIST data set)\n <denchmark-code>cd ray/examples/parameter_server/\n python async_parameter_server.py\n </denchmark-code>\n \n Some tasks threw the following error\n <denchmark-code>Remote function __main__.worker_task failed with:\n \n Traceback (most recent call last):\n   File \"async_parameter_server.py\", line 40, in worker_task\n     mnist = input_data.read_data_sets(\"MNIST_data\", one_hot=True)\n   File \"/home/ubuntu/anaconda3/lib/python3.6/site-packages/tensorflow/contrib/learn/python/learn/datasets/mnist.py\", line 245, in read_data_sets\n     source_url + TRAIN_LABELS)\n   File \"/home/ubuntu/anaconda3/lib/python3.6/site-packages/tensorflow/contrib/learn/python/learn/datasets/base.py\", line 209, in maybe_download\n     gfile.Copy(temp_file_name, filepath)\n   File \"/home/ubuntu/anaconda3/lib/python3.6/site-packages/tensorflow/python/lib/io/file_io.py\", line 385, in copy\n     compat.as_bytes(oldpath), compat.as_bytes(newpath), overwrite, status)\n   File \"/home/ubuntu/anaconda3/lib/python3.6/site-packages/tensorflow/python/framework/errors_impl.py\", line 473, in __exit__\n     c_api.TF_GetCode(self.status.status))\n tensorflow.python.framework.errors_impl.AlreadyExistsError: file already exists\n </denchmark-code>\n \n The same error can probably occur with the sync parameter server as well.\n \t"}, "comments": {}}, "commit": {"commit_id": "e96acc26f703b053a66b6b967a3bc176f8e716d3", "commit_author": "Robert Nishihara", "commitT": "2018-01-25 14:14:37-08:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "examples\\parameter_server\\async_parameter_server.py", "file_new_name": "examples\\parameter_server\\async_parameter_server.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "38", "deleted_lines": "38,40", "method_info": {"method_name": "worker_task", "method_params": "ps,batch_size", "method_startline": "38", "method_endline": "54"}}, "hunk_1": {"Ismethod": 1, "added_lines": "36,38", "deleted_lines": "38,40", "method_info": {"method_name": "worker_task", "method_params": "ps,worker_index,batch_size", "method_startline": "36", "method_endline": "52"}}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "examples\\parameter_server\\model.py", "file_new_name": "examples\\parameter_server\\model.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "15,16,17,18,19,20,21,22", "deleted_lines": null, "method_info": {"method_name": "download_mnist_retry", "method_params": "seed,max_num_retries", "method_startline": "15", "method_endline": "22"}}}}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "examples\\parameter_server\\sync_parameter_server.py", "file_new_name": "examples\\parameter_server\\sync_parameter_server.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "37", "deleted_lines": null, "method_info": {"method_name": "__init__", "method_params": "self,worker_index,batch_size", "method_startline": "34", "method_endline": "38"}}}}}}}