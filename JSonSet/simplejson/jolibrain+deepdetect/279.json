{"BR": {"BR_id": "279", "BR_author": "QuantScientist", "BRopenT": "2017-03-22T07:49:00Z", "BRcloseT": "2017-04-09T17:43:15Z", "BR_text": {"BRsummary": "Could not find package configuration file provided by \"Eigen3\"", "BRdescription": "\n Dear All,\n I am trying to build a docker image, and I encountered the Cmake \"Eigen3\" Issues reported elsewhere.\n Since this is an automated build, I just grab the source and try to compile everything without modifying any config files. The error is:\n <denchmark-link:https://cloud.githubusercontent.com/assets/18743986/24187207/a1e0c0f4-0ee4-11e7-8290-d951a3960179.png></denchmark-link>\n \n Can anyone suggest a resolution?\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "QuantScientist", "commentT": "2017-03-22T07:59:41Z", "comment_text": "\n \t\tSee <denchmark-link:https://github.com/jolibrain/deepdetect/issues/75>#75</denchmark-link>\n , we should really put into the FAQ, this is due to a change in cmake3.\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "QuantScientist", "commentT": "2017-03-22T08:11:15Z", "comment_text": "\n \t\tI saw <denchmark-link:https://github.com/jolibrain/deepdetect/issues/75>#75</denchmark-link>\n  , but there is no solution provided there.\n How does the original docker image work?\n \t\t"}, "comments_2": {"comment_id": 3, "comment_author": "QuantScientist", "commentT": "2017-03-22T08:15:00Z", "comment_text": "\n \t\tAre you using the provided dockerfile? Also please fill out the template, it saves us a lot of time, thanks.\n \t\t"}, "comments_3": {"comment_id": 4, "comment_author": "QuantScientist", "commentT": "2017-03-22T08:34:47Z", "comment_text": "\n \t\tNo I am not, but I copied most of it and I build it from scratch.\n \t\t"}, "comments_4": {"comment_id": 5, "comment_author": "QuantScientist", "commentT": "2017-03-22T09:40:01Z", "comment_text": "\n \t\tFor completeness here is the script:\n ` ---> 269661faac7f\n Step 71 : RUN apt-get update && apt-get install -y git build-essential libgoogle-glog-dev libgflags-dev libeigen3-dev libopencv-dev libcppnetlib-dev libboost-dev libboost-iostreams-dev libcurlpp-dev libcurl4-openssl-dev protobuf-compiler libopenblas-dev libhdf5-dev libprotobuf-dev libleveldb-dev libsnappy-dev liblmdb-dev libutfcpp-dev wget\n ---> Using cache\n ---> 6fcf6131cbe7\n Step 72 : WORKDIR \"/root\"\n ---> Using cache\n ---> 36aabfed0754\n Step 73 : RUN git clone <denchmark-link:https://github.com/beniz/deepdetect.git>https://github.com/beniz/deepdetect.git</denchmark-link>\n  && cd deepdetect && mkdir build\n ---> Using cache\n ---> 2c9b5f699e18\n Step 74 : ENV Eigen3_DIR \"/usr/include/eigen3\"\n ---> Using cache\n ---> b6661091998b\n Step 75 : WORKDIR \"/root/deepdetect/build\"\n ---> Using cache\n ---> 07fa217e1886\n Step 76 : RUN cmake .. -DUSE_XGBOOST=ON -DCMAKE_PREFIX_PATH=\"/usr/include/eigen3\"\n ---> Running in 98cb5c4530d4\n -- The C compiler identification is GNU 4.8.4\n -- The CXX compiler identification is GNU 4.8.4\n -- Check for working C compiler: /usr/bin/cc\n -- Check for working C compiler: /usr/bin/cc -- works\n -- Detecting C compiler ABI info\n -- Detecting C compiler ABI info - done\n -- Detecting C compile features\n -- Detecting C compile features - done\n -- Check for working CXX compiler: /usr/bin/c++\n -- Check for working CXX compiler: /usr/bin/c++ -- works\n -- Detecting CXX compiler ABI info\n -- Detecting CXX compiler ABI info - done\n -- Detecting CXX compile features\n -- Detecting CXX compile features - done\n CMake Error at CMakeLists.txt:51 (find_package):\n By not providing \"FindEigen3.cmake\" in CMAKE_MODULE_PATH this project has\n asked CMake to find a package configuration file provided by \"Eigen3\", but\n CMake did not find one.\n Could not find a package configuration file provided by \"Eigen3\" with any\n of the following names:\n <denchmark-code>Eigen3Config.cmake\n eigen3-config.cmake\n </denchmark-code>\n \n Add the installation prefix of \"Eigen3\" to CMAKE_PREFIX_PATH or set\n \"Eigen3_DIR\" to a directory containing one of the above files.  If \"Eigen3\"\n provides a separate development package or SDK, be sure it has been\n installed.\n -- Configuring incomplete, errors occurred!\n See also \"/root/deepdetect/build/CMakeFiles/CMakeOutput.log\".\n INFO[0009] The command [/bin/sh -c cmake .. -DUSE_XGBOOST=ON -DCMAKE_PREFIX_PATH=\"/usr/include/eigen3\"] returned a non-zero code: 1\n `\n \t\t"}, "comments_5": {"comment_id": 6, "comment_author": "QuantScientist", "commentT": "2017-03-22T10:11:24Z", "comment_text": "\n \t\tPlease fill out the template with your OS version and the OS version of the container. Also, I highly suggest you first try to build from the provided dockerfile to see whether everything is fine. You do not need to pass the CMAKE_PREFIX_PATH, eigen3 is detected via one of the cmake scripts on your system, as reported in your error message.\n \t\t"}, "comments_6": {"comment_id": 7, "comment_author": "QuantScientist", "commentT": "2017-03-22T11:05:21Z", "comment_text": "\n \t\tThis is not entirely related to your issue, but it seems XGBoost requires cmake3 now. We will provide fixes to the Dockerfiles in the repository.\n \t\t"}, "comments_7": {"comment_id": 8, "comment_author": "QuantScientist", "commentT": "2017-03-22T12:31:38Z", "comment_text": "\n \t\tThe original docker does not work either:\n <denchmark-link:https://cloud.githubusercontent.com/assets/18743986/24197912/4026bc88-0f0c-11e7-9559-fb20685b37d4.png></denchmark-link>\n \n \t\t"}, "comments_8": {"comment_id": 9, "comment_author": "QuantScientist", "commentT": "2017-03-22T12:36:03Z", "comment_text": "\n \t\tSee <denchmark-link:https://github.com/beniz/deepdetect/commit/39bd4a0706cc61a03ed8361f096d946099eb0b02>beniz@39bd4a0</denchmark-link>\n \n Containers have been updated to 16.04 and nvidia/cuda latest.\n \t\t"}, "comments_9": {"comment_id": 10, "comment_author": "QuantScientist", "commentT": "2017-03-22T13:27:45Z", "comment_text": "\n \t\tMy own container uses 16.04, that is the error I reported earlier ..\n \t\t"}, "comments_10": {"comment_id": 11, "comment_author": "QuantScientist", "commentT": "2017-03-22T14:37:43Z", "comment_text": "\n \t\tTry the updated dockerfiles then.\n \t\t"}, "comments_11": {"comment_id": 12, "comment_author": "QuantScientist", "commentT": "2017-04-09T17:43:15Z", "comment_text": "\n \t\tThe docker containers appear to be fixed, closing for now.\n \t\t"}}}, "commit": {"commit_id": "39bd4a0706cc61a03ed8361f096d946099eb0b02", "commit_author": "Emmanuel Benazera", "commitT": "2017-03-22 13:34:38+01:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "docker\\cpu\\Dockerfile", "file_new_name": "docker\\cpu\\Dockerfile", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "1,13,14,15,16,17,18,19", "deleted_lines": "1,13"}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "docker\\gpu\\Dockerfile", "file_new_name": "docker\\gpu\\Dockerfile", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "1,2,15,16,17,18,19,20,21", "deleted_lines": "1,14"}}}}}}