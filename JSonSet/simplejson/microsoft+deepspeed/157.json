{"BR": {"BR_id": "157", "BR_author": "tjruwase", "BRopenT": "2020-03-19T18:23:51Z", "BRcloseT": "2020-03-27T20:57:31Z", "BR_text": {"BRsummary": "Handle None in loss scaling", "BRdescription": "\n We have seen at least one model that returns None in a list/tuple of losses. We should gracefully handle scaling in these cases by leaving the None untouched.\n \t"}, "comments": {}}, "commit": {"commit_id": "53c73fe3e216bb6d2232b613bbf7bf0479246f6e", "commit_author": "Olatunji Ruwase", "commitT": "2020-03-27 13:57:29-07:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "DeepSpeedExamples", "file_new_name": "DeepSpeedExamples", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "1", "deleted_lines": "1"}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 4, "file_old_name": "deepspeed\\pt\\deepspeed_light.py", "file_new_name": "deepspeed\\pt\\deepspeed_light.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "579,580,581,582,583,584,585,586,587,588,590,593,594,597", "deleted_lines": "579,580,581,582,583,584,585,589,592", "method_info": {"method_name": "_scale_loss", "method_params": "self,prescaled_loss", "method_startline": "579", "method_endline": "597"}}, "hunk_1": {"Ismethod": 1, "added_lines": "579,580,581,582,583,584,585,586,587,588,590", "deleted_lines": "579,580,581,582,583,584,585,589,592", "method_info": {"method_name": "_scale_loss", "method_params": "self,loss", "method_startline": "579", "method_endline": "592"}}, "hunk_2": {"Ismethod": 1, "added_lines": "594,597", "deleted_lines": "610,611,612,613", "method_info": {"method_name": "forward", "method_params": "self,inputs,kwargs", "method_startline": "594", "method_endline": "618"}}, "hunk_3": {"Ismethod": 1, "added_lines": "633,634,635,636,692", "deleted_lines": null, "method_info": {"method_name": "backward", "method_params": "self,loss,allreduce_gradients", "method_startline": "625", "method_endline": "692"}}}}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "tests\\model\\run_sanity_check.py", "file_new_name": "tests\\model\\run_sanity_check.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "36,37", "deleted_lines": "36,37", "method_info": {"method_name": "test_run", "method_params": "", "method_startline": "32", "method_endline": "38"}}}}, "file_3": {"file_change_type": "ADD", "file_Nmethod": 0, "file_old_name": "None", "file_new_name": "tests\\unit\\multi_output_model.py"}, "file_4": {"file_change_type": "ADD", "file_Nmethod": 0, "file_old_name": "None", "file_new_name": "tests\\unit\\test_multi_output_model.py"}}}}