{"BR": {"BR_id": "76", "BR_author": "dapurv5", "BRopenT": "2020-02-13T19:34:42Z", "BRcloseT": "2020-02-15T01:04:16Z", "BR_text": {"BRsummary": "NoneType has no attribute to", "BRdescription": "\n I get the following error when I run my training. When I comment out this line the training works but the loss doesn't decrease\n <denchmark-code>File \"/storage/home/ec2-user/ner/trainer/trainer.py\", line 131, in _train_epoch\n   self.model.step()\n File \"/home/ec2-user/anaconda3/envs/pytorch_p36/lib/python3.6/site-packages/deepspeed/pt/deepspeed_light.py\", line 628, in step\n   fp32_param.grad = fp16_param.grad.to(fp32_param.dtype)\n AttributeError: 'NoneType' object has no attribute 'to'\n   self.optimizer.step()\n File \"/home/ec2-user/anaconda3/envs/pytorch_p36/lib/python3.6/site-packages/deepspeed/pt/fp16_unfused_optimizer.py\", line 165, in step\n   fp32_param.grad = fp16_param.grad.to(fp32_param.dtype)\n AttributeError: 'NoneType' object has no attribute 'to'\n </denchmark-code>\n \n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "dapurv5", "commentT": "2020-02-14T14:57:40Z", "comment_text": "\n \t\tI would like to contribute\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "dapurv5", "commentT": "2020-02-15T00:55:47Z", "comment_text": "\n \t\tHi <denchmark-link:https://github.com/Tejaswgupta>@Tejaswgupta</denchmark-link>\n , thanks for reaching out and wanting to contribute. Is there something specific you have in mind you'd like to contribute? If it was this issue I do have a PR being reviewed currently that fixes this issue. We're in the process of trying to create some new issues that would be good to take care of as a new user. Keep an eye out for those :)\n <denchmark-link:https://github.com/dapurv5>@dapurv5</denchmark-link>\n , Thanks for bringing this bug to our attention. We previously fixed this type of bug in a different code path but now have added unit tests for it and fixed it in your code path and one other. The PR should be merged soon.\n \t\t"}, "comments_2": {"comment_id": 3, "comment_author": "dapurv5", "commentT": "2020-02-17T04:59:49Z", "comment_text": "\n \t\tSure <denchmark-link:https://github.com/jeffra>@jeffra</denchmark-link>\n  :)\n \t\t"}}}, "commit": {"commit_id": "807480a04bdc371525776e42c31f7c72d9132f0a", "commit_author": "Jeff Rasley", "commitT": "2020-02-14 17:04:15-08:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "deepspeed\\pt\\fp16_unfused_optimizer.py", "file_new_name": "deepspeed\\pt\\fp16_unfused_optimizer.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "170,171,172,173,174,175", "deleted_lines": "165", "method_info": {"method_name": "step", "method_params": "self,closure", "method_startline": "146", "method_endline": "190"}}, "hunk_1": {"Ismethod": 1, "added_lines": "119,120,121,122,123,124,125", "deleted_lines": "119,120", "method_info": {"method_name": "step_fused_lamb", "method_params": "self,closure", "method_startline": "110", "method_endline": "144"}}}}, "file_1": {"file_change_type": "ADD", "file_Nmethod": 0, "file_old_name": "None", "file_new_name": "tests\\unit\\test_fp16.py"}}}}