{"BR": {"BR_id": "557", "BR_author": "Podidiving", "BRopenT": "2019-12-13T17:42:33Z", "BRcloseT": "2019-12-21T10:14:27Z", "BR_text": {"BRsummary": "Incorrect Tensorboard import", "BRdescription": "\n \n in <denchmark-link:https://github.com/catalyst-team/catalyst/blob/master/catalyst/utils/tensorboard.py>https://github.com/catalyst-team/catalyst/blob/master/catalyst/utils/tensorboard.py</denchmark-link>\n \n from torch import __version__ as torch_version  # noqa: E402\n from packaging import version  # noqa: E402\n if version.parse(torch_version) < version.parse(\"1.2.0\"):\n     from tensorboardX import SummaryWriter as tensorboardX_SummaryWriter\n     SummaryWriter = tensorboardX_SummaryWriter\n else:\n     from torch.utils.tensorboard import SummaryWriter as torch_SummaryWriter\n     SummaryWriter = torch_SummaryWriter\n if version.parse(torch_version) < version.parse(\"1.2.0\"):\n     from tensorboardX.proto.event_pb2 import Event\n else:\n     from tensorboard.compat.proto.event_pb2 import Event\n There is incorrect SummaryWriter and Event imports while having tensorboard < 1.14.0\n To Reproduce\n \n torch==1.3.1\n tensorboard==1.12.2\n from catalyst.dl import utils\n \n Expected behavior\n from tensorboardX import SummaryWriter and from tensorboardX.proto.event_pb2 import Event are called\n \n <denchmark-link:https://user-images.githubusercontent.com/26285240/70820129-f64bc380-1de8-11ea-96ea-633437676835.png></denchmark-link>\n \n Additional context\n Add any other context about the problem here.\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "Podidiving", "commentT": "2019-12-13T17:58:58Z", "comment_text": "\n \t\tHello! Thank you for the report. I don't think that this issue can be considered as a bug, because there is latest version of tensorboard in requirements.txt.\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "Podidiving", "commentT": "2019-12-13T18:09:17Z", "comment_text": "\n \t\tHi! Yes, I totally agree, but if you first install tensorboard of the old version and then catalyst, you will have the wrong version of tensorboard\n Plus, i believe, that this can be easily fixed by additional version checking in if-statement\n \t\t"}, "comments_2": {"comment_id": 3, "comment_author": "Podidiving", "commentT": "2019-12-13T19:10:16Z", "comment_text": "\n \t\tI guess it can be fixed with requirements rewrite. Just need to change the requirements to tensorboard>=1.14.0, instead of plain tensorboard.\n No need for checking old versions, there will be more pain of legacy support. Even this import decision was not easy, and has been made this way because most users are still on PyTorch version >=1.2.0.\n That's all just in my opinion. Feel free to make PR, Catalyst devs will be glad to review it and merge in case of success. Just don't forget to check codestyle :)\n \t\t"}, "comments_3": {"comment_id": 4, "comment_author": "Podidiving", "commentT": "2019-12-13T20:42:41Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/Podidiving>@Podidiving</denchmark-link>\n  thanks for reporting the bug and <denchmark-link:https://github.com/Arquestro>@Arquestro</denchmark-link>\n  thanks for a quick and reasonable solution \n \n I guess it can be fixed with requirements rewrite. Just need to change the requirements to tensorboard>=1.14.0\n \n Could you please provide a PR with this? \ud83d\ude42\n \t\t"}, "comments_4": {"comment_id": 5, "comment_author": "Podidiving", "commentT": "2019-12-14T08:06:15Z", "comment_text": "\n \t\tThanks for respond!\n I agree, it's better to fix tensorboard version\n But still, I believe, that there are some people who use catalyst and tensorflow with version <1.14.0 in their projects, and it's seems that compatibility issue can be solved with different import\n Or it will be bad in terms of legacy support?\n \t\t"}, "comments_5": {"comment_id": 6, "comment_author": "Podidiving", "commentT": "2019-12-17T20:08:01Z", "comment_text": "\n \t\tHi, for now let's hotfix with version requirements. Nevertheless, <denchmark-link:https://github.com/Podidiving>@Podidiving</denchmark-link>\n  if you would like to contribute better support for older versions \u2013 it would be great.\n \t\t"}, "comments_6": {"comment_id": 7, "comment_author": "Podidiving", "commentT": "2019-12-21T09:07:42Z", "comment_text": "\n \t\tCan be closed now, I guess. Gratz with first catalyst PR, <denchmark-link:https://github.com/Podidiving>@Podidiving</denchmark-link>\n !\n \t\t"}}}, "commit": {"commit_id": "ff2b85897c950b9ff1be8307e97452aced88b38b", "commit_author": "Veselyev Aleksandr", "commitT": "2019-12-17 20:24:40+03:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "requirements\\requirements.txt", "file_new_name": "requirements\\requirements.txt", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "10", "deleted_lines": "10"}}}}}}