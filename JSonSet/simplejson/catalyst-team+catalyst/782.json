{"BR": {"BR_id": "782", "BR_author": "elephantmipt", "BRopenT": "2020-04-29T21:37:53Z", "BRcloseT": "2020-06-29T13:16:43Z", "BR_text": {"BRsummary": "WandbLogger bug", "BRdescription": "\n <denchmark-h:h2>\ud83d\udc1b Bug Report</denchmark-h>\n \n Hi, I used WandbLogger and faced this problem\n <denchmark-link:https://user-images.githubusercontent.com/37884009/80644617-9a6d9880-8a72-11ea-9833-a9ff345449aa.png></denchmark-link>\n \n Also I noticed that splitted_epoch_metrics has structure like:\n {\"train\": {\"loss\": 1, \"loss_qa\":0.5, \"loss_clf\": 0.5, \"metric\": 1}, \"valid\": {\"loss\": 1,\"loss_qa\":0.5, \"loss_clf\": 0.5, \"metric\": 1}}\n What is propose of  <denchmark-link:https://github.com/catalyst-team/catalyst/blob/f58ffac876f514f3b52537d62b5c81b562a93fa9/catalyst/contrib/dl/callbacks/wandb.py#L172>here</denchmark-link>\n ? Maybe in this <denchmark-link:https://github.com/catalyst-team/catalyst/blob/f58ffac876f514f3b52537d62b5c81b562a93fa9/catalyst/contrib/dl/callbacks/wandb.py#L181>line</denchmark-link>\n  we should pass  instead of  to  method. If I do so error disappears and all works well.\n <denchmark-h:h3>How To Reproduce</denchmark-h>\n \n Steps to reproduce the behavior:\n I am running my script with  and getting this error on epoch end. With <denchmark-link:https://gist.github.com/PUSSYMIPT/db95014542442f2e03cd1fddf7610b88>this</denchmark-link>\n  config. Model is a multitask roberta with two heads, so I have three losses (main_loss=loss1+loss2, loss1, loss2) and one metric.\n So in  I have something like, in  variable i get , this is enough to reproduce key error. Anyway I don't think that error somehow depends on my code and will also reproduces with any experiment which doesn't have a loader which name starts with . Am I missing something?\n <denchmark-h:h3>Environment</denchmark-h>\n \n Catalyst version: 20.04.2\n PyTorch version: 1.5.0\n TensorFlow version: N/A\n TensorBoard version: 2.2.1\n OS: Ubuntu 18.04.4 LTS (Bionic Beaver)\n Python version: 3.7.7\n CUDA runtime version: 10.1\n <denchmark-h:h3>Additional context</denchmark-h>\n \n I can open PR\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "elephantmipt", "commentT": "2020-06-29T08:19:58Z", "comment_text": "\n \t\tThis issue has been automatically marked as stale because it has not had recent activity. It will be closed if no further activity occurs. Thank you for your contributions.\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "elephantmipt", "commentT": "2020-06-29T13:16:43Z", "comment_text": "\n \t\tfixed\n \t\t"}}}, "commit": {"commit_id": "531e31697b59c6e34ef85c0b2db5125487899be3", "commit_author": "Nikita Balagansky", "commitT": "2020-06-22 21:12:44+03:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "CHANGELOG.md", "file_new_name": "CHANGELOG.md", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "11,163", "deleted_lines": "162"}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 3, "file_old_name": "catalyst\\contrib\\dl\\callbacks\\wandb_logger.py", "file_new_name": "catalyst\\contrib\\dl\\callbacks\\wandb_logger.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "66", "deleted_lines": null, "method_info": {"method_name": "__init__", "method_params": "self,None,bool,bool,str,logging_params", "method_startline": "61", "method_endline": "67"}}, "hunk_1": {"Ismethod": 1, "added_lines": "143,144,145", "deleted_lines": null, "method_info": {"method_name": "on_stage_start", "method_params": "self,IRunner", "method_startline": "140", "method_endline": "145"}}, "hunk_2": {"Ismethod": 1, "added_lines": "187,188,189,190,191,192,193,194,195", "deleted_lines": "180,181,182,183,184,185,186", "method_info": {"method_name": "on_epoch_end", "method_params": "self,IRunner", "method_startline": "177", "method_endline": "195"}}}}}}}