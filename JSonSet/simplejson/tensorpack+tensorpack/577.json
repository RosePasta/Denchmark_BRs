{"BR": {"BR_id": "577", "BR_author": "tranorrepository", "BRopenT": "2018-01-05T09:05:03Z", "BRcloseT": "2018-01-05T09:54:21Z", "BR_text": {"BRsummary": "Training Mask RCNN encounter KeyError: 'file_name'", "BRdescription": "\n Training Mask RCNN encounter error below:\n File \"./tensorpack/examples/FasterRCNN/data.py\", line 208, in preprocess\n fname, boxes, klass, is_crowd = img['file_name'], img['boxes'], img['class'], img['is_crowd']\n KeyError: 'file_name'\n and then the training process get stuck at \"Pre-filling staging area...\u201c\n My environment: python 3.4, tf 1.4, cuda 8.0.\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "tranorrepository", "commentT": "2018-01-05T09:06:27Z", "comment_text": "\n \t\tPlease follow the <denchmark-link:https://github.com/ppwwyyxx/tensorpack/blob/master/.github/ISSUE_TEMPLATE.md>issue template</denchmark-link>\n  to report problems.\n I think you didn't use a valid COCO annotation file.\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "tranorrepository", "commentT": "2018-01-05T09:23:52Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/ppwwyyxx>@ppwwyyxx</denchmark-link>\n \n COCO annotations are download from <denchmark-link:http://cocodataset.org/#home>http://cocodataset.org/#home</denchmark-link>\n \n print the img,\n {..., b'license': 4, b'file_name': b'../data/COCO/train2014/COCO_train2014_000000158420.jpg'}\n when I modified the img['file_name'] to img[b'file_name'], the error disappear.\n \t\t"}, "comments_2": {"comment_id": 3, "comment_author": "tranorrepository", "commentT": "2018-01-05T09:35:04Z", "comment_text": "\n \t\tThere is no b if I print it. It may be due to some difference in python version or its json implementation.\n \t\t"}, "comments_3": {"comment_id": 4, "comment_author": "tranorrepository", "commentT": "2018-01-05T09:43:05Z", "comment_text": "\n \t\tAfter a thought I think it's due to how msgpack serializes/deserializes the data. What's you msgpack version and could you perhaps upgrade it?\n \t\t"}, "comments_4": {"comment_id": 5, "comment_author": "tranorrepository", "commentT": "2018-01-05T09:53:47Z", "comment_text": "\n \t\tMy msgpack is 0.4.8, it seems to be the latest.\n \t\t"}, "comments_5": {"comment_id": 6, "comment_author": "tranorrepository", "commentT": "2018-01-05T09:55:07Z", "comment_text": "\n \t\tTurned out that msgpack always transforms strings to bytes. Should be fixed now.\n \t\t"}}}, "commit": {"commit_id": "ac79b32e35af900e003cdb0b94c15766adb094f3", "commit_author": "Yuxin Wu", "commitT": "2018-01-05 01:53:58-08:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "tensorpack\\utils\\serialize.py", "file_new_name": "tensorpack\\utils\\serialize.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "30", "deleted_lines": "30", "method_info": {"method_name": "loads", "method_params": "buf", "method_startline": "25", "method_endline": "30"}}}}}}}