{"BR": {"BR_id": "29", "BR_author": "wdx04", "BRopenT": "2015-06-15T04:12:06Z", "BRcloseT": "2015-09-23T14:25:22Z", "BR_text": {"BRsummary": "memory leak in network class", "BRdescription": "\n Here is the code in network.h to add a temporarily-constructed layer to the network:\n template <typename L, typename O, typename Layer>\n network<L, O>& operator << (network<L, O>& n, const Layer&& l) {\n     n.add(new Layer(l));\n     return n;\n }\n The \"new\"ed layer is not deleted when the network object is destructed, causing memory leak.\n Please consider storing shared smart pointers of layers instead of raw pointers inside a network object.\n \t"}, "comments": {}}, "commit": {"commit_id": "9751ce64e6d54f813cabba1d2bea1773aac16a34", "commit_author": "Taiga Noumi", "commitT": "2015-09-23 23:25:10+09:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "example\\main.cpp", "file_new_name": "example\\main.cpp", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "226", "deleted_lines": "226", "method_info": {"method_name": "sample4_dropout", "method_params": "", "method_startline": "216", "method_endline": "271"}}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 14, "file_old_name": "test\\test.cpp", "file_new_name": "test\\test.cpp", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "332,333,334,335", "deleted_lines": "337,338,339,340,341,342,343", "method_info": {"method_name": "TEST", "method_params": "multi_layer,gradient_check", "method_startline": "326", "method_endline": "343"}}, "hunk_1": {"Ismethod": 1, "added_lines": "131", "deleted_lines": "133,134", "method_info": {"method_name": "TEST", "method_params": "convolutional,gradient_check2", "method_startline": "129", "method_endline": "139"}}, "hunk_2": {"Ismethod": 1, "added_lines": "156,157", "deleted_lines": "159,160", "method_info": {"method_name": "TEST", "method_params": "convolutional,gradient_check4", "method_startline": "154", "method_endline": "165"}}, "hunk_3": {"Ismethod": 1, "added_lines": "143,144", "deleted_lines": "146,147", "method_info": {"method_name": "TEST", "method_params": "convolutional,gradient_check3", "method_startline": "141", "method_endline": "152"}}, "hunk_4": {"Ismethod": 1, "added_lines": "92", "deleted_lines": "91,93", "method_info": {"method_name": "TEST", "method_params": "convolutional,bprop", "method_startline": "89", "method_endline": "115"}}, "hunk_5": {"Ismethod": 1, "added_lines": "235,236", "deleted_lines": "238,239", "method_info": {"method_name": "TEST", "method_params": "fully_connected,bprop", "method_startline": "233", "method_endline": "266"}}, "hunk_6": {"Ismethod": 1, "added_lines": "169,170", "deleted_lines": "172,173", "method_info": {"method_name": "TEST", "method_params": "convolutional,gradient_check5", "method_startline": "167", "method_endline": "178"}}, "hunk_7": {"Ismethod": 1, "added_lines": "426,427,434", "deleted_lines": "432,433,434,435,436,437", "method_info": {"method_name": "TEST", "method_params": "max_pool,gradient_check", "method_startline": "420", "method_endline": "437"}}, "hunk_8": {"Ismethod": 1, "added_lines": "293,294", "deleted_lines": "295,296,298,299", "method_info": {"method_name": "TEST", "method_params": "fully_connected,bprop2", "method_startline": "290", "method_endline": "324"}}, "hunk_9": {"Ismethod": 1, "added_lines": "388,389,390,391", "deleted_lines": "384,385,386,387,388,389,390,391,392", "method_info": {"method_name": "TEST", "method_params": "multi_layer4,gradient_check", "method_startline": "382", "method_endline": "399"}}, "hunk_10": {"Ismethod": 1, "added_lines": "119", "deleted_lines": "120,121", "method_info": {"method_name": "TEST", "method_params": "convolutional,gradient_check", "method_startline": "117", "method_endline": "127"}}, "hunk_11": {"Ismethod": 1, "added_lines": "369,370,371,372", "deleted_lines": "364,365,366,367,368,369", "method_info": {"method_name": "TEST", "method_params": "multi_layer,gradient_check3", "method_startline": "364", "method_endline": "380"}}, "hunk_12": {"Ismethod": 1, "added_lines": "407,408,409,410,417", "deleted_lines": "408,409,410,411,412,413,414,415,416", "method_info": {"method_name": "TEST", "method_params": "multi_layer5,gradient_check", "method_startline": "401", "method_endline": "418"}}, "hunk_13": {"Ismethod": 1, "added_lines": "351,352,353,354", "deleted_lines": "345,361,362", "method_info": {"method_name": "TEST", "method_params": "multi_layer,gradient_check2", "method_startline": "345", "method_endline": "362"}}}}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "tiny_cnn\\layer.h", "file_new_name": "tiny_cnn\\layer.h", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "54,57", "deleted_lines": "54,57", "method_info": {"method_name": "tiny_cnn::layer_base::connect", "method_params": "tail", "method_startline": "54", "method_endline": "59"}}, "hunk_1": {"Ismethod": 1, "added_lines": "54,57", "deleted_lines": "54,57", "method_info": {"method_name": "tiny_cnn::layer_base::connect", "method_params": "tail", "method_startline": "54", "method_endline": "59"}}}}, "file_3": {"file_change_type": "MODIFY", "file_Nmethod": 8, "file_old_name": "tiny_cnn\\layers.h", "file_new_name": "tiny_cnn\\layers.h", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "52", "deleted_lines": "52", "method_info": {"method_name": "tiny_cnn::layers::head", "method_params": "", "method_startline": "52", "method_endline": "52"}}, "hunk_1": {"Ismethod": 1, "added_lines": "35", "deleted_lines": "35", "method_info": {"method_name": "tiny_cnn::layers::layers", "method_params": "", "method_startline": "35", "method_endline": "35"}}, "hunk_2": {"Ismethod": 1, "added_lines": "54", "deleted_lines": "54", "method_info": {"method_name": "tiny_cnn::layers::tail", "method_params": "", "method_startline": "54", "method_endline": "54"}}, "hunk_3": {"Ismethod": 1, "added_lines": "68", "deleted_lines": "68", "method_info": {"method_name": "tiny_cnn::layers::operator [ ]", "method_params": "index", "method_startline": "67", "method_endline": "69"}}, "hunk_4": {"Ismethod": 1, "added_lines": "45", "deleted_lines": "45", "method_info": {"method_name": "tiny_cnn::layers::add", "method_params": "new_tail", "method_startline": "45", "method_endline": "48"}}, "hunk_5": {"Ismethod": 1, "added_lines": "45", "deleted_lines": "45", "method_info": {"method_name": "tiny_cnn::layers::add", "method_params": "new_tail", "method_startline": "45", "method_endline": "48"}}, "hunk_6": {"Ismethod": 1, "added_lines": "64", "deleted_lines": "64", "method_info": {"method_name": "tiny_cnn::layers::operator [ ]", "method_params": "index", "method_startline": "63", "method_endline": "65"}}, "hunk_7": {"Ismethod": 1, "added_lines": "105", "deleted_lines": "105", "method_info": {"method_name": "tiny_cnn::layers::construct", "method_params": "rhs", "method_startline": "104", "method_endline": "108"}}}}, "file_4": {"file_change_type": "MODIFY", "file_Nmethod": 5, "file_old_name": "tiny_cnn\\network.h", "file_new_name": "tiny_cnn\\network.h", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "109", "deleted_lines": "109", "method_info": {"method_name": "tiny_cnn::network::add", "method_params": "layer", "method_startline": "109", "method_endline": "109"}}, "hunk_1": {"Ismethod": 1, "added_lines": "446", "deleted_lines": "446", "method_info": {"method_name": "tiny_cnn::operator < <", "method_params": "n,l", "method_startline": "445", "method_endline": "448"}}, "hunk_2": {"Ismethod": 1, "added_lines": "452", "deleted_lines": "452", "method_info": {"method_name": "tiny_cnn::operator < <", "method_params": "n,l", "method_startline": "451", "method_endline": "454"}}, "hunk_3": {"Ismethod": 1, "added_lines": "432", "deleted_lines": "432", "method_info": {"method_name": "tiny_cnn::make_mlp", "method_params": "first,last", "method_startline": "426", "method_endline": "434"}}, "hunk_4": {"Ismethod": 1, "added_lines": "109", "deleted_lines": "109", "method_info": {"method_name": "tiny_cnn::network::add", "method_params": "layer", "method_startline": "109", "method_endline": "109"}}}}}}}