{"BR": {"BR_id": "293", "BR_author": "miikargh", "BRopenT": "2020-05-13T11:10:30Z", "BRcloseT": "2020-05-13T13:25:16Z", "BR_text": {"BRsummary": "NNCF export to ONNX fails", "BRdescription": "\n Describe the bug\n Trying to export a  compressed model to onnx and I get the following error:\n Traceback (most recent call last):\n   File \"onnx_example.py\", line 13, in <module>\n     compressed_model.export_model(\"/models/compressed_model.onnx\")\n   File \"/openvino_training_extensions/pytorch_toolkit/nncf/nncf/nncf_network.py\", line 443, in __getattr__\n     return super().__getattr__(name)\n   File \"/opt/conda/lib/python3.7/site-packages/torch/nn/modules/module.py\", line 585, in __getattr__\n     type(self).__name__, name))\n AttributeError: 'NNCFNetwork' object has no attribute 'export_model'\n Steps to Reproduce\n \n Install the latest version of  NNCF\n Run the following code\n \n import nncf\n from nncf import create_compressed_model, Config as NNCFConfig\n \n # Instantiate your uncompressed model\n from torchvision.models.resnet import resnet50\n \n model = resnet50()\n \n # Apply compression according to a loaded NNCF config\n nncf_config = NNCFConfig.from_json(\"./resnet_rb_sparsity_int8.json\")\n comp_ctrl, compressed_model = create_compressed_model(model, nncf_config)\n \n compressed_model.export_model(\"/models/compressed_model.onnx\")\n \n Dockerfile along with all necessary steps to reproduce found here: <denchmark-link:https://github.com/miikargh/nncf_issue>https://github.com/miikargh/nncf_issue</denchmark-link>\n \n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "miikargh", "commentT": "2020-05-13T11:54:22Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/AlexKoff88>@AlexKoff88</denchmark-link>\n  <denchmark-link:https://github.com/vshampor>@vshampor</denchmark-link>\n  <denchmark-link:https://github.com/ljaljushkin>@ljaljushkin</denchmark-link>\n \n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "miikargh", "commentT": "2020-05-13T11:57:57Z", "comment_text": "\n \t\tGreetings, <denchmark-link:https://github.com/miikargh>@miikargh</denchmark-link>\n !\n This is a mistake in the documentation. Use comp_ctrl.export_model(\"/models/compressed_model.onnx\") instead.\n \t\t"}}}, "commit": {"commit_id": "c553a56088f0055baba838b68c9299e19683227e", "commit_author": "Vasily Shamporov", "commitT": "2020-05-13 16:25:15+03:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "pytorch_toolkit\\nncf\\README.md", "file_new_name": "pytorch_toolkit\\nncf\\README.md", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "42", "deleted_lines": "42"}}}}}}