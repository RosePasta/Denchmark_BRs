{"BR": {"BR_id": "433", "BR_author": "vvirag", "BRopenT": "2018-02-14T23:47:00Z", "BRcloseT": "2018-02-15T06:00:42Z", "BR_text": {"BRsummary": "Latest master (ce62c53) openpose demo crashes on images (Ubuntu16.04, CUDA8, OpenCV3.1)", "BRdescription": "\n <denchmark-h:h3>Issue Summary</denchmark-h>\n \n After git pull (<denchmark-link:https://github.com/CMU-Perceptual-Computing-Lab/openpose/commit/ce62c5309e1e560eb29c48b7825e3af916e3e956>ce62c53</denchmark-link>\n ), cmake reconfigure, make clean, rebuild: trying to run openpose on images, vector range check fails. It is working on videos. Commit <denchmark-link:https://github.com/CMU-Perceptual-Computing-Lab/openpose/commit/3188017a218437e85da242d49c0b5e1298ec6388>3188017</denchmark-link>\n  was working on images as well.\n <denchmark-h:h3>Executed Command (if any)</denchmark-h>\n \n ./build/examples/openpose/openpose.bin -write_images ~/out/ -image_dir ~/images/ --logging_level 0 --disable_multi_thread\n <denchmark-h:h3>OpenPose Output (if any)</denchmark-h>\n \n <denchmark-code>Starting pose estimation demo.\n ~/openpose/src/openpose/utilities/flagsToOpenPose.cpp:flagsToProducer():144\n ~/openpose/src/openpose/utilities/flagsToOpenPose.cpp:flagsToProducerType():106\n ~/openpose/src/openpose/utilities/flagsToOpenPose.cpp:flagsToPoseModel():16\n ~/openpose/src/openpose/utilities/flagsToOpenPose.cpp:flagsToScaleMode():49\n ~/openpose/src/openpose/utilities/flagsToOpenPose.cpp:flagsToHeatMapScaleMode():78\n ~/openpose/examples/openpose/openpose.cpp:openPoseDemo():254\n Configuring OpenPose wrapper. In ~/openpose/examples/openpose/openpose.cpp:openPoseDemo():257\n ~/openpose/include/openpose/wrapper/wrapper.hpp:configure():435\n ~/openpose/src/openpose/wrapper/wrapperAuxiliary.cpp:wrapperConfigureSecurityChecks():18\n ~/openpose/src/openpose/wrapper/wrapperAuxiliary.cpp:wrapperConfigureSecurityChecks():131\n Auto-detecting all available GPUs... Detected 1 GPU(s), using 1 of them starting at GPU 0.\n ~/openpose/include/openpose/wrapper/wrapper.hpp:configure():595\n ~/openpose/include/openpose/wrapper/wrapper.hpp:configure():927\n Starting thread(s)\n ~/openpose/include/openpose/wrapper/wrapper.hpp:configureThreadManager():1278\n ~/openpose/include/openpose/wrapper/wrapper.hpp:exec():941\n ~/openpose/include/openpose/thread/threadManager.hpp:exec():163\n ~/openpose/include/openpose/thread/queueBase.hpp:addPusher():360\n ~/openpose/include/openpose/thread/queueBase.hpp:addPusher():360\n ~/openpose/include/openpose/thread/queueBase.hpp:addPusher():360\n ~/openpose/include/openpose/thread/threadManager.hpp:exec():168\n ~/openpose/include/openpose/thread/thread.hpp:threadFunction():182\n Starting initialization on thread. In ~/openpose/src/openpose/pose/poseExtractorCaffe.cpp:netInitializationOnThread():175\n Finished initialization on thread. In ~/openpose/src/openpose/pose/poseExtractorCaffe.cpp:netInitializationOnThread():189\n Starting initialization on thread. In ~/openpose/src/openpose/pose/poseGpuRenderer.cpp:initializationOnThread():47\n Finished initialization on thread. In ~/openpose/src/openpose/pose/poseGpuRenderer.cpp:initializationOnThread():54\n init done\n opengl support available\n ~/openpose/include/openpose/thread/thread.hpp:threadFunction():185\n ~/openpose/include/openpose/producer/wDatumProducer.hpp:workProducer():53\n ~/openpose/include/openpose/producer/wDatumProducer.hpp:workProducer():65\n ~/openpose/include/openpose/core/wScaleAndSizeExtractor.hpp:work():55\n ~/openpose/include/openpose/core/wScaleAndSizeExtractor.hpp:work():69\n ~/openpose/include/openpose/core/wCvMatToOpInput.hpp:work():54\n ~/openpose/include/openpose/core/wCvMatToOpInput.hpp:work():66\n ~/openpose/include/openpose/core/wCvMatToOpOutput.hpp:work():55\n ~/openpose/include/openpose/core/wCvMatToOpOutput.hpp:work():68\n ~/openpose/include/openpose/pose/wPoseExtractor.hpp:work():55\n ~/openpose/include/openpose/pose/wPoseExtractor.hpp:work():74\n ~/openpose/include/openpose/pose/wPoseRenderer.hpp:work():55\n ~/openpose/include/openpose/pose/wPoseRenderer.hpp:work():67\n ~/openpose/include/openpose/core/wOpOutputToCvMat.hpp:work():54\n ~/openpose/include/openpose/core/wOpOutputToCvMat.hpp:work():64\n ~/openpose/include/openpose/filestream/wImageSaver.hpp:workConsumer():54\n ~/openpose/include/openpose/filestream/wImageSaver.hpp:workConsumer():69\n ~/openpose/include/openpose/gui/wGuiInfoAdder.hpp:work():54\n ~/openpose/include/openpose/gui/wGuiInfoAdder.hpp:work():66\n ~/openpose/include/openpose/gui/wGui.hpp:workConsumer():66\n ~/openpose/include/openpose/gui/wGui.hpp:workConsumer():83\n ~/openpose/include/openpose/producer/wDatumProducer.hpp:workProducer():53\n ~/openpose/include/openpose/producer/wDatumProducer.hpp:workProducer():65\n ~/openpose/include/openpose/core/wScaleAndSizeExtractor.hpp:work():55\n ~/openpose/include/openpose/core/wScaleAndSizeExtractor.hpp:work():69\n ~/openpose/include/openpose/core/wCvMatToOpInput.hpp:work():54\n ~/openpose/include/openpose/core/wCvMatToOpInput.hpp:work():66\n ~/openpose/include/openpose/core/wCvMatToOpOutput.hpp:work():55\n ~/openpose/include/openpose/core/wCvMatToOpOutput.hpp:work():68\n ~/openpose/include/openpose/pose/wPoseExtractor.hpp:work():55\n ~/openpose/include/openpose/pose/wPoseExtractor.hpp:work():74\n ~/openpose/include/openpose/pose/wPoseRenderer.hpp:work():55\n ~/openpose/include/openpose/pose/wPoseRenderer.hpp:work():67\n ~/openpose/include/openpose/core/wOpOutputToCvMat.hpp:work():54\n ~/openpose/include/openpose/core/wOpOutputToCvMat.hpp:work():64\n ~/openpose/include/openpose/filestream/wImageSaver.hpp:workConsumer():54\n ~/openpose/include/openpose/filestream/wImageSaver.hpp:workConsumer():69\n ~/openpose/include/openpose/gui/wGuiInfoAdder.hpp:work():54\n ~/openpose/include/openpose/gui/wGuiInfoAdder.hpp:work():66\n ~/openpose/include/openpose/gui/wGui.hpp:workConsumer():66\n ~/openpose/include/openpose/gui/wGui.hpp:workConsumer():83\n ~/openpose/include/openpose/producer/wDatumProducer.hpp:workProducer():53\n ~/openpose/include/openpose/producer/wDatumProducer.hpp:workProducer():65\n ~/openpose/include/openpose/core/wScaleAndSizeExtractor.hpp:work():55\n ~/openpose/include/openpose/core/wScaleAndSizeExtractor.hpp:work():69\n ~/openpose/include/openpose/core/wCvMatToOpInput.hpp:work():54\n ~/openpose/include/openpose/core/wCvMatToOpInput.hpp:work():66\n ~/openpose/include/openpose/core/wCvMatToOpOutput.hpp:work():55\n ~/openpose/include/openpose/core/wCvMatToOpOutput.hpp:work():68\n ~/openpose/include/openpose/pose/wPoseExtractor.hpp:work():55\n ~/openpose/include/openpose/pose/wPoseExtractor.hpp:work():74\n ~/openpose/include/openpose/pose/wPoseRenderer.hpp:work():55\n ~/openpose/include/openpose/pose/wPoseRenderer.hpp:work():67\n ~/openpose/include/openpose/core/wOpOutputToCvMat.hpp:work():54\n ~/openpose/include/openpose/core/wOpOutputToCvMat.hpp:work():64\n ~/openpose/include/openpose/filestream/wImageSaver.hpp:workConsumer():54\n ~/openpose/include/openpose/filestream/wImageSaver.hpp:workConsumer():69\n ~/openpose/include/openpose/gui/wGuiInfoAdder.hpp:work():54\n ~/openpose/include/openpose/gui/wGuiInfoAdder.hpp:work():66\n ~/openpose/include/openpose/gui/wGui.hpp:workConsumer():66\n ~/openpose/include/openpose/gui/wGui.hpp:workConsumer():83\n ~/openpose/include/openpose/producer/wDatumProducer.hpp:workProducer():53\n \n Error:\n vector::_M_range_check: __n (which is 18446744073709551615) >= this->size() (which is 4)\n \n Coming from:\n - ~/openpose/include/openpose/producer/datumProducer.hpp:checkIfRunningAndGetDatum():155\n - ~/openpose/include/openpose/producer/wDatumProducer.hpp:workProducer():72\n - ~/openpose/include/openpose/thread/subThread.hpp:workTWorkers():135\n - ~/openpose/include/openpose/thread/subThreadQueueOut.hpp:work():69\n - ~/openpose/include/openpose/thread/thread.hpp:threadFunction():203\n - ~/openpose/include/openpose/thread/thread.hpp:exec():129\n - ~/openpose/include/openpose/thread/threadManager.hpp:exec():180\n - ~/openpose/include/openpose/wrapper/wrapper.hpp:exec():946\n terminate called after throwing an instance of 'std::runtime_error'\n   what():  \n Error:\n vector::_M_range_check: __n (which is 18446744073709551615) >= this->size() (which is 4)\n \n Coming from:\n - ~/openpose/include/openpose/producer/datumProducer.hpp:checkIfRunningAndGetDatum():155\n - ~/openpose/include/openpose/producer/wDatumProducer.hpp:workProducer():72\n - ~/openpose/include/openpose/thread/subThread.hpp:workTWorkers():135\n - ~/openpose/include/openpose/thread/subThreadQueueOut.hpp:work():69\n - ~/openpose/include/openpose/thread/thread.hpp:threadFunction():203\n - ~/openpose/include/openpose/thread/thread.hpp:exec():129\n - ~/openpose/include/openpose/thread/threadManager.hpp:exec():180\n - ~/openpose/include/openpose/wrapper/wrapper.hpp:exec():946\n \n Aborted (core dumped)\n </denchmark-code>\n \n <denchmark-h:h3>Type of Issue</denchmark-h>\n \n \n Execution error\n \n <denchmark-h:h3>Your System Configuration</denchmark-h>\n \n Operating system (lsb_release -a in Ubuntu): Ubuntu 16.04.3 LTS\n Installation mode: CMake\n CUDA version (cat /usr/local/cuda/version.txt in most cases): CUDA Version 8.0.61\n cuDNN version: cudnn-8.0-linux-x64-v5.1\n Release or Debug mode? (by defualt: release): release\n 3-D Reconstruction module added? (by default: no): no\n GPU model (nvidia-smi in Ubuntu): GeForce GTX 1060 6GB/PCIe/SSE2\n Caffe version: Default from OpenPose\n OpenCV version: compiled from source, 3.1\n Compiler (gcc --version in Ubuntu): 5.4.0\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "vvirag", "commentT": "2018-02-15T06:09:01Z", "comment_text": "\n \t\tFixed in the latest one (<denchmark-link:https://github.com/CMU-Perceptual-Computing-Lab/openpose/commit/cb06fdeda89edaf8ee11a33203c464e225b8d881>cb06fde</denchmark-link>\n ). Let me know if it still crashes. Thanks\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "vvirag", "commentT": "2018-02-15T21:45:49Z", "comment_text": "\n \t\tThanks, all looks good now (<denchmark-link:https://github.com/CMU-Perceptual-Computing-Lab/openpose/commit/cb06fdeda89edaf8ee11a33203c464e225b8d881>cb06fde</denchmark-link>\n )!\n \t\t"}}}, "commit": {"commit_id": "cb06fdeda89edaf8ee11a33203c464e225b8d881", "commit_author": "gineshidalgo99", "commitT": "2018-02-15 01:00:26-05:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "include\\openpose\\producer\\datumProducer.hpp", "file_new_name": "include\\openpose\\producer\\datumProducer.hpp", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "100,111", "deleted_lines": "110", "method_info": {"method_name": "op::DatumProducer<TDatumsNoPtr>::checkIfRunningAndGetDatum", "method_params": "", "method_startline": "72", "method_endline": "159"}}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "include\\openpose\\producer\\flirReader.hpp", "file_new_name": "include\\openpose\\producer\\flirReader.hpp", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "27", "deleted_lines": "27"}}}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "include\\openpose\\producer\\imageDirectoryReader.hpp", "file_new_name": "include\\openpose\\producer\\imageDirectoryReader.hpp", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "26", "deleted_lines": "26"}}}, "file_3": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "include\\openpose\\producer\\ipCameraReader.hpp", "file_new_name": "include\\openpose\\producer\\ipCameraReader.hpp", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "23", "deleted_lines": "23"}}}, "file_4": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "include\\openpose\\producer\\producer.hpp", "file_new_name": "include\\openpose\\producer\\producer.hpp", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "55", "deleted_lines": "55"}}}, "file_5": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "include\\openpose\\producer\\videoCaptureReader.hpp", "file_new_name": "include\\openpose\\producer\\videoCaptureReader.hpp", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "37", "deleted_lines": "37"}}}, "file_6": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "include\\openpose\\producer\\videoReader.hpp", "file_new_name": "include\\openpose\\producer\\videoReader.hpp", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "25", "deleted_lines": "25"}}}, "file_7": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "include\\openpose\\producer\\webcamReader.hpp", "file_new_name": "include\\openpose\\producer\\webcamReader.hpp", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "34", "deleted_lines": "34"}}}, "file_8": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "src\\openpose\\producer\\flirReader.cpp", "file_new_name": "src\\openpose\\producer\\flirReader.cpp", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "49", "deleted_lines": "49", "method_info": {"method_name": "op::FlirReader::getNextFrameName", "method_params": "", "method_startline": "49", "method_endline": "61"}}, "hunk_1": {"Ismethod": 1, "added_lines": "49", "deleted_lines": "49", "method_info": {"method_name": "op::FlirReader::getFrameName", "method_params": "", "method_startline": "49", "method_endline": "61"}}}}, "file_9": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "src\\openpose\\producer\\imageDirectoryReader.cpp", "file_new_name": "src\\openpose\\producer\\imageDirectoryReader.cpp", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "54", "deleted_lines": "54", "method_info": {"method_name": "op::ImageDirectoryReader::getNextFrameName", "method_params": "", "method_startline": "54", "method_endline": "65"}}, "hunk_1": {"Ismethod": 1, "added_lines": "54", "deleted_lines": "54", "method_info": {"method_name": "op::ImageDirectoryReader::getFrameName", "method_params": "", "method_startline": "54", "method_endline": "65"}}}}, "file_10": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "src\\openpose\\producer\\ipCameraReader.cpp", "file_new_name": "src\\openpose\\producer\\ipCameraReader.cpp", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "28,32", "deleted_lines": "28,32", "method_info": {"method_name": "op::IpCameraReader::getNextFrameName", "method_params": "", "method_startline": "28", "method_endline": "39"}}, "hunk_1": {"Ismethod": 1, "added_lines": "28,32", "deleted_lines": "28,32", "method_info": {"method_name": "op::IpCameraReader::getFrameName", "method_params": "", "method_startline": "28", "method_endline": "39"}}}}, "file_11": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "src\\openpose\\producer\\videoCaptureReader.cpp", "file_new_name": "src\\openpose\\producer\\videoCaptureReader.cpp", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "57", "deleted_lines": "57", "method_info": {"method_name": "op::VideoCaptureReader::getFrameName", "method_params": "", "method_startline": "57", "method_endline": "69"}}, "hunk_1": {"Ismethod": 1, "added_lines": "57", "deleted_lines": "57", "method_info": {"method_name": "op::VideoCaptureReader::getNextFrameName", "method_params": "", "method_startline": "57", "method_endline": "69"}}}}, "file_12": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "src\\openpose\\producer\\videoReader.cpp", "file_new_name": "src\\openpose\\producer\\videoReader.cpp", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "25,29", "deleted_lines": "25,29", "method_info": {"method_name": "op::VideoReader::getFrameName", "method_params": "", "method_startline": "25", "method_endline": "36"}}, "hunk_1": {"Ismethod": 1, "added_lines": "25,29", "deleted_lines": "25,29", "method_info": {"method_name": "op::VideoReader::getNextFrameName", "method_params": "", "method_startline": "25", "method_endline": "36"}}}}, "file_13": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "src\\openpose\\producer\\webcamReader.cpp", "file_new_name": "src\\openpose\\producer\\webcamReader.cpp", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "74,78", "deleted_lines": "74,78", "method_info": {"method_name": "op::WebcamReader::getNextFrameName", "method_params": "", "method_startline": "74", "method_endline": "85"}}, "hunk_1": {"Ismethod": 1, "added_lines": "74,78", "deleted_lines": "74,78", "method_info": {"method_name": "op::WebcamReader::getFrameName", "method_params": "", "method_startline": "74", "method_endline": "85"}}}}}}}