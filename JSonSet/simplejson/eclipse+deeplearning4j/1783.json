{"BR": {"BR_id": "1783", "BR_author": "ghost(ghost)", "BRopenT": "2016-07-05T11:23:31Z", "BRcloseT": "2017-02-28T09:33:01Z", "BR_text": {"BRsummary": "Persistence issue (Spark) when Serialization is disabled (aka .cache()) and allegedly unnecessary re-caching", "BRdescription": "\n \n It appears that a Memory-Serialized RDD[DataSet] of ~300MB will become ~60GB if cached Memory-DE-Serialized.\n By using the SparkDl4jMultiLayer binding to spark, the original dataset (points) gets re-cached into memory on each epoch, despite being already cached, deserialized (I get the reason behind it, but I guess nd4j objects are poorly cached when deserialized). As far as I understand, there is basically no reason to re-cache the original dataset, as it actually stays as is across all epochs, and what actually changes is the network's weights.\n \n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "ghost(ghost)", "commentT": "2019-01-19T12:20:19Z", "comment_text": "\n \t\tThis thread has been automatically locked since there has not been any recent activity after it was closed. Please open a new issue for related bugs.\n \t\t"}}}, "commit": {"commit_id": "92c52944be776e9ca9ebf438f70e04e6fd766070", "commit_author": "Fran\u00e7ois Garillot", "commitT": "2017-02-23 00:49:53-05:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "deeplearning4j-nlp-parent\\deeplearning4j-nlp\\src\\test\\java\\org\\deeplearning4j\\models\\embeddings\\inmemory\\InMemoryLookupTableTest.java", "file_new_name": "deeplearning4j-nlp-parent\\deeplearning4j-nlp\\src\\test\\java\\org\\deeplearning4j\\models\\embeddings\\inmemory\\InMemoryLookupTableTest.java", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "81", "deleted_lines": null, "method_info": {"method_name": "InMemoryLookupTableTest::testConsumeOnEqualVocabs", "method_params": "", "method_startline": "30", "method_endline": "82"}}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "deeplearning4j-scaleout\\spark\\dl4j-spark-nlp\\src\\main\\java\\org\\deeplearning4j\\spark\\models\\embeddings\\word2vec\\Word2Vec.java", "file_new_name": "deeplearning4j-scaleout\\spark\\dl4j-spark-nlp\\src\\main\\java\\org\\deeplearning4j\\spark\\models\\embeddings\\word2vec\\Word2Vec.java", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "190", "deleted_lines": "190", "method_info": {"method_name": "Word2Vec::train", "method_params": "corpusRDD", "method_startline": "130", "method_endline": "253"}}}}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "deeplearning4j-scaleout\\spark\\dl4j-spark-nlp\\src\\test\\java\\org\\deeplearning4j\\spark\\models\\embeddings\\glove\\GloveTest.java", "file_new_name": "deeplearning4j-scaleout\\spark\\dl4j-spark-nlp\\src\\test\\java\\org\\deeplearning4j\\spark\\models\\embeddings\\glove\\GloveTest.java", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "53", "deleted_lines": "53", "method_info": {"method_name": "GloveTest::testGlove", "method_params": "", "method_startline": "46", "method_endline": "60"}}}}, "file_3": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "deeplearning4j-scaleout\\spark\\dl4j-spark\\src\\test\\java\\org\\deeplearning4j\\spark\\datavec\\MiniBatchTests.java", "file_new_name": "deeplearning4j-scaleout\\spark\\dl4j-spark\\src\\test\\java\\org\\deeplearning4j\\spark\\datavec\\MiniBatchTests.java", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "55,56", "deleted_lines": null, "method_info": {"method_name": "MiniBatchTests::testMiniBatches", "method_params": "", "method_startline": "41", "method_endline": "58"}}}}, "file_4": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "deeplearning4j-scaleout\\spark\\dl4j-spark\\src\\test\\java\\org\\deeplearning4j\\spark\\impl\\paramavg\\TestSparkMultiLayerParameterAveraging.java", "file_new_name": "deeplearning4j-scaleout\\spark\\dl4j-spark\\src\\test\\java\\org\\deeplearning4j\\spark\\impl\\paramavg\\TestSparkMultiLayerParameterAveraging.java", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "136", "deleted_lines": "136", "method_info": {"method_name": "TestSparkMultiLayerParameterAveraging::testFromSvmLight", "method_params": "", "method_startline": "130", "method_endline": "169"}}, "hunk_1": {"Ismethod": 1, "added_lines": "90", "deleted_lines": "90", "method_info": {"method_name": "TestSparkMultiLayerParameterAveraging::testFromSvmLightBackprop", "method_params": "", "method_startline": "84", "method_endline": "126"}}}}}}}