{"BR": {"BR_id": "129", "BR_author": "rolarsen", "BRopenT": "2020-02-11T07:43:57Z", "BRcloseT": "2020-02-12T09:32:43Z", "BR_text": {"BRsummary": "getDirectoryList fails on Windows for directories with additional attributes", "BRdescription": "\n \n \n \n FAST/source/FAST/Utility.cpp\n \n \n          Line 728\n       in\n       9d03eb2\n \n \n \n \n \n \n  if(getDirectories && data.dwFileAttributes == FILE_ATTRIBUTE_DIRECTORY) { \n \n \n \n \n \n should be\n if(getDirectories && (data.dwFileAttributes & FILE_ATTRIBUTE_DIRECTORY)) {\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "rolarsen", "commentT": "2020-02-11T11:15:55Z", "comment_text": "\n \t\tI see.. FILE_ATTRIBUTE_DIRECTORY is a mask.\n But dwFileAttributes may have multiple 1s, so shouldn't the comparison then be either: (data.dwFileAttributes & FILE_ATTRIBUTE_DIRECTORY) != 0 or (data.dwFileAttributes & FILE_ATTRIBUTE_DIRECTORY) == 16, since FILE_ATTRIBUTE_DIRECTORY has value 16 (hex 0x10). Because the comparison data.dwFileAttributes & FILE_ATTRIBUTE_DIRECTORY only have two outcomes 0 or 16.\n Perhaps 0 becomes false and 16 becomes true in an if statement in C++? Probably better to be exact in the comparison though\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "rolarsen", "commentT": "2020-02-11T11:28:05Z", "comment_text": "\n \t\tC++ true equals !=0\n \n \n -\n \n \n Roar Larsen\n \n Senior Software Developer\n \n \n \n Nisonic AS\n Havnegata 7, 7010 Trondheim, Norway\n roar@nisonic.com\n +47 915 10 203\n \n <<denchmark-link:http://www.nisonic.com>www.nisonic.com<http://www.nisonic.com>http://www.nisonic.com>www.nisonic.com<http://www.nisonic.com</denchmark-link>\n >\n <denchmark-link:#>\u2026</denchmark-link>\n \n \n ________________________________\n From: Erik Smistad <notifications@github.com>\n Sent: Tuesday, February 11, 2020 12:15\n To: smistad/FAST <FAST@noreply.github.com>\n Cc: Roar Larsen <roar@nisonic.com>; Author <author@noreply.github.com>\n Subject: Re: [smistad/FAST] getDirectoryList fails on Windows for directories with additional attributes (#129)\n \n \n I see.. FILE_ATTRIBUTE_DIRECTORY is a mask.\n \n But dwFileAttributes may have multiple 1s, so shouldn't the comparison then be either: (data.dwFileAttributes & FILE_ATTRIBUTE_DIRECTORY) != 0 or (data.dwFileAttributes & FILE_ATTRIBUTE_DIRECTORY) == 16, since FILE_ATTRIBUTE_DIRECTORY has value 16 (hex 0x10). Because the comparison data.dwFileAttributes & FILE_ATTRIBUTE_DIRECTORY only have two outcomes 0 or 16.\n \n Perhaps 0 becomes false and 16 becomes true in an if statement in C++? Probably better to be exact in the comparison though\n \n \u2014\n You are receiving this because you authored the thread.\n Reply to this email directly, view it on GitHub<#129?email_source=notifications&email_token=ALGRZEWSVFMVRVJE7JJRL4TRCKCGXA5CNFSM4KS3ZDMKYY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOELMBOHA#issuecomment-584587036>, or unsubscribe<https://github.com/notifications/unsubscribe-auth/ALGRZEQYMW4W5W3YAXUZWVDRCKCGXANCNFSM4KS3ZDMA>.\n \n \t\t"}}}, "commit": {"commit_id": "eb351ebfa41dd1b830c1aa4b6ca60d0f3acb4e33", "commit_author": "Erik Smistad", "commitT": "2020-02-12 10:32:16+01:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "source\\FAST\\Utility.cpp", "file_new_name": "source\\FAST\\Utility.cpp", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "728", "deleted_lines": "728", "method_info": {"method_name": "fast::getDirectoryList", "method_params": "path,getFiles,getDirectories", "method_startline": "715", "method_endline": "760"}}}}}}}