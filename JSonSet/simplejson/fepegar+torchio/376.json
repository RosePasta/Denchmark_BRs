{"BR": {"BR_id": "376", "BR_author": "romainVala", "BRopenT": "2020-12-10T18:12:06Z", "BRcloseT": "2020-12-11T09:19:04Z", "BR_text": {"BRsummary": "NaN appear in Padding, when using history", "BRdescription": "\n \ud83d\udc1bBug\n Hi\n a small one, but a funny one, related to how the internal change of the padding_mode (from int to string) is not clear enough ... for history !\n To reproduce\n # Your code here\n import torchio as tio\n s=tio.datasets.Colin27()\n t=tio.CropOrPad(target_shape=[182,218,182] ,padding_mode =4)\n st=t(s)\n st_again=st.history[0](s)\n print('what is the padding default? {} not {}'.format(st.t1.data[0,0,0,0],st_again.t1.data[0,0,0,0]))\n # Your errors here\n what is the padding default? 4.0 not nan\n st.history\n Out[6]: [Pad(padding=(1, 0, 1, 0, 1, 0), padding_mode=constant)]\n \n Expected behavior\n Actual behavior\n TorchIO version\n \t"}, "comments": {}}, "commit": {"commit_id": "729305135bc31bfac033e5a19472f5d195340de1", "commit_author": "valabregue", "commitT": "2020-12-11 09:19:03+00:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "tests\\transforms\\preprocessing\\test_pad.py", "file_new_name": "tests\\transforms\\preprocessing\\test_pad.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "16", "deleted_lines": "15", "method_info": {"method_name": "test_pad", "method_params": "self", "method_startline": "10", "method_endline": "20"}}, "hunk_1": {"Ismethod": 1, "added_lines": "22,23,24,25", "deleted_lines": null, "method_info": {"method_name": "test_nans_history", "method_params": "self", "method_startline": "22", "method_endline": "25"}}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 3, "file_old_name": "torchio\\transforms\\preprocessing\\spatial\\pad.py", "file_new_name": "torchio\\transforms\\preprocessing\\spatial\\pad.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "64,65", "deleted_lines": "64,65,66,67,68,69", "method_info": {"method_name": "check_padding_mode", "method_params": "cls,padding_mode", "method_startline": "64", "method_endline": "70"}}, "hunk_1": {"Ismethod": 1, "added_lines": "78,79,80,81,82", "deleted_lines": "75,83,84,85", "method_info": {"method_name": "apply_transform", "method_params": "self,Subject", "method_startline": "72", "method_endline": "88"}}, "hunk_2": {"Ismethod": 1, "added_lines": "64,65", "deleted_lines": "63,64,65,66,67,68,69,75", "method_info": {"method_name": "parse_padding_mode", "method_params": "cls,padding_mode", "method_startline": "63", "method_endline": "75"}}}}}}}