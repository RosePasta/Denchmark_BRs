{"BR": {"BR_id": "703", "BR_author": "goodok", "BRopenT": "2020-01-17T13:59:28Z", "BRcloseT": "2020-01-20T19:50:57Z", "BR_text": {"BRsummary": "Fitting with log_gpu_memory=True fails in python3.6.", "BRdescription": "\n <denchmark-h:h2>Bug</denchmark-h>\n \n Fitting with log_gpu_memory=True in the Trainer fails in python3.6 version.\n <denchmark-h:h3>To Reproduce</denchmark-h>\n \n \n Use python3.6 version\n Create any trainer with log_gpu_memory=True option.\n Then fit it.\n See error:\n \n <denchmark-code>/a/pytorch-lightning/pytorch_lightning/core/memory.py in get_gpu_memory_map()\n     237         encoding='utf-8',\n     238         capture_output=True,\n --> 239         check=True)\n     240     # Convert lines into a dictionary\n     241     gpu_memory = [int(x) for x in result.stdout.strip().split(os.linesep)]\n \n /usr/lib/python3.6/subprocess.py in run(input, timeout, check, *popenargs, **kwargs)\n     421         kwargs['stdin'] = PIPE\n     422 \n --> 423     with Popen(*popenargs, **kwargs) as process:\n     424         try:\n     425             stdout, stderr = process.communicate(input, timeout=timeout)\n \n TypeError: __init__() got an unexpected keyword argument 'capture_output'\n \n </denchmark-code>\n \n <denchmark-h:h4>Code sample</denchmark-h>\n \n <denchmark-code>trainer = Trainer(\n     log_gpu_memory=True,\n    # ....\n )\n trainer.fit()\n </denchmark-code>\n \n <denchmark-h:h3>Expected behavior</denchmark-h>\n \n For the same code there is no errors for python3.7\n <denchmark-h:h3>Environment</denchmark-h>\n \n pytorch:          1.2.0\n Ubuntu 18.04\n pytorch-lightning:\n - installed to pip environment\n - commit <denchmark-link:https://github.com/PyTorchLightning/pytorch-lightning/commit/7a1df80f4e98fca82478dbfde2ba91f677218691>7a1df80</denchmark-link>\n \n - python setup.py develop\n - version 0.6.0\n python:         3.6.8\n cuda: 10.0, V10.0.130\n cudnn:          7.6.2\n GPU: RTX 2080 TI\n <denchmark-h:h3>Additional context</denchmark-h>\n \n In the setup.py\n python_requires='>=3.6',\n But   is used in   calling, which is valid only for python3.7\n See also workaround to maintain python3.6:\n <denchmark-link:https://stackoverflow.com/questions/53209127/>https://stackoverflow.com/questions/53209127/</denchmark-link>\n \n \t"}, "comments": {}}, "commit": {"commit_id": "06242c200a318a37d1f882c786e60354ec04533f", "commit_author": "Alexey U. Gudchenko", "commitT": "2020-01-20 14:50:57-05:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "pytorch_lightning\\core\\memory.py", "file_new_name": "pytorch_lightning\\core\\memory.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "239,240", "deleted_lines": "238", "method_info": {"method_name": "get_gpu_memory_map", "method_params": "", "method_startline": "223", "method_endline": "245"}}}}}}}