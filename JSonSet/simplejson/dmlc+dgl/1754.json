{"BR": {"BR_id": "1754", "BR_author": "toooooodo", "BRopenT": "2020-07-06T09:51:33Z", "BRcloseT": "2020-07-12T05:32:59Z", "BR_text": {"BRsummary": "[Bug] SAGEConv Fails to Handle Graph without Edges", "BRdescription": "\n <denchmark-h:h2>\ud83d\udc1b Bug</denchmark-h>\n \n <denchmark-h:h2>To Reproduce</denchmark-h>\n \n g = dgl.DGLGraph()\n g.add_nodes(5)\n model = SAGEConv(in_feats=5, out_feats=5, aggregator_type='mean')\n output = model(g, torch.randn([5, 5]))\n get error KeyError: 'neigh'\n <denchmark-h:h2>Expected behavior</denchmark-h>\n \n In the above case, there is no edge in graph, so the message passing process does not take place and neigh is not in nodes' features. But it seems unreasonable to report an error.\n <denchmark-h:h2>Environment</denchmark-h>\n \n \n DGL Version (e.g., 1.0): 0.4.3\n Backend Library & Version (e.g., PyTorch 0.4.1, MXNet/Gluon 1.3): PyTorch 1.4.0\n Python version: 3.7\n \n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "toooooodo", "commentT": "2020-07-10T20:05:45Z", "comment_text": "\n \t\tHi, thank you for the report. I agree this should be fixed.\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "toooooodo", "commentT": "2020-07-12T05:32:59Z", "comment_text": "\n \t\tThis shall be addressed in <denchmark-link:https://github.com/dmlc/dgl/pull/1792>#1792</denchmark-link>\n  and you can have that feature by installing from source.\n \t\t"}}}, "commit": {"commit_id": "fb9d213848a91bfb03bf40b430de03934b59aeaf", "commit_author": "Mufei Li", "commitT": "2020-07-12 13:32:14+08:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "python\\dgl\\nn\\mxnet\\conv\\sageconv.py", "file_new_name": "python\\dgl\\nn\\mxnet\\conv\\sageconv.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "110,111,112,113,114,115", "deleted_lines": null, "method_info": {"method_name": "forward", "method_params": "self,graph,feat", "method_startline": "81", "method_endline": "148"}}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "python\\dgl\\nn\\pytorch\\conv\\sageconv.py", "file_new_name": "python\\dgl\\nn\\pytorch\\conv\\sageconv.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "128,129,130,131,132", "deleted_lines": null, "method_info": {"method_name": "forward", "method_params": "self,graph,feat", "method_startline": "99", "method_endline": "167"}}}}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "python\\dgl\\nn\\tensorflow\\conv\\sageconv.py", "file_new_name": "python\\dgl\\nn\\tensorflow\\conv\\sageconv.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "113,114,115,116,117", "deleted_lines": null, "method_info": {"method_name": "call", "method_params": "self,graph,feat", "method_startline": "84", "method_endline": "153"}}}}, "file_3": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "tests\\mxnet\\test_nn.py", "file_new_name": "tests\\mxnet\\test_nn.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "193,194,195,196,197,198,199,200,201,202,203,204,205,206,207", "deleted_lines": null, "method_info": {"method_name": "test_sage_conv", "method_params": "aggre_type", "method_startline": "168", "method_endline": "207"}}}}, "file_4": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "tests\\pytorch\\test_nn.py", "file_new_name": "tests\\pytorch\\test_nn.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "489,490,491,492,493,494,495,496,497,498,499,500,501,502,503", "deleted_lines": null, "method_info": {"method_name": "test_sage_conv", "method_params": "aggre_type", "method_startline": "464", "method_endline": "503"}}}}, "file_5": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "tests\\tensorflow\\test_nn.py", "file_new_name": "tests\\tensorflow\\test_nn.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "381,382,383,384,385,386,387,388,389,390,391,392,393", "deleted_lines": null, "method_info": {"method_name": "test_sage_conv", "method_params": "aggre_type", "method_startline": "359", "method_endline": "393"}}}}}}}