{"BR": {"BR_id": "17", "BR_author": "PR-Iyyer", "BRopenT": "2018-03-10T18:57:09Z", "BRcloseT": "2018-03-12T22:29:25Z", "BR_text": {"BRsummary": "GapClassificationDM giving this error", "BRdescription": "\n Hi,\n Actually, similar error here also.\n ValueError                                Traceback (most recent call last)\n  in ()\n 3 LAST_INDEX = 0\n 4 # Class cycling through text positions\n ----> 5 cycler = Cycler(crop, bBoxes, LAST_INDEX)\n  in init(self, image, boxes, idx)\n 33                              VBox([bNex, bNexi])])\n 34\n ---> 35         self.nextImgButton()\n 36\n 37     def saveLetter(self, b):\n  in nextImgButton(self, b)\n 109         clear_output()\n 110         display(self.buttons)\n --> 111         self.nextImg()\n 112\n 113     def nextImg(self):\n  in nextImg(self)\n 128             self.actual = imageNorm(img, self.height, borderSize=int(self.width/2))\n 129             implt(self.actual, 'gray', 'Preprocess')\n --> 130             self.segment()\n 131\n 132             # Printing index for recovery\n  in segment(self)\n 58 #             img = img[:, self.width//2-15: self.width//2+15]\n 59\n ---> 60             if charSeg.classify(img)[0] == 1:\n 61                 cv2.line(ii,\n 62                         ((int)(pos+self.width/2),0),\n ~\\OneDrive\\handwriting-ocr-master\\ocr\\charSeg.py in classify(img, step, RNN)\n 29         input_seq[:] = [img[:, loc * step: loc * step + slider[1]].flatten()\n 30                         for loc in range(length)]\n ---> 31         pred = segCNNGraph.run(input_seq)\n 32\n 33     return pred\n ~\\OneDrive\\handwriting-ocr-master\\ocr\\tfhelpers.py in run(self, data)\n 27     def run(self, data):\n 28         \"\"\" Run the specified operation on given data \"\"\"\n ---> 29         return self.sess.run(self.op, feed_dict={self.input: data})\n 30\n 31     def eval_feed(self, feed):\n C:\\ProgramData\\Anaconda3\\lib\\site-packages\\tensorflow\\python\\client\\session.py in run(self, fetches, feed_dict, options, run_metadata)\n 893     try:\n 894       result = self._run(None, fetches, feed_dict, options_ptr,\n --> 895                          run_metadata_ptr)\n 896       if run_metadata:\n 897         proto_data = tf_session.TF_GetBuffer(run_metadata_ptr)\n C:\\ProgramData\\Anaconda3\\lib\\site-packages\\tensorflow\\python\\client\\session.py in _run(self, handle, fetches, feed_dict, options, run_metadata)\n 1102                 'Cannot feed value of shape %r for Tensor %r, '\n 1103                 'which has shape %r'\n -> 1104                 % (np_val.shape, subfeed_t.name, str(subfeed_t.get_shape())))\n 1105           if not self.graph.is_feedable(subfeed_t):\n 1106             raise ValueError('Tensor %s may not be fed.' % subfeed_t)\n ValueError: Cannot feed value of shape (31, 3600) for Tensor 'x:0', which has shape '(?, 1800)'\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "PR-Iyyer", "commentT": "2018-03-11T22:32:37Z", "comment_text": "\n \t\tI will take a look at it as soon as possible.\n It looks like you are feeding images of wrong shape into the model. I was training Gap Classifier on different image sizes (this looks like 60x30 px). It should work if you change slider variable to (60, 30).\n However, the code of GapClassificationDM.ipynb is outdated (it worked with old charSeg.classify() function). I will update it.\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "PR-Iyyer", "commentT": "2018-03-12T10:18:24Z", "comment_text": "\n \t\tok.. Please update it. willl check into our image's size as well.\n for labelling of images, we are using IAM dataset only.\n \t\t"}, "comments_2": {"comment_id": 3, "comment_author": "PR-Iyyer", "commentT": "2018-03-12T22:30:48Z", "comment_text": "\n \t\tI updated the code. It works with my pre-trained models.\n Plus the classification is there only for demonstration.\n \t\t"}}}, "commit": {"commit_id": "fcbbe235a0f4f8e52325468fc0a9769c79df5225", "commit_author": "Breta01", "commitT": "2018-03-12 23:29:15+01:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "GapClassificationDM.ipynb", "file_new_name": "GapClassificationDM.ipynb", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "16,17,18,19,20,21,22,23,30,63,83,85,104,106,114,116,139,140,147,159,189,190,244,245,260,266,273,280,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,326,340,341,344,345,346,347,348,349,350,351,352,388", "deleted_lines": "22,23,56,57,58,78,80,99,101,109,111,134,135,136,137,144,145,146,158,159,160,165,167,171,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,267,282,288,295,302,308,318,319,333,334,335,336,374"}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 3, "file_old_name": "ocr\\charSeg.py", "file_new_name": "ocr\\charSeg.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "38,39,40,41,43,44,46,53,79,88", "deleted_lines": "39,40,41,43,46,52,78,87", "method_info": {"method_name": "segmentation", "method_params": "img,step,RNN,debug", "method_startline": "34", "method_endline": "92"}}, "hunk_1": {"Ismethod": 1, "added_lines": "15,16", "deleted_lines": "15,16,17", "method_info": {"method_name": "classify", "method_params": "img,step,RNN", "method_startline": "15", "method_endline": "32"}}, "hunk_2": {"Ismethod": 1, "added_lines": "15,16", "deleted_lines": "15,16,17", "method_info": {"method_name": "classify", "method_params": "img,step,RNN,slider,60", "method_startline": "15", "method_endline": "31"}}}}}}}