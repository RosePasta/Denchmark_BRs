{"BR": {"BR_id": "1689", "BR_author": "akashsharma02", "BRopenT": "2020-04-07T22:50:12Z", "BRcloseT": "2020-04-19T02:17:56Z", "BR_text": {"BRsummary": "RGBDOdometry with RGBD frames with convert_rgbd_to_intensity=False", "BRdescription": "\n Describe the bug\n Why is it necessary for RGBD odometry to only support RGBD images which have convert_rgbd_to_intensity=True?\n When I run RGBD odometry with two frames having color information, I get a Open3D warning for incorrect image sizes. I think, either the warning must be improved or support for this must be added.\n From code I observe that:\n <denchmark-code>inline bool CheckRGBDImagePair(const geometry::RGBDImage &source,\n                                 const geometry::RGBDImage &target) \n       return (CheckImagePair(source.color_, target.color_) &&\n                   CheckImagePair(source.depth_, target.depth_) &&\n                   CheckImagePair(source.color_, source.depth_) &&\n                   CheckImagePair(target.color_, target.depth_) &&\n                   CheckImagePair(source.color_, target.color_) &&\n                   source.color_.num_of_channels_ == 1 &&\n                   source.depth_.num_of_channels_ == 1 &&\n                   target.color_.num_of_channels_ == 1 &&\n                   target.depth_.num_of_channels_ == 1 &&\n                   source.color_.bytes_per_channel_ == 4 &&\n                   target.color_.bytes_per_channel_ == 4 &&\n                   source.depth_.bytes_per_channel_ == 4 &&\n                   target.depth_.bytes_per_channel_ == 4);\n </denchmark-code>\n \n Expected behavior\n Compute odometry regardless of num of channels in the source/target color images.\n Screenshots\n Environment (please complete the following information):\n \n OS: Ubuntu 18.04 LTS\n Python version: 3.7 (But using C++ API)\n Open3D version: master\n Is this remote workstation?: no\n How did you install Open3D?: build_from_source (GCC 7 build, static library with build_dependency_from_source=off)\n \n \t"}, "comments": {}}, "commit": {"commit_id": "08d6d40bcddc0317ed655d880bc87e6a18cbfd84", "commit_author": "Akash Sharma", "commitT": "2020-04-16 18:14:31-07:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 3, "file_old_name": "src\\Open3D\\Odometry\\Odometry.cpp", "file_new_name": "src\\Open3D\\Odometry\\Odometry.cpp", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "354,355,356", "deleted_lines": "355,356", "method_info": {"method_name": "open3d::IsColorImageRGB", "method_params": "image", "method_startline": "354", "method_endline": "356"}}, "hunk_1": {"Ismethod": 1, "added_lines": "401,402,403,404,405,406,407,408,409,411,413", "deleted_lines": null, "method_info": {"method_name": "open3d::InitializeRGBDOdometry", "method_params": "source,target,pinhole_camera_intrinsic,odo_init,option", "method_startline": "395", "method_endline": "429"}}, "hunk_2": {"Ismethod": 1, "added_lines": "360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,384,385,386,387,388,389,390", "deleted_lines": "358,359,360,361,362,363,364,365,366,367,379,381", "method_info": {"method_name": "open3d::CheckRGBDImagePair", "method_params": "source,target", "method_startline": "358", "method_endline": "391"}}}}}}}