{"BR": {"BR_id": "1636", "BR_author": "christianbrugger", "BRopenT": "2020-03-19T12:01:41Z", "BRcloseT": "2020-03-19T18:23:08Z", "BR_text": {"BRsummary": "segment_plane crashes when len(pcd.points) &lt; ransac_n", "BRdescription": "\n Call segment_plane on a pointcloud with less points than ransac_n points leads to a segmentation fault.\n To Reproduce\n Here is an example with ransac_n = 3 and 1 points:\n import open3d as o3d \n import numpy as np\n \n a = np.zeros((1, 3), float)\n pcd = o3d.geometry.PointCloud()\n pcd.points = o3d.utility.Vector3dVector(a)\n \n res = pcd.segment_plane(distance_threshold=0.1, ransac_n=3, num_iterations=100)\n print(res)\n This will print\n <denchmark-code>Segmentation fault (core dumped)\n </denchmark-code>\n \n Expected behavior\n Raise a Python exception.\n Environment:\n \n OS: Ubuntu 16.04\n Python version: 2.7.12\n Open3D version: 0.9.0.0\n Is this remote workstation?: no\n How did you install Open3D?: pip\n \n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "christianbrugger", "commentT": "2020-03-19T18:23:08Z", "comment_text": "\n \t\tThanks for the code example. The bugfix <denchmark-link:https://github.com/intel-isl/Open3D/pull/1637>#1637</denchmark-link>\n  is now in the master branch.\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "christianbrugger", "commentT": "2020-03-20T18:30:17Z", "comment_text": "\n \t\tThanks for the quick response Benjamin. I had a look at your commit. Can you make sure it also works with the following example?\n import open3d as o3d \n import numpy as np\n \n a = np.zeros((100, 3), float)\n pcd = o3d.geometry.PointCloud()\n pcd.points = o3d.utility.Vector3dVector(a)\n \n res = pcd.segment_plane(distance_threshold=0.1, ransac_n=200, num_iterations=100)\n print(res)\n \t\t"}, "comments_2": {"comment_id": 3, "comment_author": "christianbrugger", "commentT": "2020-03-22T07:03:21Z", "comment_text": "\n \t\tYes, the new example generates a python exception.\n \t\t"}, "comments_3": {"comment_id": 4, "comment_author": "christianbrugger", "commentT": "2020-03-22T12:22:33Z", "comment_text": "\n \t\tPerfect, thanks for checking.\n \t\t"}}}, "commit": {"commit_id": "e1b0aa6f483769c258aa217a4f883fd1f7d67e6f", "commit_author": "Benjamin Ummenhofer", "commitT": "2020-03-19 16:00:43+01:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "src\\Open3D\\Geometry\\PointCloudSegmentation.cpp", "file_new_name": "src\\Open3D\\Geometry\\PointCloudSegmentation.cpp", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "164,165,166,167", "deleted_lines": null, "method_info": {"method_name": "open3d::geometry::PointCloud::SegmentPlane", "method_params": "distance_threshold,ransac_n,num_iterations", "method_startline": "136", "method_endline": "216"}}}}}}}