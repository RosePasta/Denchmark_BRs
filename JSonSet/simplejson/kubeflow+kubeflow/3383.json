{"BR": {"BR_id": "3383", "BR_author": "holdenk", "BRopenT": "2019-06-01T00:06:27Z", "BRcloseT": "2019-08-30T18:57:47Z", "BR_text": {"BRsummary": "Building with `all=-N` tries to overwrite files in go installation", "BRdescription": "\n We can just build with all=-N appears to try and rebuild go core libraries without optimizations resulting in permission denied errors when not running as root.\n \n make build-kfctl\n go build -i -gcflags 'all=-N -l' -ldflags \"-X main.VERSION=v0-164-g390a3381\" -o bin/kfctl cmd/kfctl/main.go\n go build errors: open /usr/local/go/pkg/linux_amd64/errors.a: permission denied\n go build runtime/internal/atomic: open /usr/local/go/pkg/linux_amd64/runtime/internal/atomic.a: permission denied\n go build internal/cpu: open /usr/local/go/pkg/linux_amd64/internal/cpu.a: permission denied\n go build math/bits: open /usr/local/go/pkg/linux_amd64/math/bits.a: permission denied\n go build runtime/internal/sys: open /usr/local/go/pkg/linux_amd64/runtime/internal/sys.a: permission denied\n go build internal/race: open /usr/local/go/pkg/linux_amd64/internal/race.a: permission denied\n go build unicode/utf8: open /usr/local/go/pkg/linux_amd64/unicode/utf8.a: permission denied\n go build sync/atomic: open /usr/local/go/pkg/linux_amd64/sync/atomic.a: permission denied\n go build encoding: open /usr/local/go/pkg/linux_amd64/encoding.a: permission denied\n go build unicode/utf16: open /usr/local/go/pkg/linux_amd64/unicode/utf16.a: permission denied\n go build container/list: open /usr/local/go/pkg/linux_amd64/container/list.a: permission denied\n go build unicode: open /usr/local/go/pkg/linux_amd64/unicode.a: permission denied\n go build crypto/internal/subtle: open /usr/local/go/pkg/linux_amd64/crypto/internal/subtle.a: permission denied\n go build internal/x/crypto/cryptobyte/asn1: open /usr/local/go/pkg/linux_amd64/internal/x/crypto/cryptobyte/asn1.a: permission denied\n go build crypto/subtle: open /usr/local/go/pkg/linux_amd64/crypto/subtle.a: permission denied\n go build internal/nettrace: open /usr/local/go/pkg/linux_amd64/internal/nettrace.a: permission denied\n go build runtime/cgo: open /usr/local/go/pkg/linux_amd64/runtime/cgo.a: permission denied\n go build internal/x/crypto/curve25519: open /usr/local/go/pkg/linux_amd64/internal/x/crypto/curve25519.a: permission denied\n make: *** [Makefile:91: build-kfctl] Error 1\n \n Instead we can try building with -N instead of all=-N.\n \n make build-kfctl && echo $?\n go build -i -gcflags '-N -l' -ldflags \"-X main.VERSION=v0-164-g390a3381\" -o bin/kfctl cmd/kfctl/main.go\n 0\n \n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "holdenk", "commentT": "2019-06-01T00:06:29Z", "comment_text": "\n \t\tIssue-Label Bot is automatically applying the label kind/bug to this issue, with a confidence of 0.94. Please mark this comment with \ud83d\udc4d or \ud83d\udc4e to give our bot feedback!\n Links: <denchmark-link:https://github.com/marketplace/issue-label-bot>app homepage</denchmark-link>\n , <denchmark-link:https://mlbot.net/data/kubeflow/kubeflow>dashboard</denchmark-link>\n  and <denchmark-link:https://github.com/hamelsmu/MLapp>code</denchmark-link>\n  for this bot.\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "holdenk", "commentT": "2019-08-30T00:59:01Z", "comment_text": "\n \t\tThis issue has been automatically marked as stale because it has not had recent activity. It will be closed if no further activity occurs. Thank you for your contributions.\n \t\t"}, "comments_2": {"comment_id": 3, "comment_author": "holdenk", "commentT": "2019-08-30T18:57:46Z", "comment_text": "\n \t\tFixed by <denchmark-link:https://github.com/kubeflow/kubeflow/pull/3385>#3385</denchmark-link>\n \n /close\n \t\t"}, "comments_3": {"comment_id": 4, "comment_author": "holdenk", "commentT": "2019-08-30T18:57:47Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/yanniszark>@yanniszark</denchmark-link>\n : Closing this issue.\n \n In response to this:\n \n Fixed by #3385\n /close\n \n Instructions for interacting with me using PR comments are available here.  If you have questions or suggestions related to my behavior, please file an issue against the kubernetes/test-infra repository.\n \n \t\t"}}}, "commit": {"commit_id": "7a81f915adea12232a4dd75c321195aa86fbedf1", "commit_author": "Holden Karau", "commitT": "2019-07-24 14:37:51-07:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "bootstrap\\Makefile", "file_new_name": "bootstrap\\Makefile", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "37,88,91,114", "deleted_lines": "37,88,91,114"}}}}}}