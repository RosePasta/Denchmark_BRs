{"BR": {"BR_id": "3155", "BR_author": "jlewi", "BRopenT": "2019-04-30T18:11:09Z", "BRcloseT": "2019-05-14T23:25:19Z", "BR_text": {"BRsummary": "jupyter-web-app script needs to set the git email so that the CLA check passes", "BRdescription": "\n Here's a script we wrote to automatically build the Jupyter Web App Docker image and then create a PR to update the component.\n <denchmark-link:https://github.com/kubeflow/kubeflow/blob/master/py/kubeflow/kubeflow/ci/update_jupyter_web_app.py>https://github.com/kubeflow/kubeflow/blob/master/py/kubeflow/kubeflow/ci/update_jupyter_web_app.py</denchmark-link>\n \n The script runs as a cron job.\n <denchmark-link:https://github.com/kubeflow/kubeflow/blob/master/releasing/auto-update/README.md>https://github.com/kubeflow/kubeflow/blob/master/releasing/auto-update/README.md</denchmark-link>\n \n The script however isn't setting the email correctly on the git commits; the email is currently set to root. As a result, the CLA check is failing because the author doesn't match the account the PR is submitted from.\n Here's a sample PR\n <denchmark-link:https://github.com/kubeflow/kubeflow/pull/3144/commits>https://github.com/kubeflow/kubeflow/pull/3144/commits</denchmark-link>\n \n We need to update the script to set the commit author so that the CLA check will pass.\n Follow on to <denchmark-link:https://github.com/kubeflow/kubeflow/issues/2206>#2206</denchmark-link>\n \n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "jlewi", "commentT": "2019-04-30T18:11:12Z", "comment_text": "\n \t\tIssue-Label Bot is automatically applying the label kind/bug to this issue, with a confidence of 0.86. Please mark this comment with \ud83d\udc4d or \ud83d\udc4e to give our bot feedback!\n Links: <denchmark-link:https://github.com/marketplace/issue-label-bot>app homepage</denchmark-link>\n , <denchmark-link:https://mlbot.net/data/kubeflow/kubeflow>dashboard</denchmark-link>\n  and <denchmark-link:https://github.com/hamelsmu/MLapp>code</denchmark-link>\n  for this bot.\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "jlewi", "commentT": "2019-05-14T15:09:18Z", "comment_text": "\n \t\tWe can use environment variables.\n <denchmark-link:https://git-scm.com/book/en/v2/Git-Internals-Environment-Variables>https://git-scm.com/book/en/v2/Git-Internals-Environment-Variables</denchmark-link>\n \n \t\t"}, "comments_2": {"comment_id": 3, "comment_author": "jlewi", "commentT": "2019-05-14T15:23:22Z", "comment_text": "\n \t\tHere's a PR with the CLA check passing after setting the environment variables.\n <denchmark-link:https://github.com/kubeflow/kubeflow/pull/3257>#3257</denchmark-link>\n \n \t\t"}, "comments_3": {"comment_id": 4, "comment_author": "jlewi", "commentT": "2019-05-14T23:25:19Z", "comment_text": "\n \t\tCLA check is passing.\n Example PR\n <denchmark-link:https://github.com/kubeflow/kubeflow/pull/3257>#3257</denchmark-link>\n \n \t\t"}}}, "commit": {"commit_id": "4b1ae00a997cd83b114c5b00d53a0928cdbcb81c", "commit_author": "Jeremy Lewi", "commitT": "2019-05-14 09:57:13-07:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "releasing\\auto-update\\update_job.yaml", "file_new_name": "releasing\\auto-update\\update_job.yaml", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "53,54,55,56", "deleted_lines": "53,54"}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "releasing\\auto-update\\update_job_cron.yaml", "file_new_name": "releasing\\auto-update\\update_job_cron.yaml", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "57,58,59,60", "deleted_lines": null}}}}}}