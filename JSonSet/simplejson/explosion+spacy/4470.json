{"BR": {"BR_id": "4470", "BR_author": "regel", "BRopenT": "2019-10-18T13:12:13Z", "BRcloseT": "2019-10-18T16:13:00Z", "BR_text": {"BRsummary": "converting IOB2 file writes invalid characters to stdout", "BRdescription": "\n <denchmark-h:h2>How to reproduce the behaviour</denchmark-h>\n \n Writing to stdout (-) with spacy convert produces invalid characters.\n Standard shell redirect cannot be used to create the output file since the JSON file is corrupted. I guess the \"information\" messages should be printed to stderr rather than stdout and this will fix the issue.\n <denchmark-code>(venv) $ spacy convert -c iob -s -n 10 -l de sentences.iob - > bug.json\n (venv) $ head bug.json \n \u2139 Auto-detected token-per-line NER format\n \u2139 Grouping every 10 sentences into a document.\n \u2139 Segmenting sentences with sentencizer. (Use `-b model` for improved\n parser-based sentence segmentation.)\n [\n   {\n     \"id\":0,\n     \"paragraphs\":[\n       {\n ...\n </denchmark-code>\n \n <denchmark-h:h2>Your Environment</denchmark-h>\n \n \n Operating System: CentOS Linux release 7.7.1908 (Core)\n Python Version Used: python 3.6\n spaCy Version Used: spacy==2.2.1\n Environment Information: virtualenv\n \n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "regel", "commentT": "2019-11-17T16:54:31Z", "comment_text": "\n \t\tThis thread has been automatically locked since there has not been any recent activity after it was closed. Please open a new issue for related bugs.\n \t\t"}}}, "commit": {"commit_id": "8d3de90bc40c98b5b8397a8ab15de966de491a08", "commit_author": "adrianeboyd", "commitT": "2019-10-18 18:12:59+02:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "spacy\\cli\\convert.py", "file_new_name": "spacy\\cli\\convert.py", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "60,61,106", "deleted_lines": "60"}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "spacy\\cli\\converters\\conll_ner2json.py", "file_new_name": "spacy\\cli\\converters\\conll_ner2json.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "12,37", "deleted_lines": "12,37", "method_info": {"method_name": "conll_ner2json", "method_params": "input_data,n_sents,seg_sents,model,kwargs", "method_startline": "12", "method_endline": "122"}}, "hunk_1": {"Ismethod": 1, "added_lines": "12,37", "deleted_lines": "12,37", "method_info": {"method_name": "conll_ner2json", "method_params": "input_data,n_sents,seg_sents,model,no_print,kwargs", "method_startline": "12", "method_endline": "122"}}}}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "spacy\\cli\\converters\\iob2json.py", "file_new_name": "spacy\\cli\\converters\\iob2json.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "11,23", "deleted_lines": "11,23", "method_info": {"method_name": "iob2json", "method_params": "input_data,n_sents,no_print,args,kwargs", "method_startline": "11", "method_endline": "28"}}, "hunk_1": {"Ismethod": 1, "added_lines": "11,23", "deleted_lines": "11,23", "method_info": {"method_name": "iob2json", "method_params": "input_data,n_sents,args,kwargs", "method_startline": "11", "method_endline": "28"}}}}}}}