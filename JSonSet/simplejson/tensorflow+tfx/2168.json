{"BR": {"BR_id": "2168", "BR_author": "alexlatchford", "BRopenT": "2020-07-16T19:58:35Z", "BRcloseT": "2020-07-22T09:04:46Z", "BR_text": {"BRsummary": "Bug: Deleted tfx/BUILD after git clone", "BRdescription": "\n <denchmark-code> \u2718 \ue0b0 ~/Code/kubeflow \ue0b0 git clone https://github.com/tensorflow/tfx.git --verbose\n Cloning into 'tfx'...\n POST git-upload-pack (gzip 13415 to 6658 bytes)\n remote: Enumerating objects: 13, done.\n remote: Counting objects: 100% (13/13), done.\n remote: Compressing objects: 100% (13/13), done.\n remote: Total 19658 (delta 2), reused 3 (delta 0), pack-reused 19645\n Receiving objects: 100% (19658/19658), 175.09 MiB | 5.57 MiB/s, done.\n Resolving deltas: 100% (14631/14631), done.\n  ~/Code/kubeflow \ue0b0 cd tfx\n  ~/Code/kubeflow/tfx \ue0b0 \ue0a0 master \u25cf \ue0b0 git status\n On branch master\n Your branch is up to date with 'origin/master'.\n Changes not staged for commit:\n   (use \"git add/rm <file>...\" to update what will be committed)\n   (use \"git checkout -- <file>...\" to discard changes in working directory)\n \tdeleted:    tfx/BUILD\n no changes added to commit (use \"git add\" and/or \"git commit -a\")\n </denchmark-code>\n \n I cloned this repo without problems yesterday (or maybe 14th) so guessing something has happened between that timeframe.\n My env:\n \n Mac OS X 10.15\n git 2.18.0\n \n As far as I'm aware there are no git hooks in the tfx repo, I got a co-worker to recreate this on his machine so don't think it's my laptop unless I missed some requirement I need to pre-install.\n <denchmark-h:hr></denchmark-h>\n \n I was investigating <denchmark-link:https://travis-ci.com/github/kubeflow/pipelines/jobs/361767089>this build failure</denchmark-link>\n  for  so guessing it may be affecting the Travis CI build machines too.\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "alexlatchford", "commentT": "2020-07-16T20:05:45Z", "comment_text": "\n \t\tEven stranger looks like any attempts I make to run git reset fail and actually make it a different error \ud83d\ude13 :\n <denchmark-code> ~/Code/kubeflow/tfx \ue0b0 \ue0a0 master \u25cf \ue0b0 git reset --hard\n HEAD is now at 22b50ab6 Merge pull request #2104 from 18jeffreyma:master\n  ~/Code/kubeflow/tfx \ue0b0 \ue0a0 master \u25cf \ue0b0 git status\n On branch master\n Your branch is up to date with 'origin/master'.\n \n Changes not staged for commit:\n   (use \"git add/rm <file>...\" to update what will be committed)\n   (use \"git checkout -- <file>...\" to discard changes in working directory)\n \n \tdeleted:    tfx/build/BUILD\n \tdeleted:    tfx/build/gen_proto.sh\n \n no changes added to commit (use \"git add\" and/or \"git commit -a\")\n </denchmark-code>\n \n Also can't seem to get rid of these unstaged changes using git checkout -- tfx/BUILD \ud83d\ude15\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "alexlatchford", "commentT": "2020-07-16T20:08:48Z", "comment_text": "\n \t\tLooking through the commits going to guess this is related to <denchmark-link:https://github.com/tensorflow/tfx/commit/96a3f4fa81e6f02e49c698e9bd216a13925b69b3>96a3f4f</denchmark-link>\n \n Apologies if I've missed something I needed to do.\n cc <denchmark-link:https://github.com/chongkong>@chongkong</denchmark-link>\n \n <denchmark-h:hr></denchmark-h>\n \n In case this matters I'm using a pretty old version of Bazel to ensure it can work with the kubeflow/pipelines repo:\n <denchmark-code> \u2718 \ue0b0 ~/Code/kubeflow/tfx-043b2b7e93c31f36ab205826953d4c233c74d7df \ue0b0 bazel version\n Starting local Bazel server and connecting to it...\n Build label: 0.23.1\n Build target: bazel-out/darwin-opt/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\n Build time: Mon Mar 4 10:40:32 2019 (1551696032)\n Build timestamp: 1551696032\n Build timestamp as int: 1551696032\n </denchmark-code>\n \n \t\t"}, "comments_2": {"comment_id": 3, "comment_author": "alexlatchford", "commentT": "2020-07-17T22:29:25Z", "comment_text": "\n \t\t\n Looking through the commits going to guess this is related to 96a3f4f\n \n yep, we changed our local debugging processed (above PR updates the instruction), bazel is now needed\n \n Apologies if I've missed something I needed to do.\n cc @chongkong\n In case this matters I'm using a pretty old version of Bazel to ensure it can work with the kubeflow/pipelines repo:\n  \u2718 \ue0b0 ~/Code/kubeflow/tfx-043b2b7e93c31f36ab205826953d4c233c74d7df \ue0b0 bazel version\n Starting local Bazel server and connecting to it...\n Build label: 0.23.1\n Build target: bazel-out/darwin-opt/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\n Build time: Mon Mar 4 10:40:32 2019 (1551696032)\n Build timestamp: 1551696032\n Build timestamp as int: 1551696032\n \n \n \t\t"}, "comments_3": {"comment_id": 4, "comment_author": "alexlatchford", "commentT": "2020-07-22T09:04:48Z", "comment_text": "\n \t\tAre you satisfied with the resolution of your issue?\n <denchmark-link:https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=Yes&entry.2137816233=https://github.com/tensorflow/tfx/issues/2168>Yes</denchmark-link>\n \n <denchmark-link:https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=No&entry.2137816233=https://github.com/tensorflow/tfx/issues/2168>No</denchmark-link>\n \n \t\t"}}}, "commit": {"commit_id": "4425d869579b550f17a9f2586a3b27bf8a6ed335", "commit_author": "jjong", "commitT": "2020-07-22 02:04:34-07:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": ".dockerignore", "file_new_name": ".dockerignore", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "12", "deleted_lines": "12"}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": ".gitignore", "file_new_name": ".gitignore", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "12", "deleted_lines": "12"}}}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "CONTRIBUTING.md", "file_new_name": "CONTRIBUTING.md", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "89", "deleted_lines": "89"}}}, "file_3": {"file_change_type": "RENAME", "file_Nmethod": 0, "file_old_name": "tfx\\build\\BUILD", "file_new_name": "build\\BUILD"}, "file_4": {"file_change_type": "RENAME", "file_Nmethod": 0, "file_old_name": "tfx\\build\\gen_proto.sh", "file_new_name": "build\\gen_proto.sh"}, "file_5": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "setup.py", "file_new_name": "setup.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "111", "deleted_lines": "111", "method_info": {"method_name": "run", "method_params": "self", "method_startline": "109", "method_endline": "114"}}}}}}}