{"BR": {"BR_id": "1764", "BR_author": "umesh-timalsina", "BRopenT": "2020-07-14T14:48:05Z", "BRcloseT": "2020-07-14T18:47:09Z", "BR_text": {"BRsummary": "Check for Metadata nodes in FigureExtractor", "BRdescription": "\n Currently, in , we don't actually check  whether containment for a  has only  nodes. For example, after <denchmark-link:https://github.com/deepforge-dev/deepforge/commit/148d28c90e228c93013b1c8c98f12b213451ecfc>148d28c</denchmark-link>\n , there should be a check because  will actually be in the containment for a  node. This will cause an issue and should be fixed for example because there's no function to Extract  as it is not a metadata node.\n <denchmark-code>q.js:428 Uncaught TypeError: this[childNodeFn] is not a function\n     at FigureExtractor.js:58\n     at Array.map (<anonymous>)\n     at FigureExtractor.<computed> [as Graph] (FigureExtractor.js:55)\n     at FigureExtractor.extract (FigureExtractor.js:28)\n     at ExecutionIndexControl.getGraphDesc (ExecutionIndexControl.js:287)\n     at ExecutionIndexControl._getObjectDescriptor (ExecutionIndexControl.js:279)\n     at ExecutionIndexControl._onLoad (ExecutionIndexControl.js:335)\n     at ExecutionIndexControl._eventCallback (ExecutionIndexControl.js:318)\n     at Object.FN (ExecutionIndexControl.js:210)\n     at userEvents (client.js:308)\n (anonymous) @ FigureExtractor.js:58\n FigureExtractor.<computed> @ FigureExtractor.js:55\n FigureExtractor.extract @ FigureExtractor.js:28\n ExecutionIndexControl.getGraphDesc @ ExecutionIndexControl.js:287\n ExecutionIndexControl._getObjectDescriptor @ ExecutionIndexControl.js:279\n ExecutionIndexControl._onLoad @ ExecutionIndexControl.js:335\n ExecutionIndexControl._eventCallback @ ExecutionIndexControl.js:318\n (anonymous) @ ExecutionIndexControl.js:210\n userEvents @ client.js:308\n _updateTerritoryAllDone @ client.js:432\n patternLoaded @ client.js:1875\n childrenPatternLoaded @ client.js:322\n childrenPatternLoaded @ client.js:322\n childrenPatternLoaded @ client.js:322\n childrenPatternLoaded @ client.js:322\n childrenPatternLoaded @ client.js:322\n loadChildrenPattern @ client.js:358\n childLoaded @ client.js:333\n (anonymous) @ q.js:2322\n runSingle @ q.js:404\n flush @ q.js:392\n onNextTick @ q.js:252\n Item.run @ q.js:154\n drainQueue @ q.js:124\n setTimeout (async)\n runSingle @ q.js:427\n flush @ q.js:392\n onNextTick @ q.js:252\n Item.run @ q.js:154\n drainQueue @ q.js:124\n setTimeout (async)\n runTimeout @ q.js:42\n process.nextTick @ q.js:144\n exports.setImmediate @ q.js:245\n nextTick @ q.js:447\n (anonymous) @ q.js:890\n (anonymous) @ q.js:530\n become @ q.js:889\n deferred.resolve @ q.js:905\n (anonymous) @ q.js:950\n r.onack @ index.js:83\n r.onpacket @ index.js:83\n (anonymous) @ index.js:83\n r.emit @ index.js:83\n r.ondecoded @ index.js:83\n (anonymous) @ index.js:83\n r.emit @ index.js:83\n a.add @ index.js:83\n r.ondata @ index.js:83\n (anonymous) @ index.js:83\n r.emit @ index.js:83\n r.onPacket @ index.js:83\n (anonymous) @ index.js:83\n r.emit @ index.js:83\n r.onPacket @ index.js:83\n r.onData @ index.js:83\n ws.onmessage @ index.js:83\n </denchmark-code>\n \n It might be nice to add additional checks for unsupported metadata nodes in FigureExtractor\n \t"}, "comments": {}}, "commit": {"commit_id": "d383d007715d95ba7b1f1c0f4a539a1c211eb57d", "commit_author": "Umesh Timalsina", "commitT": "2020-07-14 13:47:06-05:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 9, "file_old_name": "src\\common\\viz\\FigureExtractor.js", "file_new_name": "src\\common\\viz\\FigureExtractor.js", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "28,29", "deleted_lines": "26,27,28,29", "method_info": {"method_name": "FigureExtractor.prototype.extract", "method_params": "node", "method_startline": "26", "method_endline": "30"}}, "hunk_1": {"Ismethod": 1, "added_lines": "17,20,21", "deleted_lines": "17,18,19,20", "method_info": {"method_name": "FigureExtractor.prototype._initializeMetaNodesMap", "method_params": "", "method_startline": "17", "method_endline": "21"}}, "hunk_2": {"Ismethod": 1, "added_lines": "33", "deleted_lines": "33", "method_info": {"method_name": "(anonymous)", "method_params": "", "method_startline": "33", "method_endline": "33"}}, "hunk_3": {"Ismethod": 1, "added_lines": "213", "deleted_lines": null, "method_info": {"method_name": "FigureExtractor.prototype.getMetaType", "method_params": "node", "method_startline": "211", "method_endline": "214"}}, "hunk_4": {"Ismethod": 1, "added_lines": "14,15,16,17", "deleted_lines": "17,18", "method_info": {"method_name": "ensureCanExtract", "method_params": "metaType", "method_startline": "14", "method_endline": "18"}}, "hunk_5": {"Ismethod": 1, "added_lines": "33", "deleted_lines": "33", "method_info": {"method_name": "FigureExtractor.prototype.extractChildrenOfType", "method_params": "node,metaType", "method_startline": "32", "method_endline": "36"}}, "hunk_6": {"Ismethod": 1, "added_lines": "20,21,22", "deleted_lines": "20", "method_info": {"method_name": "FigureExtractor", "method_params": "client", "method_startline": "20", "method_endline": "22"}}, "hunk_7": {"Ismethod": 1, "added_lines": "51,52,57", "deleted_lines": "53", "method_info": {"method_name": "node.getAttribute", "method_params": "", "method_startline": "48", "method_endline": "62"}}, "hunk_8": {"Ismethod": 1, "added_lines": "182,183,184,185,186,187,188,189,190,191,192,193,194", "deleted_lines": null, "method_info": {"method_name": "FigureExtractor.prototype.getMetadataChildrenIds", "method_params": "node", "method_startline": "182", "method_endline": "194"}}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "src\\seeds\\devProject\\devProject.webgmex", "file_new_name": "src\\seeds\\devProject\\devProject.webgmex", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": null, "deleted_lines": null}}}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "src\\seeds\\pipeline\\pipeline.webgmex", "file_new_name": "src\\seeds\\pipeline\\pipeline.webgmex", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": null, "deleted_lines": null}}}, "file_3": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "src\\seeds\\pipeline\\releases.jsonl", "file_new_name": "src\\seeds\\pipeline\\releases.jsonl", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "3,4", "deleted_lines": null}}}}}}