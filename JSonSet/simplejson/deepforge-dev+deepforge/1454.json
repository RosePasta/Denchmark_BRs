{"BR": {"BR_id": "1454", "BR_author": "brollb", "BRopenT": "2020-03-04T18:39:26Z", "BRcloseT": "2020-03-05T14:29:30Z", "BR_text": {"BRsummary": "Errors when creating/editing metadata", "BRdescription": "\n There are currently some errors when executing a pipeline which generates metadata. After adding more argument validation (<denchmark-link:https://github.com/deepforge-dev/deepforge/pull/1453>#1453</denchmark-link>\n ), I am getting the following errors in the server logs:\n <denchmark-link:https://user-images.githubusercontent.com/4982789/75911429-2bc6e280-5e15-11ea-9b9c-8ea2b649c78b.png></denchmark-link>\n \n \t"}, "comments": {}}, "commit": {"commit_id": "d3e409cdec7d757a839c51b3d677f9aec3cbf544", "commit_author": "Brian Broll", "commitT": "2020-03-05 08:29:29-06:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "src\\common\\Constants.js", "file_new_name": "src\\common\\Constants.js", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": null, "deleted_lines": "31,32,33,34,35,36,37,38,39", "method_info": {"method_name": "(anonymous)", "method_params": "", "method_startline": "12", "method_endline": "59"}}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 23, "file_old_name": "src\\plugins\\ExecuteJob\\ExecuteJob.Metadata.js", "file_new_name": "src\\plugins\\ExecuteJob\\ExecuteJob.Metadata.js", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "109,110,111,112,113,114,115,116,117,118,119", "deleted_lines": "109,110,111,112,113,114,115,116,117,118,119", "method_info": {"method_name": "ExecuteJob.prototype.createNodeForMetadata", "method_params": "MetadataClass,job,id", "method_startline": "109", "method_endline": "119"}}, "hunk_1": {"Ismethod": 1, "added_lines": "117,118,119,120", "deleted_lines": "117,118,119,120,121,122", "method_info": {"method_name": "ExecuteJob.prototype._deleteByMetaDataId", "method_params": "id", "method_startline": "117", "method_endline": "122"}}, "hunk_2": {"Ismethod": 1, "added_lines": "42,43,44,46,47,48,49", "deleted_lines": "42,43,44,45,46,47,48,49", "method_info": {"method_name": "ExecuteJob.prototype.resetMetadataNode", "method_params": "node", "method_startline": "42", "method_endline": "49"}}, "hunk_3": {"Ismethod": 1, "added_lines": "28", "deleted_lines": "26,27,28", "method_info": {"method_name": "ExecuteJob.prototype.createId", "method_params": "parentId,childRelID,sep", "method_startline": "26", "method_endline": "28"}}, "hunk_4": {"Ismethod": 1, "added_lines": null, "deleted_lines": "124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144", "method_info": {"method_name": "ExecuteJob.prototype.createGraphNode", "method_params": "job,id,state", "method_startline": "124", "method_endline": "144"}}, "hunk_5": {"Ismethod": 1, "added_lines": "78,80,81,82,83,84,85", "deleted_lines": "68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91", "method_info": {"method_name": "ExecuteJob.prototype.addAxesLines", "method_params": "axesNode,job,axes,axesId", "method_startline": "68", "method_endline": "91"}}, "hunk_6": {"Ismethod": 1, "added_lines": "15,16,18,19", "deleted_lines": "15,16,17,18,19,20", "method_info": {"method_name": "ExecuteJob.prototype.initializeMetadata", "method_params": "job", "method_startline": "15", "method_endline": "20"}}, "hunk_7": {"Ismethod": 1, "added_lines": "56,78,80,81,82,83,84,85,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120", "deleted_lines": "56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122", "method_info": {"method_name": "ExecuteJob.prototype.parseForMetadataCmds", "method_params": "job,lines,skip", "method_startline": "56", "method_endline": "122"}}, "hunk_8": {"Ismethod": 1, "added_lines": null, "deleted_lines": "161,162,163,164,165,166", "method_info": {"method_name": "]", "method_params": "job,hash,imgId", "method_startline": "161", "method_endline": "166"}}, "hunk_9": {"Ismethod": 1, "added_lines": "19", "deleted_lines": "19", "method_info": {"method_name": "(anonymous)", "method_params": "", "method_startline": "19", "method_endline": "19"}}, "hunk_10": {"Ismethod": 1, "added_lines": "51,52,53", "deleted_lines": "51,52,53,54", "method_info": {"method_name": "ExecuteJob.prototype.getMetadataNodes", "method_params": "job", "method_startline": "51", "method_endline": "54"}}, "hunk_11": {"Ismethod": 1, "added_lines": null, "deleted_lines": "264,265,266,267", "method_info": {"method_name": "ExecuteJob.prototype.resultMsg", "method_params": "msg", "method_startline": "264", "method_endline": "267"}}, "hunk_12": {"Ismethod": 1, "added_lines": null, "deleted_lines": "269,270,271,273,274,275,276,277,278", "method_info": {"method_name": "ExecuteJob.prototype.getExistingMetadataById", "method_params": "job,type,id", "method_startline": "269", "method_endline": "279"}}, "hunk_13": {"Ismethod": 1, "added_lines": "99,100,101,102,103,104,105,106,107", "deleted_lines": "99,100,101,102,103,104,105,106,107", "method_info": {"method_name": "ExecuteJob.prototype.onMetadataCommand", "method_params": "job,cmd,id,content", "method_startline": "99", "method_endline": "107"}}, "hunk_14": {"Ismethod": 1, "added_lines": "28,30,31,32,33,34,35,37,38", "deleted_lines": "22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40", "method_info": {"method_name": "ExecuteJob.prototype.clearOldMetadata", "method_params": "job", "method_startline": "22", "method_endline": "40"}}, "hunk_15": {"Ismethod": 1, "added_lines": null, "deleted_lines": "175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195", "method_info": {"method_name": "ExecuteJob.prototype._getImageNode", "method_params": "job,imgId,name", "method_startline": "175", "method_endline": "195"}}, "hunk_16": {"Ismethod": 1, "added_lines": "13", "deleted_lines": "13", "method_info": {"method_name": "ExecuteJob", "method_params": "", "method_startline": "13", "method_endline": "13"}}, "hunk_17": {"Ismethod": 1, "added_lines": null, "deleted_lines": "146,147,148,149,150,151,152,153,154,155,156,157", "method_info": {"method_name": "]", "method_params": "job,graphId,id", "method_startline": "146", "method_endline": "157"}}, "hunk_18": {"Ismethod": 1, "added_lines": "31,32,33,34,35,37,38,42,43,44,46,47,48,49,51,52,53,56", "deleted_lines": "31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66", "method_info": {"method_name": "]", "method_params": "job,state", "method_startline": "31", "method_endline": "66"}}, "hunk_19": {"Ismethod": 1, "added_lines": null, "deleted_lines": "281,282,283,284,285,286,288,289,290,292", "method_info": {"method_name": "ExecuteJob.prototype._getExistingMetadata", "method_params": "jobId,type,fn", "method_startline": "281", "method_endline": "293"}}, "hunk_20": {"Ismethod": 1, "added_lines": null, "deleted_lines": "168,169,170,171,172,173", "method_info": {"method_name": "]", "method_params": "job,imgId", "method_startline": "168", "method_endline": "173"}}, "hunk_21": {"Ismethod": 1, "added_lines": "99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115", "deleted_lines": "93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115", "method_info": {"method_name": "ExecuteJob.prototype.addAxesImage", "method_params": "axesNode,job,axes,axesId", "method_startline": "93", "method_endline": "115"}}, "hunk_22": {"Ismethod": 1, "added_lines": null, "deleted_lines": "197,198,199,200,201,202,203,204,205,206,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239", "method_info": {"method_name": "ExecuteJob.prototype.recordOldMetadata", "method_params": "job", "method_startline": "197", "method_endline": "240"}}}}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 9, "file_old_name": "src\\plugins\\ExecuteJob\\ExecuteJob.js", "file_new_name": "src\\plugins\\ExecuteJob\\ExecuteJob.js", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "592", "deleted_lines": "588", "method_info": {"method_name": "ExecuteJob.prototype.onConsoleOutput", "method_params": "job,output", "method_startline": "580", "method_endline": "604"}}, "hunk_1": {"Ismethod": 1, "added_lines": "728", "deleted_lines": null, "method_info": {"method_name": "ExecuteJob.prototype.getNodeCaches", "method_params": "", "method_startline": "726", "method_endline": "729"}}, "hunk_2": {"Ismethod": 1, "added_lines": "718,719,720", "deleted_lines": "724", "method_info": {"method_name": "ExecuteJob.prototype.processStdout", "method_params": "job,text,continued", "method_startline": "718", "method_endline": "724"}}, "hunk_3": {"Ismethod": 1, "added_lines": "592,634,718,719,720,728", "deleted_lines": "588,630,714,715,716,724", "method_info": {"method_name": "this.core.getAttribute", "method_params": "job", "method_startline": "513", "method_endline": "746"}}, "hunk_4": {"Ismethod": 1, "added_lines": null, "deleted_lines": "65", "method_info": {"method_name": "ExecuteJob", "method_params": "", "method_startline": "54", "method_endline": "73"}}, "hunk_5": {"Ismethod": 1, "added_lines": "329", "deleted_lines": "330", "method_info": {"method_name": "ExecuteJob.prototype.prepare", "method_params": "isResuming", "method_startline": "307", "method_endline": "330"}}, "hunk_6": {"Ismethod": 1, "added_lines": "634", "deleted_lines": "630", "method_info": {"method_name": "ExecuteJob.prototype.onOperationEnd", "method_params": "err,job", "method_startline": "606", "method_endline": "659"}}, "hunk_7": {"Ismethod": 1, "added_lines": "284", "deleted_lines": "285", "method_info": {"method_name": "ExecuteJob.prototype.resumeJob", "method_params": "job", "method_startline": "265", "method_endline": "293"}}, "hunk_8": {"Ismethod": 1, "added_lines": "342,343,344,345", "deleted_lines": null, "method_info": {"method_name": "ExecuteJob.prototype.resultMsg", "method_params": "msg", "method_startline": "342", "method_endline": "345"}}}}, "file_3": {"file_change_type": "ADD", "file_Nmethod": 0, "file_old_name": "None", "file_new_name": "src\\plugins\\ExecuteJob\\metadata\\Figure.js"}, "file_4": {"file_change_type": "ADD", "file_Nmethod": 0, "file_old_name": "None", "file_new_name": "src\\plugins\\ExecuteJob\\metadata\\Metadata.js"}, "file_5": {"file_change_type": "ADD", "file_Nmethod": 0, "file_old_name": "None", "file_new_name": "src\\plugins\\ExecuteJob\\metadata\\index.js"}, "file_6": {"file_change_type": "MODIFY", "file_Nmethod": 6, "file_old_name": "src\\plugins\\ExecutePipeline\\ExecutePipeline.js", "file_new_name": "src\\plugins\\ExecutePipeline\\ExecutePipeline.js", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "287", "deleted_lines": "297", "method_info": {"method_name": "this.core.getPath", "method_params": "activeNode", "method_startline": "232", "method_endline": "599"}}, "hunk_1": {"Ismethod": 1, "added_lines": "287", "deleted_lines": "297", "method_info": {"method_name": "ExecutePipeline.prototype.clearResults", "method_params": "", "method_startline": "274", "method_endline": "299"}}, "hunk_2": {"Ismethod": 1, "added_lines": "205", "deleted_lines": null, "method_info": {"method_name": "(anonymous)", "method_params": "", "method_startline": "205", "method_endline": "205"}}, "hunk_3": {"Ismethod": 1, "added_lines": "205", "deleted_lines": "215", "method_info": {"method_name": "ExecutePipeline.prototype.resumePipeline", "method_params": "", "method_startline": "171", "method_endline": "221"}}, "hunk_4": {"Ismethod": 1, "added_lines": null, "deleted_lines": "39,40,41,42,43", "method_info": {"method_name": "ExecutePipeline", "method_params": "", "method_startline": "33", "method_endline": "45"}}, "hunk_5": {"Ismethod": 1, "added_lines": null, "deleted_lines": "86,87,88,89,90", "method_info": {"method_name": "ExecutePipeline.prototype.initRun", "method_params": "", "method_startline": "60", "method_endline": "92"}}}}, "file_7": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "src\\seeds\\pipeline\\pipeline.webgmex", "file_new_name": "src\\seeds\\pipeline\\pipeline.webgmex", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": null, "deleted_lines": null}}}, "file_8": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "src\\seeds\\pipeline\\version.txt", "file_new_name": "src\\seeds\\pipeline\\version.txt", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "1", "deleted_lines": "1"}}}, "file_9": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "src\\seeds\\project\\project.webgmex", "file_new_name": "src\\seeds\\project\\project.webgmex", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": null, "deleted_lines": null}}}, "file_10": {"file_change_type": "MODIFY", "file_Nmethod": 3, "file_old_name": "test\\unit\\plugins\\ExecuteJob\\ExecuteJob.spec.js", "file_new_name": "test\\unit\\plugins\\ExecuteJob\\ExecuteJob.spec.js", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": null, "deleted_lines": "126,127,128,129,130,131", "method_info": {"method_name": "plugin.updateNodes", "method_params": "", "method_startline": "126", "method_endline": "131"}}, "hunk_1": {"Ismethod": 1, "added_lines": null, "deleted_lines": "113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133", "method_info": {"method_name": "(anonymous)", "method_params": "", "method_startline": "113", "method_endline": "133"}}, "hunk_2": {"Ismethod": 1, "added_lines": null, "deleted_lines": "162,163,164,165,166,167", "method_info": {"method_name": "plugin.applyModelChanges", "method_params": "", "method_startline": "162", "method_endline": "167"}}}}}}}