{"BR": {"BR_id": "866", "BR_author": "TobyRoseman", "BRopenT": "2020-08-21T21:49:53Z", "BRcloseT": "2020-08-25T17:16:08Z", "BR_text": {"BRsummary": "Setup.py missing \"typing\" dependency for Python 2.7", "BRdescription": "\n <denchmark-h:h2>\ud83d\udc1eDescribe the bug</denchmark-h>\n \n I can not import coremltools in Python 2.7.\n typing did not become a Python standard library until Python 3.5\n <denchmark-h:h2>Trace</denchmark-h>\n \n <denchmark-code>In [1]: import coremltools\n ---------------------------------------------------------------------------\n ImportError                               Traceback (most recent call last)\n <ipython-input-1-5bf9ddba4efd> in <module>()\n ----> 1 import coremltools\n \n /Users/tobyroseman/anaconda3/envs/test/lib/python2.7/site-packages/coremltools/__init__.py in <module>()\n      52 \n      53 # expose sub packages as directories\n ---> 54 from . import converters\n      55 from . import proto\n      56 from . import models\n \n /Users/tobyroseman/anaconda3/envs/test/lib/python2.7/site-packages/coremltools/converters/__init__.py in <module>()\n      10 from . import keras\n      11 from . import caffe\n ---> 12 from . import onnx\n      13 from ._converters_entry import convert\n      14 from .mil import (\n \n /Users/tobyroseman/anaconda3/envs/test/lib/python2.7/site-packages/coremltools/converters/onnx/__init__.py in <module>()\n       5 \n       6 from coremltools._deps import _HAS_ONNX\n ----> 7 from ._converter import convert\n \n /Users/tobyroseman/anaconda3/envs/test/lib/python2.7/site-packages/coremltools/converters/onnx/_converter.py in <module>()\n       3 from __future__ import print_function as _\n       4 from __future__ import unicode_literals as _\n ----> 5 from typing import Text, Union, Optional, Dict, Any, Iterable, Sequence, Callable, List\n       6 \n       7 import numpy as np\n \n ImportError: No module named typing\n </denchmark-code>\n \n <denchmark-h:h2>System environment (please complete the following information):</denchmark-h>\n \n \n coremltools version: 4.0b3\n OS: 10.15\n How you install python: anaconda\n python version: 2.7\n \n <denchmark-h:h2>Additional context</denchmark-h>\n \n After doing a pip install typing everything seems to be working fine.\n \t"}, "comments": {}}, "commit": {"commit_id": "58aaecca0b152df7e4f1b5d834b64f5401ea5ec6", "commit_author": "Yuduo Wu", "commitT": "2020-08-25 10:02:44-07:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "coremltools\\converters\\mil\\frontend\\tensorflow\\test\\test_load.py", "file_new_name": "coremltools\\converters\\mil\\frontend\\tensorflow\\test\\test_load.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "391,392,393,395", "deleted_lines": "392", "method_info": {"method_name": "test_invalid_converter_target", "method_params": "self", "method_startline": "390", "method_endline": "396"}}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "coremltools\\converters\\mil\\frontend\\tensorflow\\test\\test_ops.py", "file_new_name": "coremltools\\converters\\mil\\frontend\\tensorflow\\test\\test_ops.py", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "1396,1397", "deleted_lines": null}}}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "coremltools\\converters\\mil\\frontend\\tensorflow2\\test\\test_v2_load.py", "file_new_name": "coremltools\\converters\\mil\\frontend\\tensorflow2\\test\\test_v2_load.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "187,188,189,191,197", "deleted_lines": "188,194", "method_info": {"method_name": "test_invalid_converter_type", "method_params": "self", "method_startline": "186", "method_endline": "198"}}}}, "file_3": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "coremltools\\converters\\mil\\frontend\\tensorflow2\\test\\test_v2_ops_tf_keras.py", "file_new_name": "coremltools\\converters\\mil\\frontend\\tensorflow2\\test\\test_v2_ops_tf_keras.py", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "504,505", "deleted_lines": null}}}, "file_4": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "coremltools\\converters\\mil\\frontend\\torch\\test\\test_torch_ops.py", "file_new_name": "coremltools\\converters\\mil\\frontend\\torch\\test\\test_torch_ops.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "1044,1045", "deleted_lines": null, "method_info": {"method_name": "test_elementwise_no_params", "method_params": "self,backend,rank,op_string", "method_startline": "1043", "method_endline": "1051"}}}}, "file_5": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "coremltools\\converters\\mil\\frontend\\torch\\test\\testing_utils.py", "file_new_name": "coremltools\\converters\\mil\\frontend\\torch\\test\\testing_utils.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "41,42,43,44", "deleted_lines": null, "method_info": {"method_name": "contains_op", "method_params": "torch,op_string", "method_startline": "41", "method_endline": "44"}}, "hunk_1": {"Ismethod": 1, "added_lines": "92", "deleted_lines": null, "method_info": {"method_name": "run_compare_torch", "method_params": "input_data,model,expected_results,places,input_as_shape,backend,rand_range,0", "method_startline": "91", "method_endline": "93"}}}}, "file_6": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "coremltools\\converters\\mil\\mil\\ops\\tests\\test_conv.py", "file_new_name": "coremltools\\converters\\mil\\mil\\ops\\tests\\test_conv.py", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "15,478", "deleted_lines": "477"}}}, "file_7": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "coremltools\\converters\\mil\\mil\\ops\\tests\\test_tensor_operation.py", "file_new_name": "coremltools\\converters\\mil\\mil\\ops\\tests\\test_tensor_operation.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "1220", "deleted_lines": "1220", "method_info": {"method_name": "test_builder_to_backend_stress", "method_params": "self,use_cpu_only,rank,axis,backend", "method_startline": "1195", "method_endline": "1232"}}}}, "file_8": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "coremltools\\test\\api\\test_api_examples.py", "file_new_name": "coremltools\\test\\api\\test_api_examples.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "1154", "deleted_lines": "1152", "method_info": {"method_name": "test_convert_torch_traced_model", "method_params": "tmpdir", "method_startline": "1134", "method_endline": "1161"}}}}, "file_9": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "setup.py", "file_new_name": "setup.py", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "81", "deleted_lines": null}}}}}}