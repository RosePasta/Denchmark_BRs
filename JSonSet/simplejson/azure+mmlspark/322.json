{"BR": {"BR_id": "322", "BR_author": "mhamilton723", "BRopenT": "2018-06-19T04:04:27Z", "BRcloseT": "2018-11-29T20:05:52Z", "BR_text": {"BRsummary": "Flaky Tests: HTTPSource", "BRdescription": "\n HTTP Tests:\n Python Client sometimes fail with:\n <denchmark-code>org.scalatest.exceptions.TestFailedException: \"[Exception in thread Thread-3:\n Traceback (most recent call last):\n File \"/home/eli/lib/conda/lib/python3.6/site-packages/urllib3/connectionpool.py\", line 387, in _make_request\n six.raise_from(e, None)\n File \"<string>\", line 2, in raise_from\n File \"/home/eli/lib/conda/lib/python3.6/site-packages/urllib3/connectionpool.py\", line 383, in _make_request\n httplib_response = conn.getresponse()\n File \"/home/eli/lib/conda/lib/python3.6/http/client.py\", line 1331, in getresponse\n response.begin()\n File \"/home/eli/lib/conda/lib/python3.6/http/client.py\", line 297, in begin\n version, status, reason = self._read_status()\n File \"/home/eli/lib/conda/lib/python3.6/http/client.py\", line 258, in _read_status\n line = str(self.fp.readline(_MAXLINE + 1), \"iso-8859-1\")\n File \"/home/eli/lib/conda/lib/python3.6/socket.py\", line 586, in readinto\n return self._sock.recv_into(b)\n socket.timeout: timed out\n During handling of the above exception, another exception occurred:\n Traceback (most recent call last):\n File \"/home/eli/lib/conda/lib/python3.6/site-packages/requests/adapters.py\", line 440, in send\n timeout=timeout\n File \"/home/eli/lib/conda/lib/python3.6/site-packages/urllib3/connectionpool.py\", line 639, in urlopen\n _stacktrace=sys.exc_info()[2])\n File \"/home/eli/lib/conda/lib/python3.6/site-packages/urllib3/util/retry.py\", line 357, in increment\n raise six.reraise(type(error), error, _stacktrace)\n File \"/home/eli/lib/conda/lib/python3.6/site-packages/urllib3/packages/six.py\", line 686, in reraise\n raise value\n File \"/home/eli/lib/conda/lib/python3.6/site-packages/urllib3/connectionpool.py\", line 601, in urlopen\n chunked=chunked)\n File \"/home/eli/lib/conda/lib/python3.6/site-packages/urllib3/connectionpool.py\", line 389, in _make_request\n self._raise_timeout(err=e, url=url, timeout_value=read_timeout)\n File \"/home/eli/lib/conda/lib/python3.6/site-packages/urllib3/connectionpool.py\", line 309, in _raise_timeout\n raise ReadTimeoutError(self, url, \"Read timed out. (read timeout=%s)\" % timeout_value)\n urllib3.exceptions.ReadTimeoutError: HTTPConnectionPool(host='localhost', port=35015): Read timed out. (read timeout=15)\n During handling of the above exception, another exception occurred:\n Traceback (most recent call last):\n File \"/home/eli/lib/conda/lib/python3.6/threading.py\", line 916, in _bootstrap_inner\n self.run()\n File \"/tmp/MML-Test-1168536756193524612/pythonClient.py\", line 18, in run\n timeout=15)\n File \"/home/eli/lib/conda/lib/python3.6/site-packages/requests/sessions.py\", line 555, in post\n return self.request('POST', url, data=data, json=json, **kwargs)\n File \"/home/eli/lib/conda/lib/python3.6/site-packages/requests/sessions.py\", line 508, in request\n resp = self.send(prep, **send_kwargs)\n File \"/home/eli/lib/conda/lib/python3.6/site-packages/requests/sessions.py\", line 618, in send\n r = adapter.send(request, **kwargs)\n File \"/home/eli/lib/conda/lib/python3.6/site-packages/requests/adapters.py\", line 521, in send\n raise ReadTimeout(e, request=request)\n requests.exceptions.ReadTimeout: HTTPConnectionPool(host='localhost', port=35015): Read timed out. (read timeout=15)\n ]\" did not equal \"[]\"\n at org.scalatest.Assertions$class.newAssertionFailedException(Assertions.scala:528)\n at org.scalatest.FunSuite.newAssertionFailedException(FunSuite.scala:1560)\n at org.scalatest.Assertions$AssertionsHelper.macroAssert(Assertions.scala:501)\n at com.microsoft.ml.spark.DistributedHTTPSuite$$anonfun$2$$anonfun$apply$mcV$sp$3.apply(DistributedHTTPSuite.scala:145)\n at com.microsoft.ml.spark.DistributedHTTPSuite$$anonfun$2$$anonfun$apply$mcV$sp$3.apply(DistributedHTTPSuite.scala:141)\n at scala.collection.Iterator$class.foreach(Iterator.scala:893)\n at scala.collection.AbstractIterator.foreach(Iterator.scala:1336)\n at scala.collection.IterableLike$class.foreach(IterableLike.scala:72)\n at scala\n </denchmark-code>\n \n async client:\n <denchmark-code>Cannot start query with name foo as a query with that name is already active\n </denchmark-code>\n \n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "mhamilton723", "commentT": "2018-11-29T20:05:52Z", "comment_text": "\n \t\tHavent seen this in a while\n \t\t"}}}, "commit": {"commit_id": "7dfcc966d0a34f7966016dc11aea03448c7e5413", "commit_author": "Yuan (Terry) Tang", "commitT": "2018-08-03 22:43:28-07:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "notebooks\\samples\\106 - Quantile Regression with LightGBM.ipynb", "file_new_name": "notebooks\\samples\\106 - Quantile Regression with LightGBM.ipynb", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "77", "deleted_lines": "77"}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "src\\lightgbm\\src\\main\\scala\\LightGBMBooster.scala", "file_new_name": "src\\lightgbm\\src\\main\\scala\\LightGBMBooster.scala", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": null, "deleted_lines": "20,21,22,23,24,25,26,27,28,29,30,31", "method_info": {"method_name": "numClasses", "method_params": "", "method_startline": "20", "method_endline": "32"}}}}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "src\\lightgbm\\src\\main\\scala\\LightGBMClassifier.scala", "file_new_name": "src\\lightgbm\\src\\main\\scala\\LightGBMClassifier.scala", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "104", "deleted_lines": "99", "method_info": {"method_name": "raw2probabilityInPlace", "method_params": "Vector", "method_startline": "92", "method_endline": "104"}}, "hunk_1": {"Ismethod": 1, "added_lines": "53,54,55,56,57,67", "deleted_lines": "53,63", "method_info": {"method_name": "train", "method_params": "", "method_startline": "36", "method_endline": "70"}}}}, "file_3": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "src\\lightgbm\\src\\main\\scala\\LightGBMParams.scala", "file_new_name": "src\\lightgbm\\src\\main\\scala\\LightGBMParams.scala", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "39", "deleted_lines": null, "method_info": {"method_name": "setNumLeaves", "method_params": "Int", "method_startline": "37", "method_endline": "39"}}, "hunk_1": {"Ismethod": 1, "added_lines": "45,46", "deleted_lines": null, "method_info": {"method_name": "setObjective", "method_params": "String", "method_startline": "45", "method_endline": "47"}}}}, "file_4": {"file_change_type": "MODIFY", "file_Nmethod": 3, "file_old_name": "src\\lightgbm\\src\\main\\scala\\LightGBMRegressor.scala", "file_new_name": "src\\lightgbm\\src\\main\\scala\\LightGBMRegressor.scala", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": null, "deleted_lines": "47", "method_info": {"method_name": "setAlpha", "method_params": "Double", "method_startline": "45", "method_endline": "47"}}, "hunk_1": {"Ismethod": 1, "added_lines": null, "deleted_lines": "52,53", "method_info": {"method_name": "setApplication", "method_params": "String", "method_startline": "52", "method_endline": "59"}}, "hunk_2": {"Ismethod": 1, "added_lines": "68", "deleted_lines": "52,53,75", "method_info": {"method_name": "train", "method_params": "", "method_startline": "52", "method_endline": "80"}}}}, "file_5": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "src\\lightgbm\\src\\main\\scala\\TrainParams.scala", "file_new_name": "src\\lightgbm\\src\\main\\scala\\TrainParams.scala", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "30", "deleted_lines": "29", "method_info": {"method_name": "toString", "method_params": "", "method_startline": "24", "method_endline": "32"}}}}, "file_6": {"file_change_type": "MODIFY", "file_Nmethod": 4, "file_old_name": "src\\lightgbm\\src\\test\\scala\\VerifyLightGBMClassifier.scala", "file_new_name": "src\\lightgbm\\src\\test\\scala\\VerifyLightGBMClassifier.scala", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "168,169", "deleted_lines": "164", "method_info": {"method_name": "testObjects", "method_params": "", "method_startline": "155", "method_endline": "173"}}, "hunk_1": {"Ismethod": 1, "added_lines": "191", "deleted_lines": null, "method_info": {"method_name": "verifySaveBooster", "method_params": "String,String,String", "method_startline": "173", "method_endline": "200"}}, "hunk_2": {"Ismethod": 1, "added_lines": "140", "deleted_lines": null, "method_info": {"method_name": "verifyLearnerOnMulticlassCsvFile", "method_params": "String,String,Int", "method_startline": "121", "method_endline": "155"}}, "hunk_3": {"Ismethod": 1, "added_lines": "107", "deleted_lines": null, "method_info": {"method_name": "verifyLearnerOnBinaryCsvFile", "method_params": "String,String,Int", "method_startline": "88", "method_endline": "121"}}}}}}}