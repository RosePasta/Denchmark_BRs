{"BR": {"BR_id": "1912", "BR_author": "guyinbar", "BRopenT": "2019-05-22T12:10:15Z", "BRcloseT": "2019-07-01T22:09:18Z", "BR_text": {"BRsummary": "SFrameBuilder Segmentation Fault on appending incorrect number of columns", "BRdescription": "\n <denchmark-code>In [2]: import turicreate as tc\n In [3]: sb = tc.SFrameBuilder([int,str])\n In [4]: sb.append([1,'foo', 1.1])\n \n Segmentation fault: 11\n \n Stack trace returned 10 entries:\n [bt] (0) 0   libmxnet.so                         0x000000011e7b07cf libmxnet.so + 59343\n [bt] (1) 1   libmxnet.so                         0x000000011fa9b3c6 MXNDListFree + 3450630\n [bt] (2) 2   libsystem_platform.dylib            0x0000000101c22b5d _sigtramp + 29\n [bt] (3) 3   ???                                 0x0000000102d517d0 0x0 + 4342486992\n [bt] (4) 4   libunity_shared.dylib               0x0000000114d5b322 turi::sarray_group_format_writer_v2<turi::flexible_type>::write_segment(unsigned long, std::__1::vector<turi::flexible_type, std::__1::allocator<turi::flexible_type> >&&) + 66\n [bt] (5) 5   libunity_shared.dylib               0x0000000114e54d8e std::__1::__function::__func<turi::sframe::get_output_iterator(unsigned long)::$_32, std::__1::allocator<turi::sframe::get_output_iterator(unsigned long)::$_32>, void (std::__1::vector<turi::flexible_type, std::__1::allocator<turi::flexible_type> > const&)>::operator()(std::__1::vector<turi::flexible_type, std::__1::allocator<turi::flexible_type> > const&) + 446\n [bt] (6) 6   cy_sframe_builder.so                0x000000011dbafaba __pyx_f_10turicreate_6cython_17cy_sframe_builder_23UnitySFrameBuilderProxy_append(__pyx_obj_10turicreate_6cython_17cy_sframe_builder_UnitySFrameBuilderProxy*, _object*, unsigned long, int) + 138\n [bt] (7) 7   cy_sframe_builder.so                0x000000011dbb5052 __pyx_pw_10turicreate_6cython_17cy_sframe_builder_23UnitySFrameBuilderProxy_5append(_object*, _object*, _object*) + 146\n [bt] (8) 8   Python                              0x0000000100749545 _PyCFunction_FastCallDict + 245\n [bt] (9) 9   Python                              0x00000001007d23e4 call_function + 612\n \n </denchmark-code>\n \n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "guyinbar", "commentT": "2019-05-22T14:30:45Z", "comment_text": "\n \t\tThanks for the clean repro.  This should be easy to fix.\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "guyinbar", "commentT": "2019-07-01T22:09:18Z", "comment_text": "\n \t\tresolved in pr <denchmark-link:https://github.com/apple/turicreate/pull/2103>#2103</denchmark-link>\n .\n \t\t"}}}, "commit": {"commit_id": "2a1396d2f3ef1c93238d617172129332e256fc06", "commit_author": "Guihao Liang", "commitT": "2019-07-01 15:07:59-07:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "src\\core\\storage\\sframe_data\\sframe.cpp", "file_new_name": "src\\core\\storage\\sframe_data\\sframe.cpp", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "542,543,544,545,546,547,548,586,588,589,590", "deleted_lines": "579,581,582", "method_info": {"method_name": "turi::sframe::get_output_iterator", "method_params": "segmentid", "method_startline": "534", "method_endline": "621"}}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "src\\core\\storage\\sframe_interface\\unity_sframe_builder.hpp", "file_new_name": "src\\core\\storage\\sframe_interface\\unity_sframe_builder.hpp", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "29", "deleted_lines": "29"}}}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "src\\python\\turicreate\\data_structures\\sframe_builder.py", "file_new_name": "src\\python\\turicreate\\data_structures\\sframe_builder.py", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "61", "deleted_lines": "61"}}}, "file_3": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "src\\python\\turicreate\\test\\test_sframe_builder.py", "file_new_name": "src\\python\\turicreate\\test\\test_sframe_builder.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84", "deleted_lines": null, "method_info": {"method_name": "test_basic", "method_params": "self", "method_startline": "38", "method_endline": "84"}}}}}}}