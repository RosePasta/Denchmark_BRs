{"BR": {"BR_id": "1314", "BR_author": "nickjong", "BRopenT": "2019-01-11T21:19:01Z", "BRcloseT": "2019-10-02T21:26:33Z", "BR_text": {"BRsummary": "Object Detector deployed to Vision framework unexpectedly yields confidences at 0.999", "BRdescription": "\n I've observed that training and exporting an object detector, and integrating into the Vision sample code <denchmark-link:https://developer.apple.com/documentation/vision/recognizing_objects_in_live_capture>here</denchmark-link>\n  yields confidences very close to 1. Training and exporting a model with the same data but without NMS yields confidences that span the range from 0 to 1 (after tweaking the sample code just to output the single highest-confidence box).\n Our docs describe NMS as a filtering mechanism; we don't expect any \"merging\" of confidence scores. So there appears to be an error in either the docs, the CoreML implementation, or the Vision integration.\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "nickjong", "commentT": "2019-09-27T18:37:07Z", "comment_text": "\n \t\tIt turns out the issue is not due to non-maximum suppression,\n instead it is due to the fact that the sample code for Object Detection provided by Apple\n (<denchmark-link:https://developer.apple.com/documentation/vision/recognizing_objects_in_live_capture>https://developer.apple.com/documentation/vision/recognizing_objects_in_live_capture</denchmark-link>\n )\n shows a 'normalized' confidence which enforces scores across all classes sum to 1,\n which produce confidence near 1 for the predicted class.\n If you want to get the original confidence score for the predicted class,\n please refer to VNRecognizedObjectObservation.confidence instead.\n \t\t"}}}, "commit": {"commit_id": "74bea519b90a7a0a8a93d205d2146207cc797f37", "commit_author": "Henry Tao", "commitT": "2019-10-02 19:20:02-07:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "userguide\\object_detection\\export-coreml.md", "file_new_name": "userguide\\object_detection\\export-coreml.md", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "28,31,39", "deleted_lines": "30,38"}}}}}}