{"BR": {"BR_id": "1096", "BR_author": "shantanuchhabra", "BRopenT": "2018-09-24T18:41:56Z", "BRcloseT": "2018-10-02T17:38:08Z", "BR_text": {"BRsummary": "Tuples get parsed as arrays which are unhashable", "BRdescription": "\n Right now, even if I have an SArray of dictionaries with tuple keys, displaying it doesn't work because tuples automatically get interpreted as arrays. This is calamitous because arrays are not a hashable type. Furthermore, if I try to save/create/explore this SArray/SFrame, I don't get any errors but the data structure is pretty unusable.\n I think the true solution to this would be to support tuple types in Turi Create.\n Minimal Repro:\n <denchmark-code>d = {(0,0):\"lol\"}  \n arr = [d]\n sa = tc.SArray(arr) # works\n sa.save(\"no_error.sarray\") # works\n sa.explore() # works\n print(sa[0]) # uh oh\n print(sa) # uh oh\n </denchmark-code>\n \n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "shantanuchhabra", "commentT": "2018-09-28T18:04:14Z", "comment_text": "\n \t\tTuple types are supported; the C++ types don't match up one-to-one to the python types, so the main solution to this seems to be to have the translation from C++ into python depend somewhat on the context.\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "shantanuchhabra", "commentT": "2018-10-02T17:38:08Z", "comment_text": "\n \t\tFixed in <denchmark-link:https://github.com/apple/turicreate/pull/1106>#1106</denchmark-link>\n \n \t\t"}}}, "commit": {"commit_id": "5eeaf68165d1baa7185bf9a4c5e8f6d86a36df35", "commit_author": "Hoyt Koepke", "commitT": "2018-10-02 10:35:33-07:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "src\\unity\\python\\turicreate\\cython\\cy_flexible_type.pyx", "file_new_name": "src\\unity\\python\\turicreate\\cython\\cy_flexible_type.pyx", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "1775,1776,1777,1778,1779", "deleted_lines": null}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "src\\unity\\python\\turicreate\\test\\test_flexible_type.py", "file_new_name": "src\\unity\\python\\turicreate\\test\\test_flexible_type.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "562,563,564,565,566,567", "deleted_lines": null, "method_info": {"method_name": "test_hashable_dict_keys", "method_params": "self", "method_startline": "562", "method_endline": "567"}}}}}}}