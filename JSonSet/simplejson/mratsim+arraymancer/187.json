{"BR": {"BR_id": "187", "BR_author": "mratsim", "BRopenT": "2018-02-18T19:09:58Z", "BRcloseT": "2018-05-10T10:32:40Z", "BR_text": {"BRsummary": "OpenCL error checking + unittest is broken", "BRdescription": "\n Pending <denchmark-link:https://github.com/nim-lang/opencl/pull/3>nim-lang/opencl#3</denchmark-link>\n \n The check defined in nim/opencl catches any expression and conflicts with check from CLBlast and nim cuda and also with check from unittest\n <denchmark-code>Error: ambiguous call; both opencl.check(a: expr): typed[declared in /Users/tesuji/.nimble/pkgs/opencl-1.0/opencl.nim(191, 9)] and unittest.check(conditions: untyped)[declared in lib/pure/unittest.nim(563, 6)] match for: (TClResult)\n </denchmark-code>\n \n Trying to use qualified call like opencl.check yields:\n <denchmark-code>Error: type mismatch: got (proc (t: Tensor[opencl.T]): ClTensor[opencl.T], TClResult)\n but expected one of:\n template check(a: expr)\n template check(status: CLBlastStatusCode)\n macro check(conditions: untyped): untyped\n </denchmark-code>\n \n \t"}, "comments": {}}, "commit": {"commit_id": "f81b657a62c22d08ad25190250f8d2d353bb0e59", "commit_author": "mratsim", "commitT": "2018-05-10 12:32:32+02:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "src\\tensor\\init_opencl.nim", "file_new_name": "src\\tensor\\init_opencl.nim", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "32,57,85", "deleted_lines": "32,42,43,59,69,70,89"}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "src\\tensor\\operators_blas_l1_opencl.nim", "file_new_name": "src\\tensor\\operators_blas_l1_opencl.nim", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "16,45,67", "deleted_lines": "16,45,55,56,69"}}}}}}