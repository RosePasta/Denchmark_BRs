{"BR": {"BR_id": "158", "BR_author": "jonashaag", "BRopenT": "2020-06-24T12:47:59Z", "BRcloseT": "2020-06-24T15:45:07Z", "BR_text": {"BRsummary": "pytorch-lightning deprecations", "BRdescription": "\n <denchmark-h:h2>\ud83d\udc1b Bug</denchmark-h>\n \n Trainer() argument name changes in 0.8:\n \n max_nb_epoch -> max_epoch\n default_save_path -> default_root_dir\n \n Either pin pytorch-lightning<0.8 or change the names.\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "jonashaag", "commentT": "2020-06-24T13:42:43Z", "comment_text": "\n \t\tThanks for reporting this !\n Are those deprecated already? Or DeprecationWarning is thrown?\n I intended to upgrade to 0.8.1 because they have new features that will be helpful.\n I'll do this pretty soon.\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "jonashaag", "commentT": "2020-06-24T13:51:10Z", "comment_text": "\n \t\tThey are removed in 0.8\n With this patch training works for me so far\n <denchmark-code>diff --git a/egs/wham/DPRNN/train.py b/egs/wham/DPRNN/train.py\n index b4ebeb8..6b7020f 100644\n --- a/egs/wham/DPRNN/train.py\n +++ b/egs/wham/DPRNN/train.py\n @@ -75,10 +75,10 @@ def main(conf):\n \n      # Don't ask GPU if they are not available.\n      gpus = -1 if torch.cuda.is_available() else None\n -    trainer = pl.Trainer(max_nb_epochs=conf['training']['epochs'],\n +    trainer = pl.Trainer(max_epochs=conf['training']['epochs'],\n                           checkpoint_callback=checkpoint,\n                           early_stop_callback=early_stopping,\n -                         default_save_path=exp_dir,\n +                         default_root_dir=exp_dir,\n                           gpus=gpus,\n                           distributed_backend='ddp',\n                           gradient_clip_val=conf['training'][\"gradient_clipping\"])\n </denchmark-code>\n \n \t\t"}, "comments_2": {"comment_id": 3, "comment_author": "jonashaag", "commentT": "2020-06-24T14:00:43Z", "comment_text": "\n \t\tOk thanks !\n \t\t"}, "comments_3": {"comment_id": 4, "comment_author": "jonashaag", "commentT": "2020-06-24T14:09:47Z", "comment_text": "\n \t\tI let you make a PR in setup.py and requirements?\n For now, let's pin it\n \t\t"}, "comments_4": {"comment_id": 5, "comment_author": "jonashaag", "commentT": "2020-06-24T15:45:07Z", "comment_text": "\n \t\tClosed by <denchmark-link:https://github.com/asteroid-team/asteroid/pull/159>#159</denchmark-link>\n \n Thanks Jonas\n \t\t"}}}, "commit": {"commit_id": "d9c76ec728dc95ef695daf5743f21750c3218e0a", "commit_author": "Jonas Haag", "commitT": "2020-06-24 17:44:30+02:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "requirements.txt", "file_new_name": "requirements.txt", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "7", "deleted_lines": "7"}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "setup.py", "file_new_name": "setup.py", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "25,48", "deleted_lines": "25,48"}}}}}}