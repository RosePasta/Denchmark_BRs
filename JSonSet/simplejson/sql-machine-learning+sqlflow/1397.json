{"BR": {"BR_id": "1397", "BR_author": "Echo9573", "BRopenT": "2019-12-11T11:38:18Z", "BRcloseT": "2019-12-20T11:58:38Z", "BR_text": {"BRsummary": "Incorrect evaluation results when training model.", "BRdescription": "\n Default metrics evaluation results are incorrect when using tf.estimator.DNNClassifer for binary classification prediction.\n I have reproduced this problem on the iris dataset\uff0cis shown in the following zip file.\n <denchmark-link:https://github.com/sql-machine-learning/sqlflow/files/3950119/iris-dnn.html.zip>iris-dnn.html.zip</denchmark-link>\n \n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "Echo9573", "commentT": "2019-12-11T11:41:45Z", "comment_text": "\n \t\tHi <denchmark-link:https://github.com/Echo9573>@Echo9573</denchmark-link>\n  , thanks for your issue, I will try to reproduce it on my laptop.\n \t\t"}}}, "commit": {"commit_id": "24ea30ef003d8303a19ad7f88daa6067bd75dc21", "commit_author": "Yang Yang(Tony)", "commitT": "2019-12-20 19:58:37+08:00", "changed_files": {"file_0": {"file_change_type": "ADD", "file_Nmethod": 0, "file_old_name": "None", "file_new_name": "pkg\\sql\\convergence_test.go"}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "pkg\\sql\\testdata\\sanity_check.go", "file_new_name": "pkg\\sql\\testdata\\sanity_check.go", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "21,22,23,24,25,37,38,39,40,41", "deleted_lines": "21,22,23,24,25,37,38,39,40,41"}}}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 7, "file_old_name": "python\\sqlflow_submitter\\tensorflow\\predict.py", "file_new_name": "python\\sqlflow_submitter\\tensorflow\\predict.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "56,57,58,59", "deleted_lines": "57,58,59", "method_info": {"method_name": "predict.inner_func", "method_params": "", "method_startline": "56", "method_endline": "59"}}, "hunk_1": {"Ismethod": 1, "added_lines": "57,58,59", "deleted_lines": "57,58,59", "method_info": {"method_name": "_create_generator", "method_params": "self", "method_startline": "57", "method_endline": "59"}}, "hunk_2": {"Ismethod": 1, "added_lines": null, "deleted_lines": "125", "method_info": {"method_name": "eval_input_fn", "method_params": "batch_size,cache", "method_startline": "114", "method_endline": "131"}}, "hunk_3": {"Ismethod": 1, "added_lines": "61", "deleted_lines": "61,62,63,64,65,66,67,68,69,70,71,72,73,74", "method_info": {"method_name": "predict", "method_params": "self,feature_batch", "method_startline": "61", "method_endline": "74"}}, "hunk_4": {"Ismethod": 1, "added_lines": "55,56,57,58,59,60,61", "deleted_lines": "57,58,59,60,61", "method_info": {"method_name": "predict", "method_params": "self,feature_and_label", "method_startline": "55", "method_endline": "61"}}, "hunk_5": {"Ismethod": 1, "added_lines": null, "deleted_lines": "76,77,78,79,80,81", "method_info": {"method_name": "close", "method_params": "self", "method_startline": "76", "method_endline": "81"}}, "hunk_6": {"Ismethod": 1, "added_lines": "55", "deleted_lines": "53,54", "method_info": {"method_name": "__init__", "method_params": "self,estimator,input_fn", "method_startline": "51", "method_endline": "55"}}}}}}}