{"BR": {"BR_id": "554", "BR_author": "Simonvil", "BRopenT": "2019-07-09T09:16:28Z", "BRcloseT": "2019-07-16T07:21:16Z", "BR_text": {"BRsummary": "Model Manager issue after adding a new model", "BRdescription": "\n I uploaded a personnalized model, but I think my Json file was wrong. Now everytime i reload the dasboard i get the error \"Cannot get models meta information: Getting meta request has been failed. Code: 400. Message: Expecting value: line 1 column 1 (char 0)\", and when i try to go to model manager, i get a \"The managers are being setup..\" that never ends.\n Here's the output of \"docker logs cvat\":\n simon@simon-VirtualBox:~/cvat$ docker logs cvat\n 2019-07-09 08:23:24,419 INFO RPC interface 'supervisor' initialized\n 2019-07-09 08:23:24,419 CRIT Server 'unix_http_server' running without any HTTP authentication checking\n 2019-07-09 08:23:24,420 INFO supervisord started with pid 1\n 2019-07-09 08:23:25,422 INFO spawned: 'ssh-agent' with pid 8\n 2019-07-09 08:23:25,424 INFO spawned: 'git_status_updater' with pid 9\n 2019-07-09 08:23:25,426 INFO spawned: 'rqworker_low' with pid 10\n 2019-07-09 08:23:25,428 INFO spawned: 'runserver' with pid 12\n 2019-07-09 08:23:25,430 INFO spawned: 'rqworker_default_0' with pid 13\n 2019-07-09 08:23:25,432 INFO spawned: 'rqworker_default_1' with pid 14\n 2019-07-09 08:23:25,467 DEBG 'ssh-agent' stdout output:\n SSH_AUTH_SOCK=/tmp/ssh-agent.sock; export SSH_AUTH_SOCK;\n echo Agent pid 15;\n 2019-07-09 08:23:25,467 DEBG 'ssh-agent' stderr output:\n debug2: fd 3 setting O_NONBLOCK\n 2019-07-09 08:23:25,497 DEBG 'runserver' stderr output:\n wait-for-it.sh: waiting for db:5432 without a timeout\n 2019-07-09 08:23:25,498 DEBG 'git_status_updater' stderr output:\n wait-for-it.sh: waiting for redis:6379 without a timeout\n 2019-07-09 08:23:25,498 DEBG 'rqworker_low' stderr output:\n wait-for-it.sh: waiting for redis:6379 without a timeout\n 2019-07-09 08:23:25,499 DEBG 'rqworker_default_0' stderr output:\n wait-for-it.sh: waiting for cvat_redis:6379 without a timeout\n 2019-07-09 08:23:25,499 DEBG 'rqworker_default_1' stderr output:\n wait-for-it.sh: waiting for cvat_redis:6379 without a timeout\n 2019-07-09 08:23:25,504 DEBG 'rqworker_default_1' stderr output:\n wait-for-it.sh: cvat_redis:6379 is available after 0 seconds\n 2019-07-09 08:23:25,505 DEBG 'rqworker_default_0' stderr output:\n wait-for-it.sh: cvat_redis:6379 is available after 0 seconds\n 2019-07-09 08:23:25,507 DEBG 'git_status_updater' stderr output:\n wait-for-it.sh: redis:6379 is available after 0 seconds\n 2019-07-09 08:23:25,507 DEBG 'runserver' stderr output:\n wait-for-it.sh: db:5432 is available after 0 seconds\n 2019-07-09 08:23:25,507 DEBG 'rqworker_default_0' stderr output:\n bash: cannot set terminal process group (-1): Inappropriate ioctl for device\n bash: no job control in this shell\n 2019-07-09 08:23:25,507 DEBG 'rqworker_default_1' stderr output:\n bash: cannot set terminal process group (-1): Inappropriate ioctl for device\n bash: no job control in this shell\n 2019-07-09 08:23:25,509 DEBG 'git_status_updater' stderr output:\n bash: cannot set terminal process group (-1): Inappropriate ioctl for device\n bash: no job control in this shell\n 2019-07-09 08:23:25,509 DEBG 'rqworker_low' stderr output:\n wait-for-it.sh: redis:6379 is available after 0 seconds\n 2019-07-09 08:23:25,509 DEBG 'runserver' stderr output:\n bash: cannot set terminal process group (-1): Inappropriate ioctl for device\n bash: no job control in this shell\n 2019-07-09 08:23:25,510 DEBG 'rqworker_low' stderr output:\n bash: cannot set terminal process group (-1): Inappropriate ioctl for device\n 2019-07-09 08:23:25,510 DEBG 'rqworker_low' stderr output:\n bash: no job control in this shell\n 2019-07-09 08:23:25,930 DEBG 'git_status_updater' stdout output:\n [setupvars.sh] OpenVINO environment initialized\n 2019-07-09 08:23:25,937 DEBG 'rqworker_low' stdout output:\n [setupvars.sh] OpenVINO environment initialized\n 2019-07-09 08:23:25,941 DEBG 'runserver' stdout output:\n [setupvars.sh] OpenVINO environment initialized\n 2019-07-09 08:23:25,949 DEBG 'rqworker_default_0' stdout output:\n [setupvars.sh] OpenVINO environment initialized\n 2019-07-09 08:23:25,976 DEBG 'rqworker_default_1' stdout output:\n [setupvars.sh] OpenVINO environment initialized\n 2019-07-09 08:23:26,349 DEBG 'ssh-agent' stderr output:\n debug2: fd 4 setting O_NONBLOCK\n 2019-07-09 08:23:26,350 DEBG 'ssh-agent' stderr output:\n debug1: XXX shrink: 3 < 4\n 2019-07-09 08:23:26,353 DEBG 'ssh-agent' stderr output:\n debug2: fd 4 setting O_NONBLOCK\n debug1: type 11\n 2019-07-09 08:23:26,353 DEBG 'ssh-agent' stderr output:\n debug1: XXX shrink: 3 < 4\n 2019-07-09 08:23:26,373 DEBG 'ssh-agent' stderr output:\n debug2: fd 4 setting O_NONBLOCK\n 2019-07-09 08:23:26,377 DEBG 'ssh-agent' stderr output:\n debug1: type 17\n 2019-07-09 08:23:26,379 DEBG 'rqworker_low' stderr output:\n Identity added: /home/django/.ssh/id_rsa (/home/django/.ssh/id_rsa)\n 2019-07-09 08:23:26,379 DEBG 'ssh-agent' stderr output:\n debug1: XXX shrink: 3 < 4\n 2019-07-09 08:23:26,383 DEBG 'ssh-agent' stderr output:\n debug2: fd 4 setting O_NONBLOCK\n 2019-07-09 08:23:26,384 DEBG 'ssh-agent' stderr output:\n debug1: type 17\n 2019-07-09 08:23:26,386 DEBG 'ssh-agent' stderr output:\n debug1: XXX shrink: 3 < 4\n 2019-07-09 08:23:26,389 DEBG 'ssh-agent' stderr output:\n debug2: fd 4 setting O_NONBLOCK\n debug1: type 11\n 2019-07-09 08:23:26,389 DEBG 'ssh-agent' stderr output:\n debug1: XXX shrink: 3 < 4\n 2019-07-09 08:23:26,393 DEBG 'ssh-agent' stderr output:\n debug2: fd 4 setting O_NONBLOCK\n 2019-07-09 08:23:26,394 DEBG 'ssh-agent' stderr output:\n debug1: type 17\n 2019-07-09 08:23:26,396 DEBG 'ssh-agent' stderr output:\n debug1: XXX shrink: 3 < 4\n 2019-07-09 08:23:26,402 DEBG 'ssh-agent' stderr output:\n debug2: fd 4 setting O_NONBLOCK\n 2019-07-09 08:23:26,403 DEBG 'ssh-agent' stderr output:\n debug1: type 11\n 2019-07-09 08:23:26,403 DEBG 'ssh-agent' stderr output:\n debug1: XXX shrink: 3 < 4\n 2019-07-09 08:23:26,407 DEBG 'ssh-agent' stderr output:\n debug2: fd 4 setting O_NONBLOCK\n 2019-07-09 08:23:26,409 DEBG 'ssh-agent' stderr output:\n debug1: type 17\n 2019-07-09 08:23:26,410 DEBG 'ssh-agent' stderr output:\n debug1: XXX shrink: 3 < 4\n 2019-07-09 08:23:26,414 DEBG 'ssh-agent' stderr output:\n debug2: fd 4 setting O_NONBLOCK\n debug1: type 11\n 2019-07-09 08:23:26,414 DEBG 'ssh-agent' stderr output:\n debug1: XXX shrink: 3 < 4\n 2019-07-09 08:23:26,419 DEBG 'ssh-agent' stderr output:\n debug2: fd 4 setting O_NONBLOCK\n 2019-07-09 08:23:26,421 DEBG 'ssh-agent' stderr output:\n debug1: type 17\n 2019-07-09 08:23:26,424 DEBG 'ssh-agent' stderr output:\n debug1: XXX shrink: 3 < 4\n 2019-07-09 08:23:26,424 INFO success: ssh-agent entered RUNNING state, process has stayed up for > than 1 seconds (startsecs)\n 2019-07-09 08:23:26,424 INFO success: git_status_updater entered RUNNING state, process has stayed up for > than 1 seconds (startsecs)\n 2019-07-09 08:23:26,427 DEBG 'ssh-agent' stderr output:\n debug2: fd 4 setting O_NONBLOCK\n debug1: type 11\n 2019-07-09 08:23:26,427 INFO success: rqworker_low entered RUNNING state, process has stayed up for > than 1 seconds (startsecs)\n 2019-07-09 08:23:26,427 INFO success: runserver entered RUNNING state, process has stayed up for > than 1 seconds (startsecs)\n 2019-07-09 08:23:26,428 DEBG 'ssh-agent' stderr output:\n debug1: XXX shrink: 3 < 4\n 2019-07-09 08:23:27,428 INFO success: rqworker_default_0 entered RUNNING state, process has stayed up for > than 1 seconds (startsecs)\n 2019-07-09 08:23:27,428 INFO success: rqworker_default_1 entered RUNNING state, process has stayed up for > than 1 seconds (startsecs)\n 2019-07-09 08:23:34,992 DEBG 'rqworker_low' stderr output:\n System check identified some issues:\n WARNINGS:\n ?: (2_0.W001) Your URL pattern 'api/swagger.slug:format$' [name='schema-json'] has a route that contains '(?P<', begins with a '^', or ends with a '$'. This was likely an oversight when migrating to django.urls.path().\n 08:23:34 RQ worker 'rq:worker:c98d5f4c9d01433ba5e6f38cd5a75df5' started, version 1.0\n 2019-07-09 08:23:34,992 DEBG 'rqworker_low' stderr output:\n 08:23:34 *** Listening on low...\n 2019-07-09 08:23:34,993 DEBG 'rqworker_default_1' stderr output:\n System check identified some issues:\n WARNINGS:\n ?: (2_0.W001) Your URL pattern 'api/swagger.slug:format$' [name='schema-json'] has a route that contains '(?P<', begins with a '^', or ends with a '$'. This was likely an oversight when migrating to django.urls.path().\n 08:23:34 RQ worker 'rq:worker:0422d72e435b4483a5eb939a83c3e795' started, version 1.0\n 2019-07-09 08:23:34,993 DEBG 'rqworker_default_1' stderr output:\n 08:23:34 *** Listening on default...\n 2019-07-09 08:23:34,994 DEBG 'rqworker_default_1' stderr output:\n 08:23:34 Cleaning registries for queue: default\n 2019-07-09 08:23:34,994 DEBG 'rqworker_low' stderr output:\n 08:23:34 Cleaning registries for queue: low\n 2019-07-09 08:23:34,998 DEBG 'rqworker_default_0' stderr output:\n System check identified some issues:\n WARNINGS:\n ?: (2_0.W001) Your URL pattern 'api/swagger.slug:format$' [name='schema-json'] has a route that contains '(?P<', begins with a '^', or ends with a '$'. This was likely an oversight when migrating to django.urls.path().\n 08:23:34 RQ worker 'rq:worker:5e2d70c5b9d240839954378134223037' started, version 1.0\n 2019-07-09 08:23:34,998 DEBG 'rqworker_default_0' stderr output:\n 08:23:34 *** Listening on default...\n 2019-07-09 08:23:35,937 DEBG 'runserver' stderr output:\n System check identified some issues:\n WARNINGS:\n ?: (2_0.W001) Your URL pattern 'api/swagger.slug:format$' [name='schema-json'] has a route that contains '(?P<', begins with a '^', or ends with a '$'. This was likely an oversight when migrating to django.urls.path().\n 2019-07-09 08:23:35,938 DEBG 'runserver' stdout output:\n Operations to perform:\n Apply all migrations: admin, auth, auto_annotation, contenttypes, engine, git, sessions\n Running migrations:\n No migrations to apply.\n 2019-07-09 08:23:36,396 DEBG 'ssh-agent' stderr output:\n debug2: fd 4 setting O_NONBLOCK\n 2019-07-09 08:23:36,399 DEBG 'ssh-agent' stderr output:\n debug1: type 17\n 2019-07-09 08:23:36,399 DEBG 'ssh-agent' stderr output:\n debug1: XXX shrink: 3 < 4\n 2019-07-09 08:23:36,403 DEBG 'ssh-agent' stderr output:\n debug2: fd 4 setting O_NONBLOCK\n debug1: type 11\n 2019-07-09 08:23:36,403 DEBG 'ssh-agent' stderr output:\n debug1: XXX shrink: 3 < 4\n 2019-07-09 08:23:36,966 DEBG 'runserver' stdout output:\n 0 static files copied to '/home/django/static', 376 unmodified.\n 2019-07-09 08:23:37,199 DEBG 'ssh-agent' stderr output:\n debug2: fd 4 setting O_NONBLOCK\n 2019-07-09 08:23:37,201 DEBG 'ssh-agent' stderr output:\n debug1: type 17\n 2019-07-09 08:23:37,203 DEBG 'ssh-agent' stderr output:\n debug1: XXX shrink: 3 < 4\n 2019-07-09 08:23:37,207 DEBG 'ssh-agent' stderr output:\n debug2: fd 4 setting O_NONBLOCK\n debug1: type 11\n 2019-07-09 08:23:37,222 DEBG 'ssh-agent' stderr output:\n debug1: XXX shrink: 3 < 4\n 2019-07-09 08:23:38,856 DEBG 'runserver' stdout output:\n Successfully ran command.\n Server URL         : <denchmark-link:http://localhost:8080/>http://localhost:8080/</denchmark-link>\n \n Server Root        : /tmp/mod_wsgi-localhost:8080:1000\n Server Conf        : /tmp/mod_wsgi-localhost:8080:1000/httpd.conf\n Error Log File     : /dev/stderr (INFO)\n Request Capacity   : 5 (1 process * 5 threads)\n Request Timeout    : 60 (seconds)\n Startup Timeout    : 15 (seconds)\n Queue Backlog      : 100 (connections)\n Queue Timeout      : 45 (seconds)\n Server Capacity    : 20 (event/worker), 20 (prefork)\n Server Backlog     : 500 (connections)\n Locale Setting     : C.UTF-8\n 2019-07-09 08:23:38,894 DEBG 'runserver' stderr output:\n [Tue Jul 09 08:23:38.894052 2019] [wsgi:info] [pid 181:tid 140163043092352] mod_wsgi (pid=181): Starting process 'localhost:8080' with threads=5.\n [Tue Jul 09 08:23:38.894177 2019] [mpm_event:notice] [pid 12:tid 140163043092352] AH00489: Apache/2.4.18 (Ubuntu) mod_wsgi/4.6.2 Python/3.5 configured -- resuming normal operations\n [Tue Jul 09 08:23:38.894234 2019] [mpm_event:info] [pid 12:tid 140163043092352] AH00490: Server built: 2019-04-03T13:34:47\n [Tue Jul 09 08:23:38.894240 2019] [core:notice] [pid 12:tid 140163043092352] AH00094: Command line: 'apache2 (mod_wsgi-express) -f /tmp/mod_wsgi-localhost:8080:1000/httpd.conf -D MOD_WSGI_MPM_ENABLE_EVENT_MODULE -D MOD_WSGI_MPM_EXISTS_EVENT_MODULE -D MOD_WSGI_MPM_EXISTS_WORKER_MODULE -D MOD_WSGI_MPM_EXISTS_PREFORK_MODULE -D FOREGROUND'\n 2019-07-09 08:23:38,894 DEBG 'runserver' stderr output:\n [Tue Jul 09 08:23:38.894541 2019] [wsgi:info] [pid 181:tid 140163043092352] mod_wsgi (pid=181): Python home /usr.\n 2019-07-09 08:23:38,894 DEBG 'runserver' stderr output:\n [Tue Jul 09 08:23:38.894565 2019] [wsgi:info] [pid 181:tid 140163043092352] mod_wsgi (pid=181): Initializing Python.\n 2019-07-09 08:23:38,923 DEBG 'runserver' stderr output:\n [Tue Jul 09 08:23:38.921864 2019] [wsgi:info] [pid 181:tid 140163043092352] mod_wsgi (pid=181): Attach interpreter ''.\n 2019-07-09 08:23:38,928 DEBG 'runserver' stderr output:\n [Tue Jul 09 08:23:38.925449 2019] [wsgi:info] [pid 181:tid 140163043092352] mod_wsgi (pid=181): Imported 'mod_wsgi'.\n [Tue Jul 09 08:23:38.925519 2019] [wsgi:info] [pid 181:tid 140163043092352] mod_wsgi (pid=181, process='localhost:8080', application=''): Loading Python script file '/tmp/mod_wsgi-localhost:8080:1000/handler.wsgi'.\n 2019-07-09 08:23:39,205 DEBG 'ssh-agent' stderr output:\n debug2: fd 4 setting O_NONBLOCK\n debug1: type 17\n 2019-07-09 08:23:39,207 DEBG 'ssh-agent' stderr output:\n debug1: XXX shrink: 3 < 4\n 2019-07-09 08:23:39,213 DEBG 'ssh-agent' stderr output:\n debug2: fd 4 setting O_NONBLOCK\n debug1: type 11\n 2019-07-09 08:23:39,214 DEBG 'ssh-agent' stderr output:\n debug1: XXX shrink: 3 < 4\n 2019-07-09 08:23:41,337 DEBG 'runserver' stderr output:\n [Tue Jul 09 08:23:41.337214 2019] [wsgi:error] [pid 181:tid 140162826422016] [remote 172.19.0.1:39544] [2019-07-09 08:23:41,336] WARNING django.request: Not Found: /favicon.ico\n 2019-07-09 08:23:41,424 DEBG 'runserver' stderr output:\n [Tue Jul 09 08:23:41.423992 2019] [wsgi:error] [pid 181:tid 140162834814720] [remote 172.19.0.1:39568] [2019-07-09 08:23:41,423] WARNING django.request: Bad Request: /auto_annotation/meta/get\n 2019-07-09 08:23:50,598 DEBG 'runserver' stderr output:\n [Tue Jul 09 08:23:50.598400 2019] [wsgi:error] [pid 181:tid 140162818029312] [remote 10.33.128.86:54982] [2019-07-09 08:23:50,598] WARNING django.request: Bad Request: /auto_annotation/meta/get\n 2019-07-09 08:25:59,682 DEBG 'runserver' stderr output:\n [Tue Jul 09 08:25:59.681968 2019] [wsgi:error] [pid 181:tid 140162843207424] [remote 10.33.128.86:55007] [2019-07-09 08:25:59,681] WARNING django.request: Bad Request: /auto_annotation/meta/get\n 2019-07-09 08:44:05,166 DEBG 'runserver' stderr output:\n [Tue Jul 09 08:44:05.166158 2019] [wsgi:error] [pid 181:tid 140162834814720] [remote 10.33.128.86:55273] [2019-07-09 08:44:05,166] WARNING django.request: Bad Request: /auto_annotation/meta/get\n 2019-07-09 08:49:54,938 DEBG 'runserver' stderr output:\n [Tue Jul 09 08:49:54.938086 2019] [wsgi:error] [pid 181:tid 140162809636608] [remote 172.19.0.1:39712] [2019-07-09 08:49:54,937] WARNING django.request: Bad Request: /auto_annotation/meta/get\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "Simonvil", "commentT": "2019-07-15T09:43:26Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/Simonvil>@Simonvil</denchmark-link>\n  Could you please share your json? Thanks.\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "Simonvil", "commentT": "2019-07-15T14:16:27Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/Simonvil>@Simonvil</denchmark-link>\n  PR <denchmark-link:https://github.com/openvinotoolkit/cvat/pull/573>#573</denchmark-link>\n  fixes the issue for future, in your case you should additionally delete the corrupted model via Admin panel(<your_cvat_hostname>/admin). Thanks for the bug report!\n \t\t"}}}, "commit": {"commit_id": "a159826bf7b58be003716a0e006815a867095049", "commit_author": "Andrey Zhavoronkov", "commitT": "2019-07-16 10:21:15+03:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "CHANGELOG.md", "file_new_name": "CHANGELOG.md", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "39", "deleted_lines": null}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "cvat\\apps\\auto_annotation\\admin.py", "file_new_name": "cvat\\apps\\auto_annotation\\admin.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "14,15", "deleted_lines": null, "method_info": {"method_name": "has_add_permission", "method_params": "self,request", "method_startline": "14", "method_endline": "15"}}}}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "cvat\\apps\\auto_annotation\\model_loader.py", "file_new_name": "cvat\\apps\\auto_annotation\\model_loader.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "68,69,70", "deleted_lines": "68,69,70", "method_info": {"method_name": "load_label_map", "method_params": "labels_path", "method_startline": "68", "method_endline": "70"}}, "hunk_1": {"Ismethod": 1, "added_lines": "68,69,70", "deleted_lines": "68,69,70", "method_info": {"method_name": "load_labelmap", "method_params": "labels_path", "method_startline": "68", "method_endline": "70"}}}}, "file_3": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "cvat\\apps\\auto_annotation\\model_manager.py", "file_new_name": "cvat\\apps\\auto_annotation\\model_manager.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "49,54", "deleted_lines": "51", "method_info": {"method_name": "_run_test", "method_params": "model_file,weights_file,labelmap_file,interpretation_file", "method_startline": "46", "method_endline": "62"}}}}, "file_4": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "cvat\\apps\\auto_annotation\\views.py", "file_new_name": "cvat\\apps\\auto_annotation\\views.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "198", "deleted_lines": "198", "method_info": {"method_name": "start_annotation", "method_params": "request,mid,tid", "method_startline": "171", "method_endline": "233"}}}}}}}