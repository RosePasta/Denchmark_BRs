{"BR": {"BR_id": "413", "BR_author": "lantiga", "BRopenT": "2020-06-17T07:29:37Z", "BRcloseT": "2020-06-28T16:57:21Z", "BR_text": {"BRsummary": "Backport ccf0d5c to 1.0", "BRdescription": "\n <denchmark-link:https://github.com/RedisAI/RedisAI/pull/412>#412</denchmark-link>\n  should be backported to the 1.0 branch via cherry-picking <denchmark-link:https://github.com/RedisAI/RedisAI/commit/ccf0d5cb80744b6bd48a70f1e6a76ed214c142a7>ccf0d5c</denchmark-link>\n \n A new patch release should be issued\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "lantiga", "commentT": "2020-06-28T16:57:21Z", "comment_text": "\n \t\tclosed by <denchmark-link:https://github.com/RedisAI/RedisAI/pull/419>#419</denchmark-link>\n \n \t\t"}}}, "commit": {"commit_id": "d0bbc928bf4e13ae802263cd7d7eca337edce30e", "commit_author": "Luca Antiga", "commitT": "2020-06-27 20:36:09+01:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "src\\backends\\onnxruntime.c", "file_new_name": "src\\backends\\onnxruntime.c", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "209", "deleted_lines": null, "method_info": {"method_name": "RAI_TensorCreateFromOrtValue", "method_params": "v,batch_offset,batch_size,error", "method_startline": "166", "method_endline": "287"}}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "src\\backends\\tensorflow.c", "file_new_name": "src\\backends\\tensorflow.c", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "92,93", "deleted_lines": "92", "method_info": {"method_name": "RAI_TensorCreateFromTFTensor", "method_params": "tensor,batch_offset,batch_size", "method_startline": "82", "method_endline": "142"}}}}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "src\\dag.c", "file_new_name": "src\\dag.c", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": null, "deleted_lines": "198", "method_info": {"method_name": "RedisAI_DagRun_Reply", "method_params": "ctx,argv,argc", "method_startline": "114", "method_endline": "231"}}, "hunk_1": {"Ismethod": 1, "added_lines": "94,95,96,97,98,99,100,101,102,103", "deleted_lines": null, "method_info": {"method_name": "RedisAI_DagRunSession", "method_params": "rinfo", "method_startline": "31", "method_endline": "122"}}}}, "file_3": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "src\\model.c", "file_new_name": "src\\model.c", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "392,393,394,395,396,398,399,400,401,404,405", "deleted_lines": "392,393,394,395,396,398,399,400", "method_info": {"method_name": "RAI_ModelRunCtxFree", "method_params": "mctx", "method_startline": "392", "method_endline": "414"}}, "hunk_1": {"Ismethod": 1, "added_lines": "392,393,394,395,396,398,399,400,401,404,405", "deleted_lines": "392,393,394,395,396,398,399,400", "method_info": {"method_name": "RAI_ModelRunCtxFree", "method_params": "mctx,freeTensors", "method_startline": "392", "method_endline": "417"}}}}, "file_4": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "src\\model.h", "file_new_name": "src\\model.h", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "82,84", "deleted_lines": "83"}}}, "file_5": {"file_change_type": "MODIFY", "file_Nmethod": 8, "file_old_name": "src\\run_info.c", "file_new_name": "src\\run_info.c", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "153,154,155,156,157,158,159", "deleted_lines": "137,140,141,142,144,148,149,153,156", "method_info": {"method_name": "RAI_FreeDagOp", "method_params": "ctx,dagOp", "method_startline": "136", "method_endline": "162"}}, "hunk_1": {"Ismethod": 1, "added_lines": "24,25,26,27,28", "deleted_lines": null, "method_info": {"method_name": "RAI_TensorDictKeyStrcmp", "method_params": "privdata,key1,key2", "method_startline": "24", "method_endline": "28"}}, "hunk_2": {"Ismethod": 1, "added_lines": "34,35,36", "deleted_lines": null, "method_info": {"method_name": "RAI_TensorDictKeyDup", "method_params": "privdata,key", "method_startline": "34", "method_endline": "36"}}, "hunk_3": {"Ismethod": 1, "added_lines": "20,21,22", "deleted_lines": null, "method_info": {"method_name": "RAI_TensorDictKeyHashFunction", "method_params": "key", "method_startline": "20", "method_endline": "22"}}, "hunk_4": {"Ismethod": 1, "added_lines": "169,172,178,181,182,183,185,189,192,194,195,196,197,198,199,200,201,204,207,208,209,210", "deleted_lines": null, "method_info": {"method_name": "RAI_FreeRunInfo", "method_params": "ctx,rinfo", "method_startline": "164", "method_endline": "227"}}, "hunk_5": {"Ismethod": 1, "added_lines": "113", "deleted_lines": "128,131", "method_info": {"method_name": "RAI_InitRunInfo", "method_params": "result", "method_startline": "97", "method_endline": "134"}}, "hunk_6": {"Ismethod": 1, "added_lines": "30,31,32", "deleted_lines": null, "method_info": {"method_name": "RAI_TensorDictKeyFree", "method_params": "privdata,key", "method_startline": "30", "method_endline": "32"}}, "hunk_7": {"Ismethod": 1, "added_lines": "38,39,40", "deleted_lines": null, "method_info": {"method_name": "RAI_TensorDictValFree", "method_params": "privdata,obj", "method_startline": "38", "method_endline": "40"}}}}, "file_6": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "src\\script.c", "file_new_name": "src\\script.c", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "185,186,187,188,189,191,192,193,194,197,198", "deleted_lines": "185,186,187,188,189,191,192,193", "method_info": {"method_name": "RAI_ScriptRunCtxFree", "method_params": "sctx", "method_startline": "185", "method_endline": "210"}}, "hunk_1": {"Ismethod": 1, "added_lines": "185,186,187,188,189,191,192,193,194,197,198", "deleted_lines": "185,186,187,188,189,191,192,193", "method_info": {"method_name": "RAI_ScriptRunCtxFree", "method_params": "sctx,freeTensors", "method_startline": "185", "method_endline": "213"}}}}, "file_7": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "src\\script.h", "file_new_name": "src\\script.h", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "106,108", "deleted_lines": "107"}}}, "file_8": {"file_change_type": "MODIFY", "file_Nmethod": 4, "file_old_name": "test\\includes.py", "file_new_name": "test\\includes.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "117,121,122,123,137", "deleted_lines": null, "method_info": {"method_name": "load_mobilenet_v2_test_data", "method_params": "", "method_startline": "117", "method_endline": "137"}}, "hunk_1": {"Ismethod": 1, "added_lines": "71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93", "deleted_lines": "74,88", "method_info": {"method_name": "load_resnet_test_data", "method_params": "", "method_startline": "71", "method_endline": "93"}}, "hunk_2": {"Ismethod": 1, "added_lines": "71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88", "deleted_lines": "70,74,88", "method_info": {"method_name": "load_mobilenet_test_data", "method_params": "", "method_startline": "70", "method_endline": "88"}}, "hunk_3": {"Ismethod": 1, "added_lines": "95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115", "deleted_lines": null, "method_info": {"method_name": "load_mobilenet_v1_test_data", "method_params": "", "method_startline": "95", "method_endline": "115"}}}}, "file_9": {"file_change_type": "ADD", "file_Nmethod": 0, "file_old_name": "None", "file_new_name": "test\\test_data\\batchdim_mismatch.onnx"}, "file_10": {"file_change_type": "ADD", "file_Nmethod": 0, "file_old_name": "None", "file_new_name": "test\\test_data\\batchdim_mismatch.pt"}, "file_11": {"file_change_type": "ADD", "file_Nmethod": 0, "file_old_name": "None", "file_new_name": "test\\test_data\\mobilenet\\mobilenet_v1_100_224_cpu_NxHxWxC.pb"}, "file_12": {"file_change_type": "ADD", "file_Nmethod": 0, "file_old_name": "None", "file_new_name": "test\\test_data\\mobilenet\\mobilenet_v1_100_224_gpu_NxHxWxC.pb"}, "file_13": {"file_change_type": "ADD", "file_Nmethod": 0, "file_old_name": "None", "file_new_name": "test\\test_data\\mobilenet\\mobilenet_v1_100_224_gpu_NxHxWxC_fp16_trt.pb"}, "file_14": {"file_change_type": "ADD", "file_Nmethod": 0, "file_old_name": "None", "file_new_name": "test\\test_data\\mobilenet\\mobilenet_v2_1.4_224_frozen.pb"}, "file_15": {"file_change_type": "ADD", "file_Nmethod": 0, "file_old_name": "None", "file_new_name": "test\\test_data\\mobilenet\\model_saver.py"}, "file_16": {"file_change_type": "ADD", "file_Nmethod": 0, "file_old_name": "None", "file_new_name": "test\\test_data\\onnx_batchdim_mismatch.py"}, "file_17": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "test\\tests_onnx.py", "file_new_name": "test\\tests_onnx.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172", "deleted_lines": null, "method_info": {"method_name": "test_onnx_modelrun_batchdim_mismatch", "method_params": "env", "method_startline": "155", "method_endline": "172"}}}}, "file_18": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "test\\tests_pytorch.py", "file_new_name": "test\\tests_pytorch.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187", "deleted_lines": null, "method_info": {"method_name": "test_pytorch_modelrun_batchdim_mismatch", "method_params": "env", "method_startline": "170", "method_endline": "187"}}}}, "file_19": {"file_change_type": "ADD", "file_Nmethod": 0, "file_old_name": "None", "file_new_name": "test\\tests_sanitizer.py"}, "file_20": {"file_change_type": "MODIFY", "file_Nmethod": 3, "file_old_name": "test\\tests_tensorflow.py", "file_new_name": "test\\tests_tensorflow.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "27", "deleted_lines": "27,28,29,30", "method_info": {"method_name": "test_run_mobilenet", "method_params": "env", "method_startline": "24", "method_endline": "82"}}, "hunk_1": {"Ismethod": 1, "added_lines": "624,628,629,652,653", "deleted_lines": "630,631,632,633,637,638,661,662", "method_info": {"method_name": "test_tensorflow_modelrun_with_batch_and_minbatch", "method_params": "env", "method_startline": "618", "method_endline": "670"}}, "hunk_2": {"Ismethod": 1, "added_lines": "94", "deleted_lines": "97,98,99,100", "method_info": {"method_name": "test_run_mobilenet_multiproc", "method_params": "env", "method_startline": "86", "method_endline": "121"}}}}}}}