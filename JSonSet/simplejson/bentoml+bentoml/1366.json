{"BR": {"BR_id": "1366", "BR_author": "felix-zg", "BRopenT": "2020-12-29T17:06:12Z", "BRcloseT": "2021-01-06T22:50:17Z", "BR_text": {"BRsummary": "`bentoml lambda list` failed with PostgreSQL 11", "BRdescription": "\n Describe the bug\n Running bentoml lambda list on with local Yatai and PostgreSQL 11 return this error:\n <denchmark-code>ambda list failed: INTERNAL:(psycopg2.errors.UndefinedFunction) operator does not exist: json ~~ text\n LINE 3: WHERE ((deployments.spec -> 'operator') LIKE '%' || 'AWS_LAM...\n                                                 ^\n HINT:  No operator matches the given name and argument types. You might need to add explicit type casts.\n \n [SQL: SELECT deployments.id AS deployments_id, deployments.name AS deployments_name, deployments.namespace AS deployments_namespace, deployments.spec AS deployments_spec, deployments.state AS deployments_state, deployments.annotations AS deployments_annotations, deployments.created_at AS deployments_created_at, deployments.last_updated_at AS deployments_last_updated_at \n FROM deployments \n WHERE ((deployments.spec -> %(spec_1)s) LIKE '%%' || %(param_1)s || '%%') ORDER BY deployments.created_at DESC \n  LIMIT %(param_2)s]\n [parameters: {'spec_1': 'operator', 'param_1': 'AWS_LAMBDA', 'param_2': 200}]\n (Background on this error at: http://sqlalche.me/e/13/f405)\n </denchmark-code>\n \n Environment:\n \n MacOS 10.15.6\n Python 3.6.8\n BentoML 0.10.1\n PostgreSQL 11.9\n \n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "felix-zg", "commentT": "2020-12-29T17:37:19Z", "comment_text": "\n \t\tDid you encounter this issue before or after you encounter the lambda deployment issue?\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "felix-zg", "commentT": "2020-12-29T17:41:08Z", "comment_text": "\n \t\tbefore\n \t\t"}, "comments_2": {"comment_id": 3, "comment_author": "felix-zg", "commentT": "2020-12-29T17:52:05Z", "comment_text": "\n \t\tGot it. per our slack conversation, I will try to reproduce this. If you have additional insights, feel free to share them here.\n \t\t"}, "comments_3": {"comment_id": 4, "comment_author": "felix-zg", "commentT": "2021-01-06T13:11:25Z", "comment_text": "\n \t\tHey <denchmark-link:https://github.com/yubozhao>@yubozhao</denchmark-link>\n \n Can you please check my PR? This solved my problem.\n \t\t"}, "comments_4": {"comment_id": 5, "comment_author": "felix-zg", "commentT": "2021-01-06T22:50:17Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/felix-zg>@felix-zg</denchmark-link>\n  Thanks for fixing it and improve BentoML for the community!\n It will be out with the next release.\n \t\t"}}}, "commit": {"commit_id": "4c825fd359267ee333925514e144ef1b39e5f47e", "commit_author": "Felix Weizman", "commitT": "2021-01-06 14:49:15-08:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "bentoml\\yatai\\deployment\\store.py", "file_new_name": "bentoml\\yatai\\deployment\\store.py", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "212", "deleted_lines": "212"}}}}}}