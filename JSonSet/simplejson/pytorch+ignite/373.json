{"BR": {"BR_id": "373", "BR_author": "vfdev-5", "BRopenT": "2018-12-14T23:43:09Z", "BRcloseT": "2018-12-23T20:12:33Z", "BR_text": {"BRsummary": "Issue with traced models", "BRdescription": "\n If user passes a traced model into create_supervised* methods and specifies a device, there will be the following error:\n traced_model = torch.jit.trace(model, z)\n \n evaluator = create_supervised_evaluator(traced_model, metrics, device='cuda')\n > RuntimeError: to is not supported on TracedModules\n We need to check if model have the method .to...\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "vfdev-5", "commentT": "2018-12-17T07:42:45Z", "comment_text": "\n \t\tProbably, we should wait until <denchmark-link:https://github.com/pytorch/pytorch/issues/6008>this issue</denchmark-link>\n  is done.\n EDIT: pytorch/pytorch#15340\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "vfdev-5", "commentT": "2018-12-20T12:25:45Z", "comment_text": "\n \t\tAs  has been merged,  methods will work on ScriptModule and traced models.\n We need to checked with tests on CI ...\n <denchmark-link:https://github.com/TheCodez>@TheCodez</denchmark-link>\n  if you would like to contribute, you can add a test with traced and scripted models passing to  method with device  and the test should pass for pytorch-nightly build (can be check with )\n \t\t"}, "comments_2": {"comment_id": 3, "comment_author": "vfdev-5", "commentT": "2018-12-21T10:17:53Z", "comment_text": "\n \t\t\n the test should pass for pytorch-nightly build (can be check with torch.version)\n \n Do you mean only executing the test if on the nightly, or check if it throws a RuntimeError if not on the nightly?\n \t\t"}, "comments_3": {"comment_id": 4, "comment_author": "vfdev-5", "commentT": "2018-12-21T10:18:54Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/TheCodez>@TheCodez</denchmark-link>\n  yes something like this.\n \t\t"}, "comments_4": {"comment_id": 5, "comment_author": "vfdev-5", "commentT": "2018-12-23T17:55:25Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/vfdev-5>@vfdev-5</denchmark-link>\n  which  to check for nightly?\n \t\t"}, "comments_5": {"comment_id": 6, "comment_author": "vfdev-5", "commentT": "2018-12-23T17:57:53Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/TheCodez>@TheCodez</denchmark-link>\n  you can do it like this:\n # Check if torch-nightly\n if \"dev\" in torch.__version__:\n      ...\n else:\n     ...\n \t\t"}}}, "commit": {"commit_id": "d9820451da779e0d0c393804db381e5483240b1c", "commit_author": "Michael K\u00f6sel", "commitT": "2018-12-23 21:12:33+01:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 6, "file_old_name": "tests\\ignite\\engine\\test_engine.py", "file_new_name": "tests\\ignite\\engine\\test_engine.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "593,594,595,596,597,598,599,600,601,602,603,604,605,606,607,608,609,610,611,612,613,614,615,616,617,618,619,620,621,622,623,624,625,626", "deleted_lines": null, "method_info": {"method_name": "test_create_supervised_evaluator_traced_on_cpu", "method_params": "", "method_startline": "593", "method_endline": "626"}}, "hunk_1": {"Ismethod": 1, "added_lines": "499,500", "deleted_lines": null, "method_info": {"method_name": "test_create_supervised_trainer_traced_with_cpu.__exit__", "method_params": "self,exc_type,exc_value,traceback", "method_startline": "499", "method_endline": "500"}}, "hunk_2": {"Ismethod": 1, "added_lines": "490,491,492,493,494,495,496,497,498,499,500,501,502,503,504,505,506,507,508,509,510,511,512,513,514,515,516,517,518,519,520,521,522", "deleted_lines": null, "method_info": {"method_name": "test_create_supervised_trainer_traced_with_cpu", "method_params": "", "method_startline": "490", "method_endline": "522"}}, "hunk_3": {"Ismethod": 1, "added_lines": "599,600", "deleted_lines": null, "method_info": {"method_name": "test_create_supervised_evaluator_traced_on_cpu.__enter__", "method_params": "self", "method_startline": "599", "method_endline": "600"}}, "hunk_4": {"Ismethod": 1, "added_lines": "496,497", "deleted_lines": null, "method_info": {"method_name": "test_create_supervised_trainer_traced_with_cpu.__enter__", "method_params": "self", "method_startline": "496", "method_endline": "497"}}, "hunk_5": {"Ismethod": 1, "added_lines": "602,603", "deleted_lines": null, "method_info": {"method_name": "test_create_supervised_evaluator_traced_on_cpu.__exit__", "method_params": "self,exc_type,exc_value,traceback", "method_startline": "602", "method_endline": "603"}}}}}}}