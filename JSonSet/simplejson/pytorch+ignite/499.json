{"BR": {"BR_id": "499", "BR_author": "vfdev-5", "BRopenT": "2019-04-25T09:25:12Z", "BRcloseT": "2019-05-01T21:34:51Z", "BR_text": {"BRsummary": "Bug with ProgressBar with TerminateOnNan", "BRdescription": "\n If we attach ProgressBar and TerminateOnNaN handlers to a trainer and TerminateOnNan stops training on the first iteration. We have the following error:\n ---------------------------------------------------------------------------\n AttributeError                            Traceback (most recent call last)\n <ipython-input-36-b4ac10e6ccc4> in <module>\n ----> 1 trainer.run(train_ab_loader, max_epochs=200)\n \n /opt/conda/lib/python3.7/site-packages/ignite/engine/engine.py in run(self, data, max_epochs)\n     357         except BaseException as e:\n     358             self._logger.error(\"Engine run is terminating due to exception: %s.\", str(e))\n --> 359             self._handle_exception(e)\n     360 \n     361         return self.state\n \n /opt/conda/lib/python3.7/site-packages/ignite/engine/engine.py in _handle_exception(self, e)\n     322             self._fire_event(Events.EXCEPTION_RAISED, e)\n     323         else:\n --> 324             raise e\n     325 \n     326     def run(self, data, max_epochs=1):\n \n /opt/conda/lib/python3.7/site-packages/ignite/engine/engine.py in run(self, data, max_epochs)\n     350                 self._fire_event(Events.EPOCH_COMPLETED)\n     351 \n --> 352             self._fire_event(Events.COMPLETED)\n     353             time_taken = time.time() - start_time\n     354             hours, mins, secs = _to_hours_mins_secs(time_taken)\n \n /opt/conda/lib/python3.7/site-packages/ignite/engine/engine.py in _fire_event(self, event_name, *event_args, **event_kwargs)\n     257             for func, args, kwargs in self._event_handlers[event_name]:\n     258                 kwargs.update(event_kwargs)\n --> 259                 func(self, *(event_args + args), **kwargs)\n     260 \n     261     def fire_event(self, event_name):\n \n /opt/conda/lib/python3.7/site-packages/ignite/contrib/handlers/tqdm_logger.py in _close(self, engine)\n     115 \n     116     def _close(self, engine):\n --> 117         self.pbar.close()\n     118         self.pbar = None\n     119 \n \n AttributeError: 'NoneType' object has no attribute 'close'\n \t"}, "comments": {}}, "commit": {"commit_id": "4348468f474ce89c5fdebb303c6f48472758807e", "commit_author": "Anmol Joshi", "commitT": "2019-05-01 23:34:50+02:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "ignite\\contrib\\handlers\\tqdm_logger.py", "file_new_name": "ignite\\contrib\\handlers\\tqdm_logger.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "117,118", "deleted_lines": "117", "method_info": {"method_name": "_close", "method_params": "self,engine", "method_startline": "116", "method_endline": "119"}}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 3, "file_old_name": "tests\\ignite\\contrib\\handlers\\test_tqdm_logger.py", "file_new_name": "tests\\ignite\\contrib\\handlers\\test_tqdm_logger.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "268,269,270", "deleted_lines": null, "method_info": {"method_name": "test_pbar_with_nan_input.update", "method_params": "engine,batch", "method_startline": "268", "method_endline": "270"}}, "hunk_1": {"Ismethod": 1, "added_lines": "272,273,274,275,276,277,278", "deleted_lines": null, "method_info": {"method_name": "test_pbar_with_nan_input.create_engine", "method_params": "", "method_startline": "272", "method_endline": "278"}}, "hunk_2": {"Ismethod": 1, "added_lines": "267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292", "deleted_lines": null, "method_info": {"method_name": "test_pbar_with_nan_input", "method_params": "", "method_startline": "267", "method_endline": "292"}}}}}}}