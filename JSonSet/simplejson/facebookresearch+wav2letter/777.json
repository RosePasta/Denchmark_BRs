{"BR": {"BR_id": "777", "BR_author": "gopesh97", "BRopenT": "2020-08-07T09:44:36Z", "BRcloseT": "2020-08-15T05:43:38Z", "BR_text": {"BRsummary": "[Argument to train CONVLM]", "BRdescription": "\n <denchmark-h:h3>Bug Description</denchmark-h>\n \n Refer to this.\n <denchmark-link:https://github.com/facebookresearch/wav2letter/tree/master/recipes/models/lexicon_free/librispeech#reproduce-language-models-training--evaluation>https://github.com/facebookresearch/wav2letter/tree/master/recipes/models/lexicon_free/librispeech#reproduce-language-models-training--evaluation</denchmark-link>\n \n This is the command given to train a convlm from fairseq.\n When you run it, throws an error stating one the argument is wrong, i.e., keep-interval-update\n <denchmark-code>python3 [FAIRSEQ]/train.py [MODEL_DST]/decoder/fairseq_word_data \\\n --save-dir [MODEL_DST]/decoder/convlm_models/word_14B \\\n --task=language_modeling \\\n --arch=fconv_lm --fp16 --max-epoch=48 --optimizer=nag \\\n --lr=0.5 --lr-scheduler=fixed --decoder-embed-dim=128 --clip-norm=0.1 \\\n --decoder-layers='[(512, 5)] + [(128, 1, 0), (128, 5, 0), (512, 1, 3)] * 3 + [(512, 1, 0), (512, 5, 0), (1024, 1, 3)] * 3 + [(1024, 1, 0), (1024, 5, 0), (2048, 1, 3)] * 6 + [(1024, 1, 0), (1024, 5, 0), (4096, 1, 3)]' \\\n --dropout=0.1 --weight-decay=1e-07 \\\n --max-tokens=1024 --tokens-per-sample=1024 --sample-break-mode=none \\\n --criterion=adaptive_loss --adaptive-softmax-cutoff='10000,50000,200000' --seed=42 \\\n --log-format=json --log-interval=100 \\\n --save-interval-updates=10000 --keep-interval-update=10 \\\n --ddp-backend=\"no_c10d\" --distributed-world-size=8 > [MODEL_DST]/decoder/convlm_models/word_14B/train.log\n \n </denchmark-code>\n \n Upon searching the valid arguments from fairseq, turns out this argument is keep-interval-updates.\n So this change needs to be done so that anyone else won't face this issue.\n <denchmark-h:h3>Platform and Hardware</denchmark-h>\n \n I am using the wav2letter/wav2letter:cuda-latest docker.\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "gopesh97", "commentT": "2020-08-07T21:54:31Z", "comment_text": "\n \t\tThanks for the pointing to this!\n Will fix this typo in the README.\n \t\t"}}}, "commit": {"commit_id": "55e9ebc233a001a21c4033aa2a8a60dbf1fe62ec", "commit_author": "Tatiana Likhomanenko", "commitT": "2020-08-12 13:10:01-07:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "recipes\\models\\lexicon_free\\librispeech\\README.md", "file_new_name": "recipes\\models\\lexicon_free\\librispeech\\README.md", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "62,78,93", "deleted_lines": "62,78,93"}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "recipes\\models\\lexicon_free\\wsj\\README.md", "file_new_name": "recipes\\models\\lexicon_free\\wsj\\README.md", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "56,72,87", "deleted_lines": "56,72,87"}}}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "recipes\\models\\sota\\2019\\lm_corpus_and_PL_generation\\README.md", "file_new_name": "recipes\\models\\sota\\2019\\lm_corpus_and_PL_generation\\README.md", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "18", "deleted_lines": "18"}}}}}}