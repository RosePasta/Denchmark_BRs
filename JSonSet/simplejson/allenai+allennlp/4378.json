{"BR": {"BR_id": "4378", "BR_author": "successar", "BRopenT": "2020-06-18T20:16:13Z", "BRcloseT": "2020-07-01T15:15:23Z", "BR_text": {"BRsummary": "PDB++ arrow/tab keys don't work with allennlp", "BRdescription": "\n <denchmark-h:h2>Checklist</denchmark-h>\n \n \n  I have verified that the issue exists against the master branch of AllenNLP.\n  I have read the relevant section in the contribution guide on reporting bugs.\n  I have checked the issues list for similar or identical bug reports.\n  I have checked the pull requests list for existing proposed fixes.\n  I have checked the CHANGELOG and the commit log to find out if the bug was already fixed in the master branch.\n  I have included in the \"Description\" section below a traceback from any exceptions related to this bug.\n  I have included in the \"Related issues or possible duplicates\" section beloew all related issues and possible duplicate issues (If there are none, check this box anyway).\n  I have included in the \"Environment\" section below the name of the operating system and Python version that I was using when I discovered this bug.\n  I have included in the \"Environment\" section below the output of pip freeze.\n  I have included in the \"Steps to reproduce\" section below a minimally reproducible example.\n \n <denchmark-h:h2>Description</denchmark-h>\n \n I can't use pdb/pdb++ arrow keys or tab key for autocompletion when running  . Possibly related to this issue <denchmark-link:https://stackoverflow.com/a/56418204>https://stackoverflow.com/a/56418204</denchmark-link>\n \n <denchmark-h:h2>Related issues or possible duplicates</denchmark-h>\n \n \n Reopening this issue - #2176\n \n <denchmark-h:h2>Environment</denchmark-h>\n \n OS: Linux Ubuntu 18.04\n Python version: 3.7.7\n \n Output of pip freeze:\n \n allennlp==1.0.0\n appdirs==1.4.3\n astroid==2.4.1\n attrs==19.3.0\n black==19.10b0\n blis==0.4.1\n boto3==1.14.4\n botocore==1.17.4\n catalogue==1.0.0\n certifi==2020.4.5.2\n chardet==3.0.4\n click==7.1.2\n cymem==2.0.3\n docutils==0.15.2\n fancycompleter==0.9.1\n filelock==3.0.12\n future==0.18.2\n gnureadline==8.0.0\n h5py==2.10.0\n idna==2.9\n importlib-metadata==1.6.1\n isort==4.3.21\n jmespath==0.10.0\n joblib==0.15.1\n jsonnet==0.16.0\n jsonpickle==1.4.1\n lazy-object-proxy==1.4.3\n mccabe==0.6.1\n more-itertools==8.4.0\n murmurhash==1.0.2\n mypy-extensions==0.4.3\n nltk==3.5\n numpy==1.18.5\n overrides==3.0.0\n packaging==20.4\n pathspec==0.7.0\n pdbpp==0.10.2\n plac==1.1.3\n pluggy==0.13.1\n preshed==3.0.2\n protobuf==3.12.2\n py==1.8.2\n Pygments==2.6.1\n pylint==2.5.2\n pyparsing==2.4.7\n pyrepl==0.9.0\n pytest==5.4.3\n python-dateutil==2.8.1\n regex==2020.6.8\n requests==2.23.0\n s3transfer==0.3.3\n sacremoses==0.0.43\n scikit-learn==0.23.1\n scipy==1.4.1\n sentencepiece==0.1.91\n six==1.15.0\n spacy==2.2.4\n srsly==1.0.2\n tensorboardX==2.0\n thinc==7.4.0\n threadpoolctl==2.1.0\n tokenizers==0.7.0\n toml==0.10.0\n torch==1.5.0\n tqdm==4.46.1\n transformers==2.11.0\n typed-ast==1.4.1\n typing-extensions==3.7.4.1\n urllib3==1.25.9\n wasabi==0.6.0\n wcwidth==0.2.4\n wmctrl==0.3\n wrapt==1.11.2\n zipp==3.1.0\n \n \n \n <denchmark-h:h2>Steps to reproduce</denchmark-h>\n \n \n Install allennlp in clean environment\n Run a short script and try arrow keys\n \n v = 10\n breakpoint()\n Arrow keys should work\n \n Next run a allennlp train script and again put breakpoint somewhere. Check arrow keys.\n \n \n Example source:\n \n \n \n \n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "successar", "commentT": "2020-06-19T13:38:02Z", "comment_text": "\n \t\tI put a workaround here: <denchmark-link:https://github.com/allenai/allennlp/pull/4383>#4383</denchmark-link>\n \n With that PR, if you run with the --no-redirect-std flag, it won't do the redirection and arrow keys will work as expected. I'm trying to find out if we can just always run that way instead of having a new flag.\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "successar", "commentT": "2020-07-01T15:15:23Z", "comment_text": "\n \t\tThis is now fixed as of <denchmark-link:https://github.com/allenai/allennlp/pull/4383>#4383</denchmark-link>\n .\n \t\t"}}}, "commit": {"commit_id": "acd999526c56603d2ce388a762336f88df0483ee", "commit_author": "Dirk Groeneveld", "commitT": "2020-07-01 08:14:55-07:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "CHANGELOG.md", "file_new_name": "CHANGELOG.md", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "20,21,34", "deleted_lines": null}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 5, "file_old_name": "allennlp\\commands\\train.py", "file_new_name": "allennlp\\commands\\train.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": null, "deleted_lines": "120", "method_info": {"method_name": "train_model_from_file", "method_params": "str,str,str,bool,bool,bool,int,None,bool", "method_startline": "116", "method_endline": "125"}}, "hunk_1": {"Ismethod": 1, "added_lines": null, "deleted_lines": "107", "method_info": {"method_name": "train_model_from_args", "method_params": "Namespace", "method_startline": "99", "method_endline": "113"}}, "hunk_2": {"Ismethod": 1, "added_lines": null, "deleted_lines": "178", "method_info": {"method_name": "train_model", "method_params": "Params,str,bool,bool,bool,int,None,bool", "method_startline": "175", "method_endline": "183"}}, "hunk_3": {"Ismethod": 1, "added_lines": null, "deleted_lines": "309", "method_info": {"method_name": "_train_worker", "method_params": "int,Params,str,bool,None,bool,int,str,int,int,None", "method_startline": "305", "method_endline": "316"}}, "hunk_4": {"Ismethod": 1, "added_lines": null, "deleted_lines": "76,77,78,79,80,81,82", "method_info": {"method_name": "add_subparser", "method_params": "self,_SubParsersAction", "method_startline": "36", "method_endline": "96"}}}}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 5, "file_old_name": "allennlp\\common\\logging.py", "file_new_name": "allennlp\\common\\logging.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "72,73", "deleted_lines": "72,73", "method_info": {"method_name": "prepare_global_logging", "method_params": "str,bool,int,int", "method_startline": "72", "method_endline": "73"}}, "hunk_1": {"Ismethod": 1, "added_lines": "62,63", "deleted_lines": "62,63,64", "method_info": {"method_name": "__init__", "method_params": "self,rank", "method_startline": "62", "method_endline": "64"}}, "hunk_2": {"Ismethod": 1, "added_lines": "66,67,68,69", "deleted_lines": "66,67,68,69", "method_info": {"method_name": "filter", "method_params": "self,record", "method_startline": "66", "method_endline": "69"}}, "hunk_3": {"Ismethod": 1, "added_lines": "57,58,60,62,63,65,66,67,68,69,70,71,72,73,74,75,76,77,79,80,88,89,90,91,92,94,95,96,98,99,100,101,102,103,104,106,107,108,109,110,111", "deleted_lines": "61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,82,83,84,86,87,88,89,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111", "method_info": {"method_name": "prepare_global_logging", "method_params": "str,int,int", "method_startline": "57", "method_endline": "111"}}, "hunk_4": {"Ismethod": 1, "added_lines": "99,100,101,102,103,104", "deleted_lines": "99,100,101,102,103,104", "method_info": {"method_name": "prepare_global_logging.excepthook", "method_params": "exctype,value,traceback", "method_startline": "99", "method_endline": "104"}}}}, "file_3": {"file_change_type": "DELETE", "file_Nmethod": 0, "file_old_name": "allennlp\\common\\tee.py", "file_new_name": "None"}, "file_4": {"file_change_type": "MODIFY", "file_Nmethod": 7, "file_old_name": "allennlp\\common\\tqdm.py", "file_new_name": "allennlp\\common\\tqdm.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "61,62", "deleted_lines": null, "method_info": {"method_name": "flush", "method_params": "self", "method_startline": "61", "method_endline": "62"}}, "hunk_1": {"Ismethod": 1, "added_lines": "68", "deleted_lines": null, "method_info": {"method_name": "tqdm", "method_params": "args,kwargs", "method_startline": "67", "method_endline": "70"}}, "hunk_2": {"Ismethod": 1, "added_lines": "33,34,35,36,37,38,39,40,41,42,43", "deleted_lines": "33,34,35,36,37,38,39,40,41,42,43", "method_info": {"method_name": "replace_cr_with_newline", "method_params": "str", "method_startline": "33", "method_endline": "43"}}, "hunk_3": {"Ismethod": 1, "added_lines": "50,51,52,53,54,55,56,57,58,59", "deleted_lines": null, "method_info": {"method_name": "write", "method_params": "self,message", "method_startline": "50", "method_endline": "59"}}, "hunk_4": {"Ismethod": 1, "added_lines": "30", "deleted_lines": "30,31", "method_info": {"method_name": "set_default_mininterval", "method_params": "float", "method_startline": "30", "method_endline": "31"}}, "hunk_5": {"Ismethod": 1, "added_lines": "47,48", "deleted_lines": "48", "method_info": {"method_name": "__init__", "method_params": "self", "method_startline": "47", "method_endline": "48"}}, "hunk_6": {"Ismethod": 1, "added_lines": "34,35,36,37,38,39,40,41,42,43,44", "deleted_lines": "34,35,36,37,38,39,40,41,42,43,44", "method_info": {"method_name": "set_slower_interval", "method_params": "bool", "method_startline": "34", "method_endline": "44"}}}}, "file_5": {"file_change_type": "MODIFY", "file_Nmethod": 3, "file_old_name": "tests\\commands\\train_test.py", "file_new_name": "tests\\commands\\train_test.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "262,263,301,308", "deleted_lines": "264,265,266,267,305,312", "method_info": {"method_name": "test_train_model_distributed_with_sharded_reader", "method_params": "self,lazy", "method_startline": "228", "method_endline": "313"}}, "hunk_1": {"Ismethod": 1, "added_lines": "354,355,383,390", "deleted_lines": "358,359,360,361,389,396", "method_info": {"method_name": "test_train_model_distributed_without_sharded_reader", "method_params": "self,bool", "method_startline": "317", "method_endline": "402"}}, "hunk_2": {"Ismethod": 1, "added_lines": "219,220", "deleted_lines": "219,220,221,222", "method_info": {"method_name": "test_train_model_distributed", "method_params": "self", "method_startline": "189", "method_endline": "224"}}}}}}}