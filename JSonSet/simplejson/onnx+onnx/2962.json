{"BR": {"BR_id": "2962", "BR_author": "Omniscimus", "BRopenT": "2020-08-18T09:00:02Z", "BRcloseT": "2021-01-15T18:45:06Z", "BR_text": {"BRsummary": "Windows build fails", "BRdescription": "\n <denchmark-h:h1>Bug Report</denchmark-h>\n \n <denchmark-h:h3>Is the issue related to model conversion?</denchmark-h>\n \n No\n <denchmark-h:h3>Describe the bug</denchmark-h>\n \n The setup.py script fails to build ONNX on my Windows machine.\n <denchmark-h:h3>System information</denchmark-h>\n \n \n OS Platform and Distribution: Windows 10\n ONNX version: master branch (52c9aa0)\n Python version: 3.8.3\n Compiler version: MSVC 19.27.29111.0\n CMake version: 3.18.0\n Protobuf version: 3.9.x branch\n Visual Studio version: 16.7.1\n \n <denchmark-h:h3>Reproduction instructions</denchmark-h>\n \n I followed the build from source instructions for Windows from the README. First, I built protobuf:\n git clone https://github.com/protocolbuffers/protobuf.git\n cd protobuf\n git checkout 3.9.x\n cd cmake\n mkdir ~/programs/protobuf\n cmake -G \"Visual Studio 15 2017 Win64\" -Dprotobuf_MSVC_STATIC_RUNTIME=OFF -Dprotobuf_BUILD_TESTS=OFF -Dprotobuf_BUILD_EXAMPLES=OFF -DCMAKE_INSTALL_PREFIX=C:\\Users\\omniscimus\\programs\\protobuf\n msbuild protobuf.sln /m /p:Configuration=Release\n msbuild INSTALL.vcxproj /p:Configuration=Release\n \n Note, to work around several errors I got when executing the last two commands, I first had to:\n \n In regedit, in HKLM\\SOFTWARE\\Microsoft\\MSBuild\\ToolsVersions\\4.0 and in HKLM\\WOW6432Node\\Microsoft\\MSBuild\\ToolsVersions\\4.0, set VCTargetsPath to C:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\Community\\Common7\\IDE\\VC\\VCTargets\n Use \"C:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\Community\\MSBuild\\15.0\\Bin\\MSBuild.exe\" instead of the msbuild command\n Use double slashes, as in //m //p:Configuration=Release. Apparently this has to do with me using Git Bash\n \n \n Then I built ONNX:\n git clone https://github.com/onnx/onnx.git\n cd onnx\n git submodule update --init --recursive\n set PATH=\"C:\\Users\\omniscimus\\programs\\protobuf\\bin;%PATH%\"\n set USE_MSVC_STATIC_RUNTIME=0\n set ONNX_ML=1\n python setup.py install\n \n Again, to work around some errors with the last command, I first had to install MSVC 14.26 components for VS 2019 using the Visual Studio installer. (I already had 14.27 but apparently it required 14.26)\n \n Now after fixing all these errors, the setup.py script still fails, this time with the following output:\n <denchmark-code>running install\n running bdist_egg\n running egg_info\n writing onnx.egg-info\\PKG-INFO\n writing dependency_links to onnx.egg-info\\dependency_links.txt\n writing entry points to onnx.egg-info\\entry_points.txt\n writing requirements to onnx.egg-info\\requires.txt\n writing top-level names to onnx.egg-info\\top_level.txt\n reading manifest file 'onnx.egg-info\\SOURCES.txt'\n reading manifest template 'MANIFEST.in'\n writing manifest file 'onnx.egg-info\\SOURCES.txt'\n installing library code to build\\bdist.win-amd64\\egg\n running install_lib\n running build_py\n running create_version\n running cmake_build\n -- Selecting Windows SDK version 10.0.19041.0 to target Windows 10.0.18363.\n Generated: C:/Users/omniscimus/Documents/repos/onnx/.setuptools-cmake-build/onnx/onnx-ml.proto\n Generated: C:/Users/omniscimus/Documents/repos/onnx/.setuptools-cmake-build/onnx/onnx-operators-ml.proto\n CMake Warning at CMakeLists.txt:402 (find_package):\n   By not providing \"Findpybind11.cmake\" in CMAKE_MODULE_PATH this project has\n   asked CMake to find a package configuration file provided by \"pybind11\",\n   but CMake did not find one.\n \n   Could not find a package configuration file provided by \"pybind11\"\n   (requested version 2.2) with any of the following names:\n \n     pybind11Config.cmake\n     pybind11-config.cmake\n \n   Add the installation prefix of \"pybind11\" to CMAKE_PREFIX_PATH or set\n   \"pybind11_DIR\" to a directory containing one of the above files.  If\n   \"pybind11\" provides a separate development package or SDK, be sure it has\n   been installed.\n \n \n --\n -- ******** Summary ********\n --   CMake version         : 3.18.0\n --   CMake command         : C:/Program Files/CMake/bin/cmake.exe\n --   System                : Windows\n --   C++ compiler          : C:/Program Files (x86)/Microsoft Visual Studio/2019/Community/VC/Tools/MSVC/14.27.29110/bin/Hostx64/x64/cl.exe\n --   C++ compiler version  : 19.27.29111.0\n --   CXX flags             : /DWIN32 /D_WINDOWS /W3 /GR /EHsc\n --   Build type            : Release\n --   Compile definitions   :\n --   CMAKE_PREFIX_PATH     :\n --   CMAKE_INSTALL_PREFIX  : C:/Program Files (x86)/onnx\n --   CMAKE_MODULE_PATH     :\n --\n --   ONNX version          : 1.7.0\n --   ONNX NAMESPACE        : onnx\n --   ONNX_BUILD_TESTS      : OFF\n --   ONNX_BUILD_BENCHMARKS : OFF\n --   ONNX_USE_LITE_PROTO   : OFF\n --   ONNXIFI_DUMMY_BACKEND : OFF\n --   ONNXIFI_ENABLE_EXT    : OFF\n --\n --   Protobuf compiler     : C:/Users/omniscimus/Documents/programs/protobuf/bin/protoc.exe\n --   Protobuf includes     : C:/Users/omniscimus/Documents/programs/protobuf/include\n --   Protobuf libraries    : C:/Users/omniscimus/Documents/programs/protobuf/lib/libprotobuf.lib\n --   BUILD_ONNX_PYTHON     : ON\n --     Python version      : 3.8\n --     Python executable   : C:/Users/omniscimus/AppData/Local/Programs/Python/Python38/python.exe\n --     Python includes     : C:/Users/omniscimus/AppData/Local/Programs/Python/Python38/include\n -- Configuring done\n -- Generating done\n -- Build files have been written to: C:/Users/omniscimus/Documents/repos/onnx/.setuptools-cmake-build\n Microsoft (R) Build Engine version 16.7.0+b89cb5fde for .NET Framework\n Copyright (C) Microsoft Corporation. All rights reserved.\n \n   Checking Build System\n   Building Custom Rule C:/Users/omniscimus/Documents/repos/onnx/CMakeLists.txt\n   Building Custom Rule C:/Users/omniscimus/Documents/repos/onnx/CMakeLists.txt\n   Building Custom Rule C:/Users/omniscimus/Documents/repos/onnx/CMakeLists.txt\n   onnxifi_loader.vcxproj -> C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\Release\\onnxifi_loader.lib\n   onnx-ml.pb.cc\n   onnx-operators-ml.pb.cc\n   Building Custom Rule C:/Users/omniscimus/Documents/repos/onnx/CMakeLists.txt\n   onnxifi_wrapper.vcxproj -> C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\Release\\onnxifi.dll\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/io/coded_stream.h(881,64): error C2220: the following warning is treated as an error (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/io/coded_stream.h(881,64): warning C4251: 'google::protobuf::io::CodedOutputStream::default_serialization_deterministic_': struct 'std::atomic<bool>' needs to have dll-interface to be used by clients of class 'google::protobuf::io::CodedOutputStream' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Community\\VC\\Tools\\MSVC\\14.27.29110\\include\\atomic(1965): message : see declaration of 'std::atomic<bool>' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/stubs/logging.h(102,23): warning C4251: 'google::protobuf::internal::LogMessage::message_': class 'std::basic_string<char,std::char_traits<char>,std::allocator<char>>' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::LogMessage' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Community\\VC\\Tools\\MSVC\\14.27.29110\\include\\xstring(4564): message : see declaration of 'std::basic_string<char,std::char_traits<char>,std::allocator<char>>' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/io/coded_stream.h(881,64): error C2220: the following warning is treated as an error (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-operators-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/arena_impl.h(251,58): warning C4251: 'google::protobuf::internal::ArenaImpl::lifecycle_id_generator_': struct 'std::atomic<__int64>' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::ArenaImpl' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Community\\VC\\Tools\\MSVC\\14.27.29110\\include\\atomic(1976): message : see declaration of 'std::atomic<__int64>' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/io/coded_stream.h(881,64): warning C4251: 'google::protobuf::io::CodedOutputStream::default_serialization_deterministic_': struct 'std::atomic<bool>' needs to have dll-interface to be used by clients of class 'google::protobuf::io::CodedOutputStream' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-operators-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Community\\VC\\Tools\\MSVC\\14.27.29110\\include\\atomic(1965): message : see declaration of 'std::atomic<bool>' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-operators-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/arena_impl.h(285,15): warning C4251: 'google::protobuf::internal::ArenaImpl::threads_': struct 'std::atomic<google::protobuf::internal::ArenaImpl::SerialArena *>' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::ArenaImpl' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/arena_impl.h(284): message : see declaration of 'std::atomic<google::protobuf::internal::ArenaImpl::SerialArena *>' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/arena_impl.h(286,34): warning C4251: 'google::protobuf::internal::ArenaImpl::hint_': struct 'std::atomic<google::protobuf::internal::ArenaImpl::SerialArena *>' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::ArenaImpl' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/arena_impl.h(284): message : see declaration of 'std::atomic<google::protobuf::internal::ArenaImpl::SerialArena *>' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/arena_impl.h(287,39): warning C4251: 'google::protobuf::internal::ArenaImpl::space_allocated_': struct 'std::atomic<unsigned __int64>' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::ArenaImpl' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Community\\VC\\Tools\\MSVC\\14.27.29110\\include\\atomic(1977): message : see declaration of 'std::atomic<unsigned __int64>' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/arena_impl.h(299,19): warning C4251: 'google::protobuf::internal::ArenaImpl::options_': struct 'google::protobuf::internal::ArenaImpl::Options' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::ArenaImpl' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/arena_impl.h(68): message : see declaration of 'google::protobuf::internal::ArenaImpl::Options' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/stubs/logging.h(102,23): warning C4251: 'google::protobuf::internal::LogMessage::message_': class 'std::basic_string<char,std::char_traits<char>,std::allocator<char>>' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::LogMessage' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-operators-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Community\\VC\\Tools\\MSVC\\14.27.29110\\include\\xstring(4564): message : see declaration of 'std::basic_string<char,std::char_traits<char>,std::allocator<char>>' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-operators-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/arena_impl.h(251,58): warning C4251: 'google::protobuf::internal::ArenaImpl::lifecycle_id_generator_': struct 'std::atomic<__int64>' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::ArenaImpl' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-operators-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Community\\VC\\Tools\\MSVC\\14.27.29110\\include\\atomic(1976): message : see declaration of 'std::atomic<__int64>' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-operators-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/arena_impl.h(285,15): warning C4251: 'google::protobuf::internal::ArenaImpl::threads_': struct 'std::atomic<google::protobuf::internal::ArenaImpl::SerialArena *>' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::ArenaImpl' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-operators-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/arena_impl.h(284): message : see declaration of 'std::atomic<google::protobuf::internal::ArenaImpl::SerialArena *>' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-operators-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/arena_impl.h(286,34): warning C4251: 'google::protobuf::internal::ArenaImpl::hint_': struct 'std::atomic<google::protobuf::internal::ArenaImpl::SerialArena *>' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::ArenaImpl' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-operators-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/arena_impl.h(284): message : see declaration of 'std::atomic<google::protobuf::internal::ArenaImpl::SerialArena *>' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-operators-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/arena_impl.h(287,39): warning C4251: 'google::protobuf::internal::ArenaImpl::space_allocated_': struct 'std::atomic<unsigned __int64>' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::ArenaImpl' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-operators-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Community\\VC\\Tools\\MSVC\\14.27.29110\\include\\atomic(1977): message : see declaration of 'std::atomic<unsigned __int64>' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-operators-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/arena_impl.h(299,19): warning C4251: 'google::protobuf::internal::ArenaImpl::options_': struct 'google::protobuf::internal::ArenaImpl::Options' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::ArenaImpl' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-operators-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/arena_impl.h(68): message : see declaration of 'google::protobuf::internal::ArenaImpl::Options' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-operators-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/implicit_weak_message.h(97,20): warning C4251: 'google::protobuf::internal::ImplicitWeakMessage::data_': class 'std::basic_string<char,std::char_traits<char>,std::allocator<char>>' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::ImplicitWeakMessage' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Community\\VC\\Tools\\MSVC\\14.27.29110\\include\\xstring(4564): message : see declaration of 'std::basic_string<char,std::char_traits<char>,std::allocator<char>>' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/implicit_weak_message.h(97,20): warning C4251: 'google::protobuf::internal::ImplicitWeakMessage::data_': class 'std::basic_string<char,std::char_traits<char>,std::allocator<char>>' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::ImplicitWeakMessage' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-operators-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Community\\VC\\Tools\\MSVC\\14.27.29110\\include\\xstring(4564): message : see declaration of 'std::basic_string<char,std::char_traits<char>,std::allocator<char>>' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-operators-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/generated_message_util.h(176,25): warning C4251: 'google::protobuf::internal::CachedSize::size_': struct 'std::atomic<int>' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::CachedSize' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Community\\VC\\Tools\\MSVC\\14.27.29110\\include\\atomic(1972): message : see declaration of 'std::atomic<int>' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/metadata_lite.h(226,22): warning C4251: 'google::protobuf::internal::LiteUnknownFieldSetter::buffer_': class 'std::basic_string<char,std::char_traits<char>,std::allocator<char>>' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::LiteUnknownFieldSetter' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Community\\VC\\Tools\\MSVC\\14.27.29110\\include\\xstring(4564): message : see declaration of 'std::basic_string<char,std::char_traits<char>,std::allocator<char>>' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/generated_message_util.h(176,25): warning C4251: 'google::protobuf::internal::CachedSize::size_': struct 'std::atomic<int>' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::CachedSize' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-operators-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Community\\VC\\Tools\\MSVC\\14.27.29110\\include\\atomic(1972): message : see declaration of 'std::atomic<int>' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-operators-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/metadata_lite.h(226,22): warning C4251: 'google::protobuf::internal::LiteUnknownFieldSetter::buffer_': class 'std::basic_string<char,std::char_traits<char>,std::allocator<char>>' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::LiteUnknownFieldSetter' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-operators-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Community\\VC\\Tools\\MSVC\\14.27.29110\\include\\xstring(4564): message : see declaration of 'std::basic_string<char,std::char_traits<char>,std::allocator<char>>' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-operators-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/inlined_string_field.h(158,21): warning C4251: 'google::protobuf::internal::InlinedStringField::value_': class 'std::basic_string<char,std::char_traits<char>,std::allocator<char>>' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::InlinedStringField' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Community\\VC\\Tools\\MSVC\\14.27.29110\\include\\xstring(4564): message : see declaration of 'std::basic_string<char,std::char_traits<char>,std::allocator<char>>' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/unknown_field_set.h(182,36): warning C4251: 'google::protobuf::UnknownFieldSet::fields_': class 'std::vector<google::protobuf::UnknownField,std::allocator<google::protobuf::UnknownField>>' needs to have dll-interface to be used by clients of class 'google::protobuf::UnknownFieldSet' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/unknown_field_set.h(182): message : see declaration of 'std::vector<google::protobuf::UnknownField,std::allocator<google::protobuf::UnknownField>>' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/stubs/mutex.h(107,17): warning C4251: 'google::protobuf::internal::WrappedMutex::mu_': class 'std::mutex' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::WrappedMutex' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Community\\VC\\Tools\\MSVC\\14.27.29110\\include\\mutex(87): message : see declaration of 'std::mutex' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/inlined_string_field.h(158,21): warning C4251: 'google::protobuf::internal::InlinedStringField::value_': class 'std::basic_string<char,std::char_traits<char>,std::allocator<char>>' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::InlinedStringField' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-operators-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Community\\VC\\Tools\\MSVC\\14.27.29110\\include\\xstring(4564): message : see declaration of 'std::basic_string<char,std::char_traits<char>,std::allocator<char>>' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-operators-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/unknown_field_set.h(182,36): warning C4251: 'google::protobuf::UnknownFieldSet::fields_': class 'std::vector<google::protobuf::UnknownField,std::allocator<google::protobuf::UnknownField>>' needs to have dll-interface to be used by clients of class 'google::protobuf::UnknownFieldSet' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-operators-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/unknown_field_set.h(182): message : see declaration of 'std::vector<google::protobuf::UnknownField,std::allocator<google::protobuf::UnknownField>>' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-operators-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/descriptor.h(1858,34): warning C4251: 'google::protobuf::DescriptorPool::tables_': class 'std::unique_ptr<google::protobuf::DescriptorPool::Tables,std::default_delete<google::protobuf::DescriptorPool::Tables>>' needs to have dll-interface to be used by clients of class 'google::protobuf::DescriptorPool' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/descriptor.h(1858): message : see declaration of 'std::unique_ptr<google::protobuf::DescriptorPool::Tables,std::default_delete<google::protobuf::DescriptorPool::Tables>>' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/stubs/mutex.h(107,17): warning C4251: 'google::protobuf::internal::WrappedMutex::mu_': class 'std::mutex' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::WrappedMutex' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-operators-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Community\\VC\\Tools\\MSVC\\14.27.29110\\include\\mutex(87): message : see declaration of 'std::mutex' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-operators-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/descriptor.h(1865,51): warning C4251: 'google::protobuf::DescriptorPool::unused_import_track_files_': class 'std::set<std::string,std::less<std::string>,std::allocator<std::string>>' needs to have dll-interface to be used by clients of class 'google::protobuf::DescriptorPool' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/descriptor.h(1865): message : see declaration of 'std::set<std::string,std::less<std::string>,std::allocator<std::string>>' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/descriptor.h(1858,34): warning C4251: 'google::protobuf::DescriptorPool::tables_': class 'std::unique_ptr<google::protobuf::DescriptorPool::Tables,std::default_delete<google::protobuf::DescriptorPool::Tables>>' needs to have dll-interface to be used by clients of class 'google::protobuf::DescriptorPool' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-operators-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/descriptor.h(1858): message : see declaration of 'std::unique_ptr<google::protobuf::DescriptorPool::Tables,std::default_delete<google::protobuf::DescriptorPool::Tables>>' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-operators-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/descriptor.h(1865,51): warning C4251: 'google::protobuf::DescriptorPool::unused_import_track_files_': class 'std::set<std::string,std::less<std::string>,std::allocator<std::string>>' needs to have dll-interface to be used by clients of class 'google::protobuf::DescriptorPool' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-operators-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/descriptor.h(1865): message : see declaration of 'std::set<std::string,std::less<std::string>,std::allocator<std::string>>' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-operators-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n Traceback (most recent call last):\n   File \"setup.py\", line 321, in <module>\n     setuptools.setup(\n   File \"C:\\Users\\omniscimus\\AppData\\Local\\Programs\\Python\\Python38\\lib\\site-packages\\setuptools\\__init__.py\", line 145, in setup\n     return distutils.core.setup(**attrs)\n   File \"C:\\Users\\omniscimus\\AppData\\Local\\Programs\\Python\\Python38\\lib\\distutils\\core.py\", line 148, in setup\n     dist.run_commands()\n   File \"C:\\Users\\omniscimus\\AppData\\Local\\Programs\\Python\\Python38\\lib\\distutils\\dist.py\", line 966, in run_commands\n     self.run_command(cmd)\n   File \"C:\\Users\\omniscimus\\AppData\\Local\\Programs\\Python\\Python38\\lib\\distutils\\dist.py\", line 985, in run_command\n     cmd_obj.run()\n   File \"C:\\Users\\omniscimus\\AppData\\Local\\Programs\\Python\\Python38\\lib\\site-packages\\setuptools\\command\\install.py\", line 67, in run\n     self.do_egg_install()\n   File \"C:\\Users\\omniscimus\\AppData\\Local\\Programs\\Python\\Python38\\lib\\site-packages\\setuptools\\command\\install.py\", line 109, in do_egg_install\n     self.run_command('bdist_egg')\n   File \"C:\\Users\\omniscimus\\AppData\\Local\\Programs\\Python\\Python38\\lib\\distutils\\cmd.py\", line 313, in run_command\n     self.distribution.run_command(command)\n   File \"C:\\Users\\omniscimus\\AppData\\Local\\Programs\\Python\\Python38\\lib\\distutils\\dist.py\", line 985, in run_command\n     cmd_obj.run()\n   File \"C:\\Users\\omniscimus\\AppData\\Local\\Programs\\Python\\Python38\\lib\\site-packages\\setuptools\\command\\bdist_egg.py\", line 172, in run\n     cmd = self.call_command('install_lib', warn_dir=0)\n   File \"C:\\Users\\omniscimus\\AppData\\Local\\Programs\\Python\\Python38\\lib\\site-packages\\setuptools\\command\\bdist_egg.py\", line 158, in call_command\n     self.run_command(cmdname)\n   File \"C:\\Users\\omniscimus\\AppData\\Local\\Programs\\Python\\Python38\\lib\\distutils\\cmd.py\", line 313, in run_command\n     self.distribution.run_command(command)\n   File \"C:\\Users\\omniscimus\\AppData\\Local\\Programs\\Python\\Python38\\lib\\distutils\\dist.py\", line 985, in run_command\n     cmd_obj.run()\n   File \"C:\\Users\\omniscimus\\AppData\\Local\\Programs\\Python\\Python38\\lib\\site-packages\\setuptools\\command\\install_lib.py\", line 11, in run\n     self.build()\n   File \"C:\\Users\\omniscimus\\AppData\\Local\\Programs\\Python\\Python38\\lib\\distutils\\command\\install_lib.py\", line 105, in build\n     self.run_command('build_py')\n   File \"C:\\Users\\omniscimus\\AppData\\Local\\Programs\\Python\\Python38\\lib\\distutils\\cmd.py\", line 313, in run_command\n     self.distribution.run_command(command)\n   File \"C:\\Users\\omniscimus\\AppData\\Local\\Programs\\Python\\Python38\\lib\\distutils\\dist.py\", line 985, in run_command\n     cmd_obj.run()\n   File \"setup.py\", line 217, in run\n     self.run_command('cmake_build')\n   File \"C:\\Users\\omniscimus\\AppData\\Local\\Programs\\Python\\Python38\\lib\\distutils\\cmd.py\", line 313, in run_command\n     self.distribution.run_command(command)\n   File \"C:\\Users\\omniscimus\\AppData\\Local\\Programs\\Python\\Python38\\lib\\distutils\\dist.py\", line 985, in run_command\n     cmd_obj.run()\n   File \"setup.py\", line 211, in run\n     subprocess.check_call(build_args)\n   File \"C:\\Users\\omniscimus\\AppData\\Local\\Programs\\Python\\Python38\\lib\\subprocess.py\", line 364, in check_call\n     raise CalledProcessError(retcode, cmd)\n subprocess.CalledProcessError: Command '['C:\\\\Program Files\\\\CMake\\\\bin\\\\cmake.exe', '--build', '.', '--config', 'Release', '--', '/maxcpucount:3']' returned non-zero exit status 1.\n </denchmark-code>\n \n <denchmark-h:h3>Expected behavior</denchmark-h>\n \n I expected that when I would follow the build instructions in the README, ONNX would simply build successfully, without me having to figure out solutions for at least 5 build errors.\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "Omniscimus", "commentT": "2020-08-18T17:16:45Z", "comment_text": "\n \t\tHi <denchmark-link:https://github.com/Omniscimus>@Omniscimus</denchmark-link>\n ,\n Sorry that the README led you to these errors. It also took me some effort to build onnx on my Windows successfully.\n Using the Native tools Command Prompt from Visual Studio should solve most of issues you have encountered.\n For the last error you mentioned, I also bumped into that on my Windows before.\n Setting the environment as follows before python setup.py install should solve this issue.\n set CMAKE_ARGS=-DONNX_USE_PROTOBUF_SHARED_LIBS=OFF -DProtobuf_USE_STATIC_LIBS=ON -DONNX_USE_LITE_PROTO=OFF\n Other than that, install onnx with Anaconda works for Windows as well.\n <denchmark-link:https://github.com/onnx/onnx#build-onnx-on-windows-with-anaconda>https://github.com/onnx/onnx#build-onnx-on-windows-with-anaconda</denchmark-link>\n \n Hope it helps. The README should be updated and clarified according to your experience. Thank you for reporting this!\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "Omniscimus", "commentT": "2020-08-25T06:55:41Z", "comment_text": "\n \t\tThanks <denchmark-link:https://github.com/jcwchen>@jcwchen</denchmark-link>\n  !\n After executing set CMAKE_ARGS=-DONNX_USE_PROTOBUF_SHARED_LIBS=OFF -DProtobuf_USE_STATIC_LIBS=ON -DONNX_USE_LITE_PROTO=OFF I unfortunately still get a very similar error:\n <denchmark-code>running install\n running bdist_egg\n running egg_info\n writing onnx.egg-info\\PKG-INFO\n writing dependency_links to onnx.egg-info\\dependency_links.txt\n writing entry points to onnx.egg-info\\entry_points.txt\n writing requirements to onnx.egg-info\\requires.txt\n writing top-level names to onnx.egg-info\\top_level.txt\n reading manifest file 'onnx.egg-info\\SOURCES.txt'\n reading manifest template 'MANIFEST.in'\n writing manifest file 'onnx.egg-info\\SOURCES.txt'\n installing library code to build\\bdist.win-amd64\\egg\n running install_lib\n running build_py\n running create_version\n running cmake_build\n -- Selecting Windows SDK version 10.0.19041.0 to target Windows 10.0.18363.\n Generated: C:/Users/omniscimus/Documents/repos/onnx/.setuptools-cmake-build/onnx/onnx-ml.proto\n Generated: C:/Users/omniscimus/Documents/repos/onnx/.setuptools-cmake-build/onnx/onnx-operators-ml.proto\n CMake Warning at CMakeLists.txt:402 (find_package):\n   By not providing \"Findpybind11.cmake\" in CMAKE_MODULE_PATH this project has\n   asked CMake to find a package configuration file provided by \"pybind11\",\n   but CMake did not find one.\n \n   Could not find a package configuration file provided by \"pybind11\"\n   (requested version 2.2) with any of the following names:\n \n     pybind11Config.cmake\n     pybind11-config.cmake\n \n   Add the installation prefix of \"pybind11\" to CMAKE_PREFIX_PATH or set\n   \"pybind11_DIR\" to a directory containing one of the above files.  If\n   \"pybind11\" provides a separate development package or SDK, be sure it has\n   been installed.\n \n \n --\n -- ******** Summary ********\n --   CMake version         : 3.18.0\n --   CMake command         : C:/Program Files/CMake/bin/cmake.exe\n --   System                : Windows\n --   C++ compiler          : C:/Program Files (x86)/Microsoft Visual Studio/2019/Community/VC/Tools/MSVC/14.27.29110/bin/Hostx64/x64/cl.exe\n --   C++ compiler version  : 19.27.29111.0\n --   CXX flags             : /DWIN32 /D_WINDOWS /W3 /GR /EHsc\n --   Build type            : Release\n --   Compile definitions   :\n --   CMAKE_PREFIX_PATH     :\n --   CMAKE_INSTALL_PREFIX  : C:/Program Files (x86)/onnx\n --   CMAKE_MODULE_PATH     :\n --\n --   ONNX version          : 1.7.0\n --   ONNX NAMESPACE        : onnx\n --   ONNX_BUILD_TESTS      : OFF\n --   ONNX_BUILD_BENCHMARKS : OFF\n --   ONNX_USE_LITE_PROTO   : OFF\n --   ONNXIFI_DUMMY_BACKEND : OFF\n --   ONNXIFI_ENABLE_EXT    : OFF\n --\n --   Protobuf compiler     : C:/Users/omniscimus/Documents/programs/protobuf/bin/protoc.exe\n --   Protobuf includes     : C:/Users/omniscimus/Documents/programs/protobuf/include\n --   Protobuf libraries    : C:/Users/omniscimus/Documents/programs/protobuf/lib/libprotobuf.lib\n --   BUILD_ONNX_PYTHON     : ON\n --     Python version      : 3.8\n --     Python executable   : C:/Users/omniscimus/AppData/Local/Programs/Python/Python38/python.exe\n --     Python includes     : C:/Users/omniscimus/AppData/Local/Programs/Python/Python38/include\n -- Configuring done\n -- Generating done\n -- Build files have been written to: C:/Users/omniscimus/Documents/repos/onnx/.setuptools-cmake-build\n Microsoft (R) Build Engine version 16.7.0+b89cb5fde for .NET Framework\n Copyright (C) Microsoft Corporation. All rights reserved.\n \n   onnx-ml.pb.cc\n   onnx-operators-ml.pb.cc\n   onnxifi_loader.vcxproj -> C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\Release\\onnxifi_loader.lib\n   onnxifi_wrapper.vcxproj -> C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\Release\\onnxifi.dll\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/io/coded_stream.h(881,64): error C2220: the following warning is treated as an error (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/io/coded_stream.h(881,64): warning C4251: 'google::protobuf::io::CodedOutputStream::default_serialization_deterministic_': struct 'std::atomic<bool>' needs to have dll-interface to be used by clients of class 'google::protobuf::io::CodedOutputStream' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Community\\VC\\Tools\\MSVC\\14.27.29110\\include\\atomic(1965): message : see declaration of 'std::atomic<bool>' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/stubs/logging.h(102,23): warning C4251: 'google::protobuf::internal::LogMessage::message_': class 'std::basic_string<char,std::char_traits<char>,std::allocator<char>>' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::LogMessage' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Community\\VC\\Tools\\MSVC\\14.27.29110\\include\\xstring(4564): message : see declaration of 'std::basic_string<char,std::char_traits<char>,std::allocator<char>>' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/arena_impl.h(251,58): warning C4251: 'google::protobuf::internal::ArenaImpl::lifecycle_id_generator_': struct 'std::atomic<__int64>' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::ArenaImpl' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Community\\VC\\Tools\\MSVC\\14.27.29110\\include\\atomic(1976): message : see declaration of 'std::atomic<__int64>' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/arena_impl.h(285,15): warning C4251: 'google::protobuf::internal::ArenaImpl::threads_': struct 'std::atomic<google::protobuf::internal::ArenaImpl::SerialArena *>' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::ArenaImpl' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/arena_impl.h(284): message : see declaration of 'std::atomic<google::protobuf::internal::ArenaImpl::SerialArena *>' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/arena_impl.h(286,34): warning C4251: 'google::protobuf::internal::ArenaImpl::hint_': struct 'std::atomic<google::protobuf::internal::ArenaImpl::SerialArena *>' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::ArenaImpl' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/arena_impl.h(284): message : see declaration of 'std::atomic<google::protobuf::internal::ArenaImpl::SerialArena *>' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/arena_impl.h(287,39): warning C4251: 'google::protobuf::internal::ArenaImpl::space_allocated_': struct 'std::atomic<unsigned __int64>' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::ArenaImpl' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Community\\VC\\Tools\\MSVC\\14.27.29110\\include\\atomic(1977): message : see declaration of 'std::atomic<unsigned __int64>' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/io/coded_stream.h(881,64): error C2220: the following warning is treated as an error (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-operators-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/arena_impl.h(299,19): warning C4251: 'google::protobuf::internal::ArenaImpl::options_': struct 'google::protobuf::internal::ArenaImpl::Options' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::ArenaImpl' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/arena_impl.h(68): message : see declaration of 'google::protobuf::internal::ArenaImpl::Options' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/io/coded_stream.h(881,64): warning C4251: 'google::protobuf::io::CodedOutputStream::default_serialization_deterministic_': struct 'std::atomic<bool>' needs to have dll-interface to be used by clients of class 'google::protobuf::io::CodedOutputStream' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-operators-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Community\\VC\\Tools\\MSVC\\14.27.29110\\include\\atomic(1965): message : see declaration of 'std::atomic<bool>' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-operators-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/stubs/logging.h(102,23): warning C4251: 'google::protobuf::internal::LogMessage::message_': class 'std::basic_string<char,std::char_traits<char>,std::allocator<char>>' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::LogMessage' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-operators-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Community\\VC\\Tools\\MSVC\\14.27.29110\\include\\xstring(4564): message : see declaration of 'std::basic_string<char,std::char_traits<char>,std::allocator<char>>' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-operators-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/arena_impl.h(251,58): warning C4251: 'google::protobuf::internal::ArenaImpl::lifecycle_id_generator_': struct 'std::atomic<__int64>' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::ArenaImpl' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-operators-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Community\\VC\\Tools\\MSVC\\14.27.29110\\include\\atomic(1976): message : see declaration of 'std::atomic<__int64>' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-operators-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/arena_impl.h(285,15): warning C4251: 'google::protobuf::internal::ArenaImpl::threads_': struct 'std::atomic<google::protobuf::internal::ArenaImpl::SerialArena *>' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::ArenaImpl' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-operators-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/arena_impl.h(284): message : see declaration of 'std::atomic<google::protobuf::internal::ArenaImpl::SerialArena *>' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-operators-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/arena_impl.h(286,34): warning C4251: 'google::protobuf::internal::ArenaImpl::hint_': struct 'std::atomic<google::protobuf::internal::ArenaImpl::SerialArena *>' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::ArenaImpl' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-operators-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/arena_impl.h(284): message : see declaration of 'std::atomic<google::protobuf::internal::ArenaImpl::SerialArena *>' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-operators-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/arena_impl.h(287,39): warning C4251: 'google::protobuf::internal::ArenaImpl::space_allocated_': struct 'std::atomic<unsigned __int64>' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::ArenaImpl' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-operators-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Community\\VC\\Tools\\MSVC\\14.27.29110\\include\\atomic(1977): message : see declaration of 'std::atomic<unsigned __int64>' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-operators-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/arena_impl.h(299,19): warning C4251: 'google::protobuf::internal::ArenaImpl::options_': struct 'google::protobuf::internal::ArenaImpl::Options' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::ArenaImpl' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-operators-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/arena_impl.h(68): message : see declaration of 'google::protobuf::internal::ArenaImpl::Options' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-operators-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/implicit_weak_message.h(97,20): warning C4251: 'google::protobuf::internal::ImplicitWeakMessage::data_': class 'std::basic_string<char,std::char_traits<char>,std::allocator<char>>' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::ImplicitWeakMessage' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Community\\VC\\Tools\\MSVC\\14.27.29110\\include\\xstring(4564): message : see declaration of 'std::basic_string<char,std::char_traits<char>,std::allocator<char>>' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/implicit_weak_message.h(97,20): warning C4251: 'google::protobuf::internal::ImplicitWeakMessage::data_': class 'std::basic_string<char,std::char_traits<char>,std::allocator<char>>' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::ImplicitWeakMessage' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-operators-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Community\\VC\\Tools\\MSVC\\14.27.29110\\include\\xstring(4564): message : see declaration of 'std::basic_string<char,std::char_traits<char>,std::allocator<char>>' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-operators-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/generated_message_util.h(176,25): warning C4251: 'google::protobuf::internal::CachedSize::size_': struct 'std::atomic<int>' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::CachedSize' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Community\\VC\\Tools\\MSVC\\14.27.29110\\include\\atomic(1972): message : see declaration of 'std::atomic<int>' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/metadata_lite.h(226,22): warning C4251: 'google::protobuf::internal::LiteUnknownFieldSetter::buffer_': class 'std::basic_string<char,std::char_traits<char>,std::allocator<char>>' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::LiteUnknownFieldSetter' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Community\\VC\\Tools\\MSVC\\14.27.29110\\include\\xstring(4564): message : see declaration of 'std::basic_string<char,std::char_traits<char>,std::allocator<char>>' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/generated_message_util.h(176,25): warning C4251: 'google::protobuf::internal::CachedSize::size_': struct 'std::atomic<int>' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::CachedSize' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-operators-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Community\\VC\\Tools\\MSVC\\14.27.29110\\include\\atomic(1972): message : see declaration of 'std::atomic<int>' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-operators-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/metadata_lite.h(226,22): warning C4251: 'google::protobuf::internal::LiteUnknownFieldSetter::buffer_': class 'std::basic_string<char,std::char_traits<char>,std::allocator<char>>' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::LiteUnknownFieldSetter' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-operators-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Community\\VC\\Tools\\MSVC\\14.27.29110\\include\\xstring(4564): message : see declaration of 'std::basic_string<char,std::char_traits<char>,std::allocator<char>>' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-operators-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/inlined_string_field.h(158,21): warning C4251: 'google::protobuf::internal::InlinedStringField::value_': class 'std::basic_string<char,std::char_traits<char>,std::allocator<char>>' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::InlinedStringField' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Community\\VC\\Tools\\MSVC\\14.27.29110\\include\\xstring(4564): message : see declaration of 'std::basic_string<char,std::char_traits<char>,std::allocator<char>>' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/unknown_field_set.h(182,36): warning C4251: 'google::protobuf::UnknownFieldSet::fields_': class 'std::vector<google::protobuf::UnknownField,std::allocator<google::protobuf::UnknownField>>' needs to have dll-interface to be used by clients of class 'google::protobuf::UnknownFieldSet' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/unknown_field_set.h(182): message : see declaration of 'std::vector<google::protobuf::UnknownField,std::allocator<google::protobuf::UnknownField>>' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/stubs/mutex.h(107,17): warning C4251: 'google::protobuf::internal::WrappedMutex::mu_': class 'std::mutex' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::WrappedMutex' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Community\\VC\\Tools\\MSVC\\14.27.29110\\include\\mutex(87): message : see declaration of 'std::mutex' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/inlined_string_field.h(158,21): warning C4251: 'google::protobuf::internal::InlinedStringField::value_': class 'std::basic_string<char,std::char_traits<char>,std::allocator<char>>' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::InlinedStringField' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-operators-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Community\\VC\\Tools\\MSVC\\14.27.29110\\include\\xstring(4564): message : see declaration of 'std::basic_string<char,std::char_traits<char>,std::allocator<char>>' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-operators-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/descriptor.h(1858,34): warning C4251: 'google::protobuf::DescriptorPool::tables_': class 'std::unique_ptr<google::protobuf::DescriptorPool::Tables,std::default_delete<google::protobuf::DescriptorPool::Tables>>' needs to have dll-interface to be used by clients of class 'google::protobuf::DescriptorPool' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/descriptor.h(1858): message : see declaration of 'std::unique_ptr<google::protobuf::DescriptorPool::Tables,std::default_delete<google::protobuf::DescriptorPool::Tables>>' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/unknown_field_set.h(182,36): warning C4251: 'google::protobuf::UnknownFieldSet::fields_': class 'std::vector<google::protobuf::UnknownField,std::allocator<google::protobuf::UnknownField>>' needs to have dll-interface to be used by clients of class 'google::protobuf::UnknownFieldSet' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-operators-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/unknown_field_set.h(182): message : see declaration of 'std::vector<google::protobuf::UnknownField,std::allocator<google::protobuf::UnknownField>>' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-operators-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/descriptor.h(1865,51): warning C4251: 'google::protobuf::DescriptorPool::unused_import_track_files_': class 'std::set<std::string,std::less<std::string>,std::allocator<std::string>>' needs to have dll-interface to be used by clients of class 'google::protobuf::DescriptorPool' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/descriptor.h(1865): message : see declaration of 'std::set<std::string,std::less<std::string>,std::allocator<std::string>>' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/stubs/mutex.h(107,17): warning C4251: 'google::protobuf::internal::WrappedMutex::mu_': class 'std::mutex' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::WrappedMutex' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-operators-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Community\\VC\\Tools\\MSVC\\14.27.29110\\include\\mutex(87): message : see declaration of 'std::mutex' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-operators-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/descriptor.h(1858,34): warning C4251: 'google::protobuf::DescriptorPool::tables_': class 'std::unique_ptr<google::protobuf::DescriptorPool::Tables,std::default_delete<google::protobuf::DescriptorPool::Tables>>' needs to have dll-interface to be used by clients of class 'google::protobuf::DescriptorPool' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-operators-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/descriptor.h(1858): message : see declaration of 'std::unique_ptr<google::protobuf::DescriptorPool::Tables,std::default_delete<google::protobuf::DescriptorPool::Tables>>' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-operators-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/descriptor.h(1865,51): warning C4251: 'google::protobuf::DescriptorPool::unused_import_track_files_': class 'std::set<std::string,std::less<std::string>,std::allocator<std::string>>' needs to have dll-interface to be used by clients of class 'google::protobuf::DescriptorPool' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-operators-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/descriptor.h(1865): message : see declaration of 'std::set<std::string,std::less<std::string>,std::allocator<std::string>>' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-operators-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n Traceback (most recent call last):\n   File \"setup.py\", line 321, in <module>\n     setuptools.setup(\n   File \"C:\\Users\\omniscimus\\AppData\\Local\\Programs\\Python\\Python38\\lib\\site-packages\\setuptools\\__init__.py\", line 145, in setup\n     return distutils.core.setup(**attrs)\n   File \"C:\\Users\\omniscimus\\AppData\\Local\\Programs\\Python\\Python38\\lib\\distutils\\core.py\", line 148, in setup\n     dist.run_commands()\n   File \"C:\\Users\\omniscimus\\AppData\\Local\\Programs\\Python\\Python38\\lib\\distutils\\dist.py\", line 966, in run_commands\n     self.run_command(cmd)\n   File \"C:\\Users\\omniscimus\\AppData\\Local\\Programs\\Python\\Python38\\lib\\distutils\\dist.py\", line 985, in run_command\n     cmd_obj.run()\n   File \"C:\\Users\\omniscimus\\AppData\\Local\\Programs\\Python\\Python38\\lib\\site-packages\\setuptools\\command\\install.py\", line 67, in run\n     self.do_egg_install()\n   File \"C:\\Users\\omniscimus\\AppData\\Local\\Programs\\Python\\Python38\\lib\\site-packages\\setuptools\\command\\install.py\", line 109, in do_egg_install\n     self.run_command('bdist_egg')\n   File \"C:\\Users\\omniscimus\\AppData\\Local\\Programs\\Python\\Python38\\lib\\distutils\\cmd.py\", line 313, in run_command\n     self.distribution.run_command(command)\n   File \"C:\\Users\\omniscimus\\AppData\\Local\\Programs\\Python\\Python38\\lib\\distutils\\dist.py\", line 985, in run_command\n     cmd_obj.run()\n   File \"C:\\Users\\omniscimus\\AppData\\Local\\Programs\\Python\\Python38\\lib\\site-packages\\setuptools\\command\\bdist_egg.py\", line 172, in run\n     cmd = self.call_command('install_lib', warn_dir=0)\n   File \"C:\\Users\\omniscimus\\AppData\\Local\\Programs\\Python\\Python38\\lib\\site-packages\\setuptools\\command\\bdist_egg.py\", line 158, in call_command\n     self.run_command(cmdname)\n   File \"C:\\Users\\omniscimus\\AppData\\Local\\Programs\\Python\\Python38\\lib\\distutils\\cmd.py\", line 313, in run_command\n     self.distribution.run_command(command)\n   File \"C:\\Users\\omniscimus\\AppData\\Local\\Programs\\Python\\Python38\\lib\\distutils\\dist.py\", line 985, in run_command\n     cmd_obj.run()\n   File \"C:\\Users\\omniscimus\\AppData\\Local\\Programs\\Python\\Python38\\lib\\site-packages\\setuptools\\command\\install_lib.py\", line 11, in run\n     self.build()\n   File \"C:\\Users\\omniscimus\\AppData\\Local\\Programs\\Python\\Python38\\lib\\distutils\\command\\install_lib.py\", line 105, in build\n     self.run_command('build_py')\n   File \"C:\\Users\\omniscimus\\AppData\\Local\\Programs\\Python\\Python38\\lib\\distutils\\cmd.py\", line 313, in run_command\n     self.distribution.run_command(command)\n   File \"C:\\Users\\omniscimus\\AppData\\Local\\Programs\\Python\\Python38\\lib\\distutils\\dist.py\", line 985, in run_command\n     cmd_obj.run()\n   File \"setup.py\", line 217, in run\n     self.run_command('cmake_build')\n   File \"C:\\Users\\omniscimus\\AppData\\Local\\Programs\\Python\\Python38\\lib\\distutils\\cmd.py\", line 313, in run_command\n     self.distribution.run_command(command)\n   File \"C:\\Users\\omniscimus\\AppData\\Local\\Programs\\Python\\Python38\\lib\\distutils\\dist.py\", line 985, in run_command\n     cmd_obj.run()\n   File \"setup.py\", line 211, in run\n     subprocess.check_call(build_args)\n   File \"C:\\Users\\omniscimus\\AppData\\Local\\Programs\\Python\\Python38\\lib\\subprocess.py\", line 364, in check_call\n     raise CalledProcessError(retcode, cmd)\n subprocess.CalledProcessError: Command '['C:\\\\Program Files\\\\CMake\\\\bin\\\\cmake.exe', '--build', '.', '--config', 'Release', '--', '/maxcpucount:3']' returned non-zero exit status 1.\n </denchmark-code>\n \n \t\t"}, "comments_2": {"comment_id": 3, "comment_author": "Omniscimus", "commentT": "2020-08-25T15:15:34Z", "comment_text": "\n \t\tIt seems that the new setting didn't apply to your build.\n <denchmark-link:https://github.com/Omniscimus>@Omniscimus</denchmark-link>\n  Could you try to  first and then  again? Thanks.\n \t\t"}, "comments_3": {"comment_id": 4, "comment_author": "Omniscimus", "commentT": "2020-08-26T06:17:18Z", "comment_text": "\n \t\tIf I first run git clean -xdf, then set all the environment variables including the one you mentioned, then run python setup.py install, I still get the same error. I tried running \"C:\\\\Program Files\\\\CMake\\\\bin\\\\cmake.exe\" --build . --config Release -- //maxcpucount:3, and got the output:\n Error: could not load cache\n Here is the output of python setup.py install:\n <denchmark-code>running install\n running bdist_egg\n running egg_info\n creating onnx.egg-info\n writing onnx.egg-info\\PKG-INFO\n writing dependency_links to onnx.egg-info\\dependency_links.txt\n writing entry points to onnx.egg-info\\entry_points.txt\n writing requirements to onnx.egg-info\\requires.txt\n writing top-level names to onnx.egg-info\\top_level.txt\n writing manifest file 'onnx.egg-info\\SOURCES.txt'\n reading manifest file 'onnx.egg-info\\SOURCES.txt'\n reading manifest template 'MANIFEST.in'\n writing manifest file 'onnx.egg-info\\SOURCES.txt'\n installing library code to build\\bdist.win-amd64\\egg\n running install_lib\n running build_py\n running create_version\n running cmake_build\n -- Building for: Visual Studio 16 2019\n -- Selecting Windows SDK version 10.0.19041.0 to target Windows 10.0.18363.\n -- The C compiler identification is MSVC 19.27.29111.0\n -- The CXX compiler identification is MSVC 19.27.29111.0\n -- Detecting C compiler ABI info\n -- Detecting C compiler ABI info - done\n -- Check for working C compiler: C:/Program Files (x86)/Microsoft Visual Studio/2019/Community/VC/Tools/MSVC/14.27.29110/bin/Hostx64/x64/cl.exe - skipped\n -- Detecting C compile features\n -- Detecting C compile features - done\n -- Detecting CXX compiler ABI info\n -- Detecting CXX compiler ABI info - done\n -- Check for working CXX compiler: C:/Program Files (x86)/Microsoft Visual Studio/2019/Community/VC/Tools/MSVC/14.27.29110/bin/Hostx64/x64/cl.exe - skipped\n -- Detecting CXX compile features\n -- Detecting CXX compile features - done\n -- Found Protobuf: C:/Users/omniscimus/Documents/programs/protobuf/lib/libprotobuf.lib (found version \"3.9.2\")\n Generated: C:/Users/omniscimus/Documents/repos/onnx/.setuptools-cmake-build/onnx/onnx-ml.proto\n Generated: C:/Users/omniscimus/Documents/repos/onnx/.setuptools-cmake-build/onnx/onnx-operators-ml.proto\n CMake Warning at CMakeLists.txt:402 (find_package):\n   By not providing \"Findpybind11.cmake\" in CMAKE_MODULE_PATH this project has\n   asked CMake to find a package configuration file provided by \"pybind11\",\n   but CMake did not find one.\n \n   Could not find a package configuration file provided by \"pybind11\"\n   (requested version 2.2) with any of the following names:\n \n     pybind11Config.cmake\n     pybind11-config.cmake\n \n   Add the installation prefix of \"pybind11\" to CMAKE_PREFIX_PATH or set\n   \"pybind11_DIR\" to a directory containing one of the above files.  If\n   \"pybind11\" provides a separate development package or SDK, be sure it has\n   been installed.\n \n \n -- Found PythonInterp: C:/Users/omniscimus/AppData/Local/Programs/Python/Python38/python.exe (found suitable version \"3.8.3\", minimum required is \"3.8\")\n -- Found PythonLibs: C:/Users/omniscimus/AppData/Local/Programs/Python/Python38/libs/python38.lib (found suitable version \"3.8.3\", minimum required is \"3.8\")\n --\n -- ******** Summary ********\n --   CMake version         : 3.18.0\n --   CMake command         : C:/Program Files/CMake/bin/cmake.exe\n --   System                : Windows\n --   C++ compiler          : C:/Program Files (x86)/Microsoft Visual Studio/2019/Community/VC/Tools/MSVC/14.27.29110/bin/Hostx64/x64/cl.exe\n --   C++ compiler version  : 19.27.29111.0\n --   CXX flags             : /DWIN32 /D_WINDOWS /W3 /GR /EHsc\n --   Build type            : Release\n --   Compile definitions   :\n --   CMAKE_PREFIX_PATH     :\n --   CMAKE_INSTALL_PREFIX  : C:/Program Files (x86)/onnx\n --   CMAKE_MODULE_PATH     :\n --\n --   ONNX version          : 1.7.0\n --   ONNX NAMESPACE        : onnx\n --   ONNX_BUILD_TESTS      : OFF\n --   ONNX_BUILD_BENCHMARKS : OFF\n --   ONNX_USE_LITE_PROTO   : OFF\n --   ONNXIFI_DUMMY_BACKEND : OFF\n --   ONNXIFI_ENABLE_EXT    : OFF\n --\n --   Protobuf compiler     : C:/Users/omniscimus/Documents/programs/protobuf/bin/protoc.exe\n --   Protobuf includes     : C:/Users/omniscimus/Documents/programs/protobuf/include\n --   Protobuf libraries    : C:/Users/omniscimus/Documents/programs/protobuf/lib/libprotobuf.lib\n --   BUILD_ONNX_PYTHON     : ON\n --     Python version      : 3.8\n --     Python executable   : C:/Users/omniscimus/AppData/Local/Programs/Python/Python38/python.exe\n --     Python includes     : C:/Users/omniscimus/AppData/Local/Programs/Python/Python38/include\n -- Configuring done\n -- Generating done\n CMake Warning:\n   Manually-specified variables were not used by the project:\n \n     CMAKE_EXPORT_COMPILE_COMMANDS\n \n \n -- Build files have been written to: C:/Users/omniscimus/Documents/repos/onnx/.setuptools-cmake-build\n Microsoft (R) Build Engine version 16.7.0+b89cb5fde for .NET Framework\n Copyright (C) Microsoft Corporation. All rights reserved.\n \n   Checking Build System\n   Running gen_proto.py on onnx/onnx.in.proto\n   Processing C:\\Users\\omniscimus\\Documents\\repos\\onnx\\onnx\\onnx.in.proto\n   Writing C:/Users/omniscimus/Documents/repos/onnx/.setuptools-cmake-build/onnx\\onnx-ml.proto\n   Writing C:/Users/omniscimus/Documents/repos/onnx/.setuptools-cmake-build/onnx\\onnx-ml.proto3\n   generating C:/Users/omniscimus/Documents/repos/onnx/.setuptools-cmake-build/onnx\\onnx_pb.py\n   Building Custom Rule C:/Users/omniscimus/Documents/repos/onnx/CMakeLists.txt\n   onnxifi_loader.c\n   Running C++ protocol buffer compiler on C:/Users/omniscimus/Documents/repos/onnx/.setuptools-cmake-build/onnx/onnx-ml.proto\n   Writing mypy to onnx/onnx_ml_pb2.pyi\n   Building Custom Rule C:/Users/omniscimus/Documents/repos/onnx/CMakeLists.txt\n   onnxifi_loader.vcxproj -> C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\Release\\onnxifi_loader.lib\n   Running gen_proto.py on onnx/onnx-operators.in.proto\n   Processing C:\\Users\\omniscimus\\Documents\\repos\\onnx\\onnx\\onnx-operators.in.proto\n   Writing C:/Users/omniscimus/Documents/repos/onnx/.setuptools-cmake-build/onnx\\onnx-operators-ml.proto\n   Writing C:/Users/omniscimus/Documents/repos/onnx/.setuptools-cmake-build/onnx\\onnx-operators-ml.proto3\n   generating C:/Users/omniscimus/Documents/repos/onnx/.setuptools-cmake-build/onnx\\onnx_operators_pb.py\n   Running C++ protocol buffer compiler on C:/Users/omniscimus/Documents/repos/onnx/.setuptools-cmake-build/onnx/onnx-operators-ml.proto\n   Writing mypy to onnx/onnx_operators_ml_pb2.pyi\n   Building Custom Rule C:/Users/omniscimus/Documents/repos/onnx/CMakeLists.txt\n   Building Custom Rule C:/Users/omniscimus/Documents/repos/onnx/CMakeLists.txt\n   onnx-ml.pb.cc\n   onnx-operators-ml.pb.cc\n   onnxifi_wrapper.c\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/io/coded_stream.h(881,64): error C2220: the following warning is treated as an error (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/io/coded_stream.h(881,64): warning C4251: 'google::protobuf::io::CodedOutputStream::default_serialization_deterministic_': struct 'std::atomic<bool>' needs to have dll-interface to be used by clients of class 'google::protobuf::io::CodedOutputStream' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Community\\VC\\Tools\\MSVC\\14.27.29110\\include\\atomic(1965): message : see declaration of 'std::atomic<bool>' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/stubs/logging.h(102,23): warning C4251: 'google::protobuf::internal::LogMessage::message_': class 'std::basic_string<char,std::char_traits<char>,std::allocator<char>>' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::LogMessage' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Community\\VC\\Tools\\MSVC\\14.27.29110\\include\\xstring(4564): message : see declaration of 'std::basic_string<char,std::char_traits<char>,std::allocator<char>>' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/arena_impl.h(251,58): warning C4251: 'google::protobuf::internal::ArenaImpl::lifecycle_id_generator_': struct 'std::atomic<__int64>' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::ArenaImpl' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Community\\VC\\Tools\\MSVC\\14.27.29110\\include\\atomic(1976): message : see declaration of 'std::atomic<__int64>' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/arena_impl.h(285,15): warning C4251: 'google::protobuf::internal::ArenaImpl::threads_': struct 'std::atomic<google::protobuf::internal::ArenaImpl::SerialArena *>' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::ArenaImpl' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/arena_impl.h(284): message : see declaration of 'std::atomic<google::protobuf::internal::ArenaImpl::SerialArena *>' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/arena_impl.h(286,34): warning C4251: 'google::protobuf::internal::ArenaImpl::hint_': struct 'std::atomic<google::protobuf::internal::ArenaImpl::SerialArena *>' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::ArenaImpl' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/arena_impl.h(284): message : see declaration of 'std::atomic<google::protobuf::internal::ArenaImpl::SerialArena *>' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/arena_impl.h(287,39): warning C4251: 'google::protobuf::internal::ArenaImpl::space_allocated_': struct 'std::atomic<unsigned __int64>' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::ArenaImpl' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Community\\VC\\Tools\\MSVC\\14.27.29110\\include\\atomic(1977): message : see declaration of 'std::atomic<unsigned __int64>' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/arena_impl.h(299,19): warning C4251: 'google::protobuf::internal::ArenaImpl::options_': struct 'google::protobuf::internal::ArenaImpl::Options' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::ArenaImpl' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/arena_impl.h(68): message : see declaration of 'google::protobuf::internal::ArenaImpl::Options' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/io/coded_stream.h(881,64): error C2220: the following warning is treated as an error (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-operators-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/io/coded_stream.h(881,64): warning C4251: 'google::protobuf::io::CodedOutputStream::default_serialization_deterministic_': struct 'std::atomic<bool>' needs to have dll-interface to be used by clients of class 'google::protobuf::io::CodedOutputStream' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-operators-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Community\\VC\\Tools\\MSVC\\14.27.29110\\include\\atomic(1965): message : see declaration of 'std::atomic<bool>' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-operators-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/stubs/logging.h(102,23): warning C4251: 'google::protobuf::internal::LogMessage::message_': class 'std::basic_string<char,std::char_traits<char>,std::allocator<char>>' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::LogMessage' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-operators-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Community\\VC\\Tools\\MSVC\\14.27.29110\\include\\xstring(4564): message : see declaration of 'std::basic_string<char,std::char_traits<char>,std::allocator<char>>' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-operators-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/arena_impl.h(251,58): warning C4251: 'google::protobuf::internal::ArenaImpl::lifecycle_id_generator_': struct 'std::atomic<__int64>' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::ArenaImpl' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-operators-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Community\\VC\\Tools\\MSVC\\14.27.29110\\include\\atomic(1976): message : see declaration of 'std::atomic<__int64>' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-operators-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/arena_impl.h(285,15): warning C4251: 'google::protobuf::internal::ArenaImpl::threads_': struct 'std::atomic<google::protobuf::internal::ArenaImpl::SerialArena *>' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::ArenaImpl' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-operators-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/arena_impl.h(284): message : see declaration of 'std::atomic<google::protobuf::internal::ArenaImpl::SerialArena *>' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-operators-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/arena_impl.h(286,34): warning C4251: 'google::protobuf::internal::ArenaImpl::hint_': struct 'std::atomic<google::protobuf::internal::ArenaImpl::SerialArena *>' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::ArenaImpl' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-operators-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/arena_impl.h(284): message : see declaration of 'std::atomic<google::protobuf::internal::ArenaImpl::SerialArena *>' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-operators-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/arena_impl.h(287,39): warning C4251: 'google::protobuf::internal::ArenaImpl::space_allocated_': struct 'std::atomic<unsigned __int64>' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::ArenaImpl' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-operators-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Community\\VC\\Tools\\MSVC\\14.27.29110\\include\\atomic(1977): message : see declaration of 'std::atomic<unsigned __int64>' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-operators-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/arena_impl.h(299,19): warning C4251: 'google::protobuf::internal::ArenaImpl::options_': struct 'google::protobuf::internal::ArenaImpl::Options' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::ArenaImpl' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-operators-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/arena_impl.h(68): message : see declaration of 'google::protobuf::internal::ArenaImpl::Options' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-operators-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/implicit_weak_message.h(97,20): warning C4251: 'google::protobuf::internal::ImplicitWeakMessage::data_': class 'std::basic_string<char,std::char_traits<char>,std::allocator<char>>' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::ImplicitWeakMessage' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Community\\VC\\Tools\\MSVC\\14.27.29110\\include\\xstring(4564): message : see declaration of 'std::basic_string<char,std::char_traits<char>,std::allocator<char>>' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/generated_message_util.h(176,25): warning C4251: 'google::protobuf::internal::CachedSize::size_': struct 'std::atomic<int>' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::CachedSize' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Community\\VC\\Tools\\MSVC\\14.27.29110\\include\\atomic(1972): message : see declaration of 'std::atomic<int>' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/metadata_lite.h(226,22): warning C4251: 'google::protobuf::internal::LiteUnknownFieldSetter::buffer_': class 'std::basic_string<char,std::char_traits<char>,std::allocator<char>>' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::LiteUnknownFieldSetter' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Community\\VC\\Tools\\MSVC\\14.27.29110\\include\\xstring(4564): message : see declaration of 'std::basic_string<char,std::char_traits<char>,std::allocator<char>>' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/implicit_weak_message.h(97,20): warning C4251: 'google::protobuf::internal::ImplicitWeakMessage::data_': class 'std::basic_string<char,std::char_traits<char>,std::allocator<char>>' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::ImplicitWeakMessage' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-operators-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Community\\VC\\Tools\\MSVC\\14.27.29110\\include\\xstring(4564): message : see declaration of 'std::basic_string<char,std::char_traits<char>,std::allocator<char>>' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-operators-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/inlined_string_field.h(158,21): warning C4251: 'google::protobuf::internal::InlinedStringField::value_': class 'std::basic_string<char,std::char_traits<char>,std::allocator<char>>' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::InlinedStringField' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Community\\VC\\Tools\\MSVC\\14.27.29110\\include\\xstring(4564): message : see declaration of 'std::basic_string<char,std::char_traits<char>,std::allocator<char>>' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/unknown_field_set.h(182,36): warning C4251: 'google::protobuf::UnknownFieldSet::fields_': class 'std::vector<google::protobuf::UnknownField,std::allocator<google::protobuf::UnknownField>>' needs to have dll-interface to be used by clients of class 'google::protobuf::UnknownFieldSet' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/unknown_field_set.h(182): message : see declaration of 'std::vector<google::protobuf::UnknownField,std::allocator<google::protobuf::UnknownField>>' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/generated_message_util.h(176,25): warning C4251: 'google::protobuf::internal::CachedSize::size_': struct 'std::atomic<int>' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::CachedSize' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-operators-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Community\\VC\\Tools\\MSVC\\14.27.29110\\include\\atomic(1972): message : see declaration of 'std::atomic<int>' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-operators-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/stubs/mutex.h(107,17): warning C4251: 'google::protobuf::internal::WrappedMutex::mu_': class 'std::mutex' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::WrappedMutex' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Community\\VC\\Tools\\MSVC\\14.27.29110\\include\\mutex(87): message : see declaration of 'std::mutex' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/metadata_lite.h(226,22): warning C4251: 'google::protobuf::internal::LiteUnknownFieldSetter::buffer_': class 'std::basic_string<char,std::char_traits<char>,std::allocator<char>>' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::LiteUnknownFieldSetter' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-operators-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Community\\VC\\Tools\\MSVC\\14.27.29110\\include\\xstring(4564): message : see declaration of 'std::basic_string<char,std::char_traits<char>,std::allocator<char>>' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-operators-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/descriptor.h(1858,34): warning C4251: 'google::protobuf::DescriptorPool::tables_': class 'std::unique_ptr<google::protobuf::DescriptorPool::Tables,std::default_delete<google::protobuf::DescriptorPool::Tables>>' needs to have dll-interface to be used by clients of class 'google::protobuf::DescriptorPool' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/descriptor.h(1858): message : see declaration of 'std::unique_ptr<google::protobuf::DescriptorPool::Tables,std::default_delete<google::protobuf::DescriptorPool::Tables>>' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/descriptor.h(1865,51): warning C4251: 'google::protobuf::DescriptorPool::unused_import_track_files_': class 'std::set<std::string,std::less<std::string>,std::allocator<std::string>>' needs to have dll-interface to be used by clients of class 'google::protobuf::DescriptorPool' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/descriptor.h(1865): message : see declaration of 'std::set<std::string,std::less<std::string>,std::allocator<std::string>>' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/inlined_string_field.h(158,21): warning C4251: 'google::protobuf::internal::InlinedStringField::value_': class 'std::basic_string<char,std::char_traits<char>,std::allocator<char>>' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::InlinedStringField' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-operators-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Community\\VC\\Tools\\MSVC\\14.27.29110\\include\\xstring(4564): message : see declaration of 'std::basic_string<char,std::char_traits<char>,std::allocator<char>>' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-operators-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/unknown_field_set.h(182,36): warning C4251: 'google::protobuf::UnknownFieldSet::fields_': class 'std::vector<google::protobuf::UnknownField,std::allocator<google::protobuf::UnknownField>>' needs to have dll-interface to be used by clients of class 'google::protobuf::UnknownFieldSet' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-operators-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/unknown_field_set.h(182): message : see declaration of 'std::vector<google::protobuf::UnknownField,std::allocator<google::protobuf::UnknownField>>' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-operators-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/stubs/mutex.h(107,17): warning C4251: 'google::protobuf::internal::WrappedMutex::mu_': class 'std::mutex' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::WrappedMutex' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-operators-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Community\\VC\\Tools\\MSVC\\14.27.29110\\include\\mutex(87): message : see declaration of 'std::mutex' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-operators-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/descriptor.h(1858,34): warning C4251: 'google::protobuf::DescriptorPool::tables_': class 'std::unique_ptr<google::protobuf::DescriptorPool::Tables,std::default_delete<google::protobuf::DescriptorPool::Tables>>' needs to have dll-interface to be used by clients of class 'google::protobuf::DescriptorPool' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-operators-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/descriptor.h(1858): message : see declaration of 'std::unique_ptr<google::protobuf::DescriptorPool::Tables,std::default_delete<google::protobuf::DescriptorPool::Tables>>' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-operators-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/descriptor.h(1865,51): warning C4251: 'google::protobuf::DescriptorPool::unused_import_track_files_': class 'std::set<std::string,std::less<std::string>,std::allocator<std::string>>' needs to have dll-interface to be used by clients of class 'google::protobuf::DescriptorPool' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-operators-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n C:\\Users\\omniscimus\\Documents\\programs\\protobuf\\include\\google/protobuf/descriptor.h(1865): message : see declaration of 'std::set<std::string,std::less<std::string>,std::allocator<std::string>>' (compiling source file C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx\\onnx-operators-ml.pb.cc) [C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\onnx_proto.vcxproj]\n      Creating library C:/Users/omniscimus/Documents/repos/onnx/.setuptools-cmake-build/Release/onnxifi.lib and object C:/Users/omniscimus/Documents/repos/onnx/.setuptools-cmake-build/Release/onnxifi.exp\n   onnxifi_wrapper.vcxproj -> C:\\Users\\omniscimus\\Documents\\repos\\onnx\\.setuptools-cmake-build\\Release\\onnxifi.dll\n Traceback (most recent call last):\n   File \"setup.py\", line 321, in <module>\n     setuptools.setup(\n   File \"C:\\Users\\omniscimus\\AppData\\Local\\Programs\\Python\\Python38\\lib\\site-packages\\setuptools\\__init__.py\", line 145, in setup\n     return distutils.core.setup(**attrs)\n   File \"C:\\Users\\omniscimus\\AppData\\Local\\Programs\\Python\\Python38\\lib\\distutils\\core.py\", line 148, in setup\n     dist.run_commands()\n   File \"C:\\Users\\omniscimus\\AppData\\Local\\Programs\\Python\\Python38\\lib\\distutils\\dist.py\", line 966, in run_commands\n     self.run_command(cmd)\n   File \"C:\\Users\\omniscimus\\AppData\\Local\\Programs\\Python\\Python38\\lib\\distutils\\dist.py\", line 985, in run_command\n     cmd_obj.run()\n   File \"C:\\Users\\omniscimus\\AppData\\Local\\Programs\\Python\\Python38\\lib\\site-packages\\setuptools\\command\\install.py\", line 67, in run\n     self.do_egg_install()\n   File \"C:\\Users\\omniscimus\\AppData\\Local\\Programs\\Python\\Python38\\lib\\site-packages\\setuptools\\command\\install.py\", line 109, in do_egg_install\n     self.run_command('bdist_egg')\n   File \"C:\\Users\\omniscimus\\AppData\\Local\\Programs\\Python\\Python38\\lib\\distutils\\cmd.py\", line 313, in run_command\n     self.distribution.run_command(command)\n   File \"C:\\Users\\omniscimus\\AppData\\Local\\Programs\\Python\\Python38\\lib\\distutils\\dist.py\", line 985, in run_command\n     cmd_obj.run()\n   File \"C:\\Users\\omniscimus\\AppData\\Local\\Programs\\Python\\Python38\\lib\\site-packages\\setuptools\\command\\bdist_egg.py\", line 172, in run\n     cmd = self.call_command('install_lib', warn_dir=0)\n   File \"C:\\Users\\omniscimus\\AppData\\Local\\Programs\\Python\\Python38\\lib\\site-packages\\setuptools\\command\\bdist_egg.py\", line 158, in call_command\n     self.run_command(cmdname)\n   File \"C:\\Users\\omniscimus\\AppData\\Local\\Programs\\Python\\Python38\\lib\\distutils\\cmd.py\", line 313, in run_command\n     self.distribution.run_command(command)\n   File \"C:\\Users\\omniscimus\\AppData\\Local\\Programs\\Python\\Python38\\lib\\distutils\\dist.py\", line 985, in run_command\n     cmd_obj.run()\n   File \"C:\\Users\\omniscimus\\AppData\\Local\\Programs\\Python\\Python38\\lib\\site-packages\\setuptools\\command\\install_lib.py\", line 11, in run\n     self.build()\n   File \"C:\\Users\\omniscimus\\AppData\\Local\\Programs\\Python\\Python38\\lib\\distutils\\command\\install_lib.py\", line 105, in build\n     self.run_command('build_py')\n   File \"C:\\Users\\omniscimus\\AppData\\Local\\Programs\\Python\\Python38\\lib\\distutils\\cmd.py\", line 313, in run_command\n     self.distribution.run_command(command)\n   File \"C:\\Users\\omniscimus\\AppData\\Local\\Programs\\Python\\Python38\\lib\\distutils\\dist.py\", line 985, in run_command\n     cmd_obj.run()\n   File \"setup.py\", line 217, in run\n     self.run_command('cmake_build')\n   File \"C:\\Users\\omniscimus\\AppData\\Local\\Programs\\Python\\Python38\\lib\\distutils\\cmd.py\", line 313, in run_command\n     self.distribution.run_command(command)\n   File \"C:\\Users\\omniscimus\\AppData\\Local\\Programs\\Python\\Python38\\lib\\distutils\\dist.py\", line 985, in run_command\n     cmd_obj.run()\n   File \"setup.py\", line 211, in run\n     subprocess.check_call(build_args)\n   File \"C:\\Users\\omniscimus\\AppData\\Local\\Programs\\Python\\Python38\\lib\\subprocess.py\", line 364, in check_call\n     raise CalledProcessError(retcode, cmd)\n subprocess.CalledProcessError: Command '['C:\\\\Program Files\\\\CMake\\\\bin\\\\cmake.exe', '--build', '.', '--config', 'Release', '--', '/maxcpucount:3']' returned non-zero exit status 1.\n </denchmark-code>\n \n \t\t"}, "comments_4": {"comment_id": 5, "comment_author": "Omniscimus", "commentT": "2020-08-27T01:17:35Z", "comment_text": "\n \t\tSimilar to <denchmark-link:https://github.com/onnx/onnx/issues/2759>#2759</denchmark-link>\n . It seems that somehow the static protobuf does not link successfully.\n Can you try to reinstall protobuf again with ? (same as the onnx build)\n Something like:\n <denchmark-code>git clone https://github.com/protocolbuffers/protobuf.git\n cd protobuf\n git checkout 3.9.x\n cd cmake\n cmake -G \"Visual Studio 16 2019\" -Dprotobuf_MSVC_STATIC_RUNTIME=OFF -Dprotobuf_BUILD_TESTS=OFF -Dprotobuf_BUILD_EXAMPLES=OFF -DCMAKE_INSTALL_PREFIX=\"/path/for/installed/protobuf\"\n msbuild protobuf.sln /m /p:Configuration=Release\n msbuild INSTALL.vcxproj /p:Configuration=Release\n </denchmark-code>\n \n And use Native tools Command Prompt from Visual Studio to rerun all the commands, please. Thank you.\n \t\t"}, "comments_5": {"comment_id": 6, "comment_author": "Omniscimus", "commentT": "2020-08-27T07:16:40Z", "comment_text": "\n \t\tOk, I removed everything and tried again. In \"x64 Native Tools Command Prompt for VS 2019\" I did:\n cd C:\\Users\\omniscimus\\Documents\\repos\n git clone https://github.com/protocolbuffers/protobuf.git\n cd protobuf\n git checkout 3.9.x\n cd cmake\n mkdir C:\\Users\\omniscimus\\programs\\protobuf\n cmake -G \"Visual Studio 16 2019\" -Dprotobuf_MSVC_STATIC_RUNTIME=OFF -Dprotobuf_BUILD_TESTS=OFF -Dprotobuf_BUILD_EXAMPLES=OFF -DCMAKE_INSTALL_PREFIX=\"C:\\Users\\omniscimus\\programs\\protobuf\"\n msbuild protobuf.sln /m /p:Configuration=Release\n msbuild INSTALL.vcxproj /p:Configuration=Release\n \n cd ..\\..\n git clone https://github.com/onnx/onnx.git\n cd onnx\n git submodule update --init --recursive\n git clean -xdf\n set PATH=\"C:\\Users\\omniscimus\\programs\\protobuf\\bin;%PATH%\"\n set USE_MSVC_STATIC_RUNTIME=0\n set ONNX_ML=1\n set CMAKE_ARGS=-DONNX_USE_PROTOBUF_SHARED_LIBS=OFF -DProtobuf_USE_STATIC_LIBS=ON -DONNX_USE_LITE_PROTO=OFF\n C:\\Users\\omniscimus\\AppData\\Local\\Programs\\Python\\Python38\\python setup.py install\n At first this gave an error again (Protobuf compiler not found, even though protoc was in protobuf's bin directory). I inspected my PATH environment variable, it didn't seem right (\" in the wrong places). The solution was to use\n set PATH=C:\\Users\\omniscimus\\programs\\protobuf\\bin;%PATH%\n instead of\n set PATH=\"C:\\Users\\omniscimus\\programs\\protobuf\\bin;%PATH%\".\n I think you might need to do something like\n set PATH=\"path\\to\\protobuf\\bin\";%PATH%\n if there are spaces in the path to protobuf.\n Using this new path variable, the build went smoothly. Thanks for all the help!\n \t\t"}, "comments_6": {"comment_id": 7, "comment_author": "Omniscimus", "commentT": "2020-08-27T15:36:18Z", "comment_text": "\n \t\tHi <denchmark-link:https://github.com/Omniscimus>@Omniscimus</denchmark-link>\n ,\n Glad that you have installed onnx on Windows successfully! I will update the document based on your experience. Thank you for all the detailed information.\n \t\t"}, "comments_7": {"comment_id": 8, "comment_author": "Omniscimus", "commentT": "2021-01-15T18:45:06Z", "comment_text": "\n \t\tThe PR for improving Windows has been merged. Please reopen it if you have other concerns or issues. Thank you!\n \t\t"}}}, "commit": {"commit_id": "4b639e03d92ff5ea25c5d9ebb88db3dfaf1de769", "commit_author": "Chun-Wei Chen", "commitT": "2021-01-13 14:13:53-08:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "README.md", "file_new_name": "README.md", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "64,65,101,102,108,111,112,113,128,131,132,133,155,181", "deleted_lines": "104,107,122,146"}}}}}}