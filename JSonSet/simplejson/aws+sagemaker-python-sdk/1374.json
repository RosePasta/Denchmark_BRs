{"BR": {"BR_id": "1374", "BR_author": "atotev", "BRopenT": "2020-03-24T23:06:46Z", "BRcloseT": "2020-03-26T17:52:20Z", "BR_text": {"BRsummary": "Local _SageMakerContainer cannot run in --detached mode", "BRdescription": "\n \n The  parameter of the  method conflicts with the  option which is set unconditionally. Per <denchmark-link:https://docs.docker.com/compose/reference/up/>docker-compose reference</denchmark-link>\n :\n <denchmark-code>Options:\n     -d, --detach               Detached mode: Run containers in the background,\n                                print new container names. Incompatible with\n                                --abort-on-container-exit.\n </denchmark-code>\n \n To reproduce\n Call self._compose(True) leads to the following error:\n <denchmark-code>Exception in thread Thread-4:\n Traceback (most recent call last):\n   File \"/home/user/test/venv/lib/python3.6/site-packages/sagemaker/local/image.py\", line 614, in run\n     _stream_output(self.process)\n   File \"/home/user/test/venv/lib/python3.6/site-packages/sagemaker/local/image.py\", line 673, in _stream_output\n     raise RuntimeError(\"Process exited with code: %s\" % exit_code)\n RuntimeError: Process exited with code: 1\n \n During handling of the above exception, another exception occurred:\n \n Traceback (most recent call last):\n   File \"/usr/lib/python3.6/threading.py\", line 916, in _bootstrap_inner\n     self.run()\n   File \"/home/user/test/venv/lib/python3.6/site-packages/sagemaker/local/image.py\", line 619, in run\n     raise RuntimeError(msg)\n RuntimeError: Failed to run: ['docker-compose', '-f', '/tmp/tmpxxte1jk0/docker-compose.yaml', 'up', '--build', '--abort-on-container-exit', '-d'], Process exited with code: 1\n </denchmark-code>\n \n Expected behavior\n The container should start with no errors.\n Screenshots or logs\n Stacktrace provided.\n System information\n A description of your system. Please provide:\n \n SageMaker Python SDK version: 1.52.0\n Framework name (eg. PyTorch) or algorithm (eg. KMeans): VW\n Framework version: 8.7.0\n Python version: 3.6\n CPU or GPU: CPU\n Custom Docker image (Y/N): N\n \n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "atotev", "commentT": "2020-03-25T18:14:55Z", "comment_text": "\n \t\tthanks for the bug report and PR!\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "atotev", "commentT": "2020-03-25T18:50:08Z", "comment_text": "\n \t\tjust merged your PR. It should get released tomorrow morning.\n \t\t"}, "comments_2": {"comment_id": 3, "comment_author": "atotev", "commentT": "2020-03-26T17:52:20Z", "comment_text": "\n \t\treleased in <denchmark-link:https://github.com/aws/sagemaker-python-sdk/releases/tag/v1.52.1>v1.52.1</denchmark-link>\n . thanks again for the fix!\n \t\t"}}}, "commit": {"commit_id": "2e1b710631812f02fbc5b973d748866a0b3830a5", "commit_author": "atotev", "commitT": "2020-03-25 11:49:34-07:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "src\\sagemaker\\local\\image.py", "file_new_name": "src\\sagemaker\\local\\image.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "492", "deleted_lines": "492,495,496", "method_info": {"method_name": "_compose", "method_params": "self,detached", "method_startline": "479", "method_endline": "496"}}}}}}}