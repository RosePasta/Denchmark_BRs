{"BR": {"BR_id": "1207", "BR_author": "barnybug", "BRopenT": "2020-01-06T14:38:55Z", "BRcloseT": "2020-01-14T19:36:14Z", "BR_text": {"BRsummary": "None always returned from `AutoML.deploy()`", "BRdescription": "\n <denchmark-h:h3>System Information</denchmark-h>\n \n \n Framework: AutoML\n Python Version: 3.7\n \n <denchmark-h:h3>Describe the problem</denchmark-h>\n \n sagemaker.automl.automl.AutoML.deploy() currently can't return a predictor. This is because you can't provide the predictor_cls parameter to the PipelineModel() constructed inside _deploy_inference_pipeline.\n The docs for sagemaker.automl.automl.AutoML.deploy() say:\n <denchmark-code>Returns:\n             callable[string, sagemaker.session.Session]: Invocation of\n             ``self.predictor_cls`` on the created endpoint name.\n </denchmark-code>\n \n <denchmark-h:h3>Minimal repro / logs</denchmark-h>\n \n Roughly:\n <denchmark-code>from sagemaker.automl import automl\n ml = automl.AutoML(...)\n ml.fit(...)\n candidate = ml.best_candidate(...)\n predictor = ml.deploy(\n     initial_instance_count=1,\n     instance_type='ml.t2.medium',\n     candidate=candidate,\n )\n predictor # always None\n </denchmark-code>\n \n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "barnybug", "commentT": "2020-01-09T17:24:27Z", "comment_text": "\n \t\tthanks for the detailed bug report! I've submitted a PR that should address this - once the change is released, you can specify predictor_cls through AutoML.deploy()\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "barnybug", "commentT": "2020-01-14T19:36:14Z", "comment_text": "\n \t\tfix has been released in <denchmark-link:https://github.com/aws/sagemaker-python-sdk/releases/tag/v1.50.2>v1.50.2</denchmark-link>\n \n \t\t"}}}, "commit": {"commit_id": "312d14f80a34bfbf884893b5839d1209578dfa67", "commit_author": "Lauren Yu", "commitT": "2020-01-09 09:23:33-08:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "src\\sagemaker\\automl\\automl.py", "file_new_name": "src\\sagemaker\\automl\\automl.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "204", "deleted_lines": null, "method_info": {"method_name": "deploy", "method_params": "self,initial_instance_count,instance_type,candidate,sagemaker_session,name,endpoint_name,tags,wait,update_endpoint,vpc_config,enable_network_isolation,model_kms_key,predictor_cls", "method_startline": "190", "method_endline": "204"}}, "hunk_1": {"Ismethod": 1, "added_lines": "309", "deleted_lines": null, "method_info": {"method_name": "_deploy_inference_pipeline", "method_params": "self,inference_containers,initial_instance_count,instance_type,name,sagemaker_session,endpoint_name,tags,wait,update_endpoint,vpc_config,enable_network_isolation,model_kms_key,predictor_cls", "method_startline": "295", "method_endline": "309"}}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "tests\\unit\\sagemaker\\automl\\test_auto_ml.py", "file_new_name": "tests\\unit\\sagemaker\\automl\\test_auto_ml.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "476,477", "deleted_lines": null, "method_info": {"method_name": "test_deploy", "method_params": "sagemaker_session,candidate_mock", "method_startline": "451", "method_endline": "477"}}, "hunk_1": {"Ismethod": 1, "added_lines": "480,481,482,483,484,485,486,487,488,489,490,491,492,493,494,495,496,497,498,499,500,501,502,503,504,505,506,507,508,509,510,511,512,513,514,515", "deleted_lines": null, "method_info": {"method_name": "test_deploy_optional_args", "method_params": "sagemaker_session,candidate_mock", "method_startline": "480", "method_endline": "516"}}}}}}}