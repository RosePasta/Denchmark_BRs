{"BR": {"BR_id": "10270", "BR_author": "juneoh", "BRopenT": "2017-12-09T10:16:08Z", "BRcloseT": "2020-06-04T20:46:59Z", "BR_text": {"BRsummary": "fitEllipse() still fails after #9923", "BRdescription": "\n <denchmark-h:h5>System information (version)</denchmark-h>\n \n \n OpenCV => tested from 3.3.0 to 3.3.1-dev(66e09bc)\n Operating System / Platform => Ubuntu 16.04(64bit)\n Compiler => gcc\n \n <denchmark-h:h5>Detailed description</denchmark-h>\n \n There seems to be yet another set of points that breaks fitEllipse(). I've tried both (a) local compile from official sources(3.3.1 and the latest master) and (b) the unofficial opencv-python PyPI binary, but it still happens the same.\n <denchmark-link:https://github.com/opencv/opencv/pull/9923>#9923</denchmark-link>\n \n <denchmark-h:h5>Steps to reproduce</denchmark-h>\n \n \n \n Compile by following https://docs.opencv.org/3.1.0/dd/dd5/tutorial_py_setup_in_fedora.html, but on Ubuntu.\n \n \n On Python, try:\n \n \n Python 3.5.2 (default, Nov 23 2017, 16:37:01) \n [GCC 5.4.0 20160609] on linux\n Type \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n >>> import cv2\n >>> cv2.__version__\n '3.3.1-dev'\n >>> import numpy as np\n >>> cv2.fitEllipse(np.array([(0, 1), (0, 2), (0, 3), (2, 3), (0, 4)]))\n ((0.0, 21.461536407470703), (36.34366226196289, 203.46951293945312), 107.87489318847656)\n Translations by distance(moving the set vertically/horizontally) would still give the same results.\n \t"}, "comments": {}}, "commit": {"commit_id": "8abb312c2076a13987a116666ecd760efbb823e2", "commit_author": "Vadim Pisarevsky", "commitT": "2020-06-01 18:01:20+00:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "modules\\imgproc\\misc\\java\\test\\ImgprocTest.java", "file_new_name": "modules\\imgproc\\misc\\java\\test\\ImgprocTest.java", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "800,801,802,803,804,805,806", "deleted_lines": "800,801,802", "method_info": {"method_name": "ImgprocTest::testFitEllipse", "method_params": "", "method_startline": "794", "method_endline": "807"}}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 5, "file_old_name": "modules\\imgproc\\src\\shapedescr.cpp", "file_new_name": "modules\\imgproc\\src\\shapedescr.cpp", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "504,505,506,507,508,509,510,511", "deleted_lines": null, "method_info": {"method_name": "cv::fitEllipse", "method_params": "_points", "method_startline": "504", "method_endline": "511"}}, "hunk_1": {"Ismethod": 1, "added_lines": "702,710,722,727,728,730,731,736,738,740,741,742,743,744,745,746,747,748,749,750,751,752,753,754,755,756,757,758,759,760,761,762,763,764,765,766,767,768,769,770,771,772,773,774,775,776,777,778,779,780,781,782,783,784,785,786,787,788,789,790,791,792,793,794,795,796,798,833,834,835,836,860", "deleted_lines": "697,698,699,700,701,702,703,704,705,706,708,743,744,745,746,770", "method_info": {"method_name": "cv::fitEllipseDirect", "method_params": "_points", "method_startline": "697", "method_endline": "863"}}, "hunk_2": {"Ismethod": 1, "added_lines": "343,344,345,346", "deleted_lines": null, "method_info": {"method_name": "cv::getOfs", "method_params": "i,eps", "method_startline": "343", "method_endline": "346"}}, "hunk_3": {"Ismethod": 1, "added_lines": "348,364,368,369,370,376,377,378,380,381,382,386,389,393,396,397,398,399,400,401,402,403,404,406,407,410,411,412,413,414,417,418,419,420,421,422,423,424,425,426,427,428,429,430,431,432,433,434,435,436,437,438,439,440,441,461,463,464,466,467,468,485,486,487,488", "deleted_lines": "357,360,361,363,364,381,385,386,387,388,389,392,412,415,416,417,434,435,436,437,489,491,492,493,494,495", "method_info": {"method_name": "cv::fitEllipseNoDirect", "method_params": "_points", "method_startline": "348", "method_endline": "501"}}, "hunk_4": {"Ismethod": 1, "added_lines": "547,551,552,553,555,556,557,558,559,560,561,562,563,564,659,660,661,662,673,674,691", "deleted_lines": "590,591,592,593,604,605,622,640,656,658,659,664,665,666,667,668,669,670,671,673,674,676,677,678,679,680,681,682,683,684,685,686,687,688,689,690,691,692,693,694,695", "method_info": {"method_name": "cv::fitEllipseAMS", "method_params": "_points", "method_startline": "513", "method_endline": "695"}}}}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "modules\\imgproc\\test\\test_fitellipse.cpp", "file_new_name": "modules\\imgproc\\test\\test_fitellipse.cpp", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85", "deleted_lines": null, "method_info": {"method_name": "opencv_test::TEST", "method_params": "Imgproc_FitEllipse_Issue_10270,accuracy", "method_startline": "69", "method_endline": "85"}}, "hunk_1": {"Ismethod": 1, "added_lines": "87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103", "deleted_lines": null, "method_info": {"method_name": "opencv_test::TEST", "method_params": "Imgproc_FitEllipse_JavaCase,accuracy", "method_startline": "87", "method_endline": "103"}}}}}}}