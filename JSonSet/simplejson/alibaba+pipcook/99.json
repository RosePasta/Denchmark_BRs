{"BR": {"BR_id": "99", "BR_author": "shadowkun", "BRopenT": "2020-04-16T03:29:26Z", "BRcloseT": "2020-04-20T01:40:33Z", "BR_text": {"BRsummary": "\"Pipcook init\" node-gyp rebuild error", "BRdescription": "\n When i use node version 10 execute \"pipcook init\" will got error message:\n <denchmark-link:https://user-images.githubusercontent.com/104660/79411380-4e801580-7fd5-11ea-9280-c66ab704dc8e.png></denchmark-link>\n \n I think maybe node version too old to got different API but pipcook not support?\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "shadowkun", "commentT": "2020-04-16T03:33:31Z", "comment_text": "\n \t\tThis might be caused by hitting the napi3 at Node10, and we are using napi4. See <denchmark-link:https://nodejs.org/dist/latest-v10.x/docs/api/n-api.html#n_api_n_api_version_matrix>https://nodejs.org/dist/latest-v10.x/docs/api/n-api.html#n_api_n_api_version_matrix</denchmark-link>\n  for the napi version matrix.\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "shadowkun", "commentT": "2020-04-16T03:35:21Z", "comment_text": "\n \t\tThx\uff01\uff5e\uff5e\n \t\t"}, "comments_2": {"comment_id": 3, "comment_author": "shadowkun", "commentT": "2020-04-16T03:38:16Z", "comment_text": "\n \t\tReopening because this doesn't get fixed, I'll have a upcoming PR for that :)\n \t\t"}, "comments_3": {"comment_id": 4, "comment_author": "shadowkun", "commentT": "2020-04-18T05:41:08Z", "comment_text": "\n \t\tDate related N-APIs are available with NAPI_VERSION 5. Node.js v10 LTS line supports NAPI_VERSION 5 after Node.js v10.17.0.\n \t\t"}, "comments_4": {"comment_id": 5, "comment_author": "shadowkun", "commentT": "2020-04-18T05:42:58Z", "comment_text": "\n \t\tcool\n \t\t"}, "comments_5": {"comment_id": 6, "comment_author": "shadowkun", "commentT": "2020-04-18T06:15:22Z", "comment_text": "\n \t\t\n Date related N-APIs are available with NAPI_VERSION 5. Node.js v10 LTS line supports NAPI_VERSION 5 after Node.js v10.17.0.\n \n Thanks <denchmark-link:https://github.com/legendecas>@legendecas</denchmark-link>\n , But boa seems not using the Date N-APIs actually, this issue is to address why do we have a compiler error at node-addon-api, when not given a NAPI_VERSION define, therefore I don't think a newer Node.js version is to help this.\n As I have mentioned at <denchmark-link:https://github.com/nodejs/node-addon-api/pull/703>nodejs/node-addon-api#703</denchmark-link>\n , IMO this might be caused by the wrong condition-macro for NAPI_VERSION checks.\n \t\t"}}}, "commit": {"commit_id": "7297ea173ad2bcf551d07c277980c6db34f39bdc", "commit_author": "Yorkie Liu", "commitT": "2020-04-20 09:40:33+08:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "packages\\boa\\binding.gyp", "file_new_name": "packages\\boa\\binding.gyp", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "39,51", "deleted_lines": "50"}}}}}}