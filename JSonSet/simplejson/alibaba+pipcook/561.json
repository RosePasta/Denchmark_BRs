{"BR": {"BR_id": "561", "BR_author": "yanuel", "BRopenT": "2020-09-07T08:07:44Z", "BRcloseT": "2020-09-11T10:59:34Z", "BR_text": {"BRsummary": "training failed\uff0c\u8bad\u7ec3cancel \u4e4b\u540e\u8bad\u7ec3\u8fdb\u7a0b\u6ca1\u6709\u9000\u51fa", "BRdescription": "\n <denchmark-link:https://user-images.githubusercontent.com/8894674/92363420-0c8e7200-f124-11ea-80a4-7ed5691f8931.png></denchmark-link>\n \n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "yanuel", "commentT": "2020-09-07T08:19:52Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/yanuel>@yanuel</denchmark-link>\n  \u591a\u8c22\u53cd\u9988\uff0c\u53ef\u4ee5\u63d0\u4f9b\u4e00\u4e0b\u4f60\u4f7f\u7528\u7684 Pipcook \u7248\u672c\uff0c\u4ee5\u53ca Node.js \u7248\u672c\u5417\uff1f\u8fd8\u6709\u8bad\u7ec3\u7528\u5230\u7684 Pipeline\u3002\n Thanks for the feedback, could you please provide the Pipcook versions, Node.js version, and the pipeline that you ran.\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "yanuel", "commentT": "2020-09-07T08:31:23Z", "comment_text": "\n \t\t\u6211\u60f3\u60f3\u95ee\u9898\u7684\u539f\u56e0\u662f costa \u7528\u4e86 IPC \u53d1\u9001 destroy \u8bf7\u6c42\uff0c\u5982\u679c\u5ba2\u6237\u7aef\u5fd9\u788c\uff0c\u6bd4\u5982\u5728\u6267\u884c\u8bad\u7ec3\u5faa\u73af\uff0c\u662f\u4e0d\u4f1a\u7acb\u5373\u9000\u51fa\u7684\u3002\n \u4ee3\u7801\uff1a<denchmark-link:https://github.com/alibaba/pipcook/blob/master/packages/costa/src/runnable.ts#L175>https://github.com/alibaba/pipcook/blob/master/packages/costa/src/runnable.ts#L175</denchmark-link>\n \n \u53ef\u80fd\u53ef\u4ee5\u7528\u4fe1\u53f7\u4ee3\u66ff IPC \u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u3002\n I think the reason is: costa send the destroy request by IPC, and if the client is busy, i.e. training loop, it will not exit immediately.\n Code: <denchmark-link:https://github.com/alibaba/pipcook/blob/master/packages/costa/src/runnable.ts#L175>https://github.com/alibaba/pipcook/blob/master/packages/costa/src/runnable.ts#L175</denchmark-link>\n \n Maybe we should send a signal to instead of IPC.\n \t\t"}}}, "commit": {"commit_id": "2b592f7ac1c2dab303d3af565765385e2d67a0e3", "commit_author": "feely", "commitT": "2020-09-11 18:59:33+08:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "packages\\costa\\src\\runnable.ts", "file_new_name": "packages\\costa\\src\\runnable.ts", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "183,184,185", "deleted_lines": null, "method_info": {"method_name": "setTimeout", "method_params": "", "method_startline": "183", "method_endline": "185"}}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "packages\\costa\\test\\plugins\\nodejs-simple\\index.js", "file_new_name": "packages\\costa\\test\\plugins\\nodejs-simple\\index.js", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "4,5,6,7,8,9,10,11,12,13", "deleted_lines": null}}}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 4, "file_old_name": "packages\\costa\\test\\runnable_test.ts", "file_new_name": "packages\\costa\\test\\runnable_test.ts", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "30,31,46,59,61,62,75,79,80,81,82,86,87,100,103,104,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128", "deleted_lines": "41,53,54,56,58,59,72,73,74,78,79,80,81,85,86,99,100,101,104,105", "method_info": {"method_name": "StringWritable", "method_params": "", "method_startline": "30", "method_endline": "129"}}, "hunk_1": {"Ismethod": 1, "added_lines": "28,29,30,31,46,59,61,62,75,79,80,81,82,86,87,100,103,104,112,113", "deleted_lines": "41,53,54,56,58,59,72,73,74,78,79,80,81,85,86,99,100,101,104,105", "method_info": {"method_name": "path.join", "method_params": "__dirname", "method_startline": "22", "method_endline": "113"}}, "hunk_2": {"Ismethod": 1, "added_lines": "13", "deleted_lines": "13", "method_info": {"method_name": "_write", "method_params": "", "method_startline": "13", "method_endline": "13"}}, "hunk_3": {"Ismethod": 1, "added_lines": "46", "deleted_lines": null, "method_info": {"method_name": "(anonymous)", "method_params": "", "method_startline": "45", "method_endline": "49"}}}}}}}