{"BR": {"BR_id": "1521", "BR_author": "janandreschweiger", "BRopenT": "2020-12-21T21:10:22Z", "BRcloseT": "2020-12-21T22:42:01Z", "BR_text": {"BRsummary": "top_k no longer works for search", "BRdescription": "\n Hi Jina team,\n I think I found a bug in the recent version. Jina returns 50 documents for top_k=10.\n It is either a bug or just has to be updated in the documentation. Downgrading resolved the issue.\n Thank you!\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "janandreschweiger", "commentT": "2020-12-21T22:16:32Z", "comment_text": "\n \t\tthe last release make top_k related to SliceQL driver's end parameter only. If you don't use SliceQL in any part of your flow, then top_k has no effect.\n if you are using VectorSearchDriver somewhere in your pipeline, you can use the following code to make top_k related to VectorSearchDriver again, e.g.\n topk_ql = QueryLang(VectorSearchDriver(top_k=5, priority=1))\n \n f.search(random_docs(...), on_done=..., queryset=[topk_ql])\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "janandreschweiger", "commentT": "2020-12-21T22:51:22Z", "comment_text": "\n \t\t0.8.12 fixed it\n \t\t"}, "comments_2": {"comment_id": 3, "comment_author": "janandreschweiger", "commentT": "2020-12-22T06:02:05Z", "comment_text": "\n \t\tThanks <denchmark-link:https://github.com/hanxiao>@hanxiao</denchmark-link>\n !\n \t\t"}}}, "commit": {"commit_id": "ede2989cc199a9f640ebf72bc1718e3169332a80", "commit_author": "Han Xiao", "commitT": "2020-12-21 23:42:00+01:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "jina\\clients\\request.py", "file_new_name": "jina\\clients\\request.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "104,105,107,108,109,111,113", "deleted_lines": "105,107,109", "method_info": {"method_name": "search", "method_params": "args,kwargs", "method_startline": "101", "method_endline": "114"}}}}}}}