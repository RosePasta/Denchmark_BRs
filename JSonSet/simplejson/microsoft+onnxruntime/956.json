{"BR": {"BR_id": "956", "BR_author": "dselivanov", "BRopenT": "2019-05-02T10:18:52Z", "BRcloseT": "2019-05-08T17:40:23Z", "BR_text": {"BRsummary": "Docker files are just wrong", "BRdescription": "\n This is very strange to see totally incorrect and untested docker files in the master branch.\n <denchmark-h:h3>GPU</denchmark-h>\n \n onnxruntime clearly states in depends on CUDA 9.1, but gpu images starts from 10.0 - <denchmark-link:https://github.com/Microsoft/onnxruntime/blob/628f4c3aa3bb03fb62fd580a897ec8b6de32e430/dockerfiles/Dockerfile.gpu#L9>https://github.com/Microsoft/onnxruntime/blob/628f4c3aa3bb03fb62fd580a897ec8b6de32e430/dockerfiles/Dockerfile.gpu#L9</denchmark-link>\n \n On top of that it is based on ubuntu 16.04 and the most modern python from apt is 3.5. However docker installs  (mind space!!!)\n <denchmark-link:https://github.com/Microsoft/onnxruntime/blob/628f4c3aa3bb03fb62fd580a897ec8b6de32e430/dockerfiles/Dockerfile.cpu#L17>https://github.com/Microsoft/onnxruntime/blob/628f4c3aa3bb03fb62fd580a897ec8b6de32e430/dockerfiles/Dockerfile.cpu#L17</denchmark-link>\n \n And also installs unnecessary things like openssl, wget, etc.\n It looks like this docker files are copy-paste from somewhere and even not tested to build.\n <denchmark-h:h3>CPU</denchmark-h>\n \n Same issues with CPU dockerfile\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "dselivanov", "commentT": "2019-05-03T06:55:15Z", "comment_text": "\n \t\tSounds reasonable.\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "dselivanov", "commentT": "2019-05-08T01:00:58Z", "comment_text": "\n \t\tThank you for your feedback on the older versions of the dockerfiles, <denchmark-link:https://github.com/dselivanov>@dselivanov</denchmark-link>\n . I removed them in <denchmark-link:https://github.com/microsoft/onnxruntime/pull/987>#987</denchmark-link>\n  and will address the suggested changes in a future PR!\n \t\t"}}}, "commit": {"commit_id": "47171a076b81f9a1c924a4e36d99aed18cc5362e", "commit_author": "Vinitra Swamy", "commitT": "2019-05-08 10:40:01-07:00", "changed_files": {"file_0": {"file_change_type": "DELETE", "file_Nmethod": 0, "file_old_name": "dockerfiles\\Dockerfile.cpu", "file_new_name": "None"}, "file_1": {"file_change_type": "DELETE", "file_Nmethod": 0, "file_old_name": "dockerfiles\\Dockerfile.gpu", "file_new_name": "None"}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "dockerfiles\\README.md", "file_new_name": "dockerfiles\\README.md", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "9,17", "deleted_lines": "3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,64,72,75,76,77,78,79,80,81,82,83,84,85,86,87,88"}}}}}}