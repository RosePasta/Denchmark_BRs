{"BR": {"BR_id": "702", "BR_author": "Lyken17", "BRopenT": "2018-12-13T07:02:30Z", "BRcloseT": "2018-12-14T19:39:01Z", "BR_text": {"BRsummary": "Compilation failed on Ubuntu 16.04", "BRdescription": "\n I was compiling the master branch of horovod\n <denchmark-h:h1>gcc-4.8</denchmark-h>\n \n horovod/common/operations.cc: In function \u2018void horovod::common::{anonymous}::PerformOperation(horovod::common::{anonymous}::TensorTable&, horovod::common::MPIResponse)\u2019:\n horovod/common/operations.cc:957:75: error: \u2018RECORD_EVENT\u2019 was not declared in this scope\n            RECORD_EVENT(entries, event_queue, MEMCPY_IN_HOST_BUFFER, stream)\n                                                                            ^\n horovod/common/operations.cc:958:9: error: expected \u2018;\u2019 before \u2018}\u2019 token\n          }\n          ^\n horovod/common/operations.cc:959:55: error: \u2018WAIT_FOR_EVENTS\u2019 was not declared in this scope\n          WAIT_FOR_EVENTS(entries, timeline, event_queue)\n                                                        ^\n horovod/common/operations.cc:960:7: error: expected \u2018;\u2019 before \u2018}\u2019 token\n        } else {\n        ^\n horovod/common/operations.cc:996:76: error: \u2018RECORD_EVENT\u2019 was not declared in this scope\n            RECORD_EVENT(entries, event_queue, MEMCPY_OUT_HOST_BUFFER, stream)\n                                                                             ^\n horovod/common/operations.cc:997:9: error: expected \u2018;\u2019 before \u2018}\u2019 token\n          }\n          ^\n horovod/common/operations.cc:998:55: error: \u2018WAIT_FOR_EVENTS\u2019 was not declared in this scope\n          WAIT_FOR_EVENTS(entries, timeline, event_queue)\n                                                        ^\n horovod/common/operations.cc:999:7: error: expected \u2018;\u2019 before \u2018}\u2019 token\n        } else {\n        ^\n INFO: Unable to build PyTorch plugin, will skip it.\n <denchmark-h:h1>gcc-5</denchmark-h>\n \n horovod/common/operations.cc: In function \u2018void horovod::common::{anonymous}::PerformOperation(horovod::common::{anonymous}::TensorTable&, horovod::common::MPIResponse)\u2019:\n horovod/common/operations.cc:957:75: error: \u2018RECORD_EVENT\u2019 was not declared in this scope\n            RECORD_EVENT(entries, event_queue, MEMCPY_IN_HOST_BUFFER, stream)\n                                                                            ^\n horovod/common/operations.cc:959:55: error: \u2018WAIT_FOR_EVENTS\u2019 was not declared in this scope\n          WAIT_FOR_EVENTS(entries, timeline, event_queue)\n                                                        ^\n horovod/common/operations.cc:996:76: error: \u2018RECORD_EVENT\u2019 was not declared in this scope\n            RECORD_EVENT(entries, event_queue, MEMCPY_OUT_HOST_BUFFER, stream)\n                                                                             ^\n horovod/common/operations.cc:998:55: error: \u2018WAIT_FOR_EVENTS\u2019 was not declared in this scope\n          WAIT_FOR_EVENTS(entries, timeline, event_queue)\n                                                        ^\n INFO: Unable to build PyTorch plugin, will skip it.\n <denchmark-h:h1>gcc-6</denchmark-h>\n \n horovod/common/operations.cc: In function \u2018void horovod::common::{anonymous}::PerformOperation(horovod::common::{anonymous}::TensorTable&, horovod::common::MPIResponse)\u2019:\n horovod/common/operations.cc:957:75: error: \u2018RECORD_EVENT\u2019 was not declared in this scope\n            RECORD_EVENT(entries, event_queue, MEMCPY_IN_HOST_BUFFER, stream)\n                                                                            ^\n horovod/common/operations.cc:959:55: error: \u2018WAIT_FOR_EVENTS\u2019 was not declared in this scope\n          WAIT_FOR_EVENTS(entries, timeline, event_queue)\n                                                        ^\n horovod/common/operations.cc:996:76: error: \u2018RECORD_EVENT\u2019 was not declared in this scope\n            RECORD_EVENT(entries, event_queue, MEMCPY_OUT_HOST_BUFFER, stream)\n                                                                             ^\n horovod/common/operations.cc:998:55: error: \u2018WAIT_FOR_EVENTS\u2019 was not declared in this scope\n          WAIT_FOR_EVENTS(entries, timeline, event_queue)\n                                                        ^\n INFO: Unable to build PyTorch plugin, will skip it.\n <denchmark-h:h1>gcc-7</denchmark-h>\n \n horovod/common/operations.cc: In function \u2018void horovod::common::{anonymous}::PerformOperation(horovod::common::{anonymous}::TensorTable&, horovod::common::MPIResponse)\u2019:\n horovod/common/operations.cc:957:11: error: \u2018RECORD_EVENT\u2019 was not declared in this scope\n            RECORD_EVENT(entries, event_queue, MEMCPY_IN_HOST_BUFFER, stream)\n            ^~~~~~~~~~~~\n horovod/common/operations.cc:957:11: note: suggested alternative: \u2018ECONNRESET\u2019\n            RECORD_EVENT(entries, event_queue, MEMCPY_IN_HOST_BUFFER, stream)\n            ^~~~~~~~~~~~\n            ECONNRESET\n horovod/common/operations.cc:959:9: error: \u2018WAIT_FOR_EVENTS\u2019 was not declared in this scope\n          WAIT_FOR_EVENTS(entries, timeline, event_queue)\n          ^~~~~~~~~~~~~~~\n horovod/common/operations.cc:959:9: note: suggested alternative: \u2018WAIT_FOR_DATA\u2019\n          WAIT_FOR_EVENTS(entries, timeline, event_queue)\n          ^~~~~~~~~~~~~~~\n          WAIT_FOR_DATA\n horovod/common/operations.cc:996:11: error: \u2018RECORD_EVENT\u2019 was not declared in this scope\n            RECORD_EVENT(entries, event_queue, MEMCPY_OUT_HOST_BUFFER, stream)\n            ^~~~~~~~~~~~\n horovod/common/operations.cc:996:11: note: suggested alternative: \u2018ECONNRESET\u2019\n            RECORD_EVENT(entries, event_queue, MEMCPY_OUT_HOST_BUFFER, stream)\n            ^~~~~~~~~~~~\n            ECONNRESET\n horovod/common/operations.cc:998:9: error: \u2018WAIT_FOR_EVENTS\u2019 was not declared in this scope\n          WAIT_FOR_EVENTS(entries, timeline, event_queue)\n          ^~~~~~~~~~~~~~~\n horovod/common/operations.cc:998:9: note: suggested alternative: \u2018WAIT_FOR_DATA\u2019\n          WAIT_FOR_EVENTS(entries, timeline, event_queue)\n          ^~~~~~~~~~~~~~~\n          WAIT_FOR_DATA\n INFO: Unable to build PyTorch plugin, will skip it.\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "Lyken17", "commentT": "2018-12-13T21:45:20Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/alsrgv>@alsrgv</denchmark-link>\n  It seems  and  are only defined when  or . The new allgather implementation seems to break this since it uses these macros without either of these. Should we remove this condition on the macro definitions?\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "Lyken17", "commentT": "2018-12-14T07:51:39Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/karakusc>@karakusc</denchmark-link>\n , yeah - let's enable it for . Could you open a PR?\n \t\t"}, "comments_2": {"comment_id": 3, "comment_author": "Lyken17", "commentT": "2018-12-14T19:39:40Z", "comment_text": "\n \t\tThanks for the quick fix!\n \t\t"}}}, "commit": {"commit_id": "9f23c9858754d9f2bc8c3a55e9ea4ba4b9cdd419", "commit_author": "Can Karakus", "commitT": "2018-12-14 11:39:01-08:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "horovod\\common\\operations.cc", "file_new_name": "horovod\\common\\operations.cc", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "230,630,631", "deleted_lines": "230,231,631,632"}}}}}}