{"BR": {"BR_id": "10428", "BR_author": "orome", "BRopenT": "2017-06-04T12:59:01Z", "BRcloseT": "2017-06-16T19:11:21Z", "BR_text": {"BRsummary": "TensorBoard graph key does not match documentation", "BRdescription": "\n The key in the TensorBoard UI indicates a \"Reference edge\" as a single-headed arrow:\n <denchmark-link:https://i.stack.imgur.com/5MhdF.png></denchmark-link>\n \n while the documentation shows these as double-headed arrows:\n <denchmark-link:https://i.stack.imgur.com/fWRZL.png></denchmark-link>\n \n Moreover, it appears that the edges indicated as references edges in the UI (according to the key there) are not in fact such edges. For example neither\n <denchmark-code>cs = tf.constant([1,2,3], name='const_share')\n vs = tf.Variable([1,2,3], name='var_share')\n tf.add(cs, vs, name='opVS1')\n tf.add(vs, cs, name='opVS2')\n </denchmark-code>\n \n <denchmark-link:https://camo.githubusercontent.com/4dd443e86357435723699846a7e12c6bf583d70bebfdc6cdd46fac63adc58654/68747470733a2f2f692e737461636b2e696d6775722e636f6d2f387a31426e2e706e67></denchmark-link>\n \n note\n <denchmark-code>tf.add([4],[3], name='opA')\n </denchmark-code>\n \n <denchmark-link:https://i.stack.imgur.com/eZHmm.png></denchmark-link>\n \n should include reference edges (should they?). But in both cases the key in the UI says that they do.\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "orome", "commentT": "2017-06-04T13:04:33Z", "comment_text": "\n \t\t<denchmark-link:https://stackoverflow.com/q/44345863/656912>Related SO question</denchmark-link>\n .\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "orome", "commentT": "2017-06-04T18:10:48Z", "comment_text": "\n \t\tBy convention, dataflow edges are directed upwards, so that is why the \"dataflow edges\" lack arrowheads - we assume the reader understands the convention.\n If we must make a dataflow edge that points downwards (or close to downwards like in your second picture) - and sometimes that is necessary, we add an arrowhead to make that clear.\n Several people (including some folks on deep mind) have told me that this is unclear. For starters, perhaps we can update the documentation to clarify the convention as well as why only some dataflow edges have arrowheads (They just flow downwards).\n \t\t"}, "comments_2": {"comment_id": 3, "comment_author": "orome", "commentT": "2017-06-04T21:50:47Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/chihuahua>@chihuahua</denchmark-link>\n  Indeed, that wasn't at all clear (I'm glad to have company at DeepMind).\n IMV it would be a lot clearer if direction of flow was always indicated, and there was something distinct for \"reference edges\" (whatever those are).\n And of course: the documentation should agree with the docs!\n \t\t"}, "comments_3": {"comment_id": 4, "comment_author": "orome", "commentT": "2017-06-05T04:28:34Z", "comment_text": "\n \t\tAssigning to <denchmark-link:https://github.com/chihuahua>@chihuahua</denchmark-link>\n  as a documentation issue.\n \t\t"}, "comments_4": {"comment_id": 5, "comment_author": "orome", "commentT": "2017-06-06T06:19:35Z", "comment_text": "\n \t\tFYI, I am moving forward with an internal code change that\n \n Makes reference edges orange (and dataflow edges the same grey as before). The final colors might differ based on input from a designer, but the bottom line is that dataflow and reference edges will contrast in color.\n Adds arrows to all dataflow edges no matter where they point.\n \n I will subsequently update tensorflow.org docs to match.\n Here is a preview. The edges from the \"save\" node are reference edges because \"assign ops\" can modify other tensor values.\n <denchmark-link:https://cloud.githubusercontent.com/assets/4221553/26816188/4324c082-4a45-11e7-9e6e-2b21b61bd5ca.png></denchmark-link>\n \n \t\t"}, "comments_5": {"comment_id": 6, "comment_author": "orome", "commentT": "2017-06-16T19:11:21Z", "comment_text": "\n \t\tI have migrated this issue to <denchmark-link:https://github.com/tensorflow/tensorboard/issues/48>tensorflow/tensorboard#48</denchmark-link>\n .\n The issue is almost fixed (It is already in the code.). The documentation code just has to be updated, so <denchmark-link:https://www.tensorflow.org/get_started/graph_viz>this tensorflow.org page</denchmark-link>\n  changes.\n \t\t"}}}, "commit": {"commit_id": "65ce8c723da2da639af0f1dd237d50d2680a4cd9", "commit_author": "A. Unique TensorFlower", "commitT": "2017-06-06 15:03:28-07:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "tensorflow\\tensorboard\\components\\tf_graph\\tf-graph-scene.html", "file_new_name": "tensorflow\\tensorboard\\components\\tf_graph\\tf-graph-scene.html", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "279,280,281,282,283,284,445,449,450,451,452,529,530,531,532,533,534,535,536,537,538,539,540,541,542,543,544,545,546,547,548,549,550,551,552,554,555,556,558,559,560,562,563,564", "deleted_lines": "439,519,520,521,522,523,525,526,527,529,530,531,533,534,535"}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "tensorflow\\tensorboard\\components\\tf_graph_common\\edge.ts", "file_new_name": "tensorflow\\tensorboard\\components\\tf_graph_common\\edge.ts", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "251,252,253,254", "deleted_lines": null, "method_info": {"method_name": "arrowheadMap", "method_params": "strokeWidth", "method_startline": "251", "method_endline": "359"}}}}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "tensorflow\\tensorboard\\components\\tf_graph_common\\scene.ts", "file_new_name": "tensorflow\\tensorboard\\components\\tf_graph_common\\scene.ts", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "45", "deleted_lines": null}}}, "file_3": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "tensorflow\\tensorboard\\components\\tf_graph_controls\\tf-graph-controls.html", "file_new_name": "tensorflow\\tensorboard\\components\\tf_graph_controls\\tf-graph-controls.html", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "348,357,367,515,533,551,569,585,601,612,613,614,617,618,619,626,637,644,654,655,656,657,658,659,660,661,662,669", "deleted_lines": "348,357,367,515,533,551,569,585,601,612,613,614,617,618,625,636,643,653,654,655,656,657,664"}}}}}}