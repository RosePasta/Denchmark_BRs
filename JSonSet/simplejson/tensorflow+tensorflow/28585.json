{"BR": {"BR_id": "28585", "BR_author": "wcq19941215", "BRopenT": "2019-05-10T07:31:28Z", "BRcloseT": "2019-05-16T16:54:35Z", "BR_text": {"BRsummary": "The package org.tensorflow.lite.nnapi  does not exist", "BRdescription": "\n Please make sure that this is a bug. As per our GitHub Policy, we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:bug_template\n System information\n \n Have I written custom code (as opposed to using a stock example script provided in TensorFlow):\n OS Platform and Distribution\uff1aUbuntu 16.04:\n Mobile device\uff1aPixel 2\n TensorFlow installed from\uff1asource\n TensorFlow version:1.13.1\n Python version:3.6\n Bazel version :0.24.1\n \n \n when i run the demo which in <denchmark-link:https://github.com/tensorflow/tensorflow/tree/master/tensorflow/lite/java/demo>https://github.com/tensorflow/tensorflow/tree/master/tensorflow/lite/java/demo</denchmark-link>\n \n so ,I found the bug,don't have  org.tensorflow.lite.nnapi\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "wcq19941215", "commentT": "2019-05-10T07:33:26Z", "comment_text": "\n \t\tExcuse me, how long will this nnapi package be completed in org.tensorflow:tensorflow-lite:0.0.0-nightly?\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "wcq19941215", "commentT": "2019-05-13T09:30:40Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/wcq19941215>@wcq19941215</denchmark-link>\n  Could you provide more details about the bug and context? Also, it would be great if you can provide any commands you followed. Please provide as many details as possible to resolve the issue faster. Thanks!\n \t\t"}, "comments_2": {"comment_id": 3, "comment_author": "wcq19941215", "commentT": "2019-05-13T09:50:14Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/gadagashwini>@gadagashwini</denchmark-link>\n  .The detail about bug in <denchmark-link:https://github.com/tensorflow/tensorflow/tree/master/tensorflow/lite/java/demo/app/src/main/java/com/example/android/tflitecamerademo/ImageClassifier.java>https://github.com/tensorflow/tensorflow/tree/master/tensorflow/lite/java/demo/app/src/main/java/com/example/android/tflitecamerademo/ImageClassifier.java</denchmark-link>\n \n and the code is:\n import org.tensorflow.lite.nnapi.NnApiDelegate;\n but I can't find the pack in org.tensorflow:tensorflow-lite-gpu:0.0.0-nightly or org.tensorflow:tensorflow-lite:0.1.2-nightly\n so ,i used bazel ,want to get a new tensorflowlite aar , of course ,i can get a org.tensorflow.lite.nnapi.NnApiDelegate but it don't work\n the bazel command i used is:\n bazel build --cxxopt='--std=c++11' -c opt             \n --config=android_arm --config=monolithic          \n //tensorflow/lite/java:tensorflow-lite-with-select-tf-ops\n Thanks for your help.^v^\n \t\t"}, "comments_3": {"comment_id": 4, "comment_author": "wcq19941215", "commentT": "2019-05-15T08:37:49Z", "comment_text": "\n \t\tFacing same issue in the tflite demo app (tflite-gpu-nightly)...\n \t\t"}, "comments_4": {"comment_id": 5, "comment_author": "wcq19941215", "commentT": "2019-05-16T08:14:55Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/anilsathyan7>@anilsathyan7</denchmark-link>\n  Have you solved this problem?\n \t\t"}, "comments_5": {"comment_id": 6, "comment_author": "wcq19941215", "commentT": "2019-05-16T15:45:13Z", "comment_text": "\n \t\tThanks for flagging the issue, this is an issue with how sources are aggregated in the aar that gets uploaded. We'll have it fixed in the night TFLite nightly (org.tensorflow:tensorflow-lite:0.0.0-nightly).\n \t\t"}, "comments_6": {"comment_id": 7, "comment_author": "wcq19941215", "commentT": "2019-05-16T16:54:36Z", "comment_text": "\n \t\tAre you satisfied with the resolution of your issue?\n <denchmark-link:https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=Yes&entry.2137816233=28585>Yes</denchmark-link>\n \n <denchmark-link:https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=No&entry.2137816233=28585>No</denchmark-link>\n \n \t\t"}, "comments_7": {"comment_id": 8, "comment_author": "wcq19941215", "commentT": "2019-05-17T00:23:24Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/jdduke>@jdduke</denchmark-link>\n  That \u2018means you will add org.tensorflow.lite.nnapi to  org.tensorflow:tensorflow-lite:0.0.0-nightly no long?Thanks for your help\n \t\t"}, "comments_8": {"comment_id": 9, "comment_author": "wcq19941215", "commentT": "2019-06-11T07:43:55Z", "comment_text": "\n \t\tFacing same issue in the tflite demo app (tflite-gpu-nightly)...\n error: org.tensorflow.lite.nnapi does not exist\n \u9519\u8bef: \u7a0b\u5e8f\u5305org.tensorflow.lite.nnapi\u4e0d\u5b58\u5728\n \t\t"}, "comments_9": {"comment_id": 10, "comment_author": "wcq19941215", "commentT": "2019-06-11T07:55:25Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/chenjiaoAngel>@chenjiaoAngel</denchmark-link>\n  You can try to compile a local AAR yourself. I tried it and successfully compiled lite.nnapi aar , but it can't work. It should be caused by conflict with other packages.\n \t\t"}, "comments_10": {"comment_id": 11, "comment_author": "wcq19941215", "commentT": "2019-06-11T08:07:54Z", "comment_text": "\n \t\tHi, thank you!\n SO the final solution is ? And how to build the local AAR ?\n Best wishes,\n Jiao\n --------------------------\n Tel: +8618101358192\n Email: chenjiao04@baidu.com<mailto:chenjiao04@baidu.com>\n BaiduHi: AngelCJ\n --------------------------\n Baidu\n \n SYS\n \n \n \n \u53d1\u4ef6\u4eba: wcq19941215 <notifications@github.com>\n \u7b54\u590d: tensorflow/tensorflow <reply@reply.github.com>\n \u65e5\u671f: 2019\u5e746\u670811\u65e5 \u661f\u671f\u4e8c \u4e0b\u53484:03\n \u6536\u4ef6\u4eba: tensorflow/tensorflow <tensorflow@noreply.github.com>\n \u6284\u9001: \"Chen,Jiao(SYS)\" <chenjiao04@baidu.com>, Mention <mention@noreply.github.com>\n \u4e3b\u9898: Re: [tensorflow/tensorflow] The package org.tensorflow.lite.nnapi does not exist (<denchmark-link:https://github.com/tensorflow/tensorflow/issues/28585>#28585</denchmark-link>\n )\n \n \n <denchmark-link:https://github.com/chenjiaoAngel>@chenjiaoAngel</denchmark-link>\n <<denchmark-link:https://github.com/chenjiaoAngel>https://github.com/chenjiaoAngel</denchmark-link>\n > You can try to compile a local AAR yourself. I tried it and successfully compiled lite.nnapi aar , but it can't work. It should be caused by conflict with other packages.\n \n \u2014\n You are receiving this because you were mentioned.\n Reply to this email directly, view it on GitHub<<denchmark-link:https://github.com/tensorflow/tensorflow/issues/28585>#28585</denchmark-link>\n ?email_source=notifications&email_token=AJG4D2HRB4EY6JORJ72JBVTPZ5L5DA5CNFSM4HMASMUKYY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGODXMIUGY#issuecomment-500730395>, or mute the thread<<denchmark-link:https://github.com/notifications/unsubscribe-auth/AJG4D2H3CL37SPBDGIIL22LPZ5L5DANCNFSM4HMASMUA>https://github.com/notifications/unsubscribe-auth/AJG4D2H3CL37SPBDGIIL22LPZ5L5DANCNFSM4HMASMUA</denchmark-link>\n >.\n \t\t"}, "comments_11": {"comment_id": 12, "comment_author": "wcq19941215", "commentT": "2019-06-11T08:23:53Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/chenjiaoAngel>@chenjiaoAngel</denchmark-link>\n  if you want to compile a local AAR ,you will use bazel.Finally, I did not solve this problem because there are other things that have been delayed.But I think that the latest aar package should have solved this problem, just need to update it in the AS.\n \t\t"}, "comments_12": {"comment_id": 13, "comment_author": "wcq19941215", "commentT": "2019-06-11T15:15:14Z", "comment_text": "\n \t\tThe NNAPI delegate is in the latest TFLite nightly @ org.tensorflow:tensorflow-lite:0.0.0-nightly. The GPU delegate is in a separate .aar, and should be used  the core TFLite nightly. Add org.tensorflow:tensorflow-lite-gpu:0.0.0-nightly to your dependencies. Note that you might need to <denchmark-link:https://stackoverflow.com/questions/23025433/how-to-clear-gradle-cache>clear your gradle cache</denchmark-link>\n  for the new class to be visible.\n \t\t"}, "comments_13": {"comment_id": 14, "comment_author": "wcq19941215", "commentT": "2019-06-12T00:45:47Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/jdduke>@jdduke</denchmark-link>\n  Thanks,It can work\n \t\t"}, "comments_14": {"comment_id": 15, "comment_author": "wcq19941215", "commentT": "2019-06-12T00:51:14Z", "comment_text": "\n \t\tSince gradle automatically caches a copy of it while downloading it, gradle actually reloads the local cache when clean project\n .SO the final solution is delete the \".gradle/caches/\" ,and rebuild project.\n On Windows: %USER_HOME%.gradle/caches/\n On Mac/Unix: $HOME/.gradle/caches/\n \t\t"}}}, "commit": {"commit_id": "f0836d2a3bdc83b9487d703f30669723bd2662fb", "commit_author": "Jared Duke", "commitT": "2019-05-16 09:51:47-07:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "tensorflow\\lite\\delegates\\nnapi\\java\\src\\main\\java\\org\\tensorflow\\lite\\nnapi\\NnApiDelegate.java", "file_new_name": "tensorflow\\lite\\delegates\\nnapi\\java\\src\\main\\java\\org\\tensorflow\\lite\\nnapi\\NnApiDelegate.java", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": null, "deleted_lines": "19"}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "tensorflow\\lite\\java\\BUILD", "file_new_name": "tensorflow\\lite\\java\\BUILD", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "16", "deleted_lines": "16,17,18,19,20,21"}}}}}}