{"BR": {"BR_id": "6602", "BR_author": "albertz", "BRopenT": "2017-01-02T16:04:51Z", "BRcloseT": "2018-01-05T22:02:48Z", "BR_text": {"BRsummary": "fatal error: tensorflow/stream_executor/lib/status.h: No such file or directory", "BRdescription": "\n I try to write my own op and I have installed TensorFlow 0.12.0 with GPU support on Linux.\n This code fails:\n <denchmark-code>#include \"tensorflow/core/platform/stream_executor.h\"\n </denchmark-code>\n \n With error:\n <denchmark-code>fatal error: tensorflow/stream_executor/lib/status.h: No such file or directory\n </denchmark-code>\n \n That files does not exists.\n Some more include files seem to be missing. When grepping for DeviceMemory in the include path, the only file it finds is include/tensorflow/core/util/stream_executor_util.h.\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "albertz", "commentT": "2017-01-04T03:21:09Z", "comment_text": "\n \t\tAFAIK when adding new ops, you need to install from sources:\n <denchmark-link:https://www.tensorflow.org/how_tos/adding_an_op/>https://www.tensorflow.org/how_tos/adding_an_op/</denchmark-link>\n \n From your description, I think you maybe installed the pip package?\n When I look at our repo, both master and r0.12 branch has the file:\n <denchmark-link:https://github.com/tensorflow/tensorflow/blob/r0.12/tensorflow/core/platform/stream_executor.h>https://github.com/tensorflow/tensorflow/blob/r0.12/tensorflow/core/platform/stream_executor.h</denchmark-link>\n \n <denchmark-link:https://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/platform/stream_executor.h>https://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/platform/stream_executor.h</denchmark-link>\n \n So I am not sure what you installed, or what the reason might be.\n Please try installing from sources and if the problem persists, include more debugging information, detailing each step you took to reproduce the problem.\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "albertz", "commentT": "2017-01-04T03:43:39Z", "comment_text": "\n \t\tIt's possible our stream executor headers are not packaged in pip. I can take a look tomorrow\n \t\t"}, "comments_2": {"comment_id": 3, "comment_author": "albertz", "commentT": "2017-01-04T21:08:28Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/tensorflow/tensorflow/blob/master/tensorflow/tools/pip_package/setup.py#L159>https://github.com/tensorflow/tensorflow/blob/master/tensorflow/tools/pip_package/setup.py#L159</denchmark-link>\n  it looks like we're missing tensorflow/stream_executor there\n I'm not sure if we're missing anything else, unfortunately, but I can add that change.\n \t\t"}, "comments_3": {"comment_id": 4, "comment_author": "albertz", "commentT": "2017-07-11T09:45:23Z", "comment_text": "\n \t\tThis is not complete yet. When I try to include stream_executor.h:\n <denchmark-code>#include \"tensorflow/core/platform/stream_executor.h\"\n </denchmark-code>\n \n I get:\n /u/zeyer/.local/lib/python2.7/site-packages/tensorflow/include/tensorflow/stream_executor/dso_loader.h:32:30: fatal error: cuda/cuda_config.h: No such file or directory\n \t\t"}, "comments_4": {"comment_id": 5, "comment_author": "albertz", "commentT": "2017-08-11T22:16:45Z", "comment_text": "\n \t\tI get the same error with stream_executor.h, when compiling a custom op with nvcc and 1.3.0 binaries:\n <denchmark-code>In file included from /usr/local/lib/python3.5/dist-packages/tensorflow/include/tensorflow/core/platform/default/stream_executor.h:26:0,\n                  from /usr/local/lib/python3.5/dist-packages/tensorflow/include/tensorflow/core/platform/stream_executor.h:24,\n                  from /usr/local/lib/python3.5/dist-packages/tensorflow/include/tensorflow/core/util/cuda_kernel_helper.h:26,\n                  from roi_align_gpu.cu.cc:8:\n /usr/local/lib/python3.5/dist-packages/tensorflow/include/tensorflow/stream_executor/dso_loader.h:32:30: fatal error: cuda/cuda_config.h: No such file or directory\n </denchmark-code>\n \n \t\t"}, "comments_5": {"comment_id": 6, "comment_author": "albertz", "commentT": "2017-09-06T23:54:41Z", "comment_text": "\n \t\tSame problem here with 1.3.0 compiled from source when I try to compile a custom op. Does anyone have a workaround?\n \t\t"}, "comments_6": {"comment_id": 7, "comment_author": "albertz", "commentT": "2017-09-14T00:36:54Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/pronobis>@pronobis</denchmark-link>\n  it seems like you're suggesting a workaround yourself in <denchmark-link:https://github.com/tensorflow/tensorflow/issues/12860>#12860</denchmark-link>\n :\n Copying cuda_config.h to /site-packages/tensorflow/include/tensorflow/stream_executor/cuda solves the problem.\n Are you asking for something else?\n \t\t"}, "comments_7": {"comment_id": 8, "comment_author": "albertz", "commentT": "2017-09-18T00:45:14Z", "comment_text": "\n \t\tI suppose <denchmark-link:https://github.com/tensorflow/tensorflow/issues/12860>#12860</denchmark-link>\n  is there now to track this problem. Generally, I'm looking for a better permanent solution, but again, that's what <denchmark-link:https://github.com/tensorflow/tensorflow/issues/12860>#12860</denchmark-link>\n  is for.\n \t\t"}, "comments_8": {"comment_id": 9, "comment_author": "albertz", "commentT": "2017-11-07T10:06:35Z", "comment_text": "\n \t\tI wonder what the state is here? Wouldn't it be possible to just add cuda_config.h to the pip package? Wouldn't that solve the problem?\n \t\t"}, "comments_9": {"comment_id": 10, "comment_author": "albertz", "commentT": "2017-12-20T19:25:28Z", "comment_text": "\n \t\tIt has been 14 days with no activity and this issue has an assignee.Please update the label and/or status accordingly.\n \t\t"}, "comments_10": {"comment_id": 11, "comment_author": "albertz", "commentT": "2017-12-20T23:44:18Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/av8ramit>@av8ramit</denchmark-link>\n  could you check if we have all the dependencies of stream_executor.h as a part of the pip package, except for cuda headers?\n \t\t"}, "comments_11": {"comment_id": 12, "comment_author": "albertz", "commentT": "2017-12-21T21:29:20Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/gunan>@gunan</denchmark-link>\n , the dependencies are in the pip package\n \t\t"}, "comments_12": {"comment_id": 13, "comment_author": "albertz", "commentT": "2018-01-05T19:10:18Z", "comment_text": "\n \t\tNagging Assigneee: It has been 14 days with no activity and this issue has an assignee. Please update the label and/or status accordingly.\n \t\t"}, "comments_13": {"comment_id": 14, "comment_author": "albertz", "commentT": "2018-01-05T21:34:31Z", "comment_text": "\n \t\tAll the dependencies are in the pip package.\n \t\t"}, "comments_14": {"comment_id": 15, "comment_author": "albertz", "commentT": "2018-01-05T22:02:48Z", "comment_text": "\n \t\tFolding all the duplicates into <denchmark-link:https://github.com/tensorflow/tensorflow/issues/15002>#15002</denchmark-link>\n \n \t\t"}}}, "commit": {"commit_id": "02d2385b8c33e89b53e49bc89e646b54de920bad", "commit_author": "Vijay Vasudevan", "commitT": "2017-01-04 15:28:42-08:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "tensorflow\\tools\\pip_package\\setup.py", "file_new_name": "tensorflow\\tools\\pip_package\\setup.py", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "160", "deleted_lines": null}}}}}}