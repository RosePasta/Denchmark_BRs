{"BR": {"BR_id": "16152", "BR_author": "frexvahi", "BRopenT": "2018-01-16T09:41:53Z", "BRcloseT": "2019-01-17T01:01:57Z", "BR_text": {"BRsummary": "DeprecationWarning from `inspect.getargspec()`", "BRdescription": "\n  is deprecated in Python 3\n <denchmark-link:https://docs.python.org/3/library/inspect.html#inspect.getargspec>https://docs.python.org/3/library/inspect.html#inspect.getargspec</denchmark-link>\n \n I solved the problem in keras like this:\n <denchmark-link:https://github.com/keras-team/keras/pull/7035>keras-team/keras#7035</denchmark-link>\n \n <denchmark-h:h3>System information</denchmark-h>\n \n \n Using tensorflow as a keras backend (keras 2.1.2)\n Linux Ubuntu 16.04\n installed from conda\n version 1.3.0\n python 3.6.4\n \n <denchmark-h:h3>Describe the problem</denchmark-h>\n \n We recently switched from theano to tensorflow and this warning message is filling up my test output.\n <denchmark-h:h3>Source code / logs</denchmark-h>\n \n <denchmark-code>/home/<name>/.conda/envs/<env>/lib/python3.6/site-packages/tensorflow/python/util/tf_inspect.py:45: DeprecationWarning:\n   \n   inspect.getargspec() is deprecated, use inspect.signature() or inspect.getfullargspec()\n </denchmark-code>\n \n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "frexvahi", "commentT": "2018-01-16T18:08:01Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/martinwicke>@martinwicke</denchmark-link>\n , FYI\n <denchmark-link:https://github.com/frexvahi>@frexvahi</denchmark-link>\n , thanks for reporting this. Would you be willing to submit a PR to fix this, since you already didd this in Keras?\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "frexvahi", "commentT": "2018-01-17T08:33:42Z", "comment_text": "\n \t\tI could submit a PR, but getting someone to sign the corporate CLA would be harder.\n \t\t"}, "comments_2": {"comment_id": 3, "comment_author": "frexvahi", "commentT": "2018-01-23T23:03:23Z", "comment_text": "\n \t\tThe original poster has replied to this issue after the stat:awaiting response label was applied.\n \t\t"}, "comments_3": {"comment_id": 4, "comment_author": "frexvahi", "commentT": "2018-02-15T01:18:36Z", "comment_text": "\n \t\tI fixed it on my end. I will try to submit a pull request today or tomorrow with the fix.\n \t\t"}, "comments_4": {"comment_id": 5, "comment_author": "frexvahi", "commentT": "2018-02-15T03:20:32Z", "comment_text": "\n \t\tJust a quick update: I submitted a pull request that should fix the issue.\n \t\t"}, "comments_5": {"comment_id": 6, "comment_author": "frexvahi", "commentT": "2018-02-21T20:58:16Z", "comment_text": "\n \t\tCan you say \"Fixes <denchmark-link:https://github.com/tensorflow/tensorflow/issues/16152>#16152</denchmark-link>\n \" in the description for your PR? That way this issue will be closed when your PR is submitted.\n \t\t"}, "comments_6": {"comment_id": 7, "comment_author": "frexvahi", "commentT": "2018-03-28T18:55:29Z", "comment_text": "\n \t\tA quick update. I believe the issue has been fixed in r1.7 since ever since I started using it I haven't had any of the warnings.\n \t\t"}, "comments_7": {"comment_id": 8, "comment_author": "frexvahi", "commentT": "2018-04-01T05:33:34Z", "comment_text": "\n \t\tThanks!\n \t\t"}, "comments_8": {"comment_id": 9, "comment_author": "frexvahi", "commentT": "2018-04-27T08:48:43Z", "comment_text": "\n \t\tI'm still hitting this, Tensorflow 1.7.0 and 1.8.0-rc1. Python 3.6.5. Afraid I don't have an easy reproducer to hand, will update if I get one.\n \t\t"}, "comments_9": {"comment_id": 10, "comment_author": "frexvahi", "commentT": "2018-04-27T09:56:26Z", "comment_text": "\n \t\tReproducer below tested on 1.8.0-rc1. Was hard to make a reproducer because the warning did not show up unless I had warnings.filterwarnings('error'), which I use to make it easier to find the sources of warnings.\n import tensorflow as tf\n \n import warnings\n warnings.filterwarnings('error')\n \n tf.reduce_sum(tf.placeholder(tf.float64))\n Full stack trace below.\n \n ---------------------------------------------------------------------------\n DeprecationWarning                        Traceback (most recent call last)\n <ipython-input-1-1de048b23827> in <module>()\n       4 warnings.filterwarnings('error')\n       5 \n ----> 6 tf.reduce_sum(tf.placeholder(tf.float64))\n \n ~/Library/Python/3.6/lib/python/site-packages/tensorflow/python/util/deprecation.py in new_func(*args, **kwargs)\n     403       if is_in_graph_mode.IS_IN_GRAPH_MODE() and _PRINT_DEPRECATION_WARNINGS:\n     404         invalid_args = []\n --> 405         named_args = tf_inspect.getcallargs(func, *args, **kwargs)\n     406         for arg_name, spec in iter(deprecated_positions.items()):\n     407           if (spec.position < len(args) and\n \n ~/Library/Python/3.6/lib/python/site-packages/tensorflow/python/util/tf_inspect.py in getcallargs(func, *positional, **named)\n     107   argspec will be used.\n     108   \"\"\"\n --> 109   argspec = getargspec(func)\n     110   call_args = named.copy()\n     111   this = getattr(func, 'im_self', None) or getattr(func, '__self__', None)\n \n ~/Library/Python/3.6/lib/python/site-packages/tensorflow/python/util/tf_inspect.py in getargspec(object)\n      53   decorators, target = tf_decorator.unwrap(object)\n      54   return next((d.decorator_argspec for d in decorators\n ---> 55                if d.decorator_argspec is not None), _inspect.getargspec(target))\n      56 \n      57 \n \n /usr/local/Cellar/python/3.6.5/Frameworks/Python.framework/Versions/3.6/lib/python3.6/inspect.py in getargspec(func)\n    1069     warnings.warn(\"inspect.getargspec() is deprecated, \"\n    1070                   \"use inspect.signature() or inspect.getfullargspec()\",\n -> 1071                   DeprecationWarning, stacklevel=2)\n    1072     args, varargs, varkw, defaults, kwonlyargs, kwonlydefaults, ann = \\\n    1073         getfullargspec(func)\n \n DeprecationWarning: inspect.getargspec() is deprecated, use inspect.signature() or inspect.getfullargspec()\n \n \t\t"}, "comments_10": {"comment_id": 11, "comment_author": "frexvahi", "commentT": "2018-05-05T13:13:42Z", "comment_text": "\n \t\tTensorflow 1.9.0-dev20180427\n <denchmark-code>import tensorflow as tf\n miniconda3/envs/kaggle/lib/python3.5/site-packages/h5py/__init__.py:36: FutureWarning: Conversion of the second argument of issubdtype from `float` to `np.floating` is deprecated. In future, it will be treated as `np.float64 == np.dtype(float).type`.\n   from ._conv import register_converters as _register_converters\n </denchmark-code>\n \n \t\t"}, "comments_11": {"comment_id": 12, "comment_author": "frexvahi", "commentT": "2018-05-10T14:33:11Z", "comment_text": "\n \t\tAdded PR <denchmark-link:https://github.com/tensorflow/tensorflow/pull/19199>#19199</denchmark-link>\n  as an attempt for the fix.\n \t\t"}, "comments_12": {"comment_id": 13, "comment_author": "frexvahi", "commentT": "2018-09-25T10:55:25Z", "comment_text": "\n \t\tI am still hitting this warning with the following versions:\n \n 1.8.0\n 1.9.0\n 1.10.0\n 1.10.1\n 1.11.0-rc2\n \n \t\t"}, "comments_13": {"comment_id": 14, "comment_author": "frexvahi", "commentT": "2018-09-27T08:53:38Z", "comment_text": "\n \t\tHad so many of these on 1.8 that i could not longer see my test output. Updated to 1.10 and now i only have a few dozen of these warnings left.\n \t\t"}, "comments_14": {"comment_id": 15, "comment_author": "frexvahi", "commentT": "2018-09-27T13:18:08Z", "comment_text": "\n \t\tYeah, still seeing this in 1.11.0-rc0:\n <denchmark-code>/Users/josh/anaconda3/lib/python3.6/site-packages/tensorflow/python/util/tf_inspect.py:75: DeprecationWarning: inspect.getargspec() is deprecated, use inspect.signature() or inspect.getfullargspec()\n   return _inspect.getargspec(target)\n /Users/josh/anaconda3/lib/python3.6/site-packages/tensorflow/python/util/tf_inspect.py:75: DeprecationWarning: inspect.getargspec() is deprecated, use inspect.signature() or inspect.getfullargspec()\n   return _inspect.getargspec(target)\n ...\n </denchmark-code>\n \n Can we reopen?\n \t\t"}, "comments_15": {"comment_id": 16, "comment_author": "frexvahi", "commentT": "2018-10-11T08:29:33Z", "comment_text": "\n \t\tany updates?\n \t\t"}, "comments_16": {"comment_id": 17, "comment_author": "frexvahi", "commentT": "2018-10-11T15:21:14Z", "comment_text": "\n \t\tI think the issue has been resolved in <denchmark-link:https://github.com/tensorflow/tensorflow/pull/22517>#22517</denchmark-link>\n  now.\n \t\t"}, "comments_17": {"comment_id": 18, "comment_author": "frexvahi", "commentT": "2018-10-18T22:45:01Z", "comment_text": "\n \t\tStill getting this issue with 1.11.0 and Python 3.6\n \t\t"}, "comments_18": {"comment_id": 19, "comment_author": "frexvahi", "commentT": "2018-10-19T08:08:21Z", "comment_text": "\n \t\tme too.\n \t\t"}, "comments_19": {"comment_id": 20, "comment_author": "frexvahi", "commentT": "2018-11-13T20:54:21Z", "comment_text": "\n \t\tme too\n \t\t"}, "comments_20": {"comment_id": 21, "comment_author": "frexvahi", "commentT": "2018-11-17T01:34:41Z", "comment_text": "\n \t\tI see it in 1.12 too on Python 3.6\n \t\t"}, "comments_21": {"comment_id": 22, "comment_author": "frexvahi", "commentT": "2018-11-23T01:15:48Z", "comment_text": "\n \t\t\n I see it in 1.12 too on Python 3.6\n \n the same to you\n \t\t"}, "comments_22": {"comment_id": 23, "comment_author": "frexvahi", "commentT": "2019-01-17T00:55:34Z", "comment_text": "\n \t\tResolved in <denchmark-link:https://github.com/tensorflow/tensorflow/pull/22517>#22517</denchmark-link>\n , so I believe it will appear in the next release (TF 1.13 or 2.0).\n \t\t"}}}, "commit": {"commit_id": "1744b8c0519cec31764d205b813bd4fd6028cbf9", "commit_author": "Yong Tang", "commitT": "2018-05-10 09:07:44-07:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "tensorflow\\python\\util\\tf_inspect.py", "file_new_name": "tensorflow\\python\\util\\tf_inspect.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "119", "deleted_lines": "119", "method_info": {"method_name": "getcallargs", "method_params": "func,positional,named", "method_startline": "103", "method_endline": "131"}}}}}}}