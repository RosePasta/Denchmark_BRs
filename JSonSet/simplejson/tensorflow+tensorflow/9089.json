{"BR": {"BR_id": "9089", "BR_author": "yaroslavvb", "BRopenT": "2017-04-09T19:07:13Z", "BRcloseT": "2017-04-11T20:26:50Z", "BR_text": {"BRsummary": "cpp protobuf instructions out-of-date for MacOS", "BRdescription": "\n Instructions to upgrade to cpp protobuf implementation on Mac from <denchmark-link:https://www.tensorflow.org/install/install_mac#protobuf_pip_package_31>https://www.tensorflow.org/install/install_mac#protobuf_pip_package_31</denchmark-link>\n  don't work work, makes TF fails with following stacktrace\n <denchmark-code>Traceback (most recent call last):\n   File \"kronecker_benchmark.py\", line 3, in <module>\n     import tensorflow as tf\n   File \"/Users/yaroslav/anaconda/envs/mar1/lib/python3.5/site-packages/tensorflow/__init__.py\", line 24, in <module>\n     from tensorflow.python import *\n   File \"/Users/yaroslav/anaconda/envs/mar1/lib/python3.5/site-packages/tensorflow/python/__init__.py\", line 54, in <module>\n     from tensorflow.core.framework.graph_pb2 import *\n   File \"/Users/yaroslav/anaconda/envs/mar1/lib/python3.5/site-packages/tensorflow/core/framework/graph_pb2.py\", line 6, in <module>\n     from google.protobuf import descriptor as _descriptor\n   File \"/Users/yaroslav/anaconda/envs/mar1/lib/python3.5/site-packages/google/protobuf/descriptor.py\", line 46, in <module>\n     from google.protobuf.pyext import _message\n ImportError: dlopen(/Users/yaroslav/anaconda/envs/mar1/lib/python3.5/site-packages/google/protobuf/pyext/_message.cpython-35m-darwin.so, 2): Library not loaded: /usr/local/lib/libprotobuf.10.dylib\n   Referenced from: /Users/yaroslav/anaconda/envs/mar1/lib/python3.5/site-packages/google/protobuf/pyext/_message.cpython-35m-darwin.so\n   Reason: image not found\n \n </denchmark-code>\n \n Work-around is to use older link:\n pip install --upgrade <denchmark-link:https://storage.googleapis.com/tensorflow/mac/cpu/protobuf-3.1.0-cp35-none-macosx_10_11_x86_64.whl>https://storage.googleapis.com/tensorflow/mac/cpu/protobuf-3.1.0-cp35-none-macosx_10_11_x86_64.whl</denchmark-link>\n \n Check that it works\n python -c \"from google.protobuf.internal import api_implementation; print(api_implementation._default_implementation_type)\" \n MacOS: 10.12.4 (16E195), TensorFlow, latest nightly from today installed as:\n pip install --upgrade https://ci.tensorflow.org/view/Nightly/job/nightly-matrix-cpu/TF_BUILD_IS_OPT=OPT,TF_BUILD_IS_PIP=PIP,TF_BUILD_PYTHON_VERSION=PYTHON3,label=mac-slave/lastSuccessfulBuild/artifact/pip_test/whl/tensorflow-1.1.0rc1-py3-none-any.whl \n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "yaroslavvb", "commentT": "2017-04-10T18:10:08Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/jhseu>@jhseu</denchmark-link>\n  : Any suggestions for the appropriate update here?\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "yaroslavvb", "commentT": "2017-04-10T19:29:04Z", "comment_text": "\n \t\tSent a fix for the links in the docs (internally, should be reflected soon).\n Also filing a request with the protobuf team to upload optimized mac builds to pypi.\n \t\t"}}}, "commit": {"commit_id": "3dc4907a0d7ae113547fcf716f618e3c8e1b9c77", "commit_author": "Jonathan Hseu", "commitT": "2017-04-10 14:34:44-07:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "tensorflow\\docs_src\\install\\install_mac.md", "file_new_name": "tensorflow\\docs_src\\install\\install_mac.md", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "662,667", "deleted_lines": "662,667"}}}}}}