{"BR": {"BR_id": "207", "BR_author": "fujibo", "BRopenT": "2019-03-01T15:06:41Z", "BRcloseT": "2019-03-02T12:09:06Z", "BR_text": {"BRsummary": "The output shape of `smallest_max_size` is smaller than the speficified size", "BRdescription": "\n <denchmark-h:h2>\ud83d\udc1b Bug</denchmark-h>\n \n The output shape of smallest_max_size is smaller than the speficified size.\n <denchmark-h:h2>To Reproduce</denchmark-h>\n \n <denchmark-code>from albumentations.augmentations import functional as F\n import cv2\n import numpy as np\n \n img = np.empty((330, 49), dtype=np.uint8)\n out = F.smallest_max_size(img, 256, interpolation=cv2.INTER_LINEAR)\n print(out.shape) # (1724, 255)\n </denchmark-code>\n \n <denchmark-h:h2>Expected behavior</denchmark-h>\n \n The output shape should be (1724, 256).\n <denchmark-h:h2>Environment</denchmark-h>\n \n \n Albumentations version: 0.1.12:\n Python version: 3.7.2:\n OS: Linux\n How you installed albumentations (conda, pip, source): pip\n \n <denchmark-h:h2>Additional context</denchmark-h>\n \n This problem happens because , not equal to .\n <denchmark-link:https://github.com/albu/albumentations/blob/master/albumentations/augmentations/functional.py#L357>https://github.com/albu/albumentations/blob/master/albumentations/augmentations/functional.py#L357</denchmark-link>\n \n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "fujibo", "commentT": "2019-03-02T12:09:06Z", "comment_text": "\n \t\tFixed in <denchmark-link:https://github.com/albumentations-team/albumentations/pull/209>#209</denchmark-link>\n \n \t\t"}}}, "commit": {"commit_id": "da32aeadfd62d87960494917003b6797d956bb2a", "commit_author": "Vladimir Iglovikov", "commitT": "2019-03-02 04:02:32-08:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "albumentations\\augmentations\\functional.py", "file_new_name": "albumentations\\augmentations\\functional.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "357", "deleted_lines": "357", "method_info": {"method_name": "_func_max_size", "method_params": "img,max_size,interpolation,func", "method_startline": "351", "method_endline": "359"}}, "hunk_1": {"Ismethod": 1, "added_lines": "874,875,876,877,878,879", "deleted_lines": null, "method_info": {"method_name": "py3round", "method_params": "number", "method_startline": "874", "method_endline": "879"}}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "tests\\test_functional.py", "file_new_name": "tests\\test_functional.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "799,800,801,802,803,804,805", "deleted_lines": null, "method_info": {"method_name": "test_fun_max_size", "method_params": "", "method_startline": "799", "method_endline": "805"}}}}}}}