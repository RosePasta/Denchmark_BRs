{"BR": {"BR_id": "157", "BR_author": "eqs", "BRopenT": "2019-08-21T04:32:22Z", "BRcloseT": "2019-08-21T14:22:59Z", "BR_text": {"BRsummary": "Recursive device conversion of tuple", "BRdescription": "\n This bug report related to <denchmark-link:https://github.com/PyTorchLightning/pytorch-lightning/issues/116>#116</denchmark-link>\n  and <denchmark-link:https://github.com/PyTorchLightning/pytorch-lightning/issues/154>#154</denchmark-link>\n .\n Describe the bug\n When passing a batch such as:\n batch = ([tensor, tensor], [{'a': tensor, 'b': tensor}, {'a': tensor, 'b': tensor}])\n transfer_batch_to_gpu raises the error: TypeError: 'tuple' object does not support item assignment.\n I found that above error caused by concatenation of two conditions: isinstance(batch, list) or isinstance(batch, tuple).\n <denchmark-link:https://github.com/williamFalcon/pytorch-lightning/blob/55a804b7cfb9b2376ccaa1253a966dcaa9b6ab07/pytorch_lightning/models/trainer.py#L925-L928>https://github.com/williamFalcon/pytorch-lightning/blob/55a804b7cfb9b2376ccaa1253a966dcaa9b6ab07/pytorch_lightning/models/trainer.py#L925-L928</denchmark-link>\n \n Expected behavior\n A batch\n batch = ([tensor, tensor], [{'a': tensor, 'b': tensor}, {'a': tensor, 'b': tensor}])\n should be\n batch = ([cuda_tensor, cuda_tensor], [{'a': cuda_tensor, 'b': cuda_tensor}, {'a': cuda_tensor, 'b': cuda_tensor}])\n Additional context\n I already fixed the bug and will submit PR soon.\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "eqs", "commentT": "2019-08-21T10:23:14Z", "comment_text": "\n \t\tawesome! good catch\n \t\t"}}}, "commit": {"commit_id": "4a0b56755c7239e6a85b32a3d3e97cf7f9e39044", "commit_author": "eqs", "commitT": "2019-08-21 10:22:51-04:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "pytorch_lightning\\models\\trainer.py", "file_new_name": "pytorch_lightning\\models\\trainer.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "924,925,930,931,932,933,934,935,936", "deleted_lines": "924,925", "method_info": {"method_name": "transfer_batch_to_gpu", "method_params": "self,batch,gpu_id", "method_startline": "919", "method_endline": "945"}}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "tests\\test_models.py", "file_new_name": "tests\\test_models.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "95,96,97,98,99,100,101,102,103,104,105", "deleted_lines": null, "method_info": {"method_name": "test_single_gpu_batch_parse", "method_params": "", "method_startline": "60", "method_endline": "105"}}}}}}}