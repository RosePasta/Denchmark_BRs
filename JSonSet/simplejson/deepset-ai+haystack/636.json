{"BR": {"BR_id": "636", "BR_author": "Ryuodan", "BRopenT": "2020-11-29T06:57:16Z", "BRcloseT": "2020-12-17T08:18:58Z", "BR_text": {"BRsummary": "Embedding on question is not working on InMemoryDocumentStore()", "BRdescription": "\n Question\n Embedding on question is not working on InMemoryDocumentStore() ?\n \n I followed the tutorial of FAQ <denchmark-link:https://haystack.deepset.ai/docs/latest/tutorial4md>https://haystack.deepset.ai/docs/latest/tutorial4md</denchmark-link>\n  . the thing is I wanted to use InMemoryDocumentStore() instead of ElasticsearchDocumentStore, I found that it accepts  embedding_field, but after tracing the codes it doesn't use it for embedding in query_by_embedding function. and whenever I try to use the retrieve function I get TypeError: unsupported operand type(s) for *: 'float' and 'NoneType', because the function uses docs embedding instead of question's ones.\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "Ryuodan", "commentT": "2020-12-01T14:35:23Z", "comment_text": "\n \t\tHi <denchmark-link:https://github.com/Ryuodan>@Ryuodan</denchmark-link>\n , thank you for raising the issue. The  is not correctly used for  and should get fixed by <denchmark-link:https://github.com/deepset-ai/haystack/pull/640>#640</denchmark-link>\n .\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "Ryuodan", "commentT": "2020-12-17T08:20:56Z", "comment_text": "\n \t\tHi <denchmark-link:https://github.com/Ryuodan>@Ryuodan</denchmark-link>\n , the  parameter should now work as expected. Please feel free to update here if you face any issues.\n \t\t"}}}, "commit": {"commit_id": "0e4eec949902f055bf5cdc5f74392b2a9176c99e", "commit_author": "Tanay Soni", "commitT": "2020-12-17 09:18:57+01:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "test\\conftest.py", "file_new_name": "test\\conftest.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "237,243,248,249,250,255", "deleted_lines": "237,243,248,253,254", "method_info": {"method_name": "get_document_store", "method_params": "document_store_type,embedding_field", "method_startline": "237", "method_endline": "261"}}, "hunk_1": {"Ismethod": 1, "added_lines": "237,243,248,249,250,255", "deleted_lines": "237,243,248,253,254", "method_info": {"method_name": "get_document_store", "method_params": "document_store_type", "method_startline": "237", "method_endline": "260"}}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "test\\test_db.py", "file_new_name": "test\\test_db.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "375,376,377,378,379,380,381,382,383,384", "deleted_lines": null, "method_info": {"method_name": "test_custom_embedding_field", "method_params": "document_store_type", "method_startline": "375", "method_endline": "384"}}}}}}}