{"BR": {"BR_id": "173", "BR_author": "Timoeller", "BRopenT": "2020-06-24T16:01:17Z", "BRcloseT": "2020-06-26T09:01:11Z", "BR_text": {"BRsummary": "document_id missing in FARMReader predict return statement", "BRdescription": "\n The error is coming from FARM inferencer. The document_id is missing in the returned json.\n Currently this breaks our evaluation.\n Tutorial5_Evaluation.py needs a document_id coming back from FARM.\n Haystack eval first checks weather the document_id is corresponding to the gold truth, then it checks if the answer string is correct. Since the document_id coming back from FARM is None it never enters the answer string check.\n <denchmark-h:hr></denchmark-h>\n \n input to the FARM inferencer is a dict:\n <denchmark-code>cur = {\n                 \"text\": doc.text,\n                 \"questions\": [question],\n                 \"document_id\": doc.id\n             }\n </denchmark-code>\n \n output of farm inferencer has set document_id in all cases to None.\n \t"}, "comments": {}}, "commit": {"commit_id": "c53aaddb78cd7f3e8ce2a8ecc78a3b622e5c1565", "commit_author": "Timo Moeller", "commitT": "2020-06-26 11:01:10+02:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "haystack\\finder.py", "file_new_name": "haystack\\finder.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,384,385,386,387,388,389,390,391,392,393,394,395", "deleted_lines": null, "method_info": {"method_name": "print_eval_results", "method_params": "Dict", "method_startline": "363", "method_endline": "395"}}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "haystack\\reader\\farm.py", "file_new_name": "haystack\\reader\\farm.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "253,254,257,259,262,263,265,266,267,268,269,270,271,274,275", "deleted_lines": "253,256,258,261,262,264,265,266,267,268,269,270,273,274", "method_info": {"method_name": "predict", "method_params": "self,str,None", "method_startline": "207", "method_endline": "293"}}}}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "tutorials\\Tutorial5_Evaluation.py", "file_new_name": "tutorials\\Tutorial5_Evaluation.py", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "12,13,14,15,16,17,18,19,20,21,23,24,25,26,48,49,50,51,52,63,64,65,66,67,68,69,70,71,74,75,76,77,79,80,81,82,83,84,88,89,90", "deleted_lines": "12,13,36,47,48,49,50,51,52,53,56,57,58,60,61,62,63,64,65,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98"}}}}}}