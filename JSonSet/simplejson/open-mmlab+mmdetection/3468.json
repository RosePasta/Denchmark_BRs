{"BR": {"BR_id": "3468", "BR_author": "sr-frost", "BRopenT": "2020-08-02T19:42:49Z", "BRcloseT": "2020-08-06T03:46:40Z", "BR_text": {"BRsummary": "mAP@75 returns -1.", "BRdescription": "\n The tools/test.py was giving correct results a few days ago. Since I am working on google colab, I cloned the most recent  mmdetection repository today. But now the same code returns -1 for mAP@ 75.\n <denchmark-code>Average Precision  (AP) @[ IoU=0.50:0.95 | area=   all | maxDets=100 ] = 0.416\n Average Precision  (AP) @[ IoU=0.50      | area=   all | maxDets=100 ] = 0.571\n Average Precision  (AP) @[ IoU=0.75      | area=   all | maxDets=100 ] = -1.000\n Average Precision  (AP) @[ IoU=0.50:0.95 | area= small | maxDets=100 ] = 0.070\n Average Precision  (AP) @[ IoU=0.50:0.95 | area=medium | maxDets=100 ] = 0.473\n Average Precision  (AP) @[ IoU=0.50:0.95 | area= large | maxDets=100 ] = 0.842\n Average Recall     (AR) @[ IoU=0.50:0.95 | area=   all | maxDets=  1 ] = 0.048\n Average Recall     (AR) @[ IoU=0.50:0.95 | area=   all | maxDets= 10 ] = 0.382\n Average Recall     (AR) @[ IoU=0.50:0.95 | area=   all | maxDets=100 ] = 0.458\n Average Recall     (AR) @[ IoU=0.50:0.95 | area= small | maxDets=100 ] = 0.096\n Average Recall     (AR) @[ IoU=0.50:0.95 | area=medium | maxDets=100 ] = 0.526\n Average Recall     (AR) @[ IoU=0.50:0.95 | area= large | maxDets=100 ] = 0.876\n </denchmark-code>\n \n The same code was returning 0.475 for mAP@75 a few days back.\n Reproduction\n \n What command or script did you run?\n \n <denchmark-code>python tools/test.py\n </denchmark-code>\n \n \n Did you make any modifications on the code or config? Did you understand what you have modified?\n Ans: Yes, I modified the config to use custom coco format datastet with one class.\n \n I suspect recent changes to coco.py (<denchmark-link:https://github.com/open-mmlab/mmdetection/pull/3407>#3407</denchmark-link>\n ) may have something to do with it. But since I am a new user of mmdetection, I wouldn't know for sure.\n \t"}, "comments": {}}, "commit": {"commit_id": "68d860d6f1a4a1fb687f2512038f2cbce7c6b08d", "commit_author": "Jerry Jiarui XU", "commitT": "2020-08-06 11:46:39+08:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "mmdet\\datasets\\coco.py", "file_new_name": "mmdet\\datasets\\coco.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "371,372", "deleted_lines": "371", "method_info": {"method_name": "evaluate", "method_params": "self,results,metric,logger,jsonfile_prefix,classwise,proposal_nums,300,1000", "method_startline": "364", "method_endline": "372"}}}}}}}