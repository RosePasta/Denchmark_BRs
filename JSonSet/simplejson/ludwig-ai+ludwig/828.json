{"BR": {"BR_id": "828", "BR_author": "carlogrisetti", "BRopenT": "2020-08-16T07:34:21Z", "BRcloseT": "2020-08-16T22:12:41Z", "BR_text": {"BRsummary": "gpu_memory_limit only works if gpus parameter is specified", "BRdescription": "\n I'm trying to use the new gpu_memory_limit parameter introduced by TF2 as opposed as the gpu_fraction one.\n One thing I noticed is that it only works if  is also specified, as per\n <denchmark-link:https://github.com/uber/ludwig/blob/b31ce876f6cd364471f7154740485656ab4ea6c9/ludwig/utils/tf_utils.py#L87-L107>https://github.com/uber/ludwig/blob/b31ce876f6cd364471f7154740485656ab4ea6c9/ludwig/utils/tf_utils.py#L87-L107</denchmark-link>\n \n Once you both specify  (for example), allocated GPU memory is correctly set to 4GB. Without the  bit, all available memory is allocated as if no  was specified.\n One more thing is that Hyperopt still references the \"old\" \n <denchmark-link:https://github.com/uber/ludwig/blob/b31ce876f6cd364471f7154740485656ab4ea6c9/ludwig/hyperopt_cli.py#L473-L479>https://github.com/uber/ludwig/blob/b31ce876f6cd364471f7154740485656ab4ea6c9/ludwig/hyperopt_cli.py#L473-L479</denchmark-link>\n \n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "carlogrisetti", "commentT": "2020-08-16T16:44:22Z", "comment_text": "\n \t\tHey <denchmark-link:https://github.com/carlogrisetti>@carlogrisetti</denchmark-link>\n , thanks for reporting this issue.  I'll take a look at this today.\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "carlogrisetti", "commentT": "2020-08-16T16:54:34Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/carlogrisetti>@carlogrisetti</denchmark-link>\n  please take a look at <denchmark-link:https://github.com/ludwig-ai/ludwig/pull/829>#829</denchmark-link>\n  and let me know if it addresses the issue for you.\n \t\t"}, "comments_2": {"comment_id": 3, "comment_author": "carlogrisetti", "commentT": "2020-08-16T22:13:59Z", "comment_text": "\n \t\tAutomatically closed when I merged the PR, <denchmark-link:https://github.com/carlogrisetti>@carlogrisetti</denchmark-link>\n  let us know if this fixes it please.\n \t\t"}, "comments_3": {"comment_id": 4, "comment_author": "carlogrisetti", "commentT": "2020-08-16T23:16:28Z", "comment_text": "\n \t\tWorks fine\n \t\t"}}}, "commit": {"commit_id": "75f90df4ae5d30a57a2017e6353a38c251d22e79", "commit_author": "Travis Addair", "commitT": "2020-08-16 15:12:41-07:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "ludwig\\hyperopt_cli.py", "file_new_name": "ludwig\\hyperopt_cli.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "474,475,476,477,478", "deleted_lines": "474,475,476,477,478", "method_info": {"method_name": "cli", "method_params": "sys_argv", "method_startline": "293", "method_endline": "515"}}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "ludwig\\utils\\tf_utils.py", "file_new_name": "ludwig\\utils\\tf_utils.py", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106", "deleted_lines": "87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107"}}}}}}