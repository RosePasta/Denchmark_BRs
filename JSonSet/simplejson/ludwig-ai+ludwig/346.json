{"BR": {"BR_id": "346", "BR_author": "George3d6", "BRopenT": "2019-05-17T09:45:13Z", "BRcloseT": "2019-05-17T20:50:58Z", "BR_text": {"BRsummary": "Calling model.save(path) causes `Model has not been initialized or loaded` due to missing session", "BRdescription": "\n After training a model it becomes impossible to close or save it because the underlying  object (presumably the TF sessions) is . Presumably because it gets closed at the end of the training (presumably here: <denchmark-link:https://github.com/uber/ludwig/blob/master/ludwig/train.py#L311>https://github.com/uber/ludwig/blob/master/ludwig/train.py#L311</denchmark-link>\n )\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "George3d6", "commentT": "2019-05-17T18:21:19Z", "comment_text": "\n \t\tWill fix soon, it's a regression coming from a code refactoring, thanks for spotting it!\n Also, I'm curious about mindsdb, tell me more about it! (maybe in private or on gitq)\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "George3d6", "commentT": "2019-05-17T19:43:37Z", "comment_text": "\n \t\tThanks, found a temporary workaround for my usecase in the meanwhile. will email you with info regarding mindsdb :)\n \t\t"}, "comments_2": {"comment_id": 3, "comment_author": "George3d6", "commentT": "2019-05-17T20:37:44Z", "comment_text": "\n \t\tYeah a temporary workaround is to load the model again after you train it or reinitializing the session. It introduces unwanted latency, but will work.\n \t\t"}, "comments_3": {"comment_id": 4, "comment_author": "George3d6", "commentT": "2019-05-17T20:51:55Z", "comment_text": "\n \t\tPushed a commit that should fix the issue, now when you call model.train the session is not closed at the end of the training. Let me know if this solves the problem.\n \t\t"}, "comments_4": {"comment_id": 5, "comment_author": "George3d6", "commentT": "2019-05-18T09:37:19Z", "comment_text": "\n \t\tSeems to be fine, though one issue I noticed (maybe I'm miss-reading), is that there's no way to set should_close_session to True in the API interface. Mind you, I don't need this myself, but maybe someone might... though I guess you want to avoid changes to the public API.\n \t\t"}, "comments_5": {"comment_id": 6, "comment_author": "George3d6", "commentT": "2019-05-18T09:47:30Z", "comment_text": "\n \t\tIt's not needed, if you want to close the session you can call model.close()\n \t\t"}}}, "commit": {"commit_id": "348278995e1feb20b43ff97b6cd5c335962ba437", "commit_author": "piero", "commitT": "2019-05-17 13:50:46-07:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "ludwig\\api.py", "file_new_name": "ludwig\\api.py", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "438", "deleted_lines": null}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "ludwig\\experiment.py", "file_new_name": "ludwig\\experiment.py", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "195", "deleted_lines": null}}}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "ludwig\\train.py", "file_new_name": "ludwig\\train.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "73", "deleted_lines": null, "method_info": {"method_name": "full_train", "method_params": "model_definition,model_definition_file,data_df,data_train_df,data_validation_df,data_test_df,data_csv,data_train_csv,data_validation_csv,data_test_csv,data_hdf5,data_train_hdf5,data_validation_hdf5,data_test_hdf5,train_set_metadata_json,experiment_name,model_name,model_load_path,model_resume_path,skip_save_model,skip_save_progress,skip_save_log,skip_save_processed_input,output_directory,should_close_session,gpus,gpu_fraction,use_horovod,random_seed,debug,kwargs", "method_startline": "48", "method_endline": "79"}}}}}}}