{"BR": {"BR_id": "2744", "BR_author": "phantomcoder1996", "BRopenT": "2020-10-16T20:28:36Z", "BRcloseT": "2020-10-18T17:47:37Z", "BR_text": {"BRsummary": "Wav2vec2.0 libri_labels.py not working correctly on windows", "BRdescription": "\n <denchmark-h:h2>\ud83d\udc1b Bug</denchmark-h>\n \n When running the script fairseq/examples/wav2vec/libri_labels.py  to generate librispeech labels on windows , I get the error\n <denchmark-code>Traceback (most recent call last):\n   File \"libri_labels.py\", line 56, in <module>\n     main()\n   File \"libri_labels.py\", line 37, in main\n     trans_path = f\"{parts[-2]}-{parts[-1]}.trans.txt\"\n IndexError: list index out of range\n \n </denchmark-code>\n \n <denchmark-h:h3>To Reproduce</denchmark-h>\n \n 1- python wav2vec_manifest.py  LibriSpeech\\train --dest LibriSpeech\\train --ext flac\n 2- python libri_labels.py LibriSpeech\\train\\train.tsv --output-dir LibriSpeech\\train --output-name train\n <denchmark-h:h3>Expected behavior</denchmark-h>\n \n generate train.ltr and train.wrd in the output-dir LibriSpeech\\train\n <denchmark-h:h3>Environment</denchmark-h>\n \n \n fairseq Version (master):\n OS (windows):\n \n <denchmark-h:h3>Additional context</denchmark-h>\n \n The problem is because the script relies on the linux path separator \"/\"\n I have created a PR to fix this issue\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "phantomcoder1996", "commentT": "2020-10-18T12:32:58Z", "comment_text": "\n \t\tit's not bug...\n windows and linux, recognize path with mark '/'\n in windows there is 3 form that can use to recognize path (in python language):\n D:/Speech/Dataset/Libri or D:\\\\Speech\\\\Dataset\\\\Libri or r'D:\\Speech\\Dataset\\Libri'\n in linux, only one form:\n /home/username/Speech/Dataset/Libri\n they are similar, and the path can recognize in python, so the command to run python in windows is the false command.\n it should be:\n python wav2vec_manifest.py LibriSpeech/train --dest LibriSpeech/train --ext flac\n python libri_labels.py LibriSpeech/train/train.tsv --output-dir LibriSpeech/train --output-name train\n the correction may be add the clue to README.md how to use it in Windows. but i'm doubt it will be, may be the developer make it  to anybody who understood python language.\n \t\t"}}}, "commit": {"commit_id": "7a3f20d0fad62d696aed17d801b840d5c25cc4f5", "commit_author": "phantomcoder1996", "commitT": "2020-10-18 10:47:23-07:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "examples\\wav2vec\\libri_labels.py", "file_new_name": "examples\\wav2vec\\libri_labels.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "36", "deleted_lines": "36", "method_info": {"method_name": "main", "method_params": "", "method_startline": "15", "method_endline": "52"}}}}}}}