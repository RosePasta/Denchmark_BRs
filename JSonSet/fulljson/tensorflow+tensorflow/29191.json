{"BR": {"BR_id": "29191", "BR_author": "ethereon", "BRopenT": "2019-05-31T00:08:02Z", "BRcloseT": "2019-08-01T17:32:32Z", "BR_text": {"BRsummary": "tf.function spuriously fails for branched super() calls", "BRdescription": "\n tf.function fails spuriously under Python 3.7.3 for the following example:\n import tensorflow as tf\n \n class Base(tf.Module):\n     def __call__(self, x):\n         return x + 1.\n \n class Sub(Base):\n     def __call__(self, x):\n         return super().__call__(x) if True else 1.\n \n @tf.function\n def test():\n     return Sub()(tf.constant(42.))\n \n print(test())\n (Colab: <denchmark-link:https://colab.research.google.com/drive/1_pS1K0biwse1oTIuuEv0lZYavbE61HAP>https://colab.research.google.com/drive/1_pS1K0biwse1oTIuuEv0lZYavbE61HAP</denchmark-link>\n )\n This produces the following error:\n RuntimeError: in converted code:\n \n     bug.py:16 test  *\n         return Sub()(tf.constant(42.))\n     bug.py:12 __call__  *\n         return super().__call__(x) if True else 1.\n \n     RuntimeError: super(): no arguments\n Observations\n \n Everything works correctly without the tf.function decoration\n The branch in __call__ seems necessary to trigger the bug. Skipping the branch doesn't trigger it. Replacing True with False doesn't trigger it.\n The bug can be triggered even if the condition evaluates to False (for example, replacing True with x < 0 for x=42)\n Replacing tf.constant(42.) with 42. doesn't trigger the bug\n \n Tested on TensorFlow 2.0 nightly 2.0.0-dev20190529 on Ubuntu 16.04 with Python 3.7.3\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "ethereon", "commentT": "2019-05-31T05:11:11Z", "comment_text": "\n \t\tchange\n <denchmark-code>return super().__call__(x) if True else 1.\n </denchmark-code>\n \n to\n <denchmark-code>return super(Sub, self).__call__(x) if True else 1.\n </denchmark-code>\n \n there will be no errors\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "ethereon", "commentT": "2019-05-31T05:38:12Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/zakizhou>@zakizhou</denchmark-link>\n  Sure, but the point is that  without any arguments is <denchmark-link:https://www.python.org/dev/peps/pep-3135/>perfectly valid in Python 3</denchmark-link>\n  and as such, this should not result in a failure. Furthermore, the sensitivity to the conditional hints at further issues in \n \t\t"}, "comments_2": {"comment_id": 3, "comment_author": "ethereon", "commentT": "2019-06-03T11:39:02Z", "comment_text": "\n \t\tI am able to reproduce the issue with Tensorflow  nightly 2.0.0-dev20190529. Thanks!\n \t\t"}, "comments_3": {"comment_id": 4, "comment_author": "ethereon", "commentT": "2019-06-07T23:56:15Z", "comment_text": "\n \t\tI believe this is related to <denchmark-link:https://github.com/tensorflow/tensorflow/issues/26029>#26029</denchmark-link>\n  - the Python3-style super() is indeed not handled correctly yet; we're working to fix that.\n It's indeed strange that the issue doesn't replicate reliably - I'll have a closer look.\n \t\t"}, "comments_4": {"comment_id": 5, "comment_author": "ethereon", "commentT": "2019-07-27T02:56:01Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/mdanatg>@mdanatg</denchmark-link>\n : this continues to be an issue even with the recent attempt at supporting argument-less super.\n In the new <denchmark-link:https://github.com/tensorflow/tensorflow/blob/612ceb6c488e228fa5246d2452799cf2691ef5f1/tensorflow/python/autograph/operators/py_builtins.py#L92-L130>super_in_original_context</denchmark-link>\n  implementation, the technique used for getting  seems a bit fragile. In particular, existence of conditionals (and, presumably, other scoping constructs) around the  call causes it to break in various ways.\n I've included a couple of samples in <denchmark-link:https://colab.research.google.com/drive/1aoqSo9StvVHDPHhH7Ao4WYm_t6UycnWd>this colab notebook</denchmark-link>\n \n \t\t"}, "comments_5": {"comment_id": 6, "comment_author": "ethereon", "commentT": "2019-07-27T11:09:50Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/ethereon>@ethereon</denchmark-link>\n  Thank you for follow-up and the samples! Indeed, our current resolution for handling  is not yet complete, and will only work if the call is in a method (or outside control flow, as you pointed out).\n <denchmark-link:https://github.com/kkimdev>@kkimdev</denchmark-link>\n  has been working on addressing this. We intentionally oversimplified the solution to assume the original caller of  is exactly one frame up the call stack in the converted code, and we're working on a follow-up improvement that removes that incorrect assumption and instead walks the call stack to find the caller, which can be any number of levels above. We hope to have this ready shortly, and will ping this thread when ready.\n In the mean time, the following should be a reliable wokraround:\n <denchmark-code>base_self = super()\n return base_self.__call__(x) if True else 1\n </denchmark-code>\n \n <denchmark-code>base_self = super()\n if True:\n   return base_self.__call__(x)\n return 1\n </denchmark-code>\n \n <denchmark-code>base_self = super()\n def local_nested_function():\n   return base_self.__call__(x)\n return local_nested_function()\n </denchmark-code>\n \n Again, all these workarounds should hopefully not be needed soon.\n \t\t"}, "comments_6": {"comment_id": 7, "comment_author": "ethereon", "commentT": "2019-08-01T17:26:00Z", "comment_text": "\n \t\tThis should not be more robustly handled with the commit that will land soon. If you have a chance to give it a try, I'd love to know if we missed any corner case.\n \t\t"}, "comments_7": {"comment_id": 8, "comment_author": "ethereon", "commentT": "2019-08-01T17:32:33Z", "comment_text": "\n \t\tAre you satisfied with the resolution of your issue?\n <denchmark-link:https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=Yes&entry.2137816233=29191>Yes</denchmark-link>\n \n <denchmark-link:https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=No&entry.2137816233=29191>No</denchmark-link>\n \n \t\t"}}}, "commit": {"commit_id": "4d4f7ed0a4605975e45efe9ca1750653190aeedf", "commit_author": "Dan Moldovan", "commitT": "2019-08-01 10:30:13-07:00", "commit_complexity": {"commit_NLOC": "0.0", "commit_CCN": "0.0", "commit_Nprams": "0.5"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "tensorflow\\python\\autograph\\converters\\call_trees.py", "file_new_name": "tensorflow\\python\\autograph\\converters\\call_trees.py", "file_complexity": {"file_NLOC": "123", "file_CCN": "22", "file_NToken": "700"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "177,184,185", "deleted_lines": "177,184", "method_info": {"method_name": "visit_Call", "method_params": "self,node", "method_startline": "101", "method_endline": "187", "method_complexity": {"method_NLOC": "67", "method_CCN": "14", "method_NToken": "342", "method_nesting_level": "1"}}}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "tensorflow\\python\\autograph\\converters\\function_scopes.py", "file_new_name": "tensorflow\\python\\autograph\\converters\\function_scopes.py", "file_complexity": {"file_NLOC": "78", "file_CCN": "11", "file_NToken": "521"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "59,60,65,66,71,72", "deleted_lines": "59,60,65,70", "method_info": {"method_name": "visit_Lambda", "method_params": "self,node", "method_startline": "46", "method_endline": "76", "method_complexity": {"method_NLOC": "23", "method_CCN": "2", "method_NToken": "157", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "98,99,105,107", "deleted_lines": "96,103", "method_info": {"method_name": "visit_FunctionDef", "method_params": "self,node", "method_startline": "78", "method_endline": "116", "method_complexity": {"method_NLOC": "32", "method_CCN": "5", "method_NToken": "220", "method_nesting_level": "1"}}}}}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "tensorflow\\python\\autograph\\core\\converter.py", "file_new_name": "tensorflow\\python\\autograph\\core\\converter.py", "file_complexity": {"file_NLOC": "277", "file_CCN": "35", "file_NToken": "1126"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "269,273", "deleted_lines": null, "method_info": {"method_name": "__init__", "method_params": "self,namer,entity_info,program_ctx,target_name", "method_startline": "269", "method_endline": "273", "method_complexity": {"method_NLOC": "5", "method_CCN": "1", "method_NToken": "41", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "269", "deleted_lines": "268", "method_info": {"method_name": "__init__", "method_params": "self,namer,entity_info,program_ctx", "method_startline": "268", "method_endline": "271", "method_complexity": {"method_NLOC": "4", "method_CCN": "1", "method_NToken": "32", "method_nesting_level": "1"}}}}}, "file_3": {"file_change_type": "MODIFY", "file_Nmethod": 4, "file_old_name": "tensorflow\\python\\autograph\\core\\converter_testing.py", "file_new_name": "tensorflow\\python\\autograph\\core\\converter_testing.py", "file_complexity": {"file_NLOC": "104", "file_CCN": "18", "file_NToken": "759"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "138,139", "deleted_lines": "138", "method_info": {"method_name": "prepare", "method_params": "self,test_fn,namespace,recursive", "method_startline": "124", "method_endline": "142", "method_complexity": {"method_NLOC": "18", "method_CCN": "1", "method_NToken": "135", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "60", "deleted_lines": "60", "method_info": {"method_name": "compiled", "method_params": "self,node,namespace,symbols", "method_startline": "55", "method_endline": "92", "method_complexity": {"method_NLOC": "27", "method_CCN": "4", "method_NToken": "179", "method_nesting_level": "1"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "60", "deleted_lines": "60", "method_info": {"method_name": "compiled.converted_call", "method_params": "f,unused_opts,args,kwargs,unused_function_ctx", "method_startline": "60", "method_endline": "65", "method_complexity": {"method_NLOC": "5", "method_CCN": "2", "method_NToken": "44", "method_nesting_level": "2"}}}, "hunk_3": {"Ismethod": 1, "added_lines": "60", "deleted_lines": "60", "method_info": {"method_name": "compiled.converted_call", "method_params": "f,unused_opts,args,kwargs", "method_startline": "60", "method_endline": "65", "method_complexity": {"method_NLOC": "5", "method_CCN": "2", "method_NToken": "42", "method_nesting_level": "2"}}}}}, "file_4": {"file_change_type": "MODIFY", "file_Nmethod": 4, "file_old_name": "tensorflow\\python\\autograph\\core\\function_wrappers.py", "file_new_name": "tensorflow\\python\\autograph\\core\\function_wrappers.py", "file_complexity": {"file_NLOC": "72", "file_CCN": "21", "file_NToken": "423"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "43,44,48,49", "deleted_lines": "43,47,48", "method_info": {"method_name": "__init__", "method_params": "self,function_name,options", "method_startline": "43", "method_endline": "60", "method_complexity": {"method_NLOC": "15", "method_CCN": "4", "method_NToken": "115", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "43,44,48,49", "deleted_lines": "43,47,48", "method_info": {"method_name": "__init__", "method_params": "self,function_name,scope_name,options", "method_startline": "43", "method_endline": "61", "method_complexity": {"method_NLOC": "16", "method_CCN": "4", "method_NToken": "122", "method_nesting_level": "1"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "105,107", "deleted_lines": "106", "method_info": {"method_name": "with_function_scope", "method_params": "thunk,scope_name,options", "method_startline": "105", "method_endline": "108", "method_complexity": {"method_NLOC": "3", "method_CCN": "1", "method_NToken": "27", "method_nesting_level": "0"}}}, "hunk_3": {"Ismethod": 1, "added_lines": "105,107", "deleted_lines": "104,106", "method_info": {"method_name": "with_function_scope", "method_params": "thunk,options", "method_startline": "104", "method_endline": "107", "method_complexity": {"method_NLOC": "3", "method_CCN": "1", "method_NToken": "23", "method_nesting_level": "0"}}}}}, "file_5": {"file_change_type": "MODIFY", "file_Nmethod": 3, "file_old_name": "tensorflow\\python\\autograph\\core\\function_wrappers_test.py", "file_new_name": "tensorflow\\python\\autograph\\core\\function_wrappers_test.py", "file_complexity": {"file_NLOC": "37", "file_CCN": "4", "file_NToken": "265"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "54,55", "deleted_lines": "54", "method_info": {"method_name": "test_all_disabled", "method_params": "self", "method_startline": "53", "method_endline": "57", "method_complexity": {"method_NLOC": "5", "method_CCN": "1", "method_NToken": "40", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "36", "deleted_lines": "36", "method_info": {"method_name": "test_name_scope", "method_params": "self", "method_startline": "31", "method_endline": "40", "method_complexity": {"method_NLOC": "9", "method_CCN": "2", "method_NToken": "59", "method_nesting_level": "1"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "45", "deleted_lines": "45", "method_info": {"method_name": "test_auto_cotrol_deps", "method_params": "self", "method_startline": "42", "method_endline": "51", "method_complexity": {"method_NLOC": "10", "method_CCN": "1", "method_NToken": "80", "method_nesting_level": "1"}}}}}, "file_6": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "tensorflow\\python\\autograph\\impl\\api.py", "file_new_name": "tensorflow\\python\\autograph\\impl\\api.py", "file_complexity": {"file_NLOC": "362", "file_CCN": "99", "file_NToken": "2538"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,390,392", "deleted_lines": "365,366,375,377", "method_info": {"method_name": "converted_call", "method_params": "f,options,args,kwargs,caller_fn_scope", "method_startline": "365", "method_endline": "546", "method_complexity": {"method_NLOC": "116", "method_CCN": "40", "method_NToken": "889", "method_nesting_level": "0"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,390,392", "deleted_lines": "365,366,375,377", "method_info": {"method_name": "converted_call", "method_params": "f,options,args,kwargs", "method_startline": "365", "method_endline": "531", "method_complexity": {"method_NLOC": "116", "method_CCN": "40", "method_NToken": "885", "method_nesting_level": "0"}}}}}, "file_7": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "tensorflow\\python\\autograph\\impl\\conversion.py", "file_new_name": "tensorflow\\python\\autograph\\impl\\conversion.py", "file_complexity": {"file_NLOC": "428", "file_CCN": "66", "file_NToken": "2807"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "656,657,658,659,660,661,662,668", "deleted_lines": "661,665,668,670,673", "method_info": {"method_name": "convert_func_to_ast", "method_params": "f,program_ctx,do_rename", "method_startline": "626", "method_endline": "679", "method_complexity": {"method_NLOC": "38", "method_CCN": "7", "method_NToken": "273", "method_nesting_level": "0"}}}}}, "file_8": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "tensorflow\\python\\autograph\\operators\\BUILD", "file_new_name": "tensorflow\\python\\autograph\\operators\\BUILD", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "103", "deleted_lines": null}}}, "file_9": {"file_change_type": "MODIFY", "file_Nmethod": 5, "file_old_name": "tensorflow\\python\\autograph\\operators\\py_builtins.py", "file_new_name": "tensorflow\\python\\autograph\\operators\\py_builtins.py", "file_complexity": {"file_NLOC": "185", "file_CCN": "69", "file_NToken": "1408"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "52,53,55,56,57,58,59,60,61,62", "deleted_lines": "52,53,55", "method_info": {"method_name": "eval_in_original_context", "method_params": "f,args,caller_level_delta", "method_startline": "52", "method_endline": "62", "method_complexity": {"method_NLOC": "10", "method_CCN": "4", "method_NToken": "79", "method_nesting_level": "0"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "73,74,75,76,77,78,79", "deleted_lines": "73,74,75,76,79,84", "method_info": {"method_name": "eval_in_original_context", "method_params": "f,args,caller_fn_scope", "method_startline": "73", "method_endline": "85", "method_complexity": {"method_NLOC": "8", "method_CCN": "3", "method_NToken": "67", "method_nesting_level": "0"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,88,89,95,96,97,98,101,102,107,109,110,111,113,114,115,131,132", "deleted_lines": "65,66,72,73,74,75,76,79,84,86,87,89,90,91,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,123,124,126,127,128,129,130,131,132,133", "method_info": {"method_name": "super_in_original_context", "method_params": "f,args,caller_level_delta", "method_startline": "65", "method_endline": "133", "method_complexity": {"method_NLOC": "11", "method_CCN": "4", "method_NToken": "93", "method_nesting_level": "0"}}}, "hunk_3": {"Ismethod": 1, "added_lines": "52,53,55,56,57,58,59,60,61,62,63,65,66,67,68,69,70", "deleted_lines": "52,53,55,65,66", "method_info": {"method_name": "_find_originating_frame", "method_params": "caller_fn_scope,innermost", "method_startline": "52", "method_endline": "70", "method_complexity": {"method_NLOC": "13", "method_CCN": "4", "method_NToken": "66", "method_nesting_level": "0"}}}, "hunk_4": {"Ismethod": 1, "added_lines": "88,89,95,96,97,98,101,102,107,109,110,111,113,114,115,131,132,134,135,136,137,138,140,141,142,143,144,145,146,147", "deleted_lines": "89,90,91,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,123,124,126,127,128,129,130,131,132,133", "method_info": {"method_name": "super_in_original_context", "method_params": "f,args,caller_fn_scope", "method_startline": "88", "method_endline": "147", "method_complexity": {"method_NLOC": "10", "method_CCN": "3", "method_NToken": "73", "method_nesting_level": "0"}}}}}, "file_10": {"file_change_type": "MODIFY", "file_Nmethod": 30, "file_old_name": "tensorflow\\python\\autograph\\operators\\py_builtins_py3_test.py", "file_new_name": "tensorflow\\python\\autograph\\operators\\py_builtins_py3_test.py", "file_complexity": {"file_NLOC": "68", "file_CCN": "15", "file_NToken": "458"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "41,44,46,49,50,51,52,55", "deleted_lines": "41,42,44,45,47,50,51,52,53,54,55", "method_info": {"method_name": "test_super_in_original_context_niladic_call", "method_params": "self", "method_startline": "41", "method_endline": "55", "method_complexity": {"method_NLOC": "7", "method_CCN": "1", "method_NToken": "35", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "107", "deleted_lines": "105,106,107", "method_info": {"method_name": "test_super_in_original_context_with_varargs.with_varargs", "method_params": "self,args", "method_startline": "105", "method_endline": "107", "method_complexity": {"method_NLOC": "3", "method_CCN": "1", "method_NToken": "41", "method_nesting_level": "3"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "33", "deleted_lines": "32,33", "method_info": {"method_name": "test_super_with_no_arg_in_original_context.plus_twenty", "method_params": "self,x", "method_startline": "32", "method_endline": "33", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "11", "method_nesting_level": "3"}}}, "hunk_3": {"Ismethod": 1, "added_lines": "49,50,51,52", "deleted_lines": "50,51,52", "method_info": {"method_name": "test_super_in_original_context_niladic_call.test_method", "method_params": "self", "method_startline": "49", "method_endline": "52", "method_complexity": {"method_NLOC": "4", "method_CCN": "1", "method_NToken": "34", "method_nesting_level": "3"}}}, "hunk_4": {"Ismethod": 1, "added_lines": "92,93,94,97,99,102,104,107,108,109,110", "deleted_lines": "92,95,97,98,99,100,101,102,105,106,107,110", "method_info": {"method_name": "test_super_in_original_context_with_varargs", "method_params": "self", "method_startline": "92", "method_endline": "110", "method_complexity": {"method_NLOC": "9", "method_CCN": "1", "method_NToken": "55", "method_nesting_level": "1"}}}, "hunk_5": {"Ismethod": 1, "added_lines": "35,36,37,38,39", "deleted_lines": "35,37,38", "method_info": {"method_name": "_basic_function_scope", "method_params": "self", "method_startline": "35", "method_endline": "39", "method_complexity": {"method_NLOC": "5", "method_CCN": "1", "method_NToken": "20", "method_nesting_level": "1"}}}, "hunk_6": {"Ismethod": 1, "added_lines": "49,50,51,52,55,57,60,62,65,66,67,68,69", "deleted_lines": "47,50,51,52,53,54,55,57,60,61,62,63,64,65,66,69", "method_info": {"method_name": "test_super_in_original_context_with_locals", "method_params": "self", "method_startline": "47", "method_endline": "69", "method_complexity": {"method_NLOC": "9", "method_CCN": "1", "method_NToken": "43", "method_nesting_level": "1"}}}, "hunk_7": {"Ismethod": 1, "added_lines": "107,108,109,110,111,112,113,114,115,116", "deleted_lines": "107,110,112,115,116", "method_info": {"method_name": "test_super_in_original_context_inner_lambda.test_method", "method_params": "self,x", "method_startline": "107", "method_endline": "116", "method_complexity": {"method_NLOC": "5", "method_CCN": "1", "method_NToken": "40", "method_nesting_level": "3"}}}, "hunk_8": {"Ismethod": 1, "added_lines": "46", "deleted_lines": "47", "method_info": {"method_name": "test_super_in_original_context_niladic_call.overridden_method", "method_params": "self,x", "method_startline": "46", "method_endline": "47", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "13", "method_nesting_level": "3"}}}, "hunk_9": {"Ismethod": 1, "added_lines": "65,66,67,68,69,70", "deleted_lines": "65,66,69", "method_info": {"method_name": "test_super_in_original_context_caller_with_locals.test_method", "method_params": "self,x", "method_startline": "65", "method_endline": "70", "method_complexity": {"method_NLOC": "6", "method_CCN": "1", "method_NToken": "43", "method_nesting_level": "3"}}}, "hunk_10": {"Ismethod": 1, "added_lines": "75,78,80,83,84,85,86,87,88,89,90,91,92,93,94,97", "deleted_lines": "75,76,77,79,80,81,84,85,86,89,90,92,95,97", "method_info": {"method_name": "test_super_in_original_context_inner_function", "method_params": "self", "method_startline": "75", "method_endline": "97", "method_complexity": {"method_NLOC": "7", "method_CCN": "1", "method_NToken": "36", "method_nesting_level": "1"}}}, "hunk_11": {"Ismethod": 1, "added_lines": "84,85,86", "deleted_lines": "84,85,86", "method_info": {"method_name": "test_super_in_original_context_with_args.with_args", "method_params": "self,x,y,z", "method_startline": "84", "method_endline": "86", "method_complexity": {"method_NLOC": "3", "method_CCN": "1", "method_NToken": "35", "method_nesting_level": "3"}}}, "hunk_12": {"Ismethod": 1, "added_lines": "97", "deleted_lines": "97,98", "method_info": {"method_name": "test_super_in_original_context_with_varargs.plus_twenty", "method_params": "self,x", "method_startline": "97", "method_endline": "98", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "11", "method_nesting_level": "3"}}}, "hunk_13": {"Ismethod": 1, "added_lines": "41", "deleted_lines": "40,41,42", "method_info": {"method_name": "test_super_with_no_arg_in_original_context.no_arg", "method_params": "self", "method_startline": "40", "method_endline": "42", "method_complexity": {"method_NLOC": "3", "method_CCN": "1", "method_NToken": "25", "method_nesting_level": "3"}}}, "hunk_14": {"Ismethod": 1, "added_lines": null, "deleted_lines": "125,126,127", "method_info": {"method_name": "test_super_in_original_context_with_kwargs.with_kwargs", "method_params": "self,kwargs", "method_startline": "125", "method_endline": "127", "method_complexity": {"method_NLOC": "3", "method_CCN": "1", "method_NToken": "41", "method_nesting_level": "3"}}}, "hunk_15": {"Ismethod": 1, "added_lines": "29,30", "deleted_lines": "29,30", "method_info": {"method_name": "overridden_method", "method_params": "self,x", "method_startline": "29", "method_endline": "30", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "11", "method_nesting_level": "1"}}}, "hunk_16": {"Ismethod": 1, "added_lines": null, "deleted_lines": "76,77", "method_info": {"method_name": "test_super_in_original_context_with_args.plus_twenty", "method_params": "self,x", "method_startline": "76", "method_endline": "77", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "11", "method_nesting_level": "3"}}}, "hunk_17": {"Ismethod": 1, "added_lines": "62", "deleted_lines": "62,63", "method_info": {"method_name": "test_super_in_original_context_caller_with_locals.overridden_method", "method_params": "self,x", "method_startline": "62", "method_endline": "63", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "13", "method_nesting_level": "3"}}}, "hunk_18": {"Ismethod": 1, "added_lines": null, "deleted_lines": "117,118", "method_info": {"method_name": "test_super_in_original_context_with_kwargs.plus_twenty", "method_params": "self,x", "method_startline": "117", "method_endline": "118", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "11", "method_nesting_level": "3"}}}, "hunk_19": {"Ismethod": 1, "added_lines": "80", "deleted_lines": "80,81", "method_info": {"method_name": "test_super_in_original_context_inner_function.overridden_method", "method_params": "self,x", "method_startline": "80", "method_endline": "81", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "13", "method_nesting_level": "3"}}}, "hunk_20": {"Ismethod": 1, "added_lines": "104", "deleted_lines": "105", "method_info": {"method_name": "test_super_in_original_context_inner_lambda.overridden_method", "method_params": "self,x", "method_startline": "104", "method_endline": "105", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "13", "method_nesting_level": "3"}}}, "hunk_21": {"Ismethod": 1, "added_lines": "83,84,85,86,87,88,89,90,91,92,93,94", "deleted_lines": "84,85,86,89,90,92", "method_info": {"method_name": "test_super_in_original_context_inner_function.test_method", "method_params": "self,x", "method_startline": "83", "method_endline": "94", "method_complexity": {"method_NLOC": "4", "method_CCN": "1", "method_NToken": "22", "method_nesting_level": "3"}}}, "hunk_22": {"Ismethod": 1, "added_lines": "99,102,104,107,108,109,110,111,112,113,114,115,116,119", "deleted_lines": "99,100,101,102,105,106,107,110,112,115,116,117,118,119", "method_info": {"method_name": "test_super_in_original_context_inner_lambda", "method_params": "self", "method_startline": "99", "method_endline": "119", "method_complexity": {"method_NLOC": "7", "method_CCN": "1", "method_NToken": "36", "method_nesting_level": "1"}}}, "hunk_23": {"Ismethod": 1, "added_lines": "73,75,78,80,83,84,85,86,87,88,89,90", "deleted_lines": "71,74,75,76,77,79,80,81,84,85,86,89,90", "method_info": {"method_name": "test_super_in_original_context_with_args", "method_params": "self", "method_startline": "71", "method_endline": "90", "method_complexity": {"method_NLOC": "10", "method_CCN": "1", "method_NToken": "72", "method_nesting_level": "1"}}}, "hunk_24": {"Ismethod": 1, "added_lines": "112,113,114,115,116,119", "deleted_lines": "112,115,116,117,118,119,120,122,125,126,127,130", "method_info": {"method_name": "test_super_in_original_context_with_kwargs", "method_params": "self", "method_startline": "112", "method_endline": "130", "method_complexity": {"method_NLOC": "9", "method_CCN": "1", "method_NToken": "58", "method_nesting_level": "1"}}}, "hunk_25": {"Ismethod": 1, "added_lines": "52", "deleted_lines": "52,53", "method_info": {"method_name": "test_super_in_original_context_with_locals.plus_twenty", "method_params": "self,x", "method_startline": "52", "method_endline": "53", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "11", "method_nesting_level": "3"}}}, "hunk_26": {"Ismethod": 1, "added_lines": "90,91,92", "deleted_lines": "90,92", "method_info": {"method_name": "test_super_in_original_context_inner_function.test_super_in_original_context_inner_function.test_method.inner_fn", "method_params": "", "method_startline": "90", "method_endline": "92", "method_complexity": {"method_NLOC": "3", "method_CCN": "1", "method_NToken": "21", "method_nesting_level": "5"}}}, "hunk_27": {"Ismethod": 1, "added_lines": "60,62,65,66", "deleted_lines": "60,61,62,63,64,65,66", "method_info": {"method_name": "test_super_in_original_context_with_locals.with_locals", "method_params": "self", "method_startline": "60", "method_endline": "66", "method_complexity": {"method_NLOC": "6", "method_CCN": "1", "method_NToken": "38", "method_nesting_level": "3"}}}, "hunk_28": {"Ismethod": 1, "added_lines": "57,60,62,65,66,67,68,69,70,73", "deleted_lines": "57,60,61,62,63,64,65,66,69,71", "method_info": {"method_name": "test_super_in_original_context_caller_with_locals", "method_params": "self", "method_startline": "57", "method_endline": "73", "method_complexity": {"method_NLOC": "7", "method_CCN": "1", "method_NToken": "36", "method_nesting_level": "1"}}}, "hunk_29": {"Ismethod": 1, "added_lines": "27,29,30,33,35,36,37,38,39,41,44", "deleted_lines": "27,28,29,30,31,32,33,35,37,38,40,41,42,44,45", "method_info": {"method_name": "test_super_with_no_arg_in_original_context", "method_params": "self", "method_startline": "27", "method_endline": "45", "method_complexity": {"method_NLOC": "9", "method_CCN": "1", "method_NToken": "43", "method_nesting_level": "1"}}}}}, "file_11": {"file_change_type": "MODIFY", "file_Nmethod": 20, "file_old_name": "tensorflow\\python\\autograph\\operators\\py_builtins_test.py", "file_new_name": "tensorflow\\python\\autograph\\operators\\py_builtins_test.py", "file_complexity": {"file_NLOC": "172", "file_CCN": "29", "file_NToken": "1719"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "187,188,189,190,191", "deleted_lines": "189,190,191", "method_info": {"method_name": "test_eval_in_original_context_inner_function.test_eval_in_original_context_inner_function.test_fn.inner_fn", "method_params": "", "method_startline": "187", "method_endline": "191", "method_complexity": {"method_NLOC": "3", "method_CCN": "1", "method_NToken": "21", "method_nesting_level": "4"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "183,184,185,187,188,189,190,191,193", "deleted_lines": "189,190,191,192,193", "method_info": {"method_name": "test_eval_in_original_context_inner_function.test_fn", "method_params": "", "method_startline": "183", "method_endline": "193", "method_complexity": {"method_NLOC": "5", "method_CCN": "1", "method_NToken": "22", "method_nesting_level": "2"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "176,177,179,181,183,184,185,187,188,189,190,191,193,195,196", "deleted_lines": "176,177,179,181,182,189,190,191,192,193,196", "method_info": {"method_name": "test_super_with_one_arg_in_original_context", "method_params": "self", "method_startline": "176", "method_endline": "196", "method_complexity": {"method_NLOC": "9", "method_CCN": "1", "method_NToken": "43", "method_nesting_level": "1"}}}, "hunk_3": {"Ismethod": 1, "added_lines": "189,190,191,193", "deleted_lines": "189,190,191,192,193", "method_info": {"method_name": "test_super_with_one_arg_in_original_context.one_arg", "method_params": "self", "method_startline": "189", "method_endline": "193", "method_complexity": {"method_NLOC": "5", "method_CCN": "1", "method_NToken": "37", "method_nesting_level": "3"}}}, "hunk_4": {"Ismethod": 1, "added_lines": "174,176,177,179", "deleted_lines": "172,173,174,176,177,179", "method_info": {"method_name": "test_eval_in_original_context", "method_params": "self", "method_startline": "172", "method_endline": "179", "method_complexity": {"method_NLOC": "3", "method_CCN": "1", "method_NToken": "17", "method_nesting_level": "1"}}}, "hunk_5": {"Ismethod": 1, "added_lines": "166", "deleted_lines": "164,165,166", "method_info": {"method_name": "test_eval_in_original_context.caller_2", "method_params": "lvl_delta", "method_startline": "164", "method_endline": "166", "method_complexity": {"method_NLOC": "3", "method_CCN": "1", "method_NToken": "13", "method_nesting_level": "2"}}}, "hunk_6": {"Ismethod": 1, "added_lines": "213", "deleted_lines": "211,212,213,214", "method_info": {"method_name": "test_super_with_two_args_in_original_context.two_args", "method_params": "self", "method_startline": "211", "method_endline": "214", "method_complexity": {"method_NLOC": "4", "method_CCN": "1", "method_NToken": "28", "method_nesting_level": "3"}}}, "hunk_7": {"Ismethod": 1, "added_lines": "205,206,207,208,209,210", "deleted_lines": "205", "method_info": {"method_name": "test_super_in_original_context_unary_call.test_method", "method_params": "self", "method_startline": "205", "method_endline": "210", "method_complexity": {"method_NLOC": "6", "method_CCN": "1", "method_NToken": "46", "method_nesting_level": "3"}}}, "hunk_8": {"Ismethod": 1, "added_lines": "198,205,206,207,208,209,210,213,215", "deleted_lines": "198,201,202,203,204,205,211,212,213,214,217", "method_info": {"method_name": "test_super_with_two_args_in_original_context", "method_params": "self", "method_startline": "198", "method_endline": "217", "method_complexity": {"method_NLOC": "9", "method_CCN": "1", "method_NToken": "43", "method_nesting_level": "1"}}}, "hunk_9": {"Ismethod": 1, "added_lines": "181,183,184,185,187,188,189,190,191,193,195", "deleted_lines": "181,182,189,190,191,192,193", "method_info": {"method_name": "test_eval_in_original_context_inner_function", "method_params": "self", "method_startline": "181", "method_endline": "195", "method_complexity": {"method_NLOC": "3", "method_CCN": "1", "method_NToken": "17", "method_nesting_level": "1"}}}, "hunk_10": {"Ismethod": 1, "added_lines": "215,223,224,225,226,227,230", "deleted_lines": "217", "method_info": {"method_name": "test_super_in_original_context_binary_call", "method_params": "self", "method_startline": "215", "method_endline": "230", "method_complexity": {"method_NLOC": "7", "method_CCN": "1", "method_NToken": "35", "method_nesting_level": "1"}}}, "hunk_11": {"Ismethod": 1, "added_lines": "223,224,225,226,227", "deleted_lines": null, "method_info": {"method_name": "test_super_in_original_context_binary_call.test_method", "method_params": "self", "method_startline": "223", "method_endline": "227", "method_complexity": {"method_NLOC": "5", "method_CCN": "1", "method_NToken": "37", "method_nesting_level": "3"}}}, "hunk_12": {"Ismethod": 1, "added_lines": null, "deleted_lines": "160,162", "method_info": {"method_name": "test_eval_in_original_context.caller_1", "method_params": "lvl_delta", "method_startline": "160", "method_endline": "162", "method_complexity": {"method_NLOC": "3", "method_CCN": "1", "method_NToken": "22", "method_nesting_level": "2"}}}, "hunk_13": {"Ismethod": 1, "added_lines": "181", "deleted_lines": "181,182", "method_info": {"method_name": "test_super_with_one_arg_in_original_context.plus_twenty", "method_params": "self,x", "method_startline": "181", "method_endline": "182", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "11", "method_nesting_level": "3"}}}, "hunk_14": {"Ismethod": 1, "added_lines": "166,167,168,169,170", "deleted_lines": "166,168,169,170", "method_info": {"method_name": "_basic_function_scope", "method_params": "self", "method_startline": "166", "method_endline": "170", "method_complexity": {"method_NLOC": "5", "method_CCN": "1", "method_NToken": "20", "method_nesting_level": "1"}}}, "hunk_15": {"Ismethod": 1, "added_lines": null, "deleted_lines": "203,204", "method_info": {"method_name": "test_super_with_two_args_in_original_context.plus_twenty", "method_params": "self,x", "method_startline": "203", "method_endline": "204", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "11", "method_nesting_level": "3"}}}, "hunk_16": {"Ismethod": 1, "added_lines": "168,169,170", "deleted_lines": "168,169,170", "method_info": {"method_name": "test_eval_in_original_context.caller_3", "method_params": "lvl_delta", "method_startline": "168", "method_endline": "170", "method_complexity": {"method_NLOC": "3", "method_CCN": "1", "method_NToken": "13", "method_nesting_level": "2"}}}, "hunk_17": {"Ismethod": 1, "added_lines": "41,42", "deleted_lines": null, "method_info": {"method_name": "plus_twenty", "method_params": "self,x", "method_startline": "41", "method_endline": "42", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "11", "method_nesting_level": "1"}}}, "hunk_18": {"Ismethod": 1, "added_lines": "174,176,177", "deleted_lines": "174,176,177", "method_info": {"method_name": "test_eval_in_original_context.test_fn", "method_params": "", "method_startline": "174", "method_endline": "177", "method_complexity": {"method_NLOC": "4", "method_CCN": "1", "method_NToken": "30", "method_nesting_level": "2"}}}, "hunk_19": {"Ismethod": 1, "added_lines": "197,198,205,206,207,208,209,210,213", "deleted_lines": "198,201,202,203,204,205,211,212,213", "method_info": {"method_name": "test_super_in_original_context_unary_call", "method_params": "self", "method_startline": "197", "method_endline": "213", "method_complexity": {"method_NLOC": "7", "method_CCN": "1", "method_NToken": "35", "method_nesting_level": "1"}}}}}}}}