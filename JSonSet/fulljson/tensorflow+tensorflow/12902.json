{"BR": {"BR_id": "12902", "BR_author": "Dorokhov", "BRopenT": "2017-09-08T09:15:10Z", "BRcloseT": "2017-09-26T18:54:32Z", "BR_text": {"BRsummary": "Change TanhGrad() operation definition with respect to documentation", "BRdescription": "\n Hello,\n TanhGrad() documentation says: \"Specifically, grad = dy * (1 - y*y), where y = tanh(x), and dy\n is the corresponding input gradient.\" \n \n \n tensorflow/tensorflow/core/ops/math_ops.cc\n \n \n          Line 323\n       in\n       bab2db4\n \n \n \n \n \n \n  Specifically, `grad = dy * (1 - y*y)`, where `y = tanh(x)`, and `dy` \n \n \n \n \n  which is correct and looks good.\n But operation has following declaration of inputs:\n Input(\"x: T\")\n .Input(\"y: T\")\n \n \n \n tensorflow/tensorflow/core/ops/math_ops.cc\n \n \n          Line 200\n       in\n       bab2db4\n \n \n \n \n \n \n  Input(\"x: T\")                                                \\ \n \n \n \n \n \n what doesn't correlate with the documentated formula: grad = dy * (1 - y*y).\n Could you please rename inputs with respect to documentation like this:\n Input(\"y: T\")\n .Input(\"dy: T\")\n Thanks.\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "Dorokhov", "commentT": "2017-09-10T22:22:21Z", "comment_text": "\n \t\tThis means modifying UNARY_GRADIENT_COMPLEX macro and changing x to y and y to dy for every op that uses it, are you sure that wouldn't break things/contradict documentation for those other ops? BTW, you can press \"y\" in github to generate a permanent link with line number reference\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "Dorokhov", "commentT": "2017-09-11T07:29:56Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/yaroslavvb>@yaroslavvb</denchmark-link>\n , it doesn't contradict documentation for other operations which use UNARY_GRADIENT_COMPLEX macros, because the other ops use 'y' and 'dy' names in docs.\n Thanks for your suggestion, I updated the issue with permanent links.\n \t\t"}, "comments_2": {"comment_id": 3, "comment_author": "Dorokhov", "commentT": "2017-09-11T15:55:57Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/Dorokhov>@Dorokhov</denchmark-link>\n  do you want to do a PR to fix it? If you do, make sure to run the tests locally first\n \t\t"}, "comments_3": {"comment_id": 4, "comment_author": "Dorokhov", "commentT": "2017-09-11T17:02:42Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/yaroslavvb>@yaroslavvb</denchmark-link>\n  right, I will do\n \t\t"}}}, "commit": {"commit_id": "9b5bf2b6786a58df679b4be2249da8a235b9f4fd", "commit_author": "Dorokhov", "commitT": "2017-09-26 11:54:32-07:00", "commit_complexity": {"commit_NLOC": "None", "commit_CCN": "None", "commit_Nprams": "None"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "tensorflow\\core\\ops\\math_ops.cc", "file_new_name": "tensorflow\\core\\ops\\math_ops.cc", "file_complexity": {"file_NLOC": "2285", "file_CCN": "18", "file_NToken": "10180"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "200,201", "deleted_lines": "200,201"}}}}}}