{"BR": {"BR_id": "43529", "BR_author": "shlomi-amitai", "BRopenT": "2020-09-24T08:14:32Z", "BRcloseT": "2020-09-25T01:31:12Z", "BR_text": {"BRsummary": "'tf.TensorScatterUpdate' Conversion to tflite", "BRdescription": "\n System information\n \n OS Platform and Distribution (e.g., Linux Ubuntu 16.04):\n windows 10\n TensorFlow installed from (source or binary):\n python binary\n TensorFlow version (or github SHA if from source):\n 2.3\n \n Provide the text output from tflite_convert\n error: 'tf.TensorScatterUpdate' op is neither a custom op nor a flex op\n (im already using TF ops)\n <denchmark-code># Copy and paste here\n </denchmark-code>\n \n Standalone code to reproduce the issue\n Provide a reproducible test case that is the bare minimum necessary to generate\n the problem. If possible, please share a link to Colab/Jupyter/any notebook.\n Also, please include a link to a GraphDef or the model if possible.\n Any other info / logs\n Include any logs or source code that would be helpful to diagnose the problem.\n If including tracebacks, please include the full traceback. Large logs and files\n should be attached.\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "shlomi-amitai", "commentT": "2020-09-24T09:02:40Z", "comment_text": "\n \t\t\n Standalone code to reproduce the issue\n Provide a reproducible test case that is the bare minimum necessary to generate\n the problem. If possible, please share a link to Colab/Jupyter/any notebook.\n \n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "shlomi-amitai", "commentT": "2020-09-24T09:03:38Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/shlomi-amitai>@shlomi-amitai</denchmark-link>\n \n Please share simple stand alone code to replicate the issue along with error log for us to analyse.\n \t\t"}, "comments_2": {"comment_id": 3, "comment_author": "shlomi-amitai", "commentT": "2020-09-25T00:20:47Z", "comment_text": "\n \t\tI will add tf.TensorScatterUpdate op and related ops to the Select TF ops option. Please stay tuned.\n \t\t"}, "comments_3": {"comment_id": 4, "comment_author": "shlomi-amitai", "commentT": "2020-09-25T01:30:12Z", "comment_text": "\n \t\tI added tf.TensorScatterUpdate op support in the Select TF ops option. Please try the conversion again with the tomorrow's tf-nightly version.\n \t\t"}, "comments_4": {"comment_id": 5, "comment_author": "shlomi-amitai", "commentT": "2020-09-29T12:32:56Z", "comment_text": "\n \t\tHi <denchmark-link:https://github.com/abattery>@abattery</denchmark-link>\n  ,\n Thank you so much, I tried, and don't see any error regarding the tf.TensorScatterUpdate op,\n though I get now a new error related to tf.concat op.\n Maybe something is broken there?\n (problem in concat_415)\n \t\t"}, "comments_5": {"comment_id": 6, "comment_author": "shlomi-amitai", "commentT": "2020-09-29T12:42:33Z", "comment_text": "\n \t\t:0: error: loc(\"Concat_415\"): operand type 'tensor<1x32x112x20xf32>' is not compatible with preceding operands; expected dimension at index 3: 160\n :0: note: loc(\"Concat_415\"): see current operation: %1202 = \"tf.ConcatV2\"(%525, %652, %1201, %1197, %1189, %1185, %24) {device = \"\"} : (tensor<1x64x112x160xf32>, tensor<1x128x112x160xf32>, tensor<1x32x112x20xf32>, tensor<1x32x112x10xf32>, tensor<1x32x112x5xf32>, tensor<1x32x112x2xf32>, tensor) -> tensor<1x?x112x160xf32>\n \t\t"}}}, "commit": {"commit_id": "8dbab4f830b2f77199c22e7c1763bea8e523079b", "commit_author": "Jaesung Chung", "commitT": "2020-09-24 18:29:16-07:00", "commit_complexity": {"commit_NLOC": "0.0", "commit_CCN": "1.0", "commit_Nprams": "1.0"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "tensorflow\\lite\\delegates\\flex\\allowlisted_flex_ops.cc", "file_new_name": "tensorflow\\lite\\delegates\\flex\\allowlisted_flex_ops.cc", "file_complexity": {"file_NLOC": "591", "file_CCN": "8", "file_NToken": "1355"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "523,524,525,526,527", "deleted_lines": null, "method_info": {"method_name": "tflite::flex::GetFlexAllowlist", "method_params": "", "method_startline": "25", "method_endline": "570", "method_complexity": {"method_NLOC": "541", "method_CCN": "1", "method_NToken": "1106", "method_nesting_level": "2"}}}}}}}}