{"BR": {"BR_id": "46020", "BR_author": "advaitjain", "BRopenT": "2020-12-28T21:50:28Z", "BRcloseT": "2021-01-08T00:41:55Z", "BR_text": {"BRsummary": "Common location for portable bash helper functions / aliases", "BRdescription": "\n <denchmark-link:https://github.com/orgs/tensorflow/teams/micro>@tensorflow/micro</denchmark-link>\n \n PR <denchmark-link:https://github.com/tensorflow/tensorflow/pull/46011>#46011</denchmark-link>\n  fixes the use of  to be compatible with a Mac. We are already using  in additional places too.\n While we should get <denchmark-link:https://github.com/tensorflow/tensorflow/pull/46011>#46011</denchmark-link>\n  merged, it would be better to have a common location for these helper functions / aliases.\n I can imagine collecting these into a common helper script (for example micro/tools/bash_helpers.sh) and have something like:\n UNAME_S=`uname -s`\n \n if [ UNAME_S == Linux]; then\n   alias tflm_md5sum='md5sum'\n else if [ UNAME_S == Darwin ]; then\n   alias tflm_md5sum='md5 -r'\n fi\n \n We would then need to change the different download scripts to determine the directory in which the script lives, something like: \n \n \n tensorflow/tensorflow/lite/micro/tools/ci_build/test_bluepill.sh\n \n \n         Lines 21 to 23\n       in\n       59f5abf\n \n \n \n \n \n \n  SCRIPT_DIR=\"$(cd \"$(dirname \"${BASH_SOURCE[0]}\")\" && pwd)\" \n \n \n \n  ROOT_DIR=${SCRIPT_DIR}/../../../../.. \n \n \n \n  cd \"${ROOT_DIR}\" \n \n \n \n \n \n and then have\n source tensorflow/lite/micro/tools/bash_helper.sh\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "advaitjain", "commentT": "2021-01-08T00:41:57Z", "comment_text": "\n \t\tAre you satisfied with the resolution of your issue?\n <denchmark-link:https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=Yes&entry.2137816233=https://github.com/tensorflow/tensorflow/issues/46020>Yes</denchmark-link>\n \n <denchmark-link:https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=No&entry.2137816233=https://github.com/tensorflow/tensorflow/issues/46020>No</denchmark-link>\n \n \t\t"}}}, "commit": {"commit_id": "c5ce162da8efb465e2ba8a8825049614813892a9", "commit_author": "Advait Jain", "commitT": "2021-01-05 23:33:27-08:00", "commit_complexity": {"commit_NLOC": "None", "commit_CCN": "None", "commit_Nprams": "None"}, "changed_files": {"file_0": {"file_change_type": "ADD", "file_Nmethod": 0, "file_old_name": "None", "file_new_name": "tensorflow\\lite\\micro\\tools\\make\\bash_helpers.sh", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}}, "file_1": {"file_change_type": "ADD", "file_Nmethod": 0, "file_old_name": "None", "file_new_name": "tensorflow\\lite\\micro\\tools\\make\\ext_libs\\cmsis_download.sh", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "tensorflow\\lite\\micro\\tools\\make\\ext_libs\\cmsis_nn.inc", "file_new_name": "tensorflow\\lite\\micro\\tools\\make\\ext_libs\\cmsis_nn.inc", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "8,9,13,14,15,16", "deleted_lines": "8,9,10,11,15"}}}, "file_3": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "tensorflow\\lite\\micro\\tools\\make\\flatbuffers_download.sh", "file_new_name": "tensorflow\\lite\\micro\\tools\\make\\flatbuffers_download.sh", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "34,35,36,37,38,39,97", "deleted_lines": "91,92,93,94,95,96,97,98,99,100,101,102,103,110"}}}, "file_4": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "tensorflow\\lite\\micro\\tools\\make\\renode_download.sh", "file_new_name": "tensorflow\\lite\\micro\\tools\\make\\renode_download.sh", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "34,35,36,37,38,39,82", "deleted_lines": "76,77,78,79,80,81"}}}, "file_5": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "tensorflow\\lite\\micro\\tools\\make\\targets\\apollo3evb_makefile.inc", "file_new_name": "tensorflow\\lite\\micro\\tools\\make\\targets\\apollo3evb_makefile.inc", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "15,16,17,18,19", "deleted_lines": "13"}}}, "file_6": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "tensorflow\\lite\\micro\\tools\\make\\targets\\bluepill_makefile.inc", "file_new_name": "tensorflow\\lite\\micro\\tools\\make\\targets\\bluepill_makefile.inc", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "13,14,15,16,17", "deleted_lines": "6"}}}, "file_7": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "tensorflow\\lite\\micro\\tools\\make\\targets\\stm32f4_makefile.inc", "file_new_name": "tensorflow\\lite\\micro\\tools\\make\\targets\\stm32f4_makefile.inc", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "16,17,18,19,20", "deleted_lines": "9"}}}, "file_8": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "tensorflow\\lite\\micro\\tools\\make\\third_party_downloads.inc", "file_new_name": "tensorflow\\lite\\micro\\tools\\make\\third_party_downloads.inc", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": null, "deleted_lines": "28,29,30"}}}}}}