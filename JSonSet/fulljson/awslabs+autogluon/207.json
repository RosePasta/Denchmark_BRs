{"BR": {"BR_id": "207", "BR_author": "zhanghang1989", "BRopenT": "2020-01-15T02:15:17Z", "BRcloseT": "2020-01-19T02:57:52Z", "BR_text": {"BRsummary": "Fix classifier.save() and load()", "BRdescription": "\n Current code is broken. Need to fix it immediately and add an unit-test.\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "zhanghang1989", "commentT": "2020-01-16T07:51:26Z", "comment_text": "\n \t\tthis issue intention to fix bleow problem?\n Traceback (most recent call last):\n File \"\", line 1, in \n File \"/opt/cloud/3rdComponent/anaconda/3-2019.07/lib/python3.7/site-packages/autogluon/task/image_classification/classifier.py\", line 41, in load\n args = state_dict['args']\n KeyError: 'args'\n <denchmark-link:https://user-images.githubusercontent.com/20124347/72504036-01769100-3878-11ea-98e0-635713adb075.png></denchmark-link>\n \n \t\t"}}}, "commit": {"commit_id": "aae1ef358e9e04c9e746115d7e857d5789151414", "commit_author": "Hang Zhang", "commitT": "2020-01-19 10:57:51+08:00", "commit_complexity": {"commit_NLOC": "None", "commit_CCN": "None", "commit_Nprams": "None"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "autogluon\\task\\base\\base_task.py", "file_new_name": "autogluon\\task\\base\\base_task.py", "file_complexity": {"file_NLOC": "62", "file_CCN": "8", "file_NToken": "356"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "51,52,58,59,60,61,62,66", "deleted_lines": "55,56,60", "method_info": {"method_name": "run_fit", "method_params": "cls,train_fn,search_strategy,scheduler_options", "method_startline": "31", "method_endline": "67", "method_complexity": {"method_NLOC": "35", "method_CCN": "7", "method_NToken": "245", "method_nesting_level": "1"}}}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 5, "file_old_name": "autogluon\\task\\image_classification\\classifier.py", "file_new_name": "autogluon\\task\\image_classification\\classifier.py", "file_complexity": {"file_NLOC": "177", "file_CCN": "26", "file_NToken": "1182"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "43", "deleted_lines": null, "method_info": {"method_name": "__init__", "method_params": "self,model,results,eval_func,scheduler_checkpoint,args,ensemble,format_results,kwargs", "method_startline": "42", "method_endline": "43", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "26", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "77,78,79,80,83", "deleted_lines": "79", "method_info": {"method_name": "state_dict", "method_params": "self,destination", "method_startline": "73", "method_endline": "84", "method_complexity": {"method_NLOC": "12", "method_CCN": "2", "method_NToken": "87", "method_nesting_level": "1"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "57,58,61,62,63,64,65,66,67,68,69,70,71", "deleted_lines": "54,55,58,59,60,61,62,63,69,70,71", "method_info": {"method_name": "load", "method_params": "cls,checkpoint", "method_startline": "52", "method_endline": "71", "method_complexity": {"method_NLOC": "17", "method_CCN": "2", "method_NToken": "130", "method_nesting_level": "1"}}}, "hunk_3": {"Ismethod": 1, "added_lines": "89,90", "deleted_lines": null, "method_info": {"method_name": "save", "method_params": "self,checkpoint", "method_startline": "86", "method_endline": "90", "method_complexity": {"method_NLOC": "3", "method_CCN": "1", "method_NToken": "21", "method_nesting_level": "1"}}}, "hunk_4": {"Ismethod": 1, "added_lines": null, "deleted_lines": "41", "method_info": {"method_name": "__init__", "method_params": "self,model,results,eval_func,scheduler_checkpoint,args,kwargs", "method_startline": "40", "method_endline": "41", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "18", "method_nesting_level": "1"}}}}}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 3, "file_old_name": "autogluon\\task\\image_classification\\dataset.py", "file_new_name": "autogluon\\task\\image_classification\\dataset.py", "file_complexity": {"file_NLOC": "329", "file_CCN": "55", "file_NToken": "2269"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171", "deleted_lines": null, "method_info": {"method_name": "read_csv", "method_params": "filename,root,extension", "method_startline": "150", "method_endline": "171", "method_complexity": {"method_NLOC": "17", "method_CCN": "4", "method_NToken": "124", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "155,156", "deleted_lines": null, "method_info": {"method_name": "read_csv.label_to_index", "method_params": "label_list,name", "method_startline": "155", "method_endline": "156", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "14", "method_nesting_level": "2"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "142,143", "deleted_lines": null, "method_info": {"method_name": "__init__", "method_params": "self,root,label_file,gray_scale,transform,extension", "method_startline": "142", "method_endline": "143", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "21", "method_nesting_level": "1"}}}}}, "file_3": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "autogluon\\task\\image_classification\\image_classification.py", "file_new_name": "autogluon\\task\\image_classification\\image_classification.py", "file_complexity": {"file_NLOC": "278", "file_CCN": "2", "file_NToken": "870"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "70", "deleted_lines": null, "method_info": {"method_name": "fit", "method_params": "dataset,net", "method_startline": "60", "method_endline": "109", "method_complexity": {"method_NLOC": "50", "method_CCN": "1", "method_NToken": "255", "method_nesting_level": "1"}}}}}, "file_4": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "autogluon\\task\\image_classification\\pipeline.py", "file_new_name": "autogluon\\task\\image_classification\\pipeline.py", "file_complexity": {"file_NLOC": "108", "file_CCN": "20", "file_NToken": "834"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "94,95", "deleted_lines": "94,95", "method_info": {"method_name": "train_image_classification.train", "method_params": "epoch,num_epochs,metric", "method_startline": "90", "method_endline": "97", "method_complexity": {"method_NLOC": "8", "method_CCN": "2", "method_NToken": "86", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "94,95,118", "deleted_lines": "94,95,118", "method_info": {"method_name": "train_image_classification", "method_params": "args,reporter", "method_startline": "23", "method_endline": "118", "method_complexity": {"method_NLOC": "72", "method_CCN": "14", "method_NToken": "532", "method_nesting_level": "0"}}}}}, "file_5": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "tests\\unittests\\test_image_classification.py", "file_new_name": "tests\\unittests\\test_image_classification.py", "file_complexity": {"file_NLOC": "23", "file_CCN": "2", "file_NToken": "152"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "8", "deleted_lines": "8", "method_info": {"method_name": "test_ensemble", "method_params": "", "method_startline": "4", "method_endline": "12", "method_complexity": {"method_NLOC": "9", "method_CCN": "1", "method_NToken": "60", "method_nesting_level": "0"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "14,15,16,17,18,19,20,21,22,23", "deleted_lines": null, "method_info": {"method_name": "test_classifier_save_load", "method_params": "", "method_startline": "14", "method_endline": "23", "method_complexity": {"method_NLOC": "10", "method_CCN": "1", "method_NToken": "72", "method_nesting_level": "0"}}}}}}}}