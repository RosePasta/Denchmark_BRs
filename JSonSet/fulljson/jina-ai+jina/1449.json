{"BR": {"BR_id": "1449", "BR_author": "JoanFM", "BRopenT": "2020-12-12T10:29:13Z", "BRcloseT": "2020-12-13T22:52:05Z", "BR_text": {"BRsummary": "PyClientRunTime timeout is not enough (maybe needs to be configurable)", "BRdescription": "\n Describe the bug\n PyClientRuntime has a timeout before it shuts down of 10 seconds.\n This is not enough to wait for the 1st search request to a FaissIndexer, where the FaissIndex is actually built in memory.\n Relates to <denchmark-link:https://github.com/jina-ai/examples/pull/318>jina-ai/examples#318</denchmark-link>\n \n \t"}, "comments": {}}, "commit": {"commit_id": "3db765992365da7332bd2e21e2955d07efa3083b", "commit_author": "Han Xiao", "commitT": "2020-12-13 23:52:04+01:00", "commit_complexity": {"commit_NLOC": "0.2983606557377049", "commit_CCN": "0.06229508196721312", "commit_Nprams": "0.45901639344262296"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "cli\\api.py", "file_new_name": "cli\\api.py", "file_complexity": {"file_NLOC": "62", "file_CCN": "19", "file_NToken": "406"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "48,49", "deleted_lines": "48,49", "method_info": {"method_name": "client", "method_params": "args", "method_startline": "46", "method_endline": "49", "method_complexity": {"method_NLOC": "3", "method_CCN": "1", "method_NToken": "16", "method_nesting_level": "0"}}}}}, "file_1": {"file_change_type": "ADD", "file_Nmethod": 0, "file_old_name": "None", "file_new_name": "helloworld_pb2.py", "file_complexity": {"file_NLOC": "108", "file_CCN": "0", "file_NToken": "598"}}, "file_2": {"file_change_type": "ADD", "file_Nmethod": 0, "file_old_name": "None", "file_new_name": "helloworld_pb2_grpc.py", "file_complexity": {"file_NLOC": "29", "file_CCN": "3", "file_NToken": "147"}}, "file_3": {"file_change_type": "MODIFY", "file_Nmethod": 14, "file_old_name": "jina\\clients\\__init__.py", "file_new_name": "jina\\clients\\__init__.py", "file_complexity": {"file_NLOC": "137", "file_CCN": "28", "file_NToken": "920"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "120,121", "deleted_lines": null, "method_info": {"method_name": "index", "method_params": "self,None,None,kwargs", "method_startline": "120", "method_endline": "121", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "32", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45", "deleted_lines": "30,31,32,33,34,35,36,37,38,39,40,41,42,43", "method_info": {"method_name": "__init__", "method_params": "self", "method_startline": "30", "method_endline": "45", "method_complexity": {"method_NLOC": "8", "method_CCN": "3", "method_NToken": "69", "method_nesting_level": "1"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "131,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,168", "deleted_lines": null, "method_info": {"method_name": "_inner", "method_params": "", "method_startline": "131", "method_endline": "168", "method_complexity": {"method_NLOC": "37", "method_CCN": "8", "method_NToken": "251", "method_nesting_level": "2"}}}, "hunk_3": {"Ismethod": 1, "added_lines": "94,95,96,97,98,99,100,101", "deleted_lines": null, "method_info": {"method_name": "input_fn", "method_params": "self", "method_startline": "94", "method_endline": "101", "method_complexity": {"method_NLOC": "8", "method_CCN": "2", "method_NToken": "27", "method_nesting_level": "1"}}}, "hunk_4": {"Ismethod": 1, "added_lines": "20,21,22,23,24,25,26,27,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53", "deleted_lines": "20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,46,47,48,49,50,51,52,53", "method_info": {"method_name": "py_client_old", "method_params": "kwargs", "method_startline": "20", "method_endline": "53", "method_complexity": {"method_NLOC": "33", "method_CCN": "1", "method_NToken": "56", "method_nesting_level": "0"}}}, "hunk_5": {"Ismethod": 1, "added_lines": "56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91", "deleted_lines": "56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,78,79,80,81,82,83,85,86,87,88,89,90,91", "method_info": {"method_name": "py_client", "method_params": "mode,input_fn,output_fn,kwargs", "method_startline": "56", "method_endline": "91", "method_complexity": {"method_NLOC": "30", "method_CCN": "6", "method_NToken": "206", "method_nesting_level": "0"}}}, "hunk_6": {"Ismethod": 1, "added_lines": "125,126,127,128,129", "deleted_lines": null, "method_info": {"method_name": "_submit", "method_params": "self,Callable,Callable,Callable,Callable,kwargs", "method_startline": "125", "method_endline": "129", "method_complexity": {"method_NLOC": "5", "method_CCN": "1", "method_NToken": "28", "method_nesting_level": "1"}}}, "hunk_7": {"Ismethod": 1, "added_lines": "80,81,82,83,84,85,86,87,88,89,90,91", "deleted_lines": "80,81,82,83,85,86,87,88,89,90,91", "method_info": {"method_name": "get_requests", "method_params": "self,kwargs", "method_startline": "80", "method_endline": "91", "method_complexity": {"method_NLOC": "9", "method_CCN": "2", "method_NToken": "79", "method_nesting_level": "1"}}}, "hunk_8": {"Ismethod": 1, "added_lines": "52,53,54,55,56,57", "deleted_lines": "52,53,54,55,56,57", "method_info": {"method_name": "mode", "method_params": "self,RequestType", "method_startline": "52", "method_endline": "57", "method_complexity": {"method_NLOC": "6", "method_CCN": "2", "method_NToken": "39", "method_nesting_level": "1"}}}, "hunk_9": {"Ismethod": 1, "added_lines": "104,105,106,107,108", "deleted_lines": null, "method_info": {"method_name": "input_fn", "method_params": "self,InputFnType", "method_startline": "104", "method_endline": "108", "method_complexity": {"method_NLOC": "5", "method_CCN": "2", "method_NToken": "33", "method_nesting_level": "1"}}}, "hunk_10": {"Ismethod": 1, "added_lines": "115,116", "deleted_lines": null, "method_info": {"method_name": "search", "method_params": "self,None,None,kwargs", "method_startline": "115", "method_endline": "116", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "32", "method_nesting_level": "1"}}}, "hunk_11": {"Ismethod": 1, "added_lines": "60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78", "deleted_lines": "60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,78", "method_info": {"method_name": "check_input", "method_params": "None,kwargs", "method_startline": "60", "method_endline": "78", "method_complexity": {"method_NLOC": "17", "method_CCN": "4", "method_NToken": "93", "method_nesting_level": "1"}}}, "hunk_12": {"Ismethod": 1, "added_lines": "48,49", "deleted_lines": "48,49", "method_info": {"method_name": "mode", "method_params": "self", "method_startline": "48", "method_endline": "49", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "11", "method_nesting_level": "1"}}}, "hunk_13": {"Ismethod": 1, "added_lines": "110,111", "deleted_lines": null, "method_info": {"method_name": "train", "method_params": "self,None,None,kwargs", "method_startline": "110", "method_endline": "111", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "32", "method_nesting_level": "1"}}}}}, "file_4": {"file_change_type": "RENAME", "file_Nmethod": 0, "file_old_name": "jina\\clients\\python\\helper.py", "file_new_name": "jina\\clients\\helper.py", "file_complexity": {"file_NLOC": "71", "file_CCN": "22", "file_NToken": "489"}}, "file_5": {"file_change_type": "DELETE", "file_Nmethod": 0, "file_old_name": "jina\\clients\\python\\__init__.py", "file_new_name": "None", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}}, "file_6": {"file_change_type": "DELETE", "file_Nmethod": 0, "file_old_name": "jina\\clients\\python\\grpc.py", "file_new_name": "None", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}}, "file_7": {"file_change_type": "DELETE", "file_Nmethod": 0, "file_old_name": "jina\\clients\\python\\runtime.py", "file_new_name": "None", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}}, "file_8": {"file_change_type": "RENAME", "file_Nmethod": 0, "file_old_name": "jina\\clients\\python\\request.py", "file_new_name": "jina\\clients\\request.py", "file_complexity": {"file_NLOC": "84", "file_CCN": "17", "file_NToken": "624"}}, "file_9": {"file_change_type": "RENAME", "file_Nmethod": 0, "file_old_name": "jina\\clients\\python\\io.py", "file_new_name": "jina\\clients\\sugary_io.py", "file_complexity": {"file_NLOC": "89", "file_CCN": "9", "file_NToken": "424"}}, "file_10": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "jina\\docker\\hubio.py", "file_new_name": "jina\\docker\\hubio.py", "file_complexity": {"file_NLOC": "521", "file_CCN": "126", "file_NToken": "3577"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "361,362", "deleted_lines": "362", "method_info": {"method_name": "build", "method_params": "self", "method_startline": "289", "method_endline": "425", "method_complexity": {"method_NLOC": "116", "method_CCN": "29", "method_NToken": "735", "method_nesting_level": "1"}}}}}, "file_11": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "jina\\excepts.py", "file_new_name": "jina\\excepts.py", "file_complexity": {"file_NLOC": "98", "file_CCN": "0", "file_NToken": "329"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "154,155,156,157,188,189,190,191", "deleted_lines": null}}}, "file_12": {"file_change_type": "MODIFY", "file_Nmethod": 7, "file_old_name": "jina\\flow\\__init__.py", "file_new_name": "jina\\flow\\__init__.py", "file_complexity": {"file_NLOC": "662", "file_CCN": "131", "file_NToken": "4266"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": null, "deleted_lines": "942,943,944,945,946", "method_info": {"method_name": "dry_run", "method_params": "self,kwargs", "method_startline": "942", "method_endline": "946", "method_complexity": {"method_NLOC": "3", "method_CCN": "1", "method_NToken": "18", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "77", "deleted_lines": "75", "method_info": {"method_name": "_update_args", "method_params": "self,args,kwargs", "method_startline": "72", "method_endline": "81", "method_complexity": {"method_NLOC": "9", "method_CCN": "2", "method_NToken": "64", "method_nesting_level": "1"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "540,547,548", "deleted_lines": "542,544", "method_info": {"method_name": "_get_client", "method_params": "self,kwargs", "method_startline": "540", "method_endline": "548", "method_complexity": {"method_NLOC": "8", "method_CCN": "3", "method_NToken": "63", "method_nesting_level": "1"}}}, "hunk_3": {"Ismethod": 1, "added_lines": "547,548", "deleted_lines": "542,544,550", "method_info": {"method_name": "_invoke_client", "method_params": "self,args,kwargs", "method_startline": "542", "method_endline": "550", "method_complexity": {"method_NLOC": "8", "method_CCN": "3", "method_NToken": "61", "method_nesting_level": "1"}}}, "hunk_4": {"Ismethod": 1, "added_lines": null, "deleted_lines": "282,283,284", "method_info": {"method_name": "_invoke_flowpod", "method_params": "self,Dict", "method_startline": "282", "method_endline": "284", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "36", "method_nesting_level": "1"}}}, "hunk_5": {"Ismethod": 1, "added_lines": "60", "deleted_lines": null, "method_info": {"method_name": "__init__", "method_params": "self,None,None,kwargs", "method_startline": "38", "method_endline": "70", "method_complexity": {"method_NLOC": "14", "method_CCN": "2", "method_NToken": "131", "method_nesting_level": "1"}}}, "hunk_6": {"Ismethod": 1, "added_lines": "438", "deleted_lines": "440", "method_info": {"method_name": "__exit__", "method_params": "self,exc_type,exc_val,exc_tb", "method_startline": "430", "method_endline": "443", "method_complexity": {"method_NLOC": "11", "method_CCN": "4", "method_NToken": "80", "method_nesting_level": "1"}}}}}, "file_13": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "jina\\helloworld\\helper.py", "file_new_name": "jina\\helloworld\\helper.py", "file_complexity": {"file_NLOC": "51", "file_CCN": "11", "file_NToken": "408"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "14", "deleted_lines": "12"}}}, "file_14": {"file_change_type": "MODIFY", "file_Nmethod": 9, "file_old_name": "jina\\helper.py", "file_new_name": "jina\\helper.py", "file_complexity": {"file_NLOC": "562", "file_CCN": "165", "file_NToken": "4096"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "518,519,520,521,522,523", "deleted_lines": "515,516,517,518,519,520,521,522,523", "method_info": {"method_name": "use_uvloop", "method_params": "", "method_startline": "515", "method_endline": "523", "method_complexity": {"method_NLOC": "9", "method_CCN": "2", "method_NToken": "44", "method_nesting_level": "0"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "706,707", "deleted_lines": null, "method_info": {"method_name": "run_async.run", "method_params": "self", "method_startline": "706", "method_endline": "707", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "22", "method_nesting_level": "2"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "690,691,692,693,694,695,696,697,698,699,700,701,702,703,704,705,706,707,708,709,710,711,712,713,714,715,716,717,718,719,720,721,722,723,724,725,726", "deleted_lines": null, "method_info": {"method_name": "run_async", "method_params": "func,args,kwargs", "method_startline": "690", "method_endline": "726", "method_complexity": {"method_NLOC": "18", "method_CCN": "5", "method_NToken": "97", "method_nesting_level": "0"}}}, "hunk_3": {"Ismethod": 1, "added_lines": "527,528,529,530,531", "deleted_lines": "526,527,528,529,530,531", "method_info": {"method_name": "configure_event_loop", "method_params": "", "method_startline": "526", "method_endline": "531", "method_complexity": {"method_NLOC": "4", "method_CCN": "1", "method_NToken": "19", "method_nesting_level": "0"}}}, "hunk_4": {"Ismethod": 1, "added_lines": "527,528,529,530,531,532,533,534,535,536,537,538,539,540", "deleted_lines": "527,528,529,530,531", "method_info": {"method_name": "get_or_reuse_loop", "method_params": "", "method_startline": "527", "method_endline": "540", "method_complexity": {"method_NLOC": "11", "method_CCN": "4", "method_NToken": "52", "method_nesting_level": "0"}}}, "hunk_5": {"Ismethod": 1, "added_lines": null, "deleted_lines": "444,445", "method_info": {"method_name": "get_parsed_args", "method_params": "str,str,int,ArgumentParser,str", "method_startline": "443", "method_endline": "445", "method_complexity": {"method_NLOC": "3", "method_CCN": "1", "method_NToken": "44", "method_nesting_level": "0"}}}, "hunk_6": {"Ismethod": 1, "added_lines": "448", "deleted_lines": null, "method_info": {"method_name": "get_parsed_args", "method_params": "str,str,int,ArgumentParser", "method_startline": "447", "method_endline": "448", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "38", "method_nesting_level": "0"}}}, "hunk_7": {"Ismethod": 1, "added_lines": "687", "deleted_lines": "678", "method_info": {"method_name": "namespace_to_dict", "method_params": "str", "method_startline": "674", "method_endline": "687", "method_complexity": {"method_NLOC": "14", "method_CCN": "7", "method_NToken": "111", "method_nesting_level": "0"}}}, "hunk_8": {"Ismethod": 1, "added_lines": "518,519,520,521,522,523,524", "deleted_lines": "518,519,520,521,522,523", "method_info": {"method_name": "_use_uvloop", "method_params": "", "method_startline": "518", "method_endline": "524", "method_complexity": {"method_NLOC": "7", "method_CCN": "1", "method_NToken": "34", "method_nesting_level": "0"}}}}}, "file_15": {"file_change_type": "MODIFY", "file_Nmethod": 5, "file_old_name": "jina\\logging\\profile.py", "file_new_name": "jina\\logging\\profile.py", "file_complexity": {"file_NLOC": "168", "file_CCN": "34", "file_NToken": "1036"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "230,231", "deleted_lines": null, "method_info": {"method_name": "_enter_msg", "method_params": "self", "method_startline": "230", "method_endline": "231", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "6", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "223,224,225,226,227,228", "deleted_lines": null, "method_info": {"method_name": "__enter__", "method_params": "self", "method_startline": "223", "method_endline": "228", "method_complexity": {"method_NLOC": "6", "method_CCN": "1", "method_NToken": "30", "method_nesting_level": "1"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "174,175,176,177,178,179,180,181,182,183", "deleted_lines": null, "method_info": {"method_name": "__init__", "method_params": "self,int,str,str,logger", "method_startline": "174", "method_endline": "183", "method_complexity": {"method_NLOC": "5", "method_CCN": "1", "method_NToken": "53", "method_nesting_level": "1"}}}, "hunk_3": {"Ismethod": 1, "added_lines": "185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221", "deleted_lines": null, "method_info": {"method_name": "update", "method_params": "self,int,args,kwargs", "method_startline": "185", "method_endline": "221", "method_complexity": {"method_NLOC": "36", "method_CCN": "7", "method_NToken": "243", "method_nesting_level": "1"}}}, "hunk_4": {"Ismethod": 1, "added_lines": "233,234,235,236,237,238", "deleted_lines": null, "method_info": {"method_name": "_exit_msg", "method_params": "self", "method_startline": "233", "method_endline": "238", "method_complexity": {"method_NLOC": "6", "method_CCN": "2", "method_NToken": "41", "method_nesting_level": "1"}}}}}, "file_16": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "jina\\peapods\\__init__.py", "file_new_name": "jina\\peapods\\__init__.py", "file_complexity": {"file_NLOC": "71", "file_CCN": "25", "file_NToken": "476"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "61", "deleted_lines": "61", "method_info": {"method_name": "Pod", "method_params": "None,bool,kwargs", "method_startline": "50", "method_endline": "99", "method_complexity": {"method_NLOC": "38", "method_CCN": "16", "method_NToken": "261", "method_nesting_level": "0"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "26", "deleted_lines": "26", "method_info": {"method_name": "Pea", "method_params": "None,bool,kwargs", "method_startline": "15", "method_endline": "47", "method_complexity": {"method_NLOC": "24", "method_CCN": "9", "method_NToken": "171", "method_nesting_level": "0"}}}}}, "file_17": {"file_change_type": "MODIFY", "file_Nmethod": 3, "file_old_name": "jina\\peapods\\peas\\__init__.py", "file_new_name": "jina\\peapods\\peas\\__init__.py", "file_complexity": {"file_NLOC": "343", "file_CCN": "109", "file_NToken": "2410"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "309", "deleted_lines": "309", "method_info": {"method_name": "msg_callback", "method_params": "self", "method_startline": "300", "method_endline": "338", "method_complexity": {"method_NLOC": "31", "method_CCN": "9", "method_NToken": "190", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "372", "deleted_lines": "372", "method_info": {"method_name": "unset_environment_vars", "method_params": "self", "method_startline": "369", "method_endline": "372", "method_complexity": {"method_NLOC": "4", "method_CCN": "4", "method_NToken": "35", "method_nesting_level": "1"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "135", "deleted_lines": "135", "method_info": {"method_name": "__init__", "method_params": "self", "method_startline": "105", "method_endline": "159", "method_complexity": {"method_NLOC": "35", "method_CCN": "13", "method_NToken": "333", "method_nesting_level": "1"}}}}}, "file_18": {"file_change_type": "MODIFY", "file_Nmethod": 8, "file_old_name": "jina\\peapods\\peas\\gateway\\grpc\\__init__.py", "file_new_name": "jina\\peapods\\peas\\gateway\\grpc\\__init__.py", "file_complexity": {"file_NLOC": "54", "file_CCN": "13", "file_NToken": "419"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "43,44,45,46,47,48", "deleted_lines": "43,44,45,46,47,48", "method_info": {"method_name": "serve_terminate", "method_params": "self", "method_startline": "43", "method_endline": "48", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "15", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "37,38,39,40,41,42,43", "deleted_lines": "37,38,39,40,41,42,43", "method_info": {"method_name": "loop_body", "method_params": "self", "method_startline": "37", "method_endline": "43", "method_complexity": {"method_NLOC": "6", "method_CCN": "1", "method_NToken": "47", "method_nesting_level": "1"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "19,21", "deleted_lines": "18,19,20,21,22,23,24,25,26,27,28,29,30,31", "method_info": {"method_name": "run", "method_params": "self", "method_startline": "18", "method_endline": "31", "method_complexity": {"method_NLOC": "13", "method_CCN": "5", "method_NToken": "80", "method_nesting_level": "1"}}}, "hunk_3": {"Ismethod": 1, "added_lines": "69,70,71,72,73,74,75", "deleted_lines": null, "method_info": {"method_name": "_loop_body", "method_params": "self", "method_startline": "69", "method_endline": "75", "method_complexity": {"method_NLOC": "6", "method_CCN": "2", "method_NToken": "47", "method_nesting_level": "1"}}}, "hunk_4": {"Ismethod": 1, "added_lines": "50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67", "deleted_lines": "52,54,55,63", "method_info": {"method_name": "serve_forever", "method_params": "self", "method_startline": "50", "method_endline": "67", "method_complexity": {"method_NLOC": "13", "method_CCN": "3", "method_NToken": "123", "method_nesting_level": "1"}}}, "hunk_5": {"Ismethod": 1, "added_lines": "33,34,35,36,37,38,39,40,41", "deleted_lines": "33,34,35,36,37,38,39,40,41", "method_info": {"method_name": "_wait_for_shutdown", "method_params": "self", "method_startline": "33", "method_endline": "41", "method_complexity": {"method_NLOC": "8", "method_CCN": "2", "method_NToken": "84", "method_nesting_level": "1"}}}, "hunk_6": {"Ismethod": 1, "added_lines": "45,46,47,48,49", "deleted_lines": "45,46,47,48,49", "method_info": {"method_name": "_teardown", "method_params": "self", "method_startline": "45", "method_endline": "49", "method_complexity": {"method_NLOC": "5", "method_CCN": "3", "method_NToken": "37", "method_nesting_level": "1"}}}, "hunk_7": {"Ismethod": 1, "added_lines": "12,14,17", "deleted_lines": "11,12,13,14,15,16,17,18", "method_info": {"method_name": "_handle_terminate_signal", "method_params": "self", "method_startline": "11", "method_endline": "18", "method_complexity": {"method_NLOC": "8", "method_CCN": "2", "method_NToken": "81", "method_nesting_level": "1"}}}}}, "file_19": {"file_change_type": "RENAME", "file_Nmethod": 0, "file_old_name": "jina\\peapods\\peas\\gateway\\grpc\\async_servicer.py", "file_new_name": "jina\\peapods\\peas\\gateway\\grpc\\async_call.py", "file_complexity": {"file_NLOC": "55", "file_CCN": "15", "file_NToken": "409"}}, "file_20": {"file_change_type": "DELETE", "file_Nmethod": 0, "file_old_name": "jina\\peapods\\peas\\gateway\\grpc\\async_server.py", "file_new_name": "None", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}}, "file_21": {"file_change_type": "DELETE", "file_Nmethod": 0, "file_old_name": "jina\\peapods\\peas\\gateway\\grpc\\helper.py", "file_new_name": "None", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}}, "file_22": {"file_change_type": "DELETE", "file_Nmethod": 0, "file_old_name": "jina\\peapods\\peas\\gateway\\rest.py", "file_new_name": "None", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}}, "file_23": {"file_change_type": "ADD", "file_Nmethod": 0, "file_old_name": "None", "file_new_name": "jina\\peapods\\peas\\gateway\\rest\\__init__.py", "file_complexity": {"file_NLOC": "52", "file_CCN": "11", "file_NToken": "440"}}, "file_24": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "jina\\peapods\\pods\\flow.py", "file_new_name": "jina\\peapods\\pods\\flow.py", "file_complexity": {"file_NLOC": "95", "file_CCN": "17", "file_NToken": "648"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "32", "deleted_lines": "32"}}}, "file_25": {"file_change_type": "MODIFY", "file_Nmethod": 6, "file_old_name": "jina\\peapods\\zmq\\__init__.py", "file_new_name": "jina\\peapods\\zmq\\__init__.py", "file_complexity": {"file_NLOC": "478", "file_CCN": "82", "file_NToken": "2909"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": null, "deleted_lines": "320,321,322,323", "method_info": {"method_name": "_get_zmq_ctx", "method_params": "self", "method_startline": "320", "method_endline": "323", "method_complexity": {"method_NLOC": "4", "method_CCN": "2", "method_NToken": "24", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": null, "deleted_lines": "329,330,331,332,333,334,335,336,337", "method_info": {"method_name": "init_sockets", "method_params": "self", "method_startline": "329", "method_endline": "337", "method_complexity": {"method_NLOC": "8", "method_CCN": "2", "method_NToken": "56", "method_nesting_level": "1"}}}, "hunk_2": {"Ismethod": 1, "added_lines": null, "deleted_lines": "325,326,327", "method_info": {"method_name": "set_timeout", "method_params": "self", "method_startline": "325", "method_endline": "327", "method_complexity": {"method_NLOC": "3", "method_CCN": "1", "method_NToken": "33", "method_nesting_level": "1"}}}, "hunk_3": {"Ismethod": 1, "added_lines": "294", "deleted_lines": "291,292,293,294,295,296,297,298,299", "method_info": {"method_name": "register_pollin", "method_params": "self", "method_startline": "291", "method_endline": "299", "method_complexity": {"method_NLOC": "9", "method_CCN": "1", "method_NToken": "82", "method_nesting_level": "1"}}}, "hunk_4": {"Ismethod": 1, "added_lines": null, "deleted_lines": "302,303", "method_info": {"method_name": "__init__", "method_params": "self,None,True,True,int", "method_startline": "302", "method_endline": "303", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "36", "method_nesting_level": "1"}}}, "hunk_5": {"Ismethod": 1, "added_lines": null, "deleted_lines": "339,340", "method_info": {"method_name": "print_stats", "method_params": "self", "method_startline": "339", "method_endline": "340", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "6", "method_nesting_level": "1"}}}}}, "file_26": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "jina\\types\\request\\common.py", "file_new_name": "jina\\types\\request\\common.py", "file_complexity": {"file_NLOC": "25", "file_CCN": "4", "file_NToken": "173"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "4", "deleted_lines": "4"}}}, "file_27": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "jina\\types\\sets\\querylang.py", "file_new_name": "jina\\types\\sets\\querylang.py", "file_complexity": {"file_NLOC": "67", "file_CCN": "23", "file_NToken": "503"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "13", "deleted_lines": "13"}}}, "file_28": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "tests\\integration\\incremental_indexing\\test_incremental_indexing.py", "file_new_name": "tests\\integration\\incremental_indexing\\test_incremental_indexing.py", "file_complexity": {"file_NLOC": "114", "file_CCN": "8", "file_NToken": "839"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "24,25", "deleted_lines": "24,25", "method_info": {"method_name": "test_incremental_indexing_sequential_indexers", "method_params": "random_workspace", "method_startline": "16", "method_endline": "39", "method_complexity": {"method_NLOC": "18", "method_CCN": "1", "method_NToken": "145", "method_nesting_level": "0"}}}}}, "file_29": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "tests\\integration\\test_helloworld.py", "file_new_name": "tests\\integration\\test_helloworld.py", "file_complexity": {"file_NLOC": "84", "file_CCN": "9", "file_NToken": "762"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "8", "deleted_lines": "8"}}}, "file_30": {"file_change_type": "MODIFY", "file_Nmethod": 5, "file_old_name": "tests\\unit\\clients\\python\\test_client.py", "file_new_name": "tests\\unit\\clients\\python\\test_client.py", "file_complexity": {"file_NLOC": "64", "file_CCN": "11", "file_NToken": "486"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "38", "deleted_lines": "37,38", "method_info": {"method_name": "test_check_input_success", "method_params": "input_fn", "method_startline": "37", "method_endline": "38", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "11", "method_nesting_level": "0"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "43,44", "deleted_lines": "42,43,44", "method_info": {"method_name": "test_check_input_fail", "method_params": "input_fn", "method_startline": "42", "method_endline": "44", "method_complexity": {"method_NLOC": "3", "method_CCN": "1", "method_NToken": "19", "method_nesting_level": "0"}}}, "hunk_2": {"Ismethod": 1, "added_lines": null, "deleted_lines": "48,49,50,51,52", "method_info": {"method_name": "test_client_index", "method_params": "flow", "method_startline": "48", "method_endline": "52", "method_complexity": {"method_NLOC": "5", "method_CCN": "1", "method_NToken": "35", "method_nesting_level": "0"}}}, "hunk_3": {"Ismethod": 1, "added_lines": "38,43,44", "deleted_lines": "38,39,40,41,42,43,44", "method_info": {"method_name": "test_client_call_unary", "method_params": "flow", "method_startline": "38", "method_endline": "44", "method_complexity": {"method_NLOC": "7", "method_CCN": "1", "method_NToken": "44", "method_nesting_level": "0"}}}, "hunk_4": {"Ismethod": 1, "added_lines": null, "deleted_lines": "56,57,58,59,60", "method_info": {"method_name": "test_client_search", "method_params": "flow", "method_startline": "56", "method_endline": "60", "method_complexity": {"method_NLOC": "5", "method_CCN": "1", "method_NToken": "35", "method_nesting_level": "0"}}}}}, "file_31": {"file_change_type": "MODIFY", "file_Nmethod": 3, "file_old_name": "tests\\unit\\clients\\python\\test_io.py", "file_new_name": "tests\\unit\\clients\\python\\test_io.py", "file_complexity": {"file_NLOC": "54", "file_CCN": "8", "file_NToken": "394"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "70", "deleted_lines": "69", "method_info": {"method_name": "test_input_numpy", "method_params": "array", "method_startline": "69", "method_endline": "70", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "14", "method_nesting_level": "0"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "64,65", "deleted_lines": "63,64", "method_info": {"method_name": "test_input_files_with_invalid_read_mode", "method_params": "", "method_startline": "63", "method_endline": "65", "method_complexity": {"method_NLOC": "3", "method_CCN": "1", "method_NToken": "27", "method_nesting_level": "0"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "52", "deleted_lines": "51", "method_info": {"method_name": "test_input_files", "method_params": "patterns,recursive,size,sampling_rate,read_mode", "method_startline": "51", "method_endline": "60", "method_complexity": {"method_NLOC": "10", "method_CCN": "1", "method_NToken": "40", "method_nesting_level": "0"}}}}}, "file_32": {"file_change_type": "MODIFY", "file_Nmethod": 3, "file_old_name": "tests\\unit\\clients\\python\\test_on_err.py", "file_new_name": "tests\\unit\\clients\\python\\test_on_err.py", "file_complexity": {"file_NLOC": "10", "file_CCN": "2", "file_NToken": "76"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "6,7", "deleted_lines": null, "method_info": {"method_name": "validate", "method_params": "x", "method_startline": "6", "method_endline": "7", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "7", "method_nesting_level": "0"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "10", "deleted_lines": "9,10", "method_info": {"method_name": "test_on_error.validate", "method_params": "x", "method_startline": "9", "method_endline": "10", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "7", "method_nesting_level": "1"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "10,12", "deleted_lines": "10,11,12,14,15", "method_info": {"method_name": "test_on_error", "method_params": "mocker", "method_startline": "10", "method_endline": "16", "method_complexity": {"method_NLOC": "6", "method_CCN": "1", "method_NToken": "57", "method_nesting_level": "0"}}}}}, "file_33": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "tests\\unit\\clients\\python\\test_request.py", "file_new_name": "tests\\unit\\clients\\python\\test_request.py", "file_complexity": {"file_NLOC": "204", "file_CCN": "40", "file_NToken": "1623"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "8", "deleted_lines": "8"}}}, "file_34": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "tests\\unit\\drivers\\querylang\\test_querylang_reader.py", "file_new_name": "tests\\unit\\drivers\\querylang\\test_querylang_reader.py", "file_complexity": {"file_NLOC": "56", "file_CCN": "10", "file_NToken": "456"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "40", "deleted_lines": "40", "method_info": {"method_name": "test_querylang_request", "method_params": "", "method_startline": "38", "method_endline": "40", "method_complexity": {"method_NLOC": "3", "method_CCN": "1", "method_NToken": "36", "method_nesting_level": "0"}}}}}, "file_35": {"file_change_type": "MODIFY", "file_Nmethod": 5, "file_old_name": "tests\\unit\\flow\\test_flow.py", "file_new_name": "tests\\unit\\flow\\test_flow.py", "file_complexity": {"file_NLOC": "452", "file_CCN": "50", "file_NToken": "4075"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": null, "deleted_lines": "408", "method_info": {"method_name": "test_dry_run_with_two_pathways_diverging_at_non_gateway", "method_params": "", "method_startline": "382", "method_endline": "408", "method_complexity": {"method_NLOC": "22", "method_CCN": "2", "method_NToken": "206", "method_nesting_level": "0"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "53,103", "deleted_lines": "54,104", "method_info": {"method_name": "test_flow_with_jump", "method_params": "", "method_startline": "41", "method_endline": "105", "method_complexity": {"method_NLOC": "50", "method_CCN": "2", "method_NToken": "460", "method_nesting_level": "0"}}}, "hunk_2": {"Ismethod": 1, "added_lines": null, "deleted_lines": "202,203,204,205,206,207", "method_info": {"method_name": "test_dryrun", "method_params": "", "method_startline": "202", "method_endline": "207", "method_complexity": {"method_NLOC": "5", "method_CCN": "1", "method_NToken": "39", "method_nesting_level": "0"}}}, "hunk_3": {"Ismethod": 1, "added_lines": "282", "deleted_lines": "291,292,293,304,305,306,307,308,309,310", "method_info": {"method_name": "test_py_client", "method_params": "", "method_startline": "282", "method_endline": "336", "method_complexity": {"method_NLOC": "44", "method_CCN": "2", "method_NToken": "430", "method_nesting_level": "0"}}}, "hunk_4": {"Ismethod": 1, "added_lines": null, "deleted_lines": "379", "method_info": {"method_name": "test_dry_run_with_two_pathways_diverging_at_gateway", "method_params": "", "method_startline": "357", "method_endline": "379", "method_complexity": {"method_NLOC": "18", "method_CCN": "2", "method_NToken": "171", "method_nesting_level": "0"}}}}}, "file_36": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "tests\\unit\\flow\\test_flow_example_face.py", "file_new_name": "tests\\unit\\flow\\test_flow_example_face.py", "file_complexity": {"file_NLOC": "122", "file_CCN": "10", "file_NToken": "1234"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "75", "deleted_lines": "75", "method_info": {"method_name": "test_index", "method_params": "", "method_startline": "9", "method_endline": "75", "method_complexity": {"method_NLOC": "60", "method_CCN": "5", "method_NToken": "609", "method_nesting_level": "0"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "144", "deleted_lines": "144", "method_info": {"method_name": "test_query", "method_params": "", "method_startline": "78", "method_endline": "144", "method_complexity": {"method_NLOC": "60", "method_CCN": "5", "method_NToken": "609", "method_nesting_level": "0"}}}}}, "file_37": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "tests\\unit\\flow\\test_flow_example_faiss.py", "file_new_name": "tests\\unit\\flow\\test_flow_example_faiss.py", "file_complexity": {"file_NLOC": "90", "file_CCN": "6", "file_NToken": "938"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "57", "deleted_lines": "57", "method_info": {"method_name": "test_index", "method_params": "", "method_startline": "9", "method_endline": "57", "method_complexity": {"method_NLOC": "44", "method_CCN": "3", "method_NToken": "461", "method_nesting_level": "0"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "108", "deleted_lines": "108", "method_info": {"method_name": "test_query", "method_params": "", "method_startline": "60", "method_endline": "108", "method_complexity": {"method_NLOC": "44", "method_CCN": "3", "method_NToken": "461", "method_nesting_level": "0"}}}}}, "file_38": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "tests\\unit\\flow\\test_flow_except.py", "file_new_name": "tests\\unit\\flow\\test_flow_except.py", "file_complexity": {"file_NLOC": "119", "file_CCN": "30", "file_NToken": "1041"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "47", "deleted_lines": "47", "method_info": {"method_name": "test_bad_flow_customized", "method_params": "mocker", "method_startline": "35", "method_endline": "58", "method_complexity": {"method_NLOC": "14", "method_CCN": "1", "method_NToken": "112", "method_nesting_level": "0"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "76", "deleted_lines": "76", "method_info": {"method_name": "test_except_with_parallel", "method_params": "mocker", "method_startline": "61", "method_endline": "87", "method_complexity": {"method_NLOC": "14", "method_CCN": "1", "method_NToken": "116", "method_nesting_level": "0"}}}}}, "file_39": {"file_change_type": "MODIFY", "file_Nmethod": 3, "file_old_name": "tests\\unit\\peapods\\test_container.py", "file_new_name": "tests\\unit\\peapods\\test_container.py", "file_complexity": {"file_NLOC": "123", "file_CCN": "14", "file_NToken": "1025"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": null, "deleted_lines": "154", "method_info": {"method_name": "test_tail_host_docker2local_parallel", "method_params": "docker_image_built", "method_startline": "148", "method_endline": "154", "method_complexity": {"method_NLOC": "7", "method_CCN": "1", "method_NToken": "69", "method_nesting_level": "0"}}}, "hunk_1": {"Ismethod": 1, "added_lines": null, "deleted_lines": "117", "method_info": {"method_name": "test_flow_topo_parallel", "method_params": "docker_image_built", "method_startline": "108", "method_endline": "118", "method_complexity": {"method_NLOC": "10", "method_CCN": "1", "method_NToken": "97", "method_nesting_level": "0"}}}, "hunk_2": {"Ismethod": 1, "added_lines": null, "deleted_lines": "163", "method_info": {"method_name": "test_tail_host_docker2local", "method_params": "docker_image_built", "method_startline": "157", "method_endline": "163", "method_complexity": {"method_NLOC": "7", "method_CCN": "1", "method_NToken": "62", "method_nesting_level": "0"}}}}}, "file_40": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "tests\\unit\\peapods\\test_pea.py", "file_new_name": "tests\\unit\\peapods\\test_pea.py", "file_complexity": {"file_NLOC": "45", "file_CCN": "5", "file_NToken": "398"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "27,28,29,30,31", "deleted_lines": null, "method_info": {"method_name": "test_gateway_pea", "method_params": "runtime", "method_startline": "27", "method_endline": "31", "method_complexity": {"method_NLOC": "5", "method_CCN": "1", "method_NToken": "38", "method_nesting_level": "0"}}}}}, "file_41": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "tests\\unit\\peapods\\test_pods.py", "file_new_name": "tests\\unit\\peapods\\test_pods.py", "file_complexity": {"file_NLOC": "88", "file_CCN": "12", "file_NToken": "715"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "107", "deleted_lines": "107", "method_info": {"method_name": "test_pod_env_setting", "method_params": "", "method_startline": "87", "method_endline": "107", "method_complexity": {"method_NLOC": "10", "method_CCN": "1", "method_NToken": "63", "method_nesting_level": "0"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "130", "deleted_lines": "130", "method_info": {"method_name": "test_pod_env_setting_thread", "method_params": "", "method_startline": "110", "method_endline": "130", "method_complexity": {"method_NLOC": "10", "method_CCN": "1", "method_NToken": "67", "method_nesting_level": "0"}}}}}, "file_42": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "tests\\unit\\test_helper.py", "file_new_name": "tests\\unit\\test_helper.py", "file_complexity": {"file_NLOC": "153", "file_CCN": "27", "file_NToken": "1006"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "9", "deleted_lines": "5,10"}}}, "file_43": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "tests\\unit\\test_quant.py", "file_new_name": "tests\\unit\\test_quant.py", "file_complexity": {"file_NLOC": "30", "file_CCN": "4", "file_NToken": "234"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "37,41", "deleted_lines": "39", "method_info": {"method_name": "test_quant_f1", "method_params": "quant", "method_startline": "33", "method_endline": "41", "method_complexity": {"method_NLOC": "7", "method_CCN": "1", "method_NToken": "62", "method_nesting_level": "0"}}}, "hunk_1": {"Ismethod": 1, "added_lines": null, "deleted_lines": "45,46,47,48,49,50,51", "method_info": {"method_name": "test_quant_f2", "method_params": "quant", "method_startline": "45", "method_endline": "51", "method_complexity": {"method_NLOC": "6", "method_CCN": "1", "method_NToken": "59", "method_nesting_level": "0"}}}}}, "file_44": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "tests\\unit\\types\\message\\test_message.py", "file_new_name": "tests\\unit\\types\\message\\test_message.py", "file_complexity": {"file_NLOC": "142", "file_CCN": "41", "file_NToken": "1278"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "7", "deleted_lines": "7"}}}}}}