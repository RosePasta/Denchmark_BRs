{"BR": {"BR_id": "146", "BR_author": "kostinalexey", "BRopenT": "2017-11-01T15:23:24Z", "BRcloseT": "2017-11-01T23:48:26Z", "BR_text": {"BRsummary": "Does not build on gcc (Ubuntu 5.4.0-6ubuntu1~16.04.5) 5.4.0 20160609", "BRdescription": "\n <denchmark-h:h3>Description</denchmark-h>\n \n Error message\n src/cpu/jit_avx512_common_conv_kernel.cpp:2666:42: error: assuming signed overflow does not occur when assuming that (X + c) < X is always false [-Werror=strict-overflow]\n auto emit_fma_block = [&](int kh_step) {\n ^\n <denchmark-h:h3>Environment</denchmark-h>\n \n MKL lib is from l_mkl_2018.0.128\n See compiler version in the tile\n <denchmark-h:h3>Steps to reproduce</denchmark-h>\n \n \n clone\n mkdir build\n cd build\n cmake \"source_dir\"\n make -j 20\n \n <denchmark-h:h3>Actual behavior</denchmark-h>\n \n <denchmark-h:h3>Expected behavior</denchmark-h>\n \n compile OK\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "kostinalexey", "commentT": "2017-11-01T15:29:25Z", "comment_text": "\n \t\t[  1%] Building CXX object src/CMakeFiles/mkldnn.dir/cpu/jit_avx512_common_conv_kernel.cpp.o cd _hidden_/mkl-dnn/build/src && /usr/bin/c++   -DMKLDNN_DLL -DMKLDNN_DLL_EXPORTS -DUSE_CBLAS -DUSE_MKL -D__STDC_CONSTANT_MACROS -D__STDC_LIMIT_MACROS -Dmkldnn_EXPORTS -I/opt/intel/mkl/include -I_hidden_/mkl-dnn/include -I_hidden_/mkl-dnn/src -I_hidden_/mkl-dnn/src/common -I_hidden_/mkl-dnn/src/cpu/xbyak  -std=c++11 -fvisibility-inlines-hidden  -Wall -Werror -Wno-unknown-pragmas -fvisibility=internal -fopenmp -fPIC -Wformat -Wformat-security -fstack-protector-strong -O3 -DNDEBUG -D_FORTIFY_SOURCE=2 -fPIC   -std=gnu++11 -o CMakeFiles/mkldnn.dir/cpu/jit_avx512_common_conv_kernel.cpp.o -c _hidden_/mkl-dnn/src/cpu/jit_avx512_common_conv_kernel.cpp _hidden_/mkl-dnn/src/cpu/jit_avx512_common_conv_kernel.cpp: In lambda function: _hidden_/mkl-dnn/src/cpu/jit_avx512_common_conv_kernel.cpp:2666:42: error: assuming signed overflow does not occur when assuming that (X + c) < X is always false [-Werror=strict-overflow] auto emit_fma_block = [&](int kh_step) { ^ cc1plus: all warnings being treated as errors\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "kostinalexey", "commentT": "2017-11-01T17:15:14Z", "comment_text": "\n \t\tSeems like a bug in gcc 5.4.0.\n Potential fix is <denchmark-link:https://gist.github.com/emfomenk/d0ac0cccef7df32ac81d539e1874c45c>here</denchmark-link>\n .\n \t\t"}}}, "commit": {"commit_id": "2604f435da7bb9f1896ae37200d91734adfdba9c", "commit_author": "Fomenko, Evarist M", "commitT": "2017-11-01 18:34:37+00:00", "commit_complexity": {"commit_NLOC": "None", "commit_CCN": "None", "commit_Nprams": "None"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "cmake\\platform.cmake", "file_new_name": "cmake\\platform.cmake", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "54,55,56,57,58", "deleted_lines": null}}}}}}