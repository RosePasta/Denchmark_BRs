{"BR": {"BR_id": "283", "BR_author": "benidis", "BRopenT": "2019-09-05T11:32:44Z", "BRcloseT": "2019-09-07T10:45:36Z", "BR_text": {"BRsummary": "The calculation of dataset statistics reads wrong feature fields", "BRdescription": "\n Given a dataset ds that includes features, ds.calc_stats() searches for cat and dynamic_feat to compute feature statistics, which are outdated fields. This always givas as ouput cats=[] and num_dymanic_feat=0.\n This issue appeared in <denchmark-link:https://github.com/awslabs/gluon-ts/issues/280>#280</denchmark-link>\n  as a side problem.\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "benidis", "commentT": "2019-09-07T10:45:36Z", "comment_text": "\n \t\tFixed in <denchmark-link:https://github.com/awslabs/gluon-ts/pull/292>#292</denchmark-link>\n  .\n \t\t"}}}, "commit": {"commit_id": "2394ce5743c696d585e58157197857a3e99ea297", "commit_author": "Konstantinos Benidis", "commitT": "2019-09-07 12:43:54+02:00", "commit_complexity": {"commit_NLOC": "0.10714285714285714", "commit_CCN": "0.5357142857142857", "commit_Nprams": "0.9702380952380952"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "docs\\examples\\basic_forecasting_tutorial\\tutorial.md", "file_new_name": "docs\\examples\\basic_forecasting_tutorial\\tutorial.md", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "354,355", "deleted_lines": "354"}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "docs\\examples\\extended_forecasting_tutorial\\extended_tutorial.md", "file_new_name": "docs\\examples\\extended_forecasting_tutorial\\extended_tutorial.md", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "240,837", "deleted_lines": "240,426,838"}}}, "file_2": {"file_change_type": "ADD", "file_Nmethod": 0, "file_old_name": "None", "file_new_name": "src\\gluonts\\dataset\\field_names.py", "file_complexity": {"file_NLOC": "18", "file_CCN": "0", "file_NToken": "43"}}, "file_3": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "src\\gluonts\\dataset\\stat.py", "file_new_name": "src\\gluonts\\dataset\\stat.py", "file_complexity": {"file_NLOC": "299", "file_CCN": "41", "file_NToken": "1392"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "163,164,165,166,167,168,175,176,177,182,185,186,189,190,191,192,193,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,244,245,248,249,250,251,252,253,254,255,256,257,258,259,260,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,306,307,308,310,311,312,314,316,317,318,321,323,324,325,329,333,335,336,337,339,370,371,372,373,374,375,376,377", "deleted_lines": "160,161,162,169,171,173,176,177,178,179,180,181,182,185,186,195,196,197,200,201,204,205,206,207,209,210,212,214,215,216,218,219,221,223,224,225,228,230,231,232,236,240,242,243,244,246,270,278", "method_info": {"method_name": "calculate_dataset_statistics", "method_params": "Any", "method_startline": "142", "method_endline": "381", "method_complexity": {"method_NLOC": "196", "method_CCN": "23", "method_NToken": "840", "method_nesting_level": "0"}}}}}, "file_4": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "src\\gluonts\\model\\canonical\\_estimator.py", "file_new_name": "src\\gluonts\\model\\canonical\\_estimator.py", "file_complexity": {"file_NLOC": "173", "file_CCN": "6", "file_NToken": "894"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "88,89,90,91,92", "deleted_lines": "87,88,89,90,91", "method_info": {"method_name": "create_transformation", "method_params": "self", "method_startline": "73", "method_endline": "99", "method_complexity": {"method_NLOC": "27", "method_CCN": "1", "method_NToken": "149", "method_nesting_level": "1"}}}}}, "file_5": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "src\\gluonts\\model\\deep_factor\\_estimator.py", "file_new_name": "src\\gluonts\\model\\deep_factor\\_estimator.py", "file_complexity": {"file_NLOC": "151", "file_CCN": "5", "file_NToken": "814"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "23", "deleted_lines": "39"}}}, "file_6": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "src\\gluonts\\model\\deepar\\_estimator.py", "file_new_name": "src\\gluonts\\model\\deepar\\_estimator.py", "file_complexity": {"file_NLOC": "260", "file_CCN": "7", "file_NToken": "1011"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "22", "deleted_lines": "39"}}}, "file_7": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "src\\gluonts\\model\\deepstate\\_estimator.py", "file_new_name": "src\\gluonts\\model\\deepstate\\_estimator.py", "file_complexity": {"file_NLOC": "281", "file_CCN": "8", "file_NToken": "1110"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "23", "deleted_lines": "40"}}}, "file_8": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "src\\gluonts\\model\\gp_forecaster\\_estimator.py", "file_new_name": "src\\gluonts\\model\\gp_forecaster\\_estimator.py", "file_complexity": {"file_NLOC": "192", "file_CCN": "4", "file_NToken": "733"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "164", "deleted_lines": "164,165,166", "method_info": {"method_name": "create_transformation", "method_params": "self", "method_startline": "150", "method_endline": "177", "method_complexity": {"method_NLOC": "28", "method_CCN": "1", "method_NToken": "148", "method_nesting_level": "1"}}}}}, "file_9": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "src\\gluonts\\model\\predictor.py", "file_new_name": "src\\gluonts\\model\\predictor.py", "file_complexity": {"file_NLOC": "625", "file_CCN": "76", "file_NToken": "2974"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "50,61", "deleted_lines": "60"}}}, "file_10": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "src\\gluonts\\model\\seq2seq\\_forking_estimator.py", "file_new_name": "src\\gluonts\\model\\seq2seq\\_forking_estimator.py", "file_complexity": {"file_NLOC": "133", "file_CCN": "4", "file_NToken": "465"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "23", "deleted_lines": "31"}}}, "file_11": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "src\\gluonts\\model\\seq2seq\\_seq2seq_estimator.py", "file_new_name": "src\\gluonts\\model\\seq2seq\\_seq2seq_estimator.py", "file_complexity": {"file_NLOC": "255", "file_CCN": "7", "file_NToken": "1362"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "101,102,103,118,119,120,121", "deleted_lines": "100,101,102,117,118,119,120", "method_info": {"method_name": "create_transformation", "method_params": "self", "method_startline": "94", "method_endline": "128", "method_complexity": {"method_NLOC": "35", "method_CCN": "1", "method_NToken": "186", "method_nesting_level": "1"}}}}}, "file_12": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "src\\gluonts\\model\\simple_feedforward\\_estimator.py", "file_new_name": "src\\gluonts\\model\\simple_feedforward\\_estimator.py", "file_complexity": {"file_NLOC": "154", "file_CCN": "4", "file_NToken": "501"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "22", "deleted_lines": "29"}}}, "file_13": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "src\\gluonts\\model\\transformer\\_estimator.py", "file_new_name": "src\\gluonts\\model\\transformer\\_estimator.py", "file_complexity": {"file_NLOC": "279", "file_CCN": "7", "file_NToken": "1075"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "22", "deleted_lines": "39"}}}, "file_14": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "src\\gluonts\\model\\trivial\\constant.py", "file_new_name": "src\\gluonts\\model\\trivial\\constant.py", "file_complexity": {"file_NLOC": "65", "file_CCN": "4", "file_NToken": "284"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "24", "deleted_lines": "27"}}}, "file_15": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "src\\gluonts\\model\\trivial\\identity.py", "file_new_name": "src\\gluonts\\model\\trivial\\identity.py", "file_complexity": {"file_NLOC": "41", "file_CCN": "2", "file_NToken": "189"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "23", "deleted_lines": "25"}}}, "file_16": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "src\\gluonts\\model\\trivial\\mean.py", "file_new_name": "src\\gluonts\\model\\trivial\\mean.py", "file_complexity": {"file_NLOC": "94", "file_CCN": "6", "file_NToken": "425"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "24", "deleted_lines": "29"}}}, "file_17": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "src\\gluonts\\model\\wavenet\\_estimator.py", "file_new_name": "src\\gluonts\\model\\wavenet\\_estimator.py", "file_complexity": {"file_NLOC": "349", "file_CCN": "14", "file_NToken": "1463"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "27", "deleted_lines": "45"}}}, "file_18": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "src\\gluonts\\transform.py", "file_new_name": "src\\gluonts\\transform.py", "file_complexity": {"file_NLOC": "1073", "file_CCN": "108", "file_NToken": "4592"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": null, "deleted_lines": "55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79"}}}, "file_19": {"file_change_type": "ADD", "file_Nmethod": 0, "file_old_name": "None", "file_new_name": "test\\dataset\\test_fieldnames.py", "file_complexity": {"file_NLOC": "14", "file_CCN": "1", "file_NToken": "53"}}, "file_20": {"file_change_type": "MODIFY", "file_Nmethod": 6, "file_old_name": "test\\dataset\\test_stat.py", "file_new_name": "test\\dataset\\test_stat.py", "file_complexity": {"file_NLOC": "270", "file_CCN": "12", "file_NToken": "1276"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "45,46,47,48,49,50", "deleted_lines": "44,46,47,48", "method_info": {"method_name": "make_time_series", "method_params": "start,target,feat_static_cat,feat_static_real,num_feat_dynamic_cat,num_feat_dynamic_real", "method_startline": "44", "method_endline": "50", "method_complexity": {"method_NLOC": "7", "method_CCN": "1", "method_NToken": "26", "method_nesting_level": "0"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "194,195,196,197,198,199,200,201,202,205,207,208,213,215,216,220,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,250,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,286,287,292,293,294,295,296,297,298,299,300,301,302,305,307,308,309,310,311,312,313,314,316,317,326,327,337,338", "deleted_lines": "185,186,187,188,189,190,191,192,193,202,203,207,208,210,211,214,216,217,218,220,221,230,231,241,242", "method_info": {"method_name": "test_dataset_statistics_exceptions", "method_params": "self", "method_startline": "182", "method_endline": "341", "method_complexity": {"method_NLOC": "136", "method_CCN": "1", "method_NToken": "474", "method_nesting_level": "1"}}}, "hunk_2": {"Ismethod": 1, "added_lines": null, "deleted_lines": "44", "method_info": {"method_name": "make_time_series", "method_params": "start,target,cat,num_dynamic_feat", "method_startline": "43", "method_endline": "44", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "17", "method_nesting_level": "0"}}}, "hunk_3": {"Ismethod": 1, "added_lines": "65,66", "deleted_lines": "60,62,63,64,65", "method_info": {"method_name": "ts", "method_params": "start,target,cat,dynamic_feat", "method_startline": "60", "method_endline": "66", "method_complexity": {"method_NLOC": "7", "method_CCN": "3", "method_NToken": "54", "method_nesting_level": "0"}}}, "hunk_4": {"Ismethod": 1, "added_lines": "118,119,120,121,131,132,133,134,135,138,139,140,141,142,145,146,147,148,149", "deleted_lines": "94,95,105,108,111,156", "method_info": {"method_name": "test_dataset_statistics", "method_params": "self", "method_startline": "94", "method_endline": "156", "method_complexity": {"method_NLOC": "53", "method_CCN": "2", "method_NToken": "325", "method_nesting_level": "1"}}}, "hunk_5": {"Ismethod": 1, "added_lines": "73,74,75,76,77,78,79", "deleted_lines": null, "method_info": {"method_name": "ts", "method_params": "start,target,feat_static_cat,feat_static_real,feat_dynamic_cat,feat_dynamic_real", "method_startline": "73", "method_endline": "79", "method_complexity": {"method_NLOC": "7", "method_CCN": "1", "method_NToken": "22", "method_nesting_level": "0"}}}}}, "file_21": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "test\\model\\seq2seq\\test_forking_sequence_splitter.py", "file_new_name": "test\\model\\seq2seq\\test_forking_sequence_splitter.py", "file_complexity": {"file_NLOC": "68", "file_CCN": "3", "file_NToken": "403"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "45,79", "deleted_lines": "44,78", "method_info": {"method_name": "test_forking_sequence_splitter", "method_params": "", "method_startline": "25", "method_endline": "97", "method_complexity": {"method_NLOC": "53", "method_CCN": "1", "method_NToken": "298", "method_nesting_level": "0"}}}}}, "file_22": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "test\\model\\test_deepar_smoke.py", "file_new_name": "test\\model\\test_deepar_smoke.py", "file_complexity": {"file_NLOC": "117", "file_CCN": "2", "file_NToken": "597"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "23", "deleted_lines": "24"}}}, "file_23": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "test\\paper_examples\\test_axiv_paper_examples.py", "file_new_name": "test\\paper_examples\\test_axiv_paper_examples.py", "file_complexity": {"file_NLOC": "126", "file_CCN": "10", "file_NToken": "781"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": null, "deleted_lines": "67", "method_info": {"method_name": "test_appendix_c", "method_params": "", "method_startline": "53", "method_endline": "182", "method_complexity": {"method_NLOC": "65", "method_CCN": "1", "method_NToken": "331", "method_nesting_level": "0"}}}}}, "file_24": {"file_change_type": "MODIFY", "file_Nmethod": 7, "file_old_name": "test\\test_transform.py", "file_new_name": "test\\test_transform.py", "file_complexity": {"file_NLOC": "463", "file_CCN": "33", "file_NToken": "2859"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "137", "deleted_lines": "136", "method_info": {"method_name": "test_AddAgeFeatures", "method_params": "start,target,is_train", "method_startline": "133", "method_endline": "153", "method_complexity": {"method_NLOC": "19", "method_CCN": "2", "method_NToken": "127", "method_nesting_level": "0"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "351,352,362,368,378,379,380,381", "deleted_lines": "351,352,362,368,378,379,380,381", "method_info": {"method_name": "test_multi_dim_transformation", "method_params": "is_train", "method_startline": "328", "method_endline": "428", "method_complexity": {"method_NLOC": "91", "method_CCN": "4", "method_NToken": "584", "method_nesting_level": "0"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "109,110", "deleted_lines": "108,109", "method_info": {"method_name": "test_AddTimeFeatures", "method_params": "start,target,is_train", "method_startline": "106", "method_endline": "127", "method_complexity": {"method_NLOC": "20", "method_CCN": "2", "method_NToken": "170", "method_nesting_level": "0"}}}, "hunk_3": {"Ismethod": 1, "added_lines": "440,441,442,443", "deleted_lines": "440,441,442,443", "method_info": {"method_name": "test_ExpectedNumInstanceSampler", "method_params": "", "method_startline": "431", "method_endline": "468", "method_complexity": {"method_NLOC": "31", "method_CCN": "4", "method_NToken": "165", "method_nesting_level": "0"}}}, "hunk_4": {"Ismethod": 1, "added_lines": "163,164,165,166", "deleted_lines": "162,163,164,165", "method_info": {"method_name": "test_InstanceSplitter", "method_params": "start,target,is_train", "method_startline": "159", "method_endline": "204", "method_complexity": {"method_NLOC": "39", "method_CCN": "4", "method_NToken": "244", "method_nesting_level": "0"}}}, "hunk_5": {"Ismethod": 1, "added_lines": "282,283,293,299,307,308,309,310", "deleted_lines": "281,282,292,298,299,307,308,309,310", "method_info": {"method_name": "test_Transformation", "method_params": "", "method_startline": "271", "method_endline": "324", "method_complexity": {"method_NLOC": "50", "method_CCN": "2", "method_NToken": "243", "method_nesting_level": "0"}}}, "hunk_6": {"Ismethod": 1, "added_lines": "482,483,484,485", "deleted_lines": "482,483,484,485", "method_info": {"method_name": "test_BucketInstanceSampler", "method_params": "", "method_startline": "471", "method_endline": "514", "method_complexity": {"method_NLOC": "36", "method_CCN": "5", "method_NToken": "198", "method_nesting_level": "0"}}}}}}}}