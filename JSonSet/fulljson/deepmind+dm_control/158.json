{"BR": {"BR_id": "158", "BR_author": "jkren6", "BRopenT": "2020-09-30T07:17:51Z", "BRcloseT": "2021-01-05T11:40:15Z", "BR_text": {"BRsummary": "dm_control.mujoco.wrapper.core.Error: Could not register license; CRITICAL:absl:Invalid activation key", "BRdescription": "\n Hi my friends,\n dm_control suit is an awesome project which provides the most  useful and fruitful environments for people in this field.\n I'm current training an Deep RL agent from pixel input. One month ago, I applied for a MuJoCo trial license, I install MuJoCo, mujoco_py and set it up with dm_control suit on my computer. It worked well on my computer which has a 1080ti GPU.\n Recently I applied for a MuJoCo student license through my university email, and replaced it with the previous trial license. In addition, I changed my 1080ti GPU to 2080ti GPU. After I did these, I ran the program, however, it says\n \"...\n CRITICAL:absl:Invalid activation key\n ...\n dm_control.mujoco.wrapper.core.Error: Could not register license.\n ... \"\n The whole respond from the terminal is:\n `(pytorch_1.6) jacky@asus:~/PycharmProjects/AE_A3C$ python3 train.py\n \ufffd\ufffd\ufffd[\ufffd\ufffd\ufffd\ufffd[V: not found\n sh: 2: [\n : not found\n \ufffd\ufffd\ufffd[\ufffd\ufffd\ufffd\ufffd[V: not found\n sh: 2: [\n : not found\n \ufffd\ufffd\ufffd[\ufffd\ufffd\ufffd\ufffd[V: not found\n sh: 2: Syntax error: \"(\" unexpected\n \ufffd\ufffd\ufffd[\ufffd\ufffd\ufffd\ufffd[V: not found\n sh: 2: Syntax error: \"(\" unexpected\n CRITICAL:absl:Invalid activation key\n Traceback (most recent call last):\n File \"train.py\", line 254, in \n main()\n File \"train.py\", line 150, in main\n frame_skip=args.action_repeat\n File \"/home/jacky/anaconda3/envs/pytorch_1.6/lib/python3.6/site-packages/dmc2gym-1.0.0-py3.6.egg/dmc2gym/init.py\", line 52, in make\n File \"/home/jacky/anaconda3/envs/pytorch_1.6/lib/python3.6/site-packages/gym/envs/registration.py\", line 145, in make\n return registry.make(id, **kwargs)\n File \"/home/jacky/anaconda3/envs/pytorch_1.6/lib/python3.6/site-packages/gym/envs/registration.py\", line 90, in make\n env = spec.make(**kwargs)\n File \"/home/jacky/anaconda3/envs/pytorch_1.6/lib/python3.6/site-packages/gym/envs/registration.py\", line 60, in make\n env = cls(**_kwargs)\n File \"/home/jacky/anaconda3/envs/pytorch_1.6/lib/python3.6/site-packages/dmc2gym-1.0.0-py3.6.egg/dmc2gym/wrappers.py\", line 66, in init\n File \"/home/jacky/anaconda3/envs/pytorch_1.6/lib/python3.6/site-packages/dm_control/suite/init.py\", line 118, in load\n environment_kwargs, visualize_reward)\n File \"/home/jacky/anaconda3/envs/pytorch_1.6/lib/python3.6/site-packages/dm_control/suite/.py\", line 152, in build_environment\n env = domain.SUITE<denchmark-link:**task_kwargs>task_name</denchmark-link>\n \n File \"/home/jacky/anaconda3/envs/pytorch_1.6/lib/python3.6/site-packages/dm_control/suite/cheetah.py\", line 49, in run\n physics = Physics.from_xml_string(*get_model_and_assets())\n File \"/home/jacky/anaconda3/envs/pytorch_1.6/lib/python3.6/site-packages/dm_control/mujoco/engine.py\", line 428, in from_xml_string\n model = wrapper.MjModel.from_xml_string(xml_string, assets=assets)\n File \"/home/jacky/anaconda3/envs/pytorch_1.6/lib/python3.6/site-packages/dm_control/mujoco/wrapper/core.py\", line 476, in from_xml_string\n model_ptr = _get_model_ptr_from_xml(xml_string=xml_string, assets=assets)\n File \"/home/jacky/anaconda3/envs/pytorch_1.6/lib/python3.6/site-packages/dm_control/mujoco/wrapper/core.py\", line 347, in _get_model_ptr_from_xml\n _maybe_register_license()\n File \"/home/jacky/anaconda3/envs/pytorch_1.6/lib/python3.6/site-packages/dm_control/mujoco/wrapper/core.py\", line 132, in _maybe_register_license\n raise Error(\"Could not register license.\")\n dm_control.mujoco.wrapper.core.Error: Could not register license.\n `\n === ===\n Could u please give some help, any suggestion would be really appreciate \ud83d\udc4d\n Btw,  I'm pretty sure my license is valid because I checked the tutorial example from mujoco_py official website and it worked well.\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "jkren6", "commentT": "2020-09-30T07:27:36Z", "comment_text": "\n \t\tFor more clear, I attached the terminal window screen here:\n <denchmark-link:https://user-images.githubusercontent.com/46992227/94655977-04e07880-0332-11eb-8f1e-17b9b532b913.png></denchmark-link>\n \n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "jkren6", "commentT": "2020-09-30T07:36:10Z", "comment_text": "\n \t\tI also referred to <denchmark-link:https://github.com/deepmind/dm_control/issues/145>#145</denchmark-link>\n  , trying to find some solutions, but so sad, it didn't work.\n \t\t"}, "comments_2": {"comment_id": 3, "comment_author": "jkren6", "commentT": "2020-09-30T09:41:31Z", "comment_text": "\n \t\tMuJoCo itself is raising an \"Invalid activation key\" error which suggests that your key file itself is invalid. The only think I can suggest is to double check that the file is exactly as provided by Roboti, and if that continues not to work then to contact them directly for further help.\n \t\t"}, "comments_3": {"comment_id": 4, "comment_author": "jkren6", "commentT": "2020-11-13T19:13:23Z", "comment_text": "\n \t\tYeah it looks as though the keyfile is either corrupted or somehow invalid (is it possible that MuJoCo is trying to load the wrong path? did you override the MJKEY_PATH environment variable?). Also, not sure where those shell syntax errors coming from, i.e.\n <denchmark-code>\ufffd\ufffd\ufffd[\ufffd\ufffd\ufffd\ufffd[V: not found\n sh: 2: [\n : not found\n </denchmark-code>\n \n These are nothing to do with our MuJoCo bindings, perhaps they hint at another problem?\n \t\t"}, "comments_4": {"comment_id": 5, "comment_author": "jkren6", "commentT": "2020-11-24T08:48:33Z", "comment_text": "\n \t\tHi <denchmark-link:https://github.com/jkren6>@jkren6</denchmark-link>\n   , I am experiencing the same problem as you. My  works fine on mujoco_py, but shows \u2018\u2019 with dm_control. Have you found a solution? Thank you very much!\n \t\t"}, "comments_5": {"comment_id": 6, "comment_author": "jkren6", "commentT": "2020-12-14T20:13:54Z", "comment_text": "\n \t\tHi\n I was experiencing the same problem and found the following fix:\n In dm_control/mujoco/wrapper/core.py line 68, I set the following flag to True:\n _REGISTERED = True\n I believe it tries to register your MuJoCo license, which is already registered if you are using mujoco-py.\n Hope this helps.\n \t\t"}, "comments_6": {"comment_id": 7, "comment_author": "jkren6", "commentT": "2020-12-22T14:57:59Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/christsa>@christsa</denchmark-link>\n  Thank you, it works. The MuJoCo license is already registered.\n \t\t"}, "comments_7": {"comment_id": 8, "comment_author": "jkren6", "commentT": "2020-12-23T11:58:55Z", "comment_text": "\n \t\tThanks <denchmark-link:https://github.com/christsa>@christsa</denchmark-link>\n , that's very helpful!\n I'd like to find a way to avoid this double-registration problem if possible, but I'm still finding it hard to reproduce the error you're seeing. It seems I can register the license repeatedly, both from mujoco_py and dm_control, without encountering any errors.\n I am wondering whether this behaviour depends on the specific license type - are you using a \"trial\", \"personal\", or \"institutional\" MuJoCo license?\n \t\t"}, "comments_8": {"comment_id": 9, "comment_author": "jkren6", "commentT": "2020-12-23T12:16:59Z", "comment_text": "\n \t\tAha, I can reproduce the error by activating a trial license multiple times, but this doesn't seem to happen with institutional licenses (this seems to be a bug in MuJoCo itself).\n There doesn't seem to be a way to query whether MuJoCo has already been activated, but I think we can work around the problem by unconditionally deactivating any active licenses before we call mj_activate (this doesn't seem to cause any errors).\n \t\t"}, "comments_9": {"comment_id": 10, "comment_author": "jkren6", "commentT": "2021-01-05T11:40:15Z", "comment_text": "\n \t\tFixed in <denchmark-link:https://github.com/deepmind/dm_control/commit/d522fc327f9a6b280030ea2733c386a5d7f8fa1f>d522fc3</denchmark-link>\n \n \t\t"}}}, "commit": {"commit_id": "c053360edea6170acfd9c8f65446703307d9d352", "commit_author": "Alistair Muldal", "commitT": "2021-01-05 03:10:42-08:00", "commit_complexity": {"commit_NLOC": "1.0", "commit_CCN": "1.0", "commit_Nprams": "1.0"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "dm_control\\mujoco\\wrapper\\core.py", "file_new_name": "dm_control\\mujoco\\wrapper\\core.py", "file_complexity": {"file_NLOC": "480", "file_CCN": "119", "file_NToken": "3287"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139", "deleted_lines": "118,119,120,121,122,123,124,125,126,127,128,129", "method_info": {"method_name": "_maybe_register_license", "method_params": "path", "method_startline": "111", "method_endline": "139", "method_complexity": {"method_NLOC": "14", "method_CCN": "5", "method_NToken": "77", "method_nesting_level": "0"}}}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "setup.py", "file_new_name": "setup.py", "file_complexity": {"file_NLOC": "173", "file_CCN": "24", "file_NToken": "831"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "180", "deleted_lines": "180"}}}}}}