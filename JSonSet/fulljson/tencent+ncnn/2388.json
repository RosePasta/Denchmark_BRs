{"BR": {"BR_id": "2388", "BR_author": "woshifzh", "BRopenT": "2020-12-04T09:13:24Z", "BRcloseT": "2020-12-14T09:38:11Z", "BR_text": {"BRsummary": "\u5b89\u88c5ncnn\u65f6\u5019\u62a5\u9519\uff0c\u2018__m128 activation_ps(__m128, int, const ncnn::Mat&)\u2019 conflicts with a previous declaration", "BRdescription": "\n \u6211\u7684\u7cfb\u7edf\u662fcentos7, \u524d\u7f6e\u4f9d\u8d56\u5df2\u7ecf\u6309\u7167\u8bf4\u660e\u5b89\u88c5\u4e86\uff0c\n \u7f16\u8bd1\u62a5\u9519\u4fe1\u606f\u5982\u4e0b\uff1a\n [ 51%] Building CXX object src/CMakeFiles/ncnn.dir/layer/x86/convolution_x86_avx2.cpp.o\n In file included from /home/luban/ncnn/src/layer.h:19:0,\n from /home/luban/ncnn/src/layer/convolution.h:18,\n from /home/luban/ncnn/build/src/layer/x86/convolution_x86_avx2.h:18,\n from /home/luban/ncnn/build/src/layer/x86/convolution_x86_avx2.cpp:15:\n /home/luban/ncnn/src/modelbin.h:51:7: \u9519\u8bef\uff1a\u2018__m128 activation_ps(__m128, int, const ncnn::Mat&)\u2019 conflicts with a previous declaration\n class ModelBinFromMatArray : public ModelBin\n ^\n In file included from /home/luban/ncnn/build/src/layer/x86/convolution_x86_avx2.cpp:24:0:\n /home/luban/ncnn/src/layer/x86/avx_activation.h:59:22: \u9644\u6ce8\uff1aprevious declaration \u2018__m256 activation_ps(__m256, int, const ncnn::Mat&)\u2019\n static inline __m256 activation_ps(__m256 _v, int activation_type, const ncnn::Mat& activation_params)\n ^\n In file included from /home/luban/ncnn/build/src/layer/x86/convolution_x86_avx2.cpp:19:0:\n /home/luban/ncnn/src/layer/x86/sse_activation.h:59:22: \u9644\u6ce8\uff1a-fabi-version=6 (or =0) avoids this error with a change in mangling\n static inline __m128 activation_ps(__m128 _v, int activation_type, const ncnn::Mat& activation_params)\n ^\n make[2]: *** [src/CMakeFiles/ncnn.dir/layer/x86/convolution_x86_avx2.cpp.o] \u9519\u8bef 1\n make[1]: *** [src/CMakeFiles/ncnn.dir/all] \u9519\u8bef 2\n make: *** [all] \u9519\u8bef 2\n \u6ca1\u6709\u641c\u5230\u7c7b\u4f3c\u9519\u8bef\u4fe1\u606f\uff0c\u8bf7\u95ee\u5e94\u8be5\u600e\u4e48\u5904\u7406\uff1f\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "woshifzh", "commentT": "2020-12-11T03:30:28Z", "comment_text": "\n \t\t\u8bf7\u95ee\u89e3\u51b3\u4e86\u5417\uff1f\u6211\u4e5f\u9047\u5230\u4e86\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "woshifzh", "commentT": "2020-12-11T03:43:23Z", "comment_text": "\n \t\t\n \u8bf7\u95ee\u89e3\u51b3\u4e86\u5417\uff1f\u6211\u4e5f\u9047\u5230\u4e86\n \n \u6ca1\u89e3\u51b3\u3002\u4f46\u662f\u6211\u6309\u6307\u5f15\u5728mac\u4e0a\u5b89\u88c5\u662f\u6210\u529f\u7684\u3002\u73b0\u5728\u4e0d\u786e\u5b9a\u662f\u5565\u95ee\u9898\u3002\n \t\t"}, "comments_2": {"comment_id": 3, "comment_author": "woshifzh", "commentT": "2020-12-14T09:02:40Z", "comment_text": "\n \t\t\u5df2\u590d\u73b0\n \t\t"}, "comments_3": {"comment_id": 4, "comment_author": "woshifzh", "commentT": "2020-12-14T09:38:57Z", "comment_text": "\n \t\t\u66f4\u65b0\u4e0b\u4ee3\u7801\uff0c\u5df2\u4fee\u590d\n \t\t"}}}, "commit": {"commit_id": "1a3191e245976473a3b47861cb2e216d7d6a46a3", "commit_author": "nihuini", "commitT": "2020-12-14 17:37:57+08:00", "commit_complexity": {"commit_NLOC": "None", "commit_CCN": "None", "commit_Nprams": "None"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "CMakeLists.txt", "file_new_name": "CMakeLists.txt", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "89", "deleted_lines": "89"}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "src\\CMakeLists.txt", "file_new_name": "src\\CMakeLists.txt", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "263", "deleted_lines": "263"}}}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "src\\cpu.cpp", "file_new_name": "src\\cpu.cpp", "file_complexity": {"file_NLOC": "536", "file_CCN": "154", "file_NToken": "2494"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "359", "deleted_lines": "359", "method_info": {"method_name": "ncnn::cpu_support_x86_avx2", "method_params": "", "method_startline": "331", "method_endline": "370", "method_complexity": {"method_NLOC": "22", "method_CCN": "11", "method_NToken": "139", "method_nesting_level": "1"}}}}}, "file_3": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "src\\layer\\x86\\avx_activation.h", "file_new_name": "src\\layer\\x86\\avx_activation.h", "file_complexity": {"file_NLOC": "59", "file_CCN": "12", "file_NToken": "398"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "59", "deleted_lines": "59", "method_info": {"method_name": "activation_avx", "method_params": "_v,activation_type,activation_params", "method_startline": "59", "method_endline": "90", "method_complexity": {"method_NLOC": "26", "method_CCN": "6", "method_NToken": "132", "method_nesting_level": "0"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "59", "deleted_lines": "59", "method_info": {"method_name": "activation_ps", "method_params": "_v,activation_type,activation_params", "method_startline": "59", "method_endline": "90", "method_complexity": {"method_NLOC": "26", "method_CCN": "6", "method_NToken": "132", "method_nesting_level": "0"}}}}}, "file_4": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "src\\layer\\x86\\convolution_sgemm.h", "file_new_name": "src\\layer\\x86\\convolution_sgemm.h", "file_complexity": {"file_NLOC": "1274", "file_CCN": "112", "file_NToken": "11653"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "1434,1435,1436,1437,1438,1439,1440,1578,1579,1580", "deleted_lines": "1434,1435,1436,1437,1575", "method_info": {"method_name": "conv_im2col_sgemm_sse", "method_params": "bottom_blob,top_blob,kernel_tm,_bias,kernel_w,kernel_h,stride_w,stride_h,opt", "method_startline": "1092", "method_endline": "1597", "method_complexity": {"method_NLOC": "399", "method_CCN": "42", "method_NToken": "3527", "method_nesting_level": "0"}}}}}, "file_5": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "src\\layer\\x86\\convolution_x86.cpp", "file_new_name": "src\\layer\\x86\\convolution_x86.cpp", "file_complexity": {"file_NLOC": "997", "file_CCN": "309", "file_NToken": "7049"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "516,584,643,773,833,882", "deleted_lines": "516,584,643,773,833,882", "method_info": {"method_name": "ncnn::Convolution_x86::forward", "method_params": "bottom_blob,top_blob,opt", "method_startline": "298", "method_endline": "1045", "method_complexity": {"method_NLOC": "593", "method_CCN": "178", "method_NToken": "4375", "method_nesting_level": "1"}}}}}, "file_6": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "src\\layer\\x86\\convolutiondepthwise_x86.cpp", "file_new_name": "src\\layer\\x86\\convolutiondepthwise_x86.cpp", "file_complexity": {"file_NLOC": "599", "file_CCN": "212", "file_NToken": "3916"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "469,534", "deleted_lines": "469,534", "method_info": {"method_name": "ncnn::ConvolutionDepthWise_x86::forward", "method_params": "bottom_blob,top_blob,opt", "method_startline": "306", "method_endline": "636", "method_complexity": {"method_NLOC": "252", "method_CCN": "90", "method_NToken": "1671", "method_nesting_level": "1"}}}}}, "file_7": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "src\\layer\\x86\\innerproduct_x86.cpp", "file_new_name": "src\\layer\\x86\\innerproduct_x86.cpp", "file_complexity": {"file_NLOC": "862", "file_CCN": "129", "file_NToken": "6548"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "225,259,303,397,442,476,633,745", "deleted_lines": "225,259,303,397,442,476,633,745", "method_info": {"method_name": "ncnn::InnerProduct_x86::forward", "method_params": "bottom_blob,top_blob,opt", "method_startline": "128", "method_endline": "843", "method_complexity": {"method_NLOC": "534", "method_CCN": "87", "method_NToken": "4027", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "1014,1106", "deleted_lines": "1014,1106", "method_info": {"method_name": "ncnn::InnerProduct_x86::forward_fp16", "method_params": "bottom_blob,top_blob,opt", "method_startline": "846", "method_endline": "1162", "method_complexity": {"method_NLOC": "255", "method_CCN": "18", "method_NToken": "2114", "method_nesting_level": "1"}}}}}, "file_8": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "src\\layer\\x86\\sse_activation.h", "file_new_name": "src\\layer\\x86\\sse_activation.h", "file_complexity": {"file_NLOC": "90", "file_CCN": "21", "file_NToken": "576"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "59", "deleted_lines": "59", "method_info": {"method_name": "activation_ps", "method_params": "_v,activation_type,activation_params", "method_startline": "59", "method_endline": "90", "method_complexity": {"method_NLOC": "26", "method_CCN": "6", "method_NToken": "132", "method_nesting_level": "0"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "59", "deleted_lines": "59", "method_info": {"method_name": "activation_sse", "method_params": "_v,activation_type,activation_params", "method_startline": "59", "method_endline": "90", "method_complexity": {"method_NLOC": "26", "method_CCN": "6", "method_NToken": "132", "method_nesting_level": "0"}}}}}}}}