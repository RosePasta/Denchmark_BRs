{"BR": {"BR_id": "739", "BR_author": "ZephyrZeng", "BRopenT": "2019-01-03T02:57:01Z", "BRcloseT": "2019-10-23T07:46:52Z", "BR_text": {"BRsummary": "mxnet2ncnn reduction\u5c42 \u7f3a\u5c11 'axis' \u53c2\u6570", "BRdescription": "\n mxnet2ncnn\u8f6c\u6362\u5de5\u5177ln 1850:  fprintf(pp, \" 0=%d\", operation); \u53ea\u63d0\u4f9b\u4e86\u64cd\u4f5c\u7c7b\u578b\uff0c\n \u800creduction.cpp ln 35: dim = pd.get(1, 0); \u9700\u8981\u7684dim\u53c2\u6570\u672a\u5f00\u653e\u3002\n \u5bf9\u5e94json:\n {\n \"op\": \"mean\",\n \"name\": \"stage5_2_expandedconv20_cbam_mean0\",\n \"attrs\": {\n \"axis\": \"1\",\n \"keepdims\": \"True\"\n },\n \"inputs\": [[423, 0, 0]]\n },\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "ZephyrZeng", "commentT": "2019-01-03T03:50:01Z", "comment_text": "\n \t\t\u8865\u5145\uff1a'keepdims'\u53c2\u6570\u4e5f\u6ca1\u6709\u751f\u6548\uff0creduction\u4e4b\u540edims\u4ece3\u53d8\u4e3a2\u4e86\u3002\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "ZephyrZeng", "commentT": "2019-01-04T02:41:44Z", "comment_text": "\n \t\t\n \u8865\u5145\uff1a'keepdims'\u53c2\u6570\u4e5f\u6ca1\u6709\u751f\u6548\uff0creduction\u4e4b\u540edims\u4ece3\u53d8\u4e3a2\u4e86\u3002\n \n ncnn\u4f1a\u628abatchsize\u8fd9\u7ef4\u76f4\u63a5\u5220\u9664\uff0c\u6bd4\u5982\u539f\u6765\u662fbhwc\uff0c\u73b0\u5728\u53d8\u6210\u4e86hwc\uff08ncnn::Mat\u7684\u987a\u5e8f\u662fwh*c\uff09\n \t\t"}, "comments_2": {"comment_id": 3, "comment_author": "ZephyrZeng", "commentT": "2019-01-04T02:48:29Z", "comment_text": "\n \t\t<denchmark-link:https://user-images.githubusercontent.com/20511825/50671603-d83ce700-100d-11e9-8d59-bcefc7cb0600.png></denchmark-link>\n \n \u4f60\u53ef\u4ee5\u6839\u636e\u8fd9\u4e2a\u6765\u624b\u52a8\u4fee\u6539\u7f51\u7edc\u53c2\u6570dim\n \u4e0d\u8fc7\u8fd9\u4e2a\u5730\u65b9\u6709\u4e2abug\uff1a\n \n \n \n ncnn/src/layer/reduction.cpp\n \n \n          Line 138\n       in\n       b75516b\n \n \n \n \n \n \n  sum = op(sum, ptr[i]); \n \n \n \n \n \n \u5f53dim=2\u65f6\uff0c\u9700\u8981\u628a\u8fd9\u91cc\u7684i\u4fee\u6539\u4e3aj\n \t\t"}, "comments_3": {"comment_id": 4, "comment_author": "ZephyrZeng", "commentT": "2019-01-04T03:33:02Z", "comment_text": "\n \t\t\n \n \u8865\u5145\uff1a'keepdims'\u53c2\u6570\u4e5f\u6ca1\u6709\u751f\u6548\uff0creduction\u4e4b\u540edims\u4ece3\u53d8\u4e3a2\u4e86\u3002\n \n ncnn\u4f1a\u628abatchsize\u8fd9\u7ef4\u76f4\u63a5\u5220\u9664\uff0c\u6bd4\u5982\u539f\u6765\u662fb_h_w_c\uff0c\u73b0\u5728\u53d8\u6210\u4e86h_w_c\uff08ncnn::Mat\u7684\u987a\u5e8f\u662fw_h*c\uff09\n \n \u611f\u8c22\u7b54\u590d\uff01\u6211\u5728\u7528concat\u62fc\u63a5\u524d\u4e24\u5c42\uff08mean\u548cmax\uff09\u65f6\u7ed3\u679c\u7684dims\u4e0d\u6b63\u5e38\u624d\u53d1\u73b0\u7684\u8fd9\u4e2a\u95ee\u9898\uff0c\u5e0c\u671b\u80fd\u591f\u589e\u52a0\u7ef4\u5ea6\u4fdd\u7559\u7684\u53c2\u6570\u9879\uff01\n \t\t"}, "comments_4": {"comment_id": 5, "comment_author": "ZephyrZeng", "commentT": "2019-03-14T05:23:31Z", "comment_text": "\n \t\t\n \n \u4f60\u53ef\u4ee5\u6839\u636e\u8fd9\u4e2a\u6765\u624b\u52a8\u4fee\u6539\u7f51\u7edc\u53c2\u6570dim\n \u4e0d\u8fc7\u8fd9\u4e2a\u5730\u65b9\u6709\u4e2abug\uff1a\n ncnn/src/layer/reduction.cpp\n Line 138 in b75516b\n sum = op(sum, ptr[i]);\n \u5f53dim=2\u65f6\uff0c\u9700\u8981\u628a\u8fd9\u91cc\u7684i\u4fee\u6539\u4e3aj\n \n fixed in <denchmark-link:https://github.com/Tencent/ncnn/commit/d9301c4f59fa3854db01d0536ebf9842be85404c>d9301c4</denchmark-link>\n \n \t\t"}, "comments_5": {"comment_id": 6, "comment_author": "ZephyrZeng", "commentT": "2019-10-23T07:48:06Z", "comment_text": "\n \t\taxis and keepdims attribute conversion implemented\n \t\t"}}}, "commit": {"commit_id": "009c4d9a75ba13d55e1e19c46a0e33ef9a2c504e", "commit_author": "nihuini", "commitT": "2019-10-23 15:46:39+08:00", "commit_complexity": {"commit_NLOC": "None", "commit_CCN": "None", "commit_Nprams": "None"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "src\\layer\\padding.h", "file_new_name": "src\\layer\\padding.h", "file_complexity": {"file_NLOC": "18", "file_CCN": "0", "file_NToken": "100"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "39", "deleted_lines": "39"}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "tools\\mxnet\\mxnet2ncnn.cpp", "file_new_name": "tools\\mxnet\\mxnet2ncnn.cpp", "file_complexity": {"file_NLOC": "2228", "file_CCN": "559", "file_NToken": "15621"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "1357,2190,2192,2193,2194,2195,2196,2197,2198,2199,2200,2201,2203,2204,2205,2206,2207,2208,2209,2210,2211,2212,2213,2214,2215,2216,2217,2218,2219,2220,2254", "deleted_lines": "1357,1365,1366,1367,1368,1369,1370,1371,1372,1389,1390,1391,1392,1445,1446,1447,1448,2206,2208,2216,2217,2218,2219,2220,2221,2222,2223,2224,2225,2253,2342,2343,2344,2345,2346,2490,2491,2492,2493,2494", "method_info": {"method_name": "main", "method_params": "argc,argv", "method_startline": "926", "method_endline": "2633", "method_complexity": {"method_NLOC": "1527", "method_CCN": "407", "method_NToken": "10835", "method_nesting_level": "0"}}}}}}}}