{"BR": {"BR_id": "2374", "BR_author": "xingwangsfu", "BRopenT": "2020-04-24T13:09:25Z", "BRcloseT": "2020-05-08T09:23:25Z", "BR_text": {"BRsummary": "BUG in spos evolution part", "BRdescription": "\n I trained the spos from scratch with supernet.py, but failed to load the checkpoints. It turned out there was a mismatch between load and save part.\n In  the save part  \n \n \n nni/src/sdk/pynni/nni/nas/pytorch/callbacks.py\n \n \n          Line 136\n       in\n       69dfbf5\n \n \n \n \n \n \n  state_dict = self.model.state_dict() \n \n \n \n \n ,  no dict was used. But in the load part,  \n \n \n nni/examples/nas/spos/network.py\n \n \n          Line 151\n       in\n       69dfbf5\n \n \n \n \n \n \n  for k, v in checkpoint[\"state_dict\"].items(): \n \n \n \n \n ,  key 'state_dict' was used. It failed to load the checkpoint. After removing 'state_dict', checkpoint could be loaded and problem was solved.\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "xingwangsfu", "commentT": "2020-04-26T02:57:17Z", "comment_text": "\n \t\tThanks <denchmark-link:https://github.com/xingwangsfu>@xingwangsfu</denchmark-link>\n  !\n <denchmark-link:https://github.com/ultmaster>@ultmaster</denchmark-link>\n   may you help to confirm whether this is a bug and is <denchmark-link:https://github.com/xingwangsfu>@xingwangsfu</denchmark-link>\n  's fix okey for submit a PR directly?\n \t\t"}}}, "commit": {"commit_id": "ef2069132cd7a9b0dd44aab2b93f18b470ac2eeb", "commit_author": "Yuge Zhang", "commitT": "2020-05-08 17:23:24+08:00", "commit_complexity": {"commit_NLOC": "1.0", "commit_CCN": "1.0", "commit_Nprams": "1.0"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "examples\\nas\\spos\\network.py", "file_new_name": "examples\\nas\\spos\\network.py", "file_complexity": {"file_NLOC": "130", "file_CCN": "27", "file_NToken": "1137"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "150,151,153", "deleted_lines": "151", "method_info": {"method_name": "load_and_parse_state_dict", "method_params": "filepath", "method_startline": "148", "method_endline": "157", "method_complexity": {"method_NLOC": "10", "method_CCN": "4", "method_NToken": "77", "method_nesting_level": "0"}}}}}}}}