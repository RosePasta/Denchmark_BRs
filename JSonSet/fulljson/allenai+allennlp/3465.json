{"BR": {"BR_id": "3465", "BR_author": "DeNeutoy", "BRopenT": "2019-11-18T18:31:37Z", "BRcloseT": "2020-01-03T15:36:59Z", "BR_text": {"BRsummary": "PretrainedTransformerEmbedder does not pass masks to *transformer models", "BRdescription": "\n The huggingface repo accepts masks, we should definitely be passing them\n <denchmark-link:https://github.com/huggingface/transformers/blob/master/transformers/modeling_bert.py#L629>https://github.com/huggingface/transformers/blob/master/transformers/modeling_bert.py#L629</denchmark-link>\n \n <denchmark-link:https://github.com/allenai/allennlp/blob/master/allennlp/modules/token_embedders/pretrained_transformer_embedder.py#L25>https://github.com/allenai/allennlp/blob/master/allennlp/modules/token_embedders/pretrained_transformer_embedder.py#L25</denchmark-link>\n \n \t"}, "comments": {}}, "commit": {"commit_id": "b41a0440333380953add96d69f0d56a15821ecf0", "commit_author": "RyujiTamaki", "commitT": "2020-01-03 07:36:42-08:00", "commit_complexity": {"commit_NLOC": "0.0196078431372549", "commit_CCN": "1.0", "commit_Nprams": "0.9607843137254902"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "allennlp\\data\\token_indexers\\pretrained_transformer_indexer.py", "file_new_name": "allennlp\\data\\token_indexers\\pretrained_transformer_indexer.py", "file_complexity": {"file_NLOC": "107", "file_CCN": "15", "file_NToken": "562"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "94,95,96,97,98", "deleted_lines": "94"}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "allennlp\\modules\\token_embedders\\pretrained_transformer_embedder.py", "file_new_name": "allennlp\\modules\\token_embedders\\pretrained_transformer_embedder.py", "file_complexity": {"file_NLOC": "20", "file_CCN": "3", "file_NToken": "126"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "25,26", "deleted_lines": "25", "method_info": {"method_name": "forward", "method_params": "self,LongTensor,LongTensor", "method_startline": "25", "method_endline": "26", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "15", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "25,26,27", "deleted_lines": "25,27", "method_info": {"method_name": "forward", "method_params": "self,LongTensor", "method_startline": "25", "method_endline": "27", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "25", "method_nesting_level": "1"}}}}}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "allennlp\\tests\\data\\token_indexers\\pretrained_transformer_indexer_test.py", "file_new_name": "allennlp\\tests\\data\\token_indexers\\pretrained_transformer_indexer_test.py", "file_complexity": {"file_NLOC": "112", "file_CCN": "9", "file_NToken": "764"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126", "deleted_lines": null, "method_info": {"method_name": "test_mask", "method_params": "self", "method_startline": "111", "method_endline": "126", "method_complexity": {"method_NLOC": "16", "method_CCN": "1", "method_NToken": "137", "method_nesting_level": "1"}}}}}, "file_3": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "allennlp\\tests\\modules\\token_embedders\\pretrained_transformer_embedder_test.py", "file_new_name": "allennlp\\tests\\modules\\token_embedders\\pretrained_transformer_embedder_test.py", "file_complexity": {"file_NLOC": "53", "file_CCN": "4", "file_NToken": "502"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "21,22,23", "deleted_lines": null, "method_info": {"method_name": "test_forward_runs_when_initialized_from_params", "method_params": "self", "method_startline": "16", "method_endline": "24", "method_complexity": {"method_NLOC": "7", "method_CCN": "1", "method_NToken": "84", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70", "deleted_lines": null, "method_info": {"method_name": "test_end_to_end", "method_params": "self", "method_startline": "26", "method_endline": "70", "method_complexity": {"method_NLOC": "34", "method_CCN": "3", "method_NToken": "332", "method_nesting_level": "1"}}}}}}}}