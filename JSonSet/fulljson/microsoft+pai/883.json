{"BR": {"BR_id": "883", "BR_author": "xudifsd", "BRopenT": "2018-07-16T05:33:02Z", "BRcloseT": "2018-07-23T02:39:09Z", "BR_text": {"BRsummary": "watchdog will get error in each iteration", "BRdescription": "\n <denchmark-code>2018-07-16 05:30:21,658 - watchdog - ERROR - watchdog error <type 'exceptions.TypeError'>\n 2018-07-16 05:30:21,658 - watchdog - ERROR - watchdog error 'bool' object is not iterable\n 2018-07-16 05:30:21,658 - watchdog - ERROR - watchdog error <traceback object at 0x7fd0a5e8a098>\n 2018-07-16 05:30:21,658 - watchdog - ERROR - node_current_docker_error{instance=\"IP\"} 1\n </denchmark-code>\n \n this exception may raised in check_docker_daemon_status fn in watchdog.py, should use logger.exception(ex) to locate root cause.\n \t"}, "comments": {}}, "commit": {"commit_id": "f67c36bc5583788f515e9b35b7e7d26a2b2e1e01", "commit_author": "Di Xu", "commitT": "2018-07-23 10:39:08+08:00", "commit_complexity": {"commit_NLOC": "1.0", "commit_CCN": "0.0", "commit_Nprams": "1.0"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": ".travis.yml", "file_new_name": ".travis.yml", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "18", "deleted_lines": "18"}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "pai-management\\src\\watchdog\\dockerfile", "file_new_name": "pai-management\\src\\watchdog\\dockerfile", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "31", "deleted_lines": null}}}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "prometheus\\exporter\\healthy_check.py", "file_new_name": "prometheus\\exporter\\healthy_check.py", "file_complexity": {"file_NLOC": "51", "file_CCN": "9", "file_NToken": "367"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "33,35,40,41,45,47,48,51,53,54,57,58,60,61,64,65,68", "deleted_lines": "30,31,32,33,39,44,45,46,47,51,52,54,55,56,57,60,61,63,64,65,66,69", "method_info": {"method_name": "main", "method_params": "", "method_startline": "30", "method_endline": "69", "method_complexity": {"method_NLOC": "34", "method_CCN": "9", "method_NToken": "271", "method_nesting_level": "0"}}}}}, "file_3": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "prometheus\\exporter\\job_exporter.py", "file_new_name": "prometheus\\exporter\\job_exporter.py", "file_complexity": {"file_NLOC": "81", "file_CCN": "17", "file_NToken": "628"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "90,91,92,93,94,95,96,97,98", "deleted_lines": "89,116,117,118,119,120", "method_info": {"method_name": "main", "method_params": "argv", "method_startline": "85", "method_endline": "120", "method_complexity": {"method_NLOC": "28", "method_CCN": "5", "method_NToken": "194", "method_nesting_level": "0"}}}}}, "file_4": {"file_change_type": "MODIFY", "file_Nmethod": 10, "file_old_name": "prometheus\\exporter\\watchdog.py", "file_new_name": "prometheus\\exporter\\watchdog.py", "file_complexity": {"file_NLOC": "244", "file_CCN": "58", "file_NToken": "1622"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "241,243,244,255,256,259,260,261", "deleted_lines": "241,242,243,244,245,246,249,250,251,252,254,255", "method_info": {"method_name": "parse_nodes_status", "method_params": "nodesJsonObject", "method_startline": "241", "method_endline": "261", "method_complexity": {"method_NLOC": "16", "method_CCN": "5", "method_NToken": "108", "method_nesting_level": "0"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "279,282,284,285,286,297,298,299,301,304,305,306,307,308,309,310,311", "deleted_lines": "278,292,306,307,308,309,310,312,313,316,317,318", "method_info": {"method_name": "check_docker_daemon_status", "method_params": "outputFile,configFilePath", "method_startline": "278", "method_endline": "318", "method_complexity": {"method_NLOC": "34", "method_CCN": "13", "method_NToken": "237", "method_nesting_level": "0"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "319,320,321,322,323,324,325,329,330,333,334,335,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358", "deleted_lines": "313,316,317,318,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,353,356", "method_info": {"method_name": "main", "method_params": "argv", "method_startline": "313", "method_endline": "359", "method_complexity": {"method_NLOC": "32", "method_CCN": "6", "method_NToken": "235", "method_nesting_level": "0"}}}, "hunk_3": {"Ismethod": 1, "added_lines": "45,53,54,55,56,58,59,60,70,78,88,89,90,94,96,101,108,117,118,119,120,124,131,137,143,147,148,151,152,155,156,159,160,163,164,167,168,171,172,175,176,177,178,179,180,181,182,183,184,185,186,187", "deleted_lines": "43,44,52,53,64,65,66,67,68,69,70,71,72,73,93,99,106,118,125,131,137,141,144,147,150,153,156,159,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187", "method_info": {"method_name": "parse_pods_status", "method_params": "podsJsonObject,outputFile", "method_startline": "43", "method_endline": "187", "method_complexity": {"method_NLOC": "103", "method_CCN": "28", "method_NToken": "862", "method_nesting_level": "0"}}}, "hunk_4": {"Ismethod": 1, "added_lines": "45,53,54,55,56,58,59,60,70,78,88,89,90,94,96,101,108,117,118,119,120,124,131,137,143,147,148,151,152,155,156,159,160,163,164,167,168,171,172,175,176,177,178,179,180,181,182,183,184,185,186,187", "deleted_lines": "52,53,64,65,66,67,68,69,70,71,72,73,93,99,106,118,125,131,137,141,144,147,150,153,156,159,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187", "method_info": {"method_name": "parse_pods_status", "method_params": "podsJsonObject", "method_startline": "45", "method_endline": "187", "method_complexity": {"method_NLOC": "100", "method_CCN": "25", "method_NToken": "695", "method_nesting_level": "0"}}}, "hunk_5": {"Ismethod": 1, "added_lines": "263,264,265,279,282,284,285,286,297,298,299,301,304,305,306", "deleted_lines": "267,268,271,272,273,274,275,276,277,278,292,306", "method_info": {"method_name": "collect_docker_daemon_status", "method_params": "configFilePath", "method_startline": "263", "method_endline": "306", "method_complexity": {"method_NLOC": "35", "method_CCN": "12", "method_NToken": "228", "method_nesting_level": "0"}}}, "hunk_6": {"Ismethod": 1, "added_lines": "189,190,191,192,193,200,201,202,203,211,212,213,214,221,222,223,224,230,232,234,235,236,237,239,241,243,244", "deleted_lines": "189,196,197,198,199,200,201,202,203,204,205,213,214,215,216,217,218,219,220,221,222,223,231,236,237,238,240,241,242,243,244,245,246,249,250,251,252", "method_info": {"method_name": "check_k8s_componentStaus", "method_params": "address,nodesJsonObject,outputFile", "method_startline": "189", "method_endline": "252", "method_complexity": {"method_NLOC": "49", "method_CCN": "11", "method_NToken": "320", "method_nesting_level": "0"}}}, "hunk_7": {"Ismethod": 1, "added_lines": "255,256,259,260,261,262,263,264,265", "deleted_lines": "254,255,267,268,271,272,273,274,275", "method_info": {"method_name": "parse_nodes_status", "method_params": "nodesJsonObject,outputFile", "method_startline": "254", "method_endline": "275", "method_complexity": {"method_NLOC": "17", "method_CCN": "5", "method_NToken": "112", "method_nesting_level": "0"}}}, "hunk_8": {"Ismethod": 1, "added_lines": "308,309,310,311", "deleted_lines": "308,309,310", "method_info": {"method_name": "log_and_export_metrics", "method_params": "path,metrics", "method_startline": "308", "method_endline": "311", "method_complexity": {"method_NLOC": "4", "method_CCN": "2", "method_NToken": "26", "method_nesting_level": "0"}}}, "hunk_9": {"Ismethod": 1, "added_lines": "189,190,191,192,193,200,201,202,203,211,212,213,214,221,222,223,224,230,232,234,235,236,237,239", "deleted_lines": "189,196,197,198,199,200,201,202,203,204,205,213,214,215,216,217,218,219,220,221,222,223,231,236,237,238", "method_info": {"method_name": "collect_k8s_componentStaus", "method_params": "address,nodesJsonObject", "method_startline": "189", "method_endline": "239", "method_complexity": {"method_NLOC": "33", "method_CCN": "8", "method_NToken": "245", "method_nesting_level": "0"}}}}}, "file_5": {"file_change_type": "ADD", "file_Nmethod": 0, "file_old_name": "None", "file_new_name": "prometheus\\test\\data\\nodes_list.json", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}}, "file_6": {"file_change_type": "ADD", "file_Nmethod": 0, "file_old_name": "None", "file_new_name": "prometheus\\test\\data\\pods_list.json", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}}, "file_7": {"file_change_type": "ADD", "file_Nmethod": 0, "file_old_name": "None", "file_new_name": "prometheus\\test\\test_watchdog.py", "file_complexity": {"file_NLOC": "45", "file_CCN": "8", "file_NToken": "268"}}}}}