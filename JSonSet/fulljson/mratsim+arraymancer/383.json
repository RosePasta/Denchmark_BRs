{"BR": {"BR_id": "383", "BR_author": "mratsim", "BRopenT": "2019-09-26T20:24:56Z", "BRcloseT": "2019-10-01T08:52:57Z", "BR_text": {"BRsummary": "SVD - Fortran work array is on stack", "BRdescription": "\n \n \n \n Arraymancer/src/linear_algebra/helpers/decomposition_lapack.nim\n \n \n         Lines 299 to 321\n       in\n       b47b040\n \n \n \n \n \n \n  # Querying workspace size \n \n \n \n  gesdd(jobz, m.unsafeAddr, n.unsafeAddr, \n \n \n \n        a.get_data_ptr, lda.unsafeAddr, \n \n \n \n        S.get_data_ptr, \n \n \n \n        U.get_data_ptr, ldu.unsafeAddr, \n \n \n \n  Vh.get_data_ptr, ldvt.unsafeAddr, \n \n \n \n        work_size.addr, lwork.addr, iwork[0].addr, \n \n \n \n        info.addr \n \n \n \n        ) \n \n \n \n  \n \n \n \n  # Allocating workspace \n \n \n \n  lwork = work_size.int32 \n \n \n \n  var work = newSeqUninit[T](lwork) \n \n \n \n  \n \n \n \n  # Decompose matrix \n \n \n \n  gesdd(jobz, m.unsafeAddr, n.unsafeAddr, \n \n \n \n        a.get_data_ptr, lda.unsafeAddr, \n \n \n \n        S.get_data_ptr, \n \n \n \n        U.get_data_ptr, ldu.unsafeAddr, \n \n \n \n  Vh.get_data_ptr, ldvt.unsafeAddr, \n \n \n \n        work_size.addr, lwork.addr, iwork[0].addr, \n \n \n \n        info.addr \n \n \n \n        ) \n \n \n \n \n \n L319, workspace_size was not replaced by the new \"work\" sequence\n \t"}, "comments": {}}, "commit": {"commit_id": "c91d2225f9c8b85793a3596b11f38736cd398237", "commit_author": "Mamy Andr\u00e9-Ratsimbazafy", "commitT": "2019-09-30 20:14:23+02:00", "commit_complexity": {"commit_NLOC": "None", "commit_CCN": "None", "commit_Nprams": "None"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "src\\linear_algebra\\helpers\\decomposition_lapack.nim", "file_new_name": "src\\linear_algebra\\helpers\\decomposition_lapack.nim", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "330", "deleted_lines": "330"}}}}}}