{"BR": {"BR_id": "1447", "BR_author": "WSzP", "BRopenT": "2020-04-10T16:16:14Z", "BRcloseT": "2020-04-15T00:32:34Z", "BR_text": {"BRsummary": "Test results not logged to tensorboard, since 0.7.3, this worked in 0.7.1", "BRdescription": "\n <denchmark-h:h2>\ud83d\udc1b Bug</denchmark-h>\n \n Test results are not logged to TensorBoard. With the exact same code, version 0.7.1 logged them flawlessly. Also, with the exact same code, validation and train results are logged. So I assumed the issue is with the test.\n <denchmark-h:h3>To Reproduce</denchmark-h>\n \n Run test() step with a model that has TensorBoard logging.\n logger = TensorBoardLogger(LOG_DIR, name=NAME)\n <denchmark-h:h4>Code sample</denchmark-h>\n \n <denchmark-code>def validation_step(self, val_batch, batch_idx):\n     [...]\n     return {'val_loss': loss}\n \n def validation_epoch_end(self, outputs):\n     avg_loss = torch.stack([x['val_loss'] for x in outputs]).mean()\n     tensorboard_logs = {'val_loss': avg_loss}\n     return {'avg_val_loss': avg_loss, 'log': tensorboard_logs} #this works!\n \n def test_step(self, test_batch, batch_idx):\n     [...]           \n     return {'test_loss': loss}\n \n def test_epoch_end(self, outputs):\n     avg_loss = torch.stack([x['test_loss'] for x in outputs]).mean()\n     tensorboard_logs = {'MSE': avg_loss}\n     print(f\"Test Mean Squared Error (MSE): {avg_loss}\")  #this works!                         \n     return {'avg_test_loss': avg_loss, 'log': tensorboard_logs} #the issue might be here\n </denchmark-code>\n \n <denchmark-h:h3>Expected behavior</denchmark-h>\n \n The expected behavior is for tensorboard_logs to contain the MSE, but when I open them in TensorBoard they don't contain MSE, only the val_loss and train_loss. The exact same code used to work in 0.7.1. So I believe some changes in 0.7.3 produced this bug.\n The print works, so the correct value is printed, but I assume there is some issue when you return 'log': tensorboard_logs.\n <denchmark-h:h3>Environment</denchmark-h>\n \n \n PyTorch Version (e.g., 1.0): 1.4.0\n OS (e.g., Linux): Windows 10 x64\n How you installed PyTorch: pip\n Build command you used (if compiling from source): n/a\n Python version: 3.7.7\n Any other relevant information: The full code can be found here: https://github.com/WSzP/uxml-ecommerce/blob/master/train-uxml-basic-matrix-factorization.ipynb\n \n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "WSzP", "commentT": "2020-04-10T16:22:13Z", "comment_text": "\n \t\tHi! thanks for your contribution!, great first issue!\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "WSzP", "commentT": "2020-04-11T14:48:20Z", "comment_text": "\n \t\tummm. i thought we fixed this in 0.7.3. can you post a colab to reproduce?\n \t\t"}, "comments_2": {"comment_id": 3, "comment_author": "WSzP", "commentT": "2020-04-11T15:36:03Z", "comment_text": "\n \t\t\n ummm. i thought we fixed this in 0.7.3. can you post a colab to reproduce?\n \n Thank you so much for the quick reply.\n <denchmark-link:https://colab.research.google.com/drive/1bexbN61LpWVZ106glFhAVF7Vz1jXQr1L>https://colab.research.google.com/drive/1bexbN61LpWVZ106glFhAVF7Vz1jXQr1L</denchmark-link>\n \n Hopefully, this works. (I'm using Google Colab for the first time, I'm more of a localhost  first -> deploy to AWS/Azure kind of guy.)\n \t\t"}, "comments_3": {"comment_id": 4, "comment_author": "WSzP", "commentT": "2020-04-11T18:58:31Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/WSzP>@WSzP</denchmark-link>\n  we probably need also the dataset...\n <denchmark-code>FileNotFoundError                         Traceback (most recent call last)\n <ipython-input-9-0af11722af78> in <module>()\n      20                      callbacks=[TestingCallbacks()]\n      21                      )                \n ---> 22 trainer.fit(model)\n \n 3 frames\n /usr/local/lib/python3.6/dist-packages/numpy/lib/npyio.py in load(file, mmap_mode, allow_pickle, fix_imports, encoding)\n     426         own_fid = False\n     427     else:\n --> 428         fid = open(os_fspath(file), \"rb\")\n     429         own_fid = True\n     430 \n \n FileNotFoundError: [Errno 2] No such file or directory: '/content/uxm_train.npz'\n </denchmark-code>\n \n \t\t"}, "comments_4": {"comment_id": 5, "comment_author": "WSzP", "commentT": "2020-04-11T19:33:20Z", "comment_text": "\n \t\tyou can just use fake data generators with the right dimensions. this is just about logging anyhow\n \t\t"}, "comments_5": {"comment_id": 6, "comment_author": "WSzP", "commentT": "2020-04-11T19:46:30Z", "comment_text": "\n \t\t\n you can just use fake data generators with the right dimensions. this is just about logging anyhow\n \n Ok, I just changed the code to generate a random sparse matrix. Thanks for the idea.\n \t\t"}, "comments_6": {"comment_id": 7, "comment_author": "WSzP", "commentT": "2020-04-11T20:46:38Z", "comment_text": "\n \t\t\n When I run it, I see the test score on the board...\n \n I only see train_loss and val_loss, but not the test score.\n <denchmark-link:https://user-images.githubusercontent.com/150962/79054564-a83bb500-7c4e-11ea-8013-29a6c41937ff.png></denchmark-link>\n \n \t\t"}, "comments_7": {"comment_id": 8, "comment_author": "WSzP", "commentT": "2020-04-11T21:33:18Z", "comment_text": "\n \t\tI think that I see the problem, it comes with introduces agg_and_log_metrics for the logger...\n \n \n \n pytorch-lightning/pytorch_lightning/trainer/logging.py\n \n \n          Line 74\n       in\n       3f1e4b9\n \n \n \n \n \n \n  self.logger.agg_and_log_metrics(scalar_metrics, step=step) \n \n \n \n \n \n in this case, it is called and saved to accumulator till it receives another step or the logger is terminated which activated the flush results...\n \n \n \n pytorch-lightning/pytorch_lightning/loggers/base.py\n \n \n         Lines 232 to 237\n       in\n       3f1e4b9\n \n \n \n \n \n \n  def close(self) -> None: \n \n \n \n  \"\"\"Do any cleanup that is necessary to close an experiment.\"\"\" \n \n \n \n  agg_step, metrics_to_log = self._finalize_agg_metrics() \n \n \n \n  \n \n \n \n  if metrics_to_log is not None: \n \n \n \n  self.log_metrics(metrics=metrics_to_log, step=agg_step) \n \n \n \n \n \n the solution is to replicate the same action to the logger.save()\n \t\t"}, "comments_8": {"comment_id": 9, "comment_author": "WSzP", "commentT": "2020-04-11T22:13:33Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/WSzP>@WSzP</denchmark-link>\n  pls try this fix\n <denchmark-code>! pip install https://github.com/PyTorchLightning/pytorch-lightning/archive/bugfix/flush-logger.zip -U\n </denchmark-code>\n \n \t\t"}, "comments_9": {"comment_id": 10, "comment_author": "WSzP", "commentT": "2020-04-11T22:38:59Z", "comment_text": "\n \t\tIt works like a charm. Thank you so much <denchmark-link:https://github.com/Borda>@Borda</denchmark-link>\n . Cheers!\n \t\t"}, "comments_10": {"comment_id": 11, "comment_author": "WSzP", "commentT": "2020-04-12T05:53:14Z", "comment_text": "\n \t\tLet's keep it open till the fix is merged to master...\n \t\t"}}}, "commit": {"commit_id": "b3fe17ddeb00fb66db08e5fc7414591662ebd440", "commit_author": "Jirka Borovec", "commitT": "2020-04-14 20:32:33-04:00", "commit_complexity": {"commit_NLOC": "0.53125", "commit_CCN": "0.015625", "commit_Nprams": "0.0"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": ".github\\workflows\\ci-testing.yml", "file_new_name": ".github\\workflows\\ci-testing.yml", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "31", "deleted_lines": "31"}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "CHANGELOG.md", "file_new_name": "CHANGELOG.md", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "37", "deleted_lines": "37"}}}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 6, "file_old_name": "pytorch_lightning\\loggers\\base.py", "file_new_name": "pytorch_lightning\\loggers\\base.py", "file_complexity": {"file_NLOC": "245", "file_CCN": "62", "file_NToken": "1418"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "242", "deleted_lines": null, "method_info": {"method_name": "close", "method_params": "self", "method_startline": "240", "method_endline": "242", "method_complexity": {"method_NLOC": "3", "method_CCN": "1", "method_NToken": "13", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "108,109", "deleted_lines": "108,109", "method_info": {"method_name": "_reduce_agg_metrics", "method_params": "self", "method_startline": "108", "method_endline": "117", "method_complexity": {"method_NLOC": "8", "method_CCN": "3", "method_NToken": "57", "method_nesting_level": "1"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "238", "deleted_lines": "234,235,236,237", "method_info": {"method_name": "finalize", "method_params": "self,str", "method_startline": "232", "method_endline": "238", "method_complexity": {"method_NLOC": "7", "method_CCN": "1", "method_NToken": "17", "method_nesting_level": "1"}}}, "hunk_3": {"Ismethod": 1, "added_lines": "230", "deleted_lines": "230", "method_info": {"method_name": "save", "method_params": "self", "method_startline": "228", "method_endline": "230", "method_complexity": {"method_NLOC": "3", "method_CCN": "1", "method_NToken": "13", "method_nesting_level": "1"}}}, "hunk_4": {"Ismethod": 1, "added_lines": null, "deleted_lines": "295", "method_info": {"method_name": "rank", "method_params": "self,int", "method_startline": "294", "method_endline": "297", "method_complexity": {"method_NLOC": "4", "method_CCN": "2", "method_NToken": "28", "method_nesting_level": "1"}}}, "hunk_5": {"Ismethod": 1, "added_lines": "119,120,121,122,123,124,125", "deleted_lines": null, "method_info": {"method_name": "_finalize_agg_metrics", "method_params": "self", "method_startline": "119", "method_endline": "125", "method_complexity": {"method_NLOC": "5", "method_CCN": "2", "method_NToken": "39", "method_nesting_level": "1"}}}}}, "file_3": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "pytorch_lightning\\loggers\\comet.py", "file_new_name": "pytorch_lightning\\loggers\\comet.py", "file_complexity": {"file_NLOC": "186", "file_CCN": "12", "file_NToken": "691"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "39,40,41,42,43,44,45,46,47", "deleted_lines": "39,40,41,42", "method_info": {"method_name": "__init__", "method_params": "self,None,None,None,None,None,None,None,kwargs", "method_startline": "39", "method_endline": "47", "method_complexity": {"method_NLOC": "9", "method_CCN": "1", "method_NToken": "71", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "206", "deleted_lines": null, "method_info": {"method_name": "name", "method_params": "self", "method_startline": "205", "method_endline": "206", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "16", "method_nesting_level": "1"}}}}}, "file_4": {"file_change_type": "MODIFY", "file_Nmethod": 5, "file_old_name": "pytorch_lightning\\loggers\\mlflow.py", "file_new_name": "pytorch_lightning\\loggers\\mlflow.py", "file_complexity": {"file_NLOC": "109", "file_CCN": "14", "file_NToken": "485"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "43", "deleted_lines": "42,43", "method_info": {"method_name": "__init__", "method_params": "self,str,None,str,None", "method_startline": "42", "method_endline": "43", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "29", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "113", "deleted_lines": null, "method_info": {"method_name": "finalize", "method_params": "self,str", "method_startline": "112", "method_endline": "116", "method_complexity": {"method_NLOC": "5", "method_CCN": "2", "method_NToken": "41", "method_nesting_level": "1"}}}, "hunk_2": {"Ismethod": 1, "added_lines": null, "deleted_lines": "105,106", "method_info": {"method_name": "save", "method_params": "self", "method_startline": "105", "method_endline": "106", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "6", "method_nesting_level": "1"}}}, "hunk_3": {"Ismethod": 1, "added_lines": "45,46,47,48,49", "deleted_lines": null, "method_info": {"method_name": "__init__", "method_params": "self,str,None,str,None,None", "method_startline": "45", "method_endline": "49", "method_complexity": {"method_NLOC": "5", "method_CCN": "1", "method_NToken": "43", "method_nesting_level": "1"}}}, "hunk_4": {"Ismethod": 1, "added_lines": "60", "deleted_lines": "62", "method_info": {"method_name": "experiment", "method_params": "self", "method_startline": "60", "method_endline": "70", "method_complexity": {"method_NLOC": "11", "method_CCN": "1", "method_NToken": "13", "method_nesting_level": "1"}}}}}, "file_5": {"file_change_type": "MODIFY", "file_Nmethod": 3, "file_old_name": "pytorch_lightning\\loggers\\neptune.py", "file_new_name": "pytorch_lightning\\loggers\\neptune.py", "file_complexity": {"file_NLOC": "325", "file_CCN": "21", "file_NToken": "888"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "32,33,34,35,36,38,39,40,41,42", "deleted_lines": "32,33,35,36,38", "method_info": {"method_name": "__init__", "method_params": "self,None,None,True,bool,None,None,str,None,str,None,None,kwargs", "method_startline": "32", "method_endline": "42", "method_complexity": {"method_NLOC": "11", "method_CCN": "1", "method_NToken": "102", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "251", "deleted_lines": null, "method_info": {"method_name": "finalize", "method_params": "self,str", "method_startline": "250", "method_endline": "253", "method_complexity": {"method_NLOC": "4", "method_CCN": "2", "method_NToken": "31", "method_nesting_level": "1"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "32,33,34,35,36", "deleted_lines": "32,33,35,36", "method_info": {"method_name": "__init__", "method_params": "self,None,None,True,bool,None,None,str,None,str,None,None,kwargs", "method_startline": "32", "method_endline": "36", "method_complexity": {"method_NLOC": "5", "method_CCN": "1", "method_NToken": "102", "method_nesting_level": "1"}}}}}, "file_6": {"file_change_type": "MODIFY", "file_Nmethod": 4, "file_old_name": "pytorch_lightning\\loggers\\tensorboard.py", "file_new_name": "pytorch_lightning\\loggers\\tensorboard.py", "file_complexity": {"file_NLOC": "150", "file_CCN": "27", "file_NToken": "811"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "43,44,45", "deleted_lines": "43,44,45", "method_info": {"method_name": "__init__", "method_params": "self,str,int,None,kwargs", "method_startline": "43", "method_endline": "45", "method_complexity": {"method_NLOC": "3", "method_CCN": "1", "method_NToken": "33", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "130", "deleted_lines": null, "method_info": {"method_name": "save", "method_params": "self", "method_startline": "129", "method_endline": "150", "method_complexity": {"method_NLOC": "16", "method_CCN": "4", "method_NToken": "146", "method_nesting_level": "1"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "95", "deleted_lines": "95", "method_info": {"method_name": "experiment", "method_params": "self", "method_startline": "81", "method_endline": "96", "method_complexity": {"method_NLOC": "15", "method_CCN": "2", "method_NToken": "54", "method_nesting_level": "1"}}}, "hunk_3": {"Ismethod": 1, "added_lines": "42,43,44,45,46", "deleted_lines": "43,44,45,46", "method_info": {"method_name": "__init__", "method_params": "self,str,int,None,kwargs", "method_startline": "42", "method_endline": "46", "method_complexity": {"method_NLOC": "5", "method_CCN": "1", "method_NToken": "35", "method_nesting_level": "1"}}}}}, "file_7": {"file_change_type": "MODIFY", "file_Nmethod": 5, "file_old_name": "pytorch_lightning\\loggers\\test_tube.py", "file_new_name": "pytorch_lightning\\loggers\\test_tube.py", "file_complexity": {"file_NLOC": "140", "file_CCN": "18", "file_NToken": "627"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "21,22,23,24,25,26,27", "deleted_lines": "21,22,23,24", "method_info": {"method_name": "__init__", "method_params": "self,str,str,None,bool,None,bool", "method_startline": "21", "method_endline": "27", "method_complexity": {"method_NLOC": "7", "method_CCN": "1", "method_NToken": "45", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "21,22,23", "deleted_lines": "21,22,23", "method_info": {"method_name": "__init__", "method_params": "self,str,str,None,bool,None,bool", "method_startline": "21", "method_endline": "23", "method_complexity": {"method_NLOC": "3", "method_CCN": "1", "method_NToken": "43", "method_nesting_level": "1"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "118", "deleted_lines": null, "method_info": {"method_name": "finalize", "method_params": "self,str", "method_startline": "117", "method_endline": "122", "method_complexity": {"method_NLOC": "5", "method_CCN": "1", "method_NToken": "38", "method_nesting_level": "1"}}}, "hunk_3": {"Ismethod": 1, "added_lines": "111", "deleted_lines": null, "method_info": {"method_name": "save", "method_params": "self", "method_startline": "110", "method_endline": "114", "method_complexity": {"method_NLOC": "4", "method_CCN": "1", "method_NToken": "30", "method_nesting_level": "1"}}}, "hunk_4": {"Ismethod": 1, "added_lines": "126", "deleted_lines": null, "method_info": {"method_name": "close", "method_params": "self", "method_startline": "125", "method_endline": "131", "method_complexity": {"method_NLOC": "6", "method_CCN": "2", "method_NToken": "39", "method_nesting_level": "1"}}}}}, "file_8": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "pytorch_lightning\\loggers\\trains.py", "file_new_name": "pytorch_lightning\\loggers\\trains.py", "file_complexity": {"file_NLOC": "331", "file_CCN": "43", "file_NToken": "1228"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "300", "deleted_lines": "299,300", "method_info": {"method_name": "finalize", "method_params": "self,str", "method_startline": "299", "method_endline": "305", "method_complexity": {"method_NLOC": "5", "method_CCN": "3", "method_NToken": "38", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": null, "deleted_lines": "298,299", "method_info": {"method_name": "save", "method_params": "self", "method_startline": "298", "method_endline": "299", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "8", "method_nesting_level": "1"}}}}}, "file_9": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "pytorch_lightning\\loggers\\wandb.py", "file_new_name": "pytorch_lightning\\loggers\\wandb.py", "file_complexity": {"file_NLOC": "108", "file_CCN": "15", "file_NToken": "543"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "49,50,51,52,53,54,55,56,57,58,59,60", "deleted_lines": "49,50,51,52,53", "method_info": {"method_name": "__init__", "method_params": "self,None,None,bool,None,bool,None,None,None,bool,experiment,entity", "method_startline": "49", "method_endline": "60", "method_complexity": {"method_NLOC": "12", "method_CCN": "1", "method_NToken": "88", "method_nesting_level": "1"}}}}}, "file_10": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "pytorch_lightning\\trainer\\evaluation_loop.py", "file_new_name": "pytorch_lightning\\trainer\\evaluation_loop.py", "file_complexity": {"file_NLOC": "323", "file_CCN": "58", "file_NToken": "1221"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "373,379", "deleted_lines": "373,374,380", "method_info": {"method_name": "run_evaluation", "method_params": "self,bool", "method_startline": "326", "method_endline": "415", "method_complexity": {"method_NLOC": "54", "method_CCN": "18", "method_NToken": "349", "method_nesting_level": "1"}}}}}, "file_11": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "pytorch_lightning\\trainer\\trainer.py", "file_new_name": "pytorch_lightning\\trainer\\trainer.py", "file_complexity": {"file_NLOC": "796", "file_CCN": "77", "file_NToken": "3260"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "296", "deleted_lines": "296,297"}}}, "file_12": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "tests\\base\\mixins.py", "file_new_name": "tests\\base\\mixins.py", "file_complexity": {"file_NLOC": "466", "file_CCN": "101", "file_NToken": "3168"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "358,359", "deleted_lines": "358,359", "method_info": {"method_name": "test_epoch_end", "method_params": "self,outputs", "method_startline": "329", "method_endline": "360", "method_complexity": {"method_NLOC": "17", "method_CCN": "4", "method_NToken": "117", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "92,93", "deleted_lines": "92,93", "method_info": {"method_name": "validation_epoch_end", "method_params": "self,outputs", "method_startline": "62", "method_endline": "94", "method_complexity": {"method_NLOC": "17", "method_CCN": "6", "method_NToken": "129", "method_nesting_level": "1"}}}}}, "file_13": {"file_change_type": "ADD", "file_Nmethod": 0, "file_old_name": "None", "file_new_name": "tests\\loggers\\test_all.py", "file_complexity": {"file_NLOC": "67", "file_CCN": "7", "file_NToken": "425"}}, "file_14": {"file_change_type": "MODIFY", "file_Nmethod": 5, "file_old_name": "tests\\loggers\\test_base.py", "file_new_name": "tests\\loggers\\test_base.py", "file_complexity": {"file_NLOC": "135", "file_CCN": "22", "file_NToken": "854"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "172,173,174,175", "deleted_lines": null, "method_info": {"method_name": "test_with_accumulate_grad_batches.log_metrics", "method_params": "self,metrics,step", "method_startline": "172", "method_endline": "175", "method_complexity": {"method_NLOC": "4", "method_CCN": "2", "method_NToken": "37", "method_nesting_level": "2"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "167,168,169", "deleted_lines": null, "method_info": {"method_name": "test_with_accumulate_grad_batches.__init__", "method_params": "self", "method_startline": "167", "method_endline": "169", "method_complexity": {"method_NLOC": "3", "method_CCN": "1", "method_NToken": "18", "method_nesting_level": "2"}}}, "hunk_2": {"Ismethod": 1, "added_lines": null, "deleted_lines": "68,69,70,71", "method_info": {"method_name": "log_metrics", "method_params": "self,metrics,step", "method_startline": "68", "method_endline": "71", "method_complexity": {"method_NLOC": "4", "method_CCN": "2", "method_NToken": "37", "method_nesting_level": "1"}}}, "hunk_3": {"Ismethod": 1, "added_lines": null, "deleted_lines": "63,64,65", "method_info": {"method_name": "__init__", "method_params": "self", "method_startline": "63", "method_endline": "65", "method_complexity": {"method_NLOC": "3", "method_CCN": "1", "method_NToken": "18", "method_nesting_level": "1"}}}, "hunk_4": {"Ismethod": 1, "added_lines": "165,166,167,168,169,170,171,172,173,174,175,176", "deleted_lines": null, "method_info": {"method_name": "test_with_accumulate_grad_batches", "method_params": "", "method_startline": "163", "method_endline": "185", "method_complexity": {"method_NLOC": "12", "method_CCN": "2", "method_NToken": "113", "method_nesting_level": "0"}}}}}, "file_15": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "tests\\loggers\\test_comet.py", "file_new_name": "tests\\loggers\\test_comet.py", "file_complexity": {"file_NLOC": "59", "file_CCN": "1", "file_NToken": "239"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": null, "deleted_lines": "125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156", "method_info": {"method_name": "test_comet_pickle", "method_params": "tmpdir,monkeypatch", "method_startline": "125", "method_endline": "156", "method_complexity": {"method_NLOC": "19", "method_CCN": "1", "method_NToken": "110", "method_nesting_level": "0"}}}, "hunk_1": {"Ismethod": 1, "added_lines": null, "deleted_lines": "15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48", "method_info": {"method_name": "test_comet_logger", "method_params": "tmpdir,monkeypatch", "method_startline": "15", "method_endline": "48", "method_complexity": {"method_NLOC": "22", "method_CCN": "1", "method_NToken": "130", "method_nesting_level": "0"}}}}}, "file_16": {"file_change_type": "MODIFY", "file_Nmethod": 3, "file_old_name": "tests\\loggers\\test_mlflow.py", "file_new_name": "tests\\loggers\\test_mlflow.py", "file_complexity": {"file_NLOC": "5", "file_CCN": "1", "file_NToken": "41"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": null, "deleted_lines": "39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54", "method_info": {"method_name": "test_mlflow_pickle", "method_params": "tmpdir", "method_startline": "39", "method_endline": "54", "method_complexity": {"method_NLOC": "13", "method_CCN": "1", "method_NToken": "87", "method_nesting_level": "0"}}}, "hunk_1": {"Ismethod": 1, "added_lines": null, "deleted_lines": "10,12,13,14,15,16,17,18,19,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36", "method_info": {"method_name": "test_mlflow_logger", "method_params": "tmpdir", "method_startline": "10", "method_endline": "36", "method_complexity": {"method_NLOC": "18", "method_CCN": "1", "method_NToken": "116", "method_nesting_level": "0"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "4,6,8,9", "deleted_lines": "4,5,7", "method_info": {"method_name": "test_mlflow_logger_exists", "method_params": "tmpdir", "method_startline": "4", "method_endline": "9", "method_complexity": {"method_NLOC": "4", "method_CCN": "1", "method_NToken": "34", "method_nesting_level": "0"}}}}}, "file_17": {"file_change_type": "MODIFY", "file_Nmethod": 4, "file_old_name": "tests\\loggers\\test_neptune.py", "file_new_name": "tests\\loggers\\test_neptune.py", "file_complexity": {"file_NLOC": "61", "file_CCN": "4", "file_NToken": "570"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "85", "deleted_lines": "83,84,85,86", "method_info": {"method_name": "test_neptune_leave_open_experiment_after_fit", "method_params": "tmpdir", "method_startline": "62", "method_endline": "86", "method_complexity": {"method_NLOC": "9", "method_CCN": "1", "method_NToken": "72", "method_nesting_level": "0"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "13", "deleted_lines": "12,13,14,15,16,17", "method_info": {"method_name": "test_neptune_online", "method_params": "neptune", "method_startline": "12", "method_endline": "17", "method_complexity": {"method_NLOC": "5", "method_CCN": "1", "method_NToken": "59", "method_nesting_level": "0"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "85", "deleted_lines": "83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98", "method_info": {"method_name": "test_neptune_pickle", "method_params": "tmpdir", "method_startline": "83", "method_endline": "98", "method_complexity": {"method_NLOC": "12", "method_CCN": "1", "method_NToken": "72", "method_nesting_level": "0"}}}, "hunk_3": {"Ismethod": 1, "added_lines": "13", "deleted_lines": "12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29", "method_info": {"method_name": "test_neptune_logger", "method_params": "tmpdir", "method_startline": "12", "method_endline": "29", "method_complexity": {"method_NLOC": "14", "method_CCN": "1", "method_NToken": "75", "method_nesting_level": "0"}}}}}, "file_18": {"file_change_type": "MODIFY", "file_Nmethod": 4, "file_old_name": "tests\\loggers\\test_tensorboard.py", "file_new_name": "tests\\loggers\\test_tensorboard.py", "file_complexity": {"file_NLOC": "50", "file_CCN": "6", "file_NToken": "361"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "49,51", "deleted_lines": null, "method_info": {"method_name": "test_tensorboard_no_name", "method_params": "tmpdir,name", "method_startline": "49", "method_endline": "52", "method_complexity": {"method_NLOC": "3", "method_CCN": "1", "method_NToken": "26", "method_nesting_level": "0"}}}, "hunk_1": {"Ismethod": 1, "added_lines": null, "deleted_lines": "82,84,85,86,87,88", "method_info": {"method_name": "test_tensorboard_no_name", "method_params": "tmpdir", "method_startline": "82", "method_endline": "89", "method_complexity": {"method_NLOC": "5", "method_CCN": "1", "method_NToken": "42", "method_nesting_level": "0"}}}, "hunk_2": {"Ismethod": 1, "added_lines": null, "deleted_lines": "13,14,15,16,17,18,19,20,21,22,23,24,25,26,27", "method_info": {"method_name": "test_tensorboard_logger", "method_params": "tmpdir", "method_startline": "13", "method_endline": "27", "method_complexity": {"method_NLOC": "9", "method_CCN": "1", "method_NToken": "74", "method_nesting_level": "0"}}}, "hunk_3": {"Ismethod": 1, "added_lines": null, "deleted_lines": "30,31,32,33,34,35,36,37,38,39,40", "method_info": {"method_name": "test_tensorboard_pickle", "method_params": "tmpdir", "method_startline": "30", "method_endline": "40", "method_complexity": {"method_NLOC": "7", "method_CCN": "1", "method_NToken": "67", "method_nesting_level": "0"}}}}}, "file_19": {"file_change_type": "DELETE", "file_Nmethod": 0, "file_old_name": "tests\\loggers\\test_test_tube.py", "file_new_name": "None", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}}, "file_20": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "tests\\loggers\\test_wandb.py", "file_new_name": "tests\\loggers\\test_wandb.py", "file_complexity": {"file_NLOC": "40", "file_CCN": "2", "file_NToken": "371"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "38,39,40", "deleted_lines": "40", "method_info": {"method_name": "test_wandb_pickle", "method_params": "wandb", "method_startline": "36", "method_endline": "66", "method_complexity": {"method_NLOC": "18", "method_CCN": "1", "method_NToken": "145", "method_nesting_level": "0"}}}}}}}}