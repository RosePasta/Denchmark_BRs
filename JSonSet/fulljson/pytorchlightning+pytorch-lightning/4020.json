{"BR": {"BR_id": "4020", "BR_author": "colin-ai", "BRopenT": "2020-10-09T08:30:30Z", "BRcloseT": "2020-10-10T16:20:12Z", "BR_text": {"BRsummary": "Validation loss Tensor object is print in progress bar, it is expected only value", "BRdescription": "\n <denchmark-h:h2>\ud83d\udc1b Bug</denchmark-h>\n \n When I add validation loss in progress bar training, tensor object is printed whereas only loss value is expected.\n For example  :\n Epoch 1: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 5/5 [00:04<00:00,  1.21it/s, loss=82.423, v_num=52, val_loss=tensor(76.4331, dtype=torch.float32)]\n Validation loss is added with the following command : self.log('val_loss', loss, prog_bar=True)\n I tried self.log('val_loss', loss.item(), prog_bar=True) with no effect.\n <denchmark-h:h3>To Reproduce</denchmark-h>\n \n The bug is reproductible with the minimal code example (<denchmark-link:https://github.com/PyTorchLightning/pytorch-lightning/blob/master/pl_examples/bug_report_model.py>https://github.com/PyTorchLightning/pytorch-lightning/blob/master/pl_examples/bug_report_model.py</denchmark-link>\n ). See code sample below with validation_step overridden :\n <denchmark-h:h4>Code sample</denchmark-h>\n \n <denchmark-code>class TestModel(BoringModel):\n \n     def validation_step(self, batch, batch_idx):\n         output = self.layer(batch)\n         loss = self.loss(batch, output)\n         self.log('val_loss', loss, prog_bar=True)\n         return {\"x\": loss}\n </denchmark-code>\n \n <denchmark-h:h3>Expected behavior</denchmark-h>\n \n It is expected to only obtain value of validation loss in progress bar and not tensor object.\n <denchmark-h:h3>Environment</denchmark-h>\n \n \n CUDA:\n \n GPU:\n available:         False\n version:           None\n \n \n Packages:\n \n numpy:             1.19.1\n pyTorch_debug:     False\n pyTorch_version:   1.6.0\n pytorch-lightning: 0.10.0\n tqdm:              4.50.1\n \n \n System:\n \n OS:                Darwin\n architecture:\n \n 64bit\n \n \n \n processor:         i386\n python:            3.8.6\n version:           Darwin Kernel Version 18.7.0: Thu Jun 18 20:50:10 PDT 2020; root:xnu-4903.278.43~1/RELEASE_X86_64\n \n \n \n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "colin-ai", "commentT": "2020-10-09T08:31:14Z", "comment_text": "\n \t\tHi! thanks for your contribution!, great first issue!\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "colin-ai", "commentT": "2020-10-10T06:17:36Z", "comment_text": "\n \t\tAlso encounter this problem\n \t\t"}}}, "commit": {"commit_id": "bdbf84602973dc86a16f66d2902b22ee5a4c9f21", "commit_author": "Rohit Gupta", "commitT": "2020-10-10 12:20:11-04:00", "commit_complexity": {"commit_NLOC": "0.0", "commit_CCN": "1.0", "commit_Nprams": "1.0"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "CHANGELOG.md", "file_new_name": "CHANGELOG.md", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "24", "deleted_lines": null}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "pytorch_lightning\\trainer\\connectors\\logger_connector.py", "file_new_name": "pytorch_lightning\\trainer\\connectors\\logger_connector.py", "file_complexity": {"file_NLOC": "305", "file_CCN": "82", "file_NToken": "2136"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "160,186", "deleted_lines": "160,186", "method_info": {"method_name": "_log_on_evaluation_epoch_end_metrics", "method_params": "self,epoch_logs", "method_startline": "137", "method_endline": "202", "method_complexity": {"method_NLOC": "32", "method_CCN": "7", "method_NToken": "252", "method_nesting_level": "1"}}}}}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "tests\\trainer\\logging\\test_eval_loop_logging_1_0.py", "file_new_name": "tests\\trainer\\logging\\test_eval_loop_logging_1_0.py", "file_complexity": {"file_NLOC": "184", "file_CCN": "15", "file_NToken": "1095"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "67,68", "deleted_lines": "66", "method_info": {"method_name": "test__validation_step__log", "method_params": "tmpdir", "method_startline": "13", "method_endline": "69", "method_complexity": {"method_NLOC": "34", "method_CCN": "1", "method_NToken": "147", "method_nesting_level": "0"}}}}}}}}