{"BR": {"BR_id": "138", "BR_author": "ananyahjha93", "BRopenT": "2019-08-18T19:51:39Z", "BRcloseT": "2019-08-19T14:42:25Z", "BR_text": {"BRsummary": "val_dataloader is not optional in distributed_backend='ddp'", "BRdescription": "\n Describe the bug\n val_dataloader function is kept optional but a line in the code does not check for 'if self.val_dataloader is not None'. Which leads to the following error:\n File \"/misc/vlgscratch4/FergusGroup/ananya/pyenv/py3.6/lib/python3.6/site-packages/pytorch_lightning/models/trainer.py\", line 500, in get_dataloaders\n for dataloader in self.val_dataloader):\n TypeError: 'NoneType' object is not iterable\n File: models/trainer.py\n line 500\n To Reproduce\n Steps to reproduce the behavior:\n \n \n Not write the optional function: val_dataloader\n \n \n Use the following trainer configuration.\n trainer = Trainer(\n experiment=exp,\n checkpoint_callback=checkpoint_callback,\n distributed_backend='ddp',\n gpus=args.gpu_id,\n amp_level='O2',\n use_amp=True,\n max_nb_epochs=args.epochs,\n progress_bar=True\n )\n \n \n Expected behavior\n Code should ignore \"all(isinstance(dataloader, DistributedSampler) for dataloader in self.val_dataloader)\" check if self.val_dataloader is None.\n Environment:\n \n PyTorch 1.1.0\n Cuda 10.0\n test-tube 0.6.7.6\n pytorch-lightning 0.4.6\n \n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "ananyahjha93", "commentT": "2019-08-18T22:20:01Z", "comment_text": "\n \t\tgood catch\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "ananyahjha93", "commentT": "2019-08-18T23:59:54Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/williamFalcon>@williamFalcon</denchmark-link>\n  The bug has not been resolved in your latest commits. Do you want me to add the fix? Or am I missing something here?\n \t\t"}, "comments_2": {"comment_id": 3, "comment_author": "ananyahjha93", "commentT": "2019-08-19T00:17:45Z", "comment_text": "\n \t\tpressed wrong button. reopened\n \t\t"}, "comments_3": {"comment_id": 4, "comment_author": "ananyahjha93", "commentT": "2019-08-19T02:21:24Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/williamFalcon>@williamFalcon</denchmark-link>\n  I have created a pull request for this issue. I did see the commit from 'sidhanthholalkere' but could not find a pull request for it.\n \t\t"}}}, "commit": {"commit_id": "5b694c7e0ec5f83bf4ec93860d91a48757351265", "commit_author": "Ananya Harsh Jha", "commitT": "2019-08-19 15:03:04-04:00", "commit_complexity": {"commit_NLOC": "0.0", "commit_CCN": "0.0", "commit_Nprams": "1.0"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "pytorch_lightning\\models\\trainer.py", "file_new_name": "pytorch_lightning\\models\\trainer.py", "file_complexity": {"file_NLOC": "657", "file_CCN": "175", "file_NToken": "4309"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "498,499,500,501,502,503,504,505,506,507,508,509,510,511,512,513,514,515,516,517,518,519", "deleted_lines": "498,499,500,501,502,503,504,505,506,507,508,509,510,511,512,513,514,515,516,517,518", "method_info": {"method_name": "get_dataloaders", "method_params": "self,model", "method_startline": "463", "method_endline": "519", "method_complexity": {"method_NLOC": "47", "method_CCN": "9", "method_NToken": "123", "method_nesting_level": "1"}}}}}}}}