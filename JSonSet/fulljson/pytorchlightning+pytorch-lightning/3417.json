{"BR": {"BR_id": "3417", "BR_author": "Vozf", "BRopenT": "2020-09-09T12:37:07Z", "BRcloseT": "2020-09-09T13:27:36Z", "BR_text": {"BRsummary": "CometLogger failing without save_dir", "BRdescription": "\n <denchmark-h:h2>\ud83d\udc1b Bug</denchmark-h>\n \n Cometmllogger with api key and  without save dir results in error.\n This happens due to this if <denchmark-link:https://github.com/PyTorchLightning/pytorch-lightning/blob/master/pytorch_lightning/loggers/comet.py#L135>https://github.com/PyTorchLightning/pytorch-lightning/blob/master/pytorch_lightning/loggers/comet.py#L135</denchmark-link>\n \n _save_dir is not set and later train loop tries to read it and fails.\n This can be fixed by setting _save_dir to None. I will supply PR in a moment\n <denchmark-h:h3>To Reproduce</denchmark-h>\n \n Steps to reproduce the behavior:\n <denchmark-code>    model = LightningModel({})\n     comet_logger = CometLogger(\n         api_key=KEY,\n         workspace=\"workspace\"\n     )\n \n     trainer = Trainer(logger=comet_logger)\n     trainer.fit(model)\n </denchmark-code>\n \n Traceback (most recent call last):\n trainer.fit(model)\n File \"/python3.8/site-packages/pytorch_lightning/trainer/states.py\", line 48, in wrapped_fn\n result = fn(self, *args, **kwargs)\n File \"/python3.8/site-packages/pytorch_lightning/trainer/trainer.py\", line 1073, in fit\n results = self.accelerator_backend.train(model)\n File \"/python3.8/site-packages/pytorch_lightning/accelerators/gpu_backend.py\", line 51, in train\n results = self.trainer.run_pretrain_routine(model)\n File \"/python3.8/site-packages/pytorch_lightning/trainer/trainer.py\", line 1239, in run_pretrain_routine\n self.train()\n File \"/python3.8/site-packages/pytorch_lightning/trainer/training_loop.py\", line 363, in train\n self.on_train_start()\n File \"/python3.8/site-packages/pytorch_lightning/trainer/callback_hook.py\", line 111, in on_train_start\n callback.on_train_start(self, self.get_model())\n File \"/python3.8/site-packages/pytorch_lightning/utilities/distributed.py\", line 27, in wrapped_fn\n return fn(*args, **kwargs)\n File \"/python3.8/site-packages/pytorch_lightning/callbacks/model_checkpoint.py\", line 296, in on_train_start\n save_dir = trainer.logger.save_dir or trainer.default_root_dir\n File \"/python3.8/site-packages/pytorch_lightning/loggers/comet.py\", line 253, in save_dir\n return self._save_dir\n <denchmark-h:h3>Additional context</denchmark-h>\n \n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "Vozf", "commentT": "2020-09-09T12:37:49Z", "comment_text": "\n \t\tHi! thanks for your contribution!, great first issue!\n \t\t"}}}, "commit": {"commit_id": "5b4db52851000d5e4eca8c680d851bcdaafc3a80", "commit_author": "Alexander", "commitT": "2020-09-09 09:27:35-04:00", "commit_complexity": {"commit_NLOC": "None", "commit_CCN": "None", "commit_Nprams": "None"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "pytorch_lightning\\loggers\\comet.py", "file_new_name": "pytorch_lightning\\loggers\\comet.py", "file_complexity": {"file_NLOC": "219", "file_CCN": "13", "file_NToken": "798"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "142", "deleted_lines": null}}}}}}