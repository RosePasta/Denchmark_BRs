{"BR": {"BR_id": "3898", "BR_author": "rotabulo", "BRopenT": "2020-10-06T10:39:25Z", "BRcloseT": "2020-10-06T16:31:50Z", "BR_text": {"BRsummary": "TypeError: expected str, bytes or os.PathLike object, not NoneType", "BRdescription": "\n <denchmark-h:h2>\ud83d\udc1b Bug</denchmark-h>\n \n I am summarizing the source of the issue to speedup the fix.\n After this line of code\n \n \n \n pytorch-lightning/pytorch_lightning/accelerators/ddp_backend.py\n \n \n          Line 119\n       in\n       90929fa\n \n \n \n \n \n \n  env_copy['PL_GLOBAL_SEED'] = os.environ.get('PL_GLOBAL_SEED') \n \n \n \n \n \n I have that env_copy['PL_GLOBAL_SEED'] is None and having an environment variable set to None breaks subprocess.Popen here\n \n \n \n pytorch-lightning/pytorch_lightning/accelerators/ddp_backend.py\n \n \n          Line 127\n       in\n       90929fa\n \n \n \n \n \n \n  proc = subprocess.Popen(command, env=env_copy, cwd=cwd) \n \n \n \n \n \n My fix at the moment is to add\n <denchmark-code>if env_copy['PL_GLOBAL_SEED'] is None:\n                 del env_copy['PL_GLOBAL_SEED']\n </denchmark-code>\n \n after\n \n \n \n pytorch-lightning/pytorch_lightning/accelerators/ddp_backend.py\n \n \n          Line 119\n       in\n       90929fa\n \n \n \n \n \n \n  env_copy['PL_GLOBAL_SEED'] = os.environ.get('PL_GLOBAL_SEED') \n \n \n \n \n \n <denchmark-h:h3>Environment</denchmark-h>\n \n <denchmark-code>* CUDA:\n \t- GPU:\n \t- available:         False\n \t- version:           10.2\n * Packages:\n \t- numpy:             1.18.5\n \t- pyTorch_debug:     False\n \t- pyTorch_version:   1.6.0\n \t- pytorch-lightning: 0.10.0rc1\n \t- tqdm:              4.48.0\n * System:\n \t- OS:                Linux\n \t- architecture:\n \t\t- 64bit\n \t\t- \n \t- processor:         x86_64\n \t- python:            3.7.7\n \t- version:           #100-Ubuntu SMP Wed Apr 22 20:32:56 UTC 2020\n </denchmark-code>\n \n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "rotabulo", "commentT": "2020-10-06T13:53:17Z", "comment_text": "\n \t\tHey <denchmark-link:https://github.com/rotabulo>@rotabulo</denchmark-link>\n  thanks for the report, could you describe the case/give a code example where  is None at this step?\n \t\t"}}}, "commit": {"commit_id": "e4a56fa5cfb5b67147c2013ae444ad0cd9a1b63a", "commit_author": "Sean Naren", "commitT": "2020-10-06 12:31:49-04:00", "commit_complexity": {"commit_NLOC": "0.0", "commit_CCN": "0.0", "commit_Nprams": "1.0"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "pytorch_lightning\\accelerators\\ddp_backend.py", "file_new_name": "pytorch_lightning\\accelerators\\ddp_backend.py", "file_complexity": {"file_NLOC": "164", "file_CCN": "38", "file_NToken": "1287"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "119,120,121", "deleted_lines": "119", "method_info": {"method_name": "_call_children_scripts", "method_params": "self", "method_startline": "64", "method_endline": "137", "method_complexity": {"method_NLOC": "46", "method_CCN": "11", "method_NToken": "430", "method_nesting_level": "1"}}}}}}}}