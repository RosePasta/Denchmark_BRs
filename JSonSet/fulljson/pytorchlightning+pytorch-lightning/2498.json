{"BR": {"BR_id": "2498", "BR_author": "williamFalcon", "BRopenT": "2020-07-04T14:25:36Z", "BRcloseT": "2020-08-03T22:00:37Z", "BR_text": {"BRsummary": "TPU hangs when using only a train loop (ie: no val loop)", "BRdescription": "\n I think it's somehow related to checkpointing.\n Easiest way to debug is to get on colab.\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "williamFalcon", "commentT": "2020-07-04T14:26:26Z", "comment_text": "\n \t\tHi! thanks for your contribution!, great first issue!\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "williamFalcon", "commentT": "2020-07-05T07:36:53Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/williamFalcon>@williamFalcon</denchmark-link>\n  I struggle to reproduce this. PL does not even recognize the TPUs in the runtime, XLA_AVAILABLE gets set to false (mnist tpu colab). Tried different pytorch and xla versions, all the same.\n Could you share the colab in which you observed the hangs?\n \t\t"}, "comments_2": {"comment_id": 3, "comment_author": "williamFalcon", "commentT": "2020-07-12T23:43:07Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/williamFalcon>@williamFalcon</denchmark-link>\n  checked again and now I am able to run the mnist colab without validation and it does not hang anymore (latest master). Not sure what fixed it.\n \t\t"}}}, "commit": {"commit_id": "0fe933e23d026fce6fd065f87e66c2637693e963", "commit_author": "Jirka Borovec", "commitT": "2020-07-27 19:07:09-04:00", "commit_complexity": {"commit_NLOC": "0.9710144927536232", "commit_CCN": "0.8115942028985508", "commit_Nprams": "0.34782608695652173"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": ".circleci\\config.yml", "file_new_name": ".circleci\\config.yml", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "65,66,69,105,106", "deleted_lines": "65,68,104"}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": ".github\\workflows\\ci-testing.yml", "file_new_name": ".github\\workflows\\ci-testing.yml", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "33,34,35,36", "deleted_lines": null}}}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": ".github\\workflows\\tpu-testing.yml", "file_new_name": ".github\\workflows\\tpu-testing.yml", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "17,18,87,90,93,94,97", "deleted_lines": "85,86,89,92,95"}}}, "file_3": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "CHANGELOG.md", "file_new_name": "CHANGELOG.md", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "41,42", "deleted_lines": null}}}, "file_4": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "docs\\source\\new-project.rst", "file_new_name": "docs\\source\\new-project.rst", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": null, "deleted_lines": "9,10"}}}, "file_5": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "pytorch_lightning\\__init__.py", "file_new_name": "pytorch_lightning\\__init__.py", "file_complexity": {"file_NLOC": "66", "file_CCN": "0", "file_NToken": "170"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "57", "deleted_lines": "61"}}}, "file_6": {"file_change_type": "MODIFY", "file_Nmethod": 6, "file_old_name": "pytorch_lightning\\accelerator_backends\\ddp_spawn_backend.py", "file_new_name": "pytorch_lightning\\accelerator_backends\\ddp_spawn_backend.py", "file_complexity": {"file_NLOC": "87", "file_CCN": "22", "file_NToken": "747"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "63,69,170", "deleted_lines": "62,68,169", "method_info": {"method_name": "ddp_train", "method_params": "self,process_idx,q,model,is_master,proc_offset", "method_startline": "62", "method_endline": "172", "method_complexity": {"method_NLOC": "56", "method_CCN": "16", "method_NToken": "529", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "43", "deleted_lines": "43", "method_info": {"method_name": "train", "method_params": "self,model,nprocs", "method_startline": "42", "method_endline": "43", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "32", "method_nesting_level": "1"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "63,69,170", "deleted_lines": "68,169", "method_info": {"method_name": "ddp_train", "method_params": "self,process_idx,mp_queue,model,is_master,proc_offset", "method_startline": "63", "method_endline": "173", "method_complexity": {"method_NLOC": "56", "method_CCN": "16", "method_NToken": "529", "method_nesting_level": "1"}}}, "hunk_3": {"Ismethod": 1, "added_lines": "40", "deleted_lines": "40", "method_info": {"method_name": "setup", "method_params": "self", "method_startline": "35", "method_endline": "40", "method_complexity": {"method_NLOC": "4", "method_CCN": "1", "method_NToken": "29", "method_nesting_level": "1"}}}, "hunk_4": {"Ismethod": 1, "added_lines": "47,48,49,53", "deleted_lines": "47,48,49", "method_info": {"method_name": "teardown", "method_params": "self,model", "method_startline": "45", "method_endline": "61", "method_complexity": {"method_NLOC": "10", "method_CCN": "3", "method_NToken": "88", "method_nesting_level": "1"}}}, "hunk_5": {"Ismethod": 1, "added_lines": "33", "deleted_lines": "33", "method_info": {"method_name": "__init__", "method_params": "self,trainer", "method_startline": "31", "method_endline": "33", "method_complexity": {"method_NLOC": "3", "method_CCN": "1", "method_NToken": "17", "method_nesting_level": "1"}}}}}, "file_7": {"file_change_type": "MODIFY", "file_Nmethod": 3, "file_old_name": "pytorch_lightning\\accelerator_backends\\gpu_backend.py", "file_new_name": "pytorch_lightning\\accelerator_backends\\gpu_backend.py", "file_complexity": {"file_NLOC": "32", "file_CCN": "9", "file_NToken": "243"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "57", "deleted_lines": null, "method_info": {"method_name": "_setup_nvidia_apex", "method_params": "self,LightningModule", "method_startline": "57", "method_endline": "61", "method_complexity": {"method_NLOC": "5", "method_CCN": "1", "method_NToken": "60", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "49", "deleted_lines": "48", "method_info": {"method_name": "setup", "method_params": "self,model", "method_startline": "31", "method_endline": "51", "method_complexity": {"method_NLOC": "13", "method_CCN": "6", "method_NToken": "117", "method_nesting_level": "1"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "57", "deleted_lines": "56", "method_info": {"method_name": "_setup_nvidia_apex", "method_params": "self,model", "method_startline": "56", "method_endline": "60", "method_complexity": {"method_NLOC": "5", "method_CCN": "1", "method_NToken": "58", "method_nesting_level": "1"}}}}}, "file_8": {"file_change_type": "MODIFY", "file_Nmethod": 12, "file_old_name": "pytorch_lightning\\accelerator_backends\\tpu_backend.py", "file_new_name": "pytorch_lightning\\accelerator_backends\\tpu_backend.py", "file_complexity": {"file_NLOC": "90", "file_CCN": "21", "file_NToken": "634"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "121,123,125", "deleted_lines": "123,124,125", "method_info": {"method_name": "__save_end_of_training_weights", "method_params": "self,LightningModule,trainer", "method_startline": "121", "method_endline": "125", "method_complexity": {"method_NLOC": "4", "method_CCN": "2", "method_NToken": "26", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "76,81,85", "deleted_lines": "78,79,83,86", "method_info": {"method_name": "train", "method_params": "self,LightningModule", "method_startline": "76", "method_endline": "88", "method_complexity": {"method_NLOC": "11", "method_CCN": "2", "method_NToken": "84", "method_nesting_level": "1"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "99,103,104,105,106,110,113,116,118,119,121,123,125,127,129,132,133", "deleted_lines": "98,100,103,104,105,107,108,111,112,115,116,118,119,123,124,125,126,129,132,133", "method_info": {"method_name": "__setup_tpu_training", "method_params": "self,model", "method_startline": "98", "method_endline": "133", "method_complexity": {"method_NLOC": "20", "method_CCN": "5", "method_NToken": "186", "method_nesting_level": "1"}}}, "hunk_3": {"Ismethod": 1, "added_lines": "55,56,57,58,59,61,62,63,65,66,67,68,69,70,74", "deleted_lines": "56,60,74", "method_info": {"method_name": "teardown", "method_params": "self,model", "method_startline": "55", "method_endline": "74", "method_complexity": {"method_NLOC": "11", "method_CCN": "3", "method_NToken": "90", "method_nesting_level": "1"}}}, "hunk_4": {"Ismethod": 1, "added_lines": "99,103,104,105,106,110,113,116,118,119", "deleted_lines": "100,103,104,105,107,108,111,112,115,116,118,119", "method_info": {"method_name": "tpu_train_in_process", "method_params": "self,int,LightningModule,trainer,mp_queue", "method_startline": "99", "method_endline": "119", "method_complexity": {"method_NLOC": "10", "method_CCN": "3", "method_NToken": "83", "method_nesting_level": "1"}}}, "hunk_5": {"Ismethod": 1, "added_lines": "40", "deleted_lines": null, "method_info": {"method_name": "__init__", "method_params": "self,trainer", "method_startline": "37", "method_endline": "40", "method_complexity": {"method_NLOC": "4", "method_CCN": "1", "method_NToken": "22", "method_nesting_level": "1"}}}, "hunk_6": {"Ismethod": 1, "added_lines": "127,129,132,133,134,135,137,138,141,142,145,146,148,149,153,154,155,156,159,162,163,164", "deleted_lines": "129,132,133", "method_info": {"method_name": "__setup_tpu_training", "method_params": "self,LightningModule,trainer", "method_startline": "127", "method_endline": "164", "method_complexity": {"method_NLOC": "22", "method_CCN": "5", "method_NToken": "160", "method_nesting_level": "1"}}}, "hunk_7": {"Ismethod": 1, "added_lines": "74,76,81,85", "deleted_lines": "74,78,79,83,86,89", "method_info": {"method_name": "tpu_train_in_process", "method_params": "self,tpu_core_idx,model", "method_startline": "74", "method_endline": "89", "method_complexity": {"method_NLOC": "7", "method_CCN": "2", "method_NToken": "52", "method_nesting_level": "1"}}}, "hunk_8": {"Ismethod": 1, "added_lines": "46,47,48,49", "deleted_lines": "46", "method_info": {"method_name": "teardown", "method_params": "self", "method_startline": "46", "method_endline": "49", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "10", "method_nesting_level": "1"}}}, "hunk_9": {"Ismethod": 1, "added_lines": null, "deleted_lines": "91,94,96", "method_info": {"method_name": "__save_end_of_training_weights", "method_params": "self,model", "method_startline": "91", "method_endline": "96", "method_complexity": {"method_NLOC": "4", "method_CCN": "2", "method_NToken": "26", "method_nesting_level": "1"}}}, "hunk_10": {"Ismethod": 1, "added_lines": "51,52,53,54,55,56,57,58,59,61,62,63", "deleted_lines": "51,56,60", "method_info": {"method_name": "train", "method_params": "self,model", "method_startline": "51", "method_endline": "63", "method_complexity": {"method_NLOC": "11", "method_CCN": "2", "method_NToken": "67", "method_nesting_level": "1"}}}, "hunk_11": {"Ismethod": 1, "added_lines": "46,47,48,49,50,51,52,53", "deleted_lines": "43,44,46,51", "method_info": {"method_name": "setup", "method_params": "self", "method_startline": "42", "method_endline": "53", "method_complexity": {"method_NLOC": "7", "method_CCN": "2", "method_NToken": "43", "method_nesting_level": "1"}}}}}, "file_9": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "pytorch_lightning\\core\\__init__.py", "file_new_name": "pytorch_lightning\\core\\__init__.py", "file_complexity": {"file_NLOC": "310", "file_CCN": "0", "file_NToken": "35"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "308,309,310,311,312", "deleted_lines": "308"}}}, "file_10": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "pytorch_lightning\\core\\decorators.py", "file_new_name": "pytorch_lightning\\core\\decorators.py", "file_complexity": {"file_NLOC": "51", "file_CCN": "5", "file_NToken": "133"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": null, "deleted_lines": "4,5"}}}, "file_11": {"file_change_type": "MODIFY", "file_Nmethod": 10, "file_old_name": "pytorch_lightning\\trainer\\distrib_data_parallel.py", "file_new_name": "pytorch_lightning\\trainer\\distrib_data_parallel.py", "file_complexity": {"file_NLOC": "470", "file_CCN": "113", "file_NToken": "2307"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "264,273,284,294", "deleted_lines": "266,275,286,296", "method_info": {"method_name": "set_distributed_mode", "method_params": "self,distributed_backend", "method_startline": "259", "method_endline": "326", "method_complexity": {"method_NLOC": "58", "method_CCN": "28", "method_NToken": "336", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "617", "deleted_lines": "610,619", "method_info": {"method_name": "save_spawn_weights", "method_params": "self,model", "method_startline": "610", "method_endline": "619", "method_complexity": {"method_NLOC": "5", "method_CCN": "2", "method_NToken": "35", "method_nesting_level": "1"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "254", "deleted_lines": "256", "method_info": {"method_name": "init_tpu", "method_params": "self", "method_startline": "252", "method_endline": "257", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "10", "method_nesting_level": "1"}}}, "hunk_3": {"Ismethod": 1, "added_lines": "476", "deleted_lines": "479", "method_info": {"method_name": "spawn_ddp_children", "method_params": "self,model", "method_startline": "421", "method_endline": "479", "method_complexity": {"method_NLOC": "37", "method_CCN": "8", "method_NToken": "307", "method_nesting_level": "1"}}}, "hunk_4": {"Ismethod": 1, "added_lines": "597,599,600,601,608", "deleted_lines": "591,592,600,602,603,610", "method_info": {"method_name": "transfer_ddp_spawn_state_on_fit_end", "method_params": "self,model,q,results", "method_startline": "591", "method_endline": "610", "method_complexity": {"method_NLOC": "15", "method_CCN": "8", "method_NToken": "123", "method_nesting_level": "1"}}}, "hunk_5": {"Ismethod": 1, "added_lines": "633", "deleted_lines": "635", "method_info": {"method_name": "load_spawn_weights", "method_params": "self,original_model", "method_startline": "621", "method_endline": "642", "method_complexity": {"method_NLOC": "8", "method_CCN": "2", "method_NToken": "58", "method_nesting_level": "1"}}}, "hunk_6": {"Ismethod": 1, "added_lines": "588,589,597,599,600,601,608", "deleted_lines": "591,592,600,602,603", "method_info": {"method_name": "transfer_distrib_spawn_state_on_fit_end", "method_params": "self,model,mp_queue,results", "method_startline": "588", "method_endline": "608", "method_complexity": {"method_NLOC": "15", "method_CCN": "8", "method_NToken": "127", "method_nesting_level": "1"}}}, "hunk_7": {"Ismethod": 1, "added_lines": null, "deleted_lines": "367", "method_info": {"method_name": "determine_local_rank", "method_params": "self", "method_startline": "364", "method_endline": "369", "method_complexity": {"method_NLOC": "5", "method_CCN": "2", "method_NToken": "36", "method_nesting_level": "1"}}}, "hunk_8": {"Ismethod": 1, "added_lines": "487,580,588,589", "deleted_lines": "484,490,583", "method_info": {"method_name": "ddp_train", "method_params": "self,process_idx,q,model,is_master,proc_offset", "method_startline": "484", "method_endline": "589", "method_complexity": {"method_NLOC": "50", "method_CCN": "17", "method_NToken": "417", "method_nesting_level": "1"}}}, "hunk_9": {"Ismethod": 1, "added_lines": "481,487,580", "deleted_lines": "484,490,583", "method_info": {"method_name": "ddp_train", "method_params": "self,process_idx,mp_queue,model,is_master,proc_offset", "method_startline": "481", "method_endline": "586", "method_complexity": {"method_NLOC": "50", "method_CCN": "17", "method_NToken": "417", "method_nesting_level": "1"}}}}}, "file_12": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "pytorch_lightning\\trainer\\distrib_parts.py", "file_new_name": "pytorch_lightning\\trainer\\distrib_parts.py", "file_complexity": {"file_NLOC": "318", "file_CCN": "85", "file_NToken": "1730"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "131", "deleted_lines": "132", "method_info": {"method_name": "copy_trainer_model_properties", "method_params": "self,model", "method_startline": "115", "method_endline": "134", "method_complexity": {"method_NLOC": "19", "method_CCN": "4", "method_NToken": "122", "method_nesting_level": "1"}}}}}, "file_13": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "pytorch_lightning\\trainer\\evaluation_loop.py", "file_new_name": "pytorch_lightning\\trainer\\evaluation_loop.py", "file_complexity": {"file_NLOC": "449", "file_CCN": "86", "file_NToken": "2037"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "619", "deleted_lines": "619", "method_info": {"method_name": "evaluation_forward", "method_params": "self,model,batch,batch_idx,dataloader_idx,bool", "method_startline": "600", "method_endline": "638", "method_complexity": {"method_NLOC": "25", "method_CCN": "14", "method_NToken": "202", "method_nesting_level": "1"}}}}}, "file_14": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "pytorch_lightning\\trainer\\trainer.py", "file_new_name": "pytorch_lightning\\trainer\\trainer.py", "file_complexity": {"file_NLOC": "1143", "file_CCN": "127", "file_NToken": "4782"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "54,55,1065,1074,1079,1082,1088,1098,1106,1107,1112,1115,1118", "deleted_lines": "54,1064,1073,1078,1081,1087,1097,1105,1106,1111,1114,1117"}}}, "file_15": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "pytorch_lightning\\trainer\\training_loop.py", "file_new_name": "pytorch_lightning\\trainer\\training_loop.py", "file_complexity": {"file_NLOC": "727", "file_CCN": "189", "file_NToken": "3852"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "1071", "deleted_lines": "1071", "method_info": {"method_name": "training_forward", "method_params": "self,batch,batch_idx,opt_idx,hiddens", "method_startline": "1033", "method_endline": "1111", "method_complexity": {"method_NLOC": "43", "method_CCN": "14", "method_NToken": "316", "method_nesting_level": "1"}}}}}, "file_16": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "tests\\base\\datasets.py", "file_new_name": "tests\\base\\datasets.py", "file_complexity": {"file_NLOC": "185", "file_CCN": "27", "file_NToken": "1134"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "212", "deleted_lines": null, "method_info": {"method_name": "prepare_data", "method_params": "self,bool", "method_startline": "203", "method_endline": "214", "method_complexity": {"method_NLOC": "11", "method_CCN": "4", "method_NToken": "128", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125", "deleted_lines": null, "method_info": {"method_name": "_try_load", "method_params": "path_data,int,float", "method_startline": "108", "method_endline": "125", "method_complexity": {"method_NLOC": "16", "method_CCN": "4", "method_NToken": "93", "method_nesting_level": "0"}}}}}, "file_17": {"file_change_type": "MODIFY", "file_Nmethod": 5, "file_old_name": "tests\\base\\develop_utils.py", "file_new_name": "tests\\base\\develop_utils.py", "file_complexity": {"file_NLOC": "71", "file_CCN": "19", "file_NToken": "521"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "63", "deleted_lines": "63", "method_info": {"method_name": "load_model_from_checkpoint", "method_params": "logger,root_weights_dir,module_class,path_expt", "method_startline": "63", "method_endline": "66", "method_complexity": {"method_NLOC": "4", "method_CCN": "1", "method_NToken": "32", "method_nesting_level": "0"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "92,104,109,110,111,112,114", "deleted_lines": "103,108,109,110,112", "method_info": {"method_name": "pl_multi_process_test", "method_params": "func", "method_startline": "91", "method_endline": "116", "method_complexity": {"method_NLOC": "4", "method_CCN": "1", "method_NToken": "17", "method_nesting_level": "0"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "104", "deleted_lines": "103", "method_info": {"method_name": "pl_multi_process_test.pl_multi_process_test.wrapper.inner_f", "method_params": "queue,kwargs", "method_startline": "100", "method_endline": "107", "method_complexity": {"method_NLOC": "8", "method_CCN": "2", "method_NToken": "38", "method_nesting_level": "2"}}}, "hunk_3": {"Ismethod": 1, "added_lines": "104,109,110,111,112,114", "deleted_lines": "103,108,109,110,112", "method_info": {"method_name": "pl_multi_process_test.wrapper", "method_params": "args,kwargs", "method_startline": "95", "method_endline": "114", "method_complexity": {"method_NLOC": "9", "method_CCN": "1", "method_NToken": "66", "method_nesting_level": "1"}}}, "hunk_4": {"Ismethod": 1, "added_lines": "63", "deleted_lines": "63", "method_info": {"method_name": "load_model_from_checkpoint", "method_params": "logger,root_weights_dir,module_class", "method_startline": "63", "method_endline": "66", "method_complexity": {"method_NLOC": "4", "method_CCN": "1", "method_NToken": "28", "method_nesting_level": "0"}}}}}, "file_18": {"file_change_type": "ADD", "file_Nmethod": 0, "file_old_name": "None", "file_new_name": "tests\\base\\test_datasets.py", "file_complexity": {"file_NLOC": "11", "file_CCN": "1", "file_NToken": "80"}}, "file_19": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "tests\\models\\test_grad_norm.py", "file_new_name": "tests\\models\\test_grad_norm.py", "file_complexity": {"file_NLOC": "48", "file_CCN": "9", "file_NToken": "428"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "46", "deleted_lines": "46", "method_info": {"method_name": "test_grad_tracking", "method_params": "tmpdir,norm_type,rtol", "method_startline": "46", "method_endline": "74", "method_complexity": {"method_NLOC": "18", "method_CCN": "4", "method_NToken": "149", "method_nesting_level": "0"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "46", "deleted_lines": "46", "method_info": {"method_name": "test_grad_tracking", "method_params": "tmpdir,norm_type,rtol", "method_startline": "46", "method_endline": "74", "method_complexity": {"method_NLOC": "18", "method_CCN": "4", "method_NToken": "149", "method_nesting_level": "0"}}}}}, "file_20": {"file_change_type": "MODIFY", "file_Nmethod": 23, "file_old_name": "tests\\models\\test_tpu.py", "file_new_name": "tests\\models\\test_tpu.py", "file_complexity": {"file_NLOC": "228", "file_CCN": "15", "file_NToken": "1313"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "142,149,152,157", "deleted_lines": "144,145,148,150,151,152,153,154,157", "method_info": {"method_name": "test_model_16bit_tpu_index_1", "method_params": "tmpdir", "method_startline": "142", "method_endline": "158", "method_complexity": {"method_NLOC": "15", "method_CCN": "1", "method_NToken": "92", "method_nesting_level": "0"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "61,62,68,71,76", "deleted_lines": "58,64,66,72,73,74,75,76", "method_info": {"method_name": "test_base_tpu_model_8", "method_params": "tmpdir", "method_startline": "58", "method_endline": "78", "method_complexity": {"method_NLOC": "14", "method_CCN": "1", "method_NToken": "71", "method_nesting_level": "0"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "100,101,102,103,104,105,106,107,108,109,110,111,112,114", "deleted_lines": "100,109", "method_info": {"method_name": "test_base_tpu_16bit_model_idx_core", "method_params": "tmpdir", "method_startline": "100", "method_endline": "114", "method_complexity": {"method_NLOC": "13", "method_CCN": "1", "method_NToken": "77", "method_nesting_level": "0"}}}, "hunk_3": {"Ismethod": 1, "added_lines": "162,163,170,173", "deleted_lines": "161,167,168,169,170,173", "method_info": {"method_name": "test_single_tpu_core_model", "method_params": "tmpdir", "method_startline": "161", "method_endline": "173", "method_complexity": {"method_NLOC": "12", "method_CCN": "1", "method_NToken": "60", "method_nesting_level": "0"}}}, "hunk_4": {"Ismethod": 1, "added_lines": null, "deleted_lines": "72,73,74", "method_info": {"method_name": "test_base_tpu_model_8.long_train_loader", "method_params": "", "method_startline": "72", "method_endline": "74", "method_complexity": {"method_NLOC": "3", "method_CCN": "1", "method_NToken": "39", "method_nesting_level": "1"}}}, "hunk_5": {"Ismethod": 1, "added_lines": "163,170,173,178,179,181", "deleted_lines": "167,168,169,170,173,177,178", "method_info": {"method_name": "test_model_16bit_tpu_cores_8", "method_params": "tmpdir", "method_startline": "163", "method_endline": "181", "method_complexity": {"method_NLOC": "15", "method_CCN": "1", "method_NToken": "78", "method_nesting_level": "0"}}}, "hunk_6": {"Ismethod": 1, "added_lines": "178,179,181,185,186,187", "deleted_lines": "177,178,182,183,184,185,188", "method_info": {"method_name": "test_multi_core_tpu_model", "method_params": "tmpdir", "method_startline": "177", "method_endline": "188", "method_complexity": {"method_NLOC": "11", "method_CCN": "1", "method_NToken": "56", "method_nesting_level": "0"}}}, "hunk_7": {"Ismethod": 1, "added_lines": "81,87,88,90,94,95", "deleted_lines": "82,91", "method_info": {"method_name": "test_model_tpu_index_5", "method_params": "tmpdir", "method_startline": "81", "method_endline": "95", "method_complexity": {"method_NLOC": "13", "method_CCN": "1", "method_NToken": "76", "method_nesting_level": "0"}}}, "hunk_8": {"Ismethod": 1, "added_lines": null, "deleted_lines": "133,134,135", "method_info": {"method_name": "test_base_tpu_16bit_model_8_cores.long_train_loader", "method_params": "", "method_startline": "133", "method_endline": "135", "method_complexity": {"method_NLOC": "3", "method_CCN": "1", "method_NToken": "39", "method_nesting_level": "1"}}}, "hunk_9": {"Ismethod": 1, "added_lines": "122,129,132", "deleted_lines": "127,131,133,134,135,136,137", "method_info": {"method_name": "test_model_16bit_tpu_cores_1", "method_params": "tmpdir", "method_startline": "122", "method_endline": "137", "method_complexity": {"method_NLOC": "14", "method_CCN": "1", "method_NToken": "80", "method_nesting_level": "0"}}}, "hunk_10": {"Ismethod": 1, "added_lines": "44,50,53", "deleted_lines": "50", "method_info": {"method_name": "test_model_tpu_cores_1", "method_params": "tmpdir", "method_startline": "44", "method_endline": "57", "method_complexity": {"method_NLOC": "12", "method_CCN": "1", "method_NToken": "64", "method_nesting_level": "0"}}}, "hunk_11": {"Ismethod": 1, "added_lines": "186,187,191,192,193,194,195,196,199,200", "deleted_lines": "188", "method_info": {"method_name": "test_model_16bit_tpu_index_5", "method_params": "tmpdir", "method_startline": "186", "method_endline": "200", "method_complexity": {"method_NLOC": "14", "method_CCN": "1", "method_NToken": "82", "method_nesting_level": "0"}}}, "hunk_12": {"Ismethod": 1, "added_lines": "205,209,212,213,214,215,216,219", "deleted_lines": null, "method_info": {"method_name": "test_early_stop_checkpoints_on_tpu", "method_params": "tmpdir", "method_startline": "205", "method_endline": "219", "method_complexity": {"method_NLOC": "14", "method_CCN": "1", "method_NToken": "66", "method_nesting_level": "0"}}}, "hunk_13": {"Ismethod": 1, "added_lines": "251", "deleted_lines": null, "method_info": {"method_name": "test_dataloaders_passed_to_fit", "method_params": "tmpdir", "method_startline": "243", "method_endline": "259", "method_complexity": {"method_NLOC": "14", "method_CCN": "1", "method_NToken": "61", "method_nesting_level": "0"}}}, "hunk_14": {"Ismethod": 1, "added_lines": "121,122,129,132", "deleted_lines": "118,127,131,133,134,135,136,137,139,140", "method_info": {"method_name": "test_base_tpu_16bit_model_8_cores", "method_params": "tmpdir", "method_startline": "118", "method_endline": "140", "method_complexity": {"method_NLOC": "16", "method_CCN": "1", "method_NToken": "87", "method_nesting_level": "0"}}}, "hunk_15": {"Ismethod": 1, "added_lines": "100,101,102,103,104,105,106,107,108,109,110,111,112,114,115", "deleted_lines": "100,109", "method_info": {"method_name": "test_model_tpu_cores_8", "method_params": "tmpdir", "method_startline": "100", "method_endline": "117", "method_complexity": {"method_NLOC": "14", "method_CCN": "1", "method_NToken": "74", "method_nesting_level": "0"}}}, "hunk_16": {"Ismethod": 1, "added_lines": "273,274,275,276,277,278,279", "deleted_lines": null, "method_info": {"method_name": "test_tpu_misconfiguration", "method_params": "", "method_startline": "273", "method_endline": "279", "method_complexity": {"method_NLOC": "6", "method_CCN": "1", "method_NToken": "32", "method_nesting_level": "0"}}}, "hunk_17": {"Ismethod": 1, "added_lines": "27,28,29,30,31,32,33,34,35,36,37,38", "deleted_lines": "26,34", "method_info": {"method_name": "test_base_tpu_model_1", "method_params": "tmpdir", "method_startline": "26", "method_endline": "38", "method_complexity": {"method_NLOC": "11", "method_CCN": "1", "method_NToken": "59", "method_nesting_level": "0"}}}, "hunk_18": {"Ismethod": 1, "added_lines": "87,88,90,94,95,96", "deleted_lines": "82,91", "method_info": {"method_name": "test_base_tpu_16bit_model_core_1", "method_params": "tmpdir", "method_startline": "82", "method_endline": "96", "method_complexity": {"method_NLOC": "13", "method_CCN": "1", "method_NToken": "75", "method_nesting_level": "0"}}}, "hunk_19": {"Ismethod": 1, "added_lines": "62,68,71,76", "deleted_lines": "64,66,72,73,74,75,76", "method_info": {"method_name": "test_model_tpu_index_1", "method_params": "tmpdir", "method_startline": "62", "method_endline": "76", "method_complexity": {"method_NLOC": "13", "method_CCN": "1", "method_NToken": "76", "method_nesting_level": "0"}}}, "hunk_20": {"Ismethod": 1, "added_lines": "35,36,37,38,39", "deleted_lines": null, "method_info": {"method_name": "_serial_train_loader", "method_params": "", "method_startline": "35", "method_endline": "39", "method_complexity": {"method_NLOC": "5", "method_CCN": "1", "method_NToken": "14", "method_nesting_level": "0"}}}, "hunk_21": {"Ismethod": 1, "added_lines": "292,296", "deleted_lines": null, "method_info": {"method_name": "test_exception_when_no_tpu_found", "method_params": "tmpdir", "method_startline": "284", "method_endline": "297", "method_complexity": {"method_NLOC": "12", "method_CCN": "1", "method_NToken": "62", "method_nesting_level": "0"}}}, "hunk_22": {"Ismethod": 1, "added_lines": "43,44,50,53", "deleted_lines": "42,50", "method_info": {"method_name": "test_base_tpu_model_idx_1", "method_params": "tmpdir", "method_startline": "42", "method_endline": "54", "method_complexity": {"method_NLOC": "11", "method_CCN": "1", "method_NToken": "61", "method_nesting_level": "0"}}}}}, "file_21": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "tests\\trainer\\test_trainer.py", "file_new_name": "tests\\trainer\\test_trainer.py", "file_complexity": {"file_NLOC": "677", "file_CCN": "76", "file_NToken": "5521"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "900", "deleted_lines": "900", "method_info": {"method_name": "test_trainer_config", "method_params": "trainer_kwargs,expected", "method_startline": "893", "method_endline": "901", "method_complexity": {"method_NLOC": "9", "method_CCN": "1", "method_NToken": "77", "method_nesting_level": "0"}}}}}, "file_22": {"file_change_type": "RENAME", "file_Nmethod": 0, "file_old_name": "tests\\models\\test_test_loop.py", "file_new_name": "tests\\trainer\\test_trainer_test_loop.py", "file_complexity": {"file_NLOC": "69", "file_CCN": "3", "file_NToken": "527"}}}}}