{"BR": {"BR_id": "2371", "BR_author": "pvnieo", "BRopenT": "2020-06-26T10:44:44Z", "BRcloseT": "2020-08-03T21:50:08Z", "BR_text": {"BRsummary": "hparams are not logged in tensorboard", "BRdescription": "\n <denchmark-h:h2>\ud83d\udc1b Bug</denchmark-h>\n \n I'm using the latest version of PL. My problem is when I launch an experiment, everything is logged correctly to tensorboard, except the hparams:\n <denchmark-link:https://user-images.githubusercontent.com/22404728/85848735-f2422a80-b7a9-11ea-80f6-96ab9d6a4a61.png></denchmark-link>\n \n I tried to launch the cpu_template on a fresh virtual environement, but it didn't work. However, when I launch the pytorch example of logging hparams to tensorboard (<denchmark-link:https://pytorch.org/docs/stable/tensorboard.html#torch.utils.tensorboard.writer.SummaryWriter.add_hparams>https://pytorch.org/docs/stable/tensorboard.html#torch.utils.tensorboard.writer.SummaryWriter.add_hparams</denchmark-link>\n ), it worked!\n <denchmark-h:h3>To Reproduce</denchmark-h>\n \n I succeeded to reproduce this using the official MNIST collab (<denchmark-link:https://colab.research.google.com/drive/1F_RNcHzTfFuQf-LeKvSlud6x7jXYkG31#scrollTo=HOk9c4_35FKg>https://colab.research.google.com/drive/1F_RNcHzTfFuQf-LeKvSlud6x7jXYkG31#scrollTo=HOk9c4_35FKg</denchmark-link>\n ), by skipping the \"Simplest example\" and excuting directly '1. LightningModule'\n <denchmark-h:h3>Environment</denchmark-h>\n \n \n PyTorch Version (e.g., 1.0): 1.5\n OS (e.g., Linux): ubuntu 20.04\n How you installed PyTorch (conda, pip, source): pip\n Build command you used (if compiling from source):\n Python version: 3.8 / 3.6\n CUDA/cuDNN version: 10.2\n GPU models and configuration: GeForce GTX 1060\n Any other relevant information:\n \n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "pvnieo", "commentT": "2020-06-29T02:25:22Z", "comment_text": "\n \t\tNot sure if it's related - I'm getting hparams but not metrics <denchmark-link:https://github.com/PyTorchLightning/pytorch-lightning/issues/2406>#2406</denchmark-link>\n \n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "pvnieo", "commentT": "2020-07-01T16:52:07Z", "comment_text": "\n \t\tUPDATE: I used the same code, with the same version in new folder (just copy past the code), and now I have the hparams, but no metrics!\n \t\t"}, "comments_2": {"comment_id": 3, "comment_author": "pvnieo", "commentT": "2020-07-07T17:55:51Z", "comment_text": "\n \t\tputting a reminder here that we saw this problem popping up recently in one of the tests.\n See here, <denchmark-link:https://github.com/PyTorchLightning/pytorch-lightning/pull/2512#discussion_r451011814>#2512 (comment)</denchmark-link>\n \n need to look at the test there to debug the problem.\n \t\t"}, "comments_3": {"comment_id": 4, "comment_author": "pvnieo", "commentT": "2020-08-03T21:50:08Z", "comment_text": "\n \t\tClosing issue. <denchmark-link:https://github.com/pvnieo>@pvnieo</denchmark-link>\n  please let us know if you have any issues!\n \t\t"}}}, "commit": {"commit_id": "11069c87845ea9a14e6fe807094313a67f9946dc", "commit_author": "William Falcon", "commitT": "2020-07-07 12:24:56-04:00", "commit_complexity": {"commit_NLOC": "0.5170068027210885", "commit_CCN": "0.8435374149659864", "commit_Nprams": "0.9047619047619048"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "pytorch_lightning\\core\\decorators.py", "file_new_name": "pytorch_lightning\\core\\decorators.py", "file_complexity": {"file_NLOC": "52", "file_CCN": "5", "file_NToken": "135"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "16", "deleted_lines": "16", "method_info": {"method_name": "data_loader", "method_params": "fn", "method_startline": "10", "method_endline": "20", "method_complexity": {"method_NLOC": "4", "method_CCN": "1", "method_NToken": "16", "method_nesting_level": "0"}}}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "pytorch_lightning\\loggers\\tensorboard.py", "file_new_name": "pytorch_lightning\\loggers\\tensorboard.py", "file_complexity": {"file_NLOC": "163", "file_CCN": "27", "file_NToken": "841"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "110,111", "deleted_lines": null, "method_info": {"method_name": "experiment", "method_params": "self,exp", "method_startline": "110", "method_endline": "111", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "12", "method_nesting_level": "1"}}}}}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "pytorch_lightning\\trainer\\data_loading.py", "file_new_name": "pytorch_lightning\\trainer\\data_loading.py", "file_complexity": {"file_NLOC": "296", "file_CCN": "63", "file_NToken": "1677"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "343", "deleted_lines": "343", "method_info": {"method_name": "reset_val_dataloader", "method_params": "self,LightningModule", "method_startline": "336", "method_endline": "343", "method_complexity": {"method_NLOC": "8", "method_CCN": "2", "method_NToken": "36", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "224", "deleted_lines": "224", "method_info": {"method_name": "reset_train_dataloader", "method_params": "self,LightningModule", "method_startline": "199", "method_endline": "250", "method_complexity": {"method_NLOC": "41", "method_CCN": "7", "method_NToken": "240", "method_nesting_level": "1"}}}}}, "file_3": {"file_change_type": "MODIFY", "file_Nmethod": 5, "file_old_name": "pytorch_lightning\\trainer\\distrib_data_parallel.py", "file_new_name": "pytorch_lightning\\trainer\\distrib_data_parallel.py", "file_complexity": {"file_NLOC": "454", "file_CCN": "104", "file_NToken": "2182"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "463,465,466,467,468,469,470,471,472,473,474,475,556,557,558,559,560,561,562,563,564,565,566", "deleted_lines": "538", "method_info": {"method_name": "ddp_train", "method_params": "self,process_idx,q,model,is_master,proc_offset", "method_startline": "463", "method_endline": "566", "method_complexity": {"method_NLOC": "51", "method_CCN": "19", "method_NToken": "427", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "458,459,461,462,463,465,466,467,468,469,470,471,472,473,474,475", "deleted_lines": "451,453,454,455,456,457,538", "method_info": {"method_name": "ddp_train", "method_params": "self,process_idx,model,is_master,proc_offset", "method_startline": "451", "method_endline": "538", "method_complexity": {"method_NLOC": "45", "method_CCN": "15", "method_NToken": "373", "method_nesting_level": "1"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "387,391,392,393,394,395,396,397,398,399", "deleted_lines": "387,388,389,390", "method_info": {"method_name": "set_random_port", "method_params": "self,force", "method_startline": "387", "method_endline": "401", "method_complexity": {"method_NLOC": "8", "method_CCN": "2", "method_NToken": "62", "method_nesting_level": "1"}}}, "hunk_3": {"Ismethod": 1, "added_lines": "458,459,461", "deleted_lines": "449,451,453,454,455,456,457", "method_info": {"method_name": "spawn_ddp_children", "method_params": "self,model", "method_startline": "403", "method_endline": "461", "method_complexity": {"method_NLOC": "37", "method_CCN": "8", "method_NToken": "307", "method_nesting_level": "1"}}}, "hunk_4": {"Ismethod": 1, "added_lines": "387,391,392", "deleted_lines": "380,384,385,386,387,388,389,390", "method_info": {"method_name": "set_random_port", "method_params": "self", "method_startline": "380", "method_endline": "392", "method_complexity": {"method_NLOC": "8", "method_CCN": "2", "method_NToken": "62", "method_nesting_level": "1"}}}}}, "file_4": {"file_change_type": "MODIFY", "file_Nmethod": 4, "file_old_name": "pytorch_lightning\\trainer\\distrib_parts.py", "file_new_name": "pytorch_lightning\\trainer\\distrib_parts.py", "file_complexity": {"file_NLOC": "373", "file_CCN": "102", "file_NToken": "2191"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "235,236,270,273", "deleted_lines": "236,237,267,268", "method_info": {"method_name": "dp_train", "method_params": "self,model", "method_startline": "229", "method_endline": "273", "method_complexity": {"method_NLOC": "26", "method_CCN": "9", "method_NToken": "203", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "186,187", "deleted_lines": "185", "method_info": {"method_name": "single_gpu_train", "method_params": "self,model", "method_startline": "167", "method_endline": "187", "method_complexity": {"method_NLOC": "12", "method_CCN": "4", "method_NToken": "110", "method_nesting_level": "1"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "226", "deleted_lines": null, "method_info": {"method_name": "tpu_train", "method_params": "self,tpu_core_idx,model", "method_startline": "189", "method_endline": "227", "method_complexity": {"method_NLOC": "21", "method_CCN": "7", "method_NToken": "183", "method_nesting_level": "1"}}}, "hunk_3": {"Ismethod": 1, "added_lines": "332,336", "deleted_lines": "328", "method_info": {"method_name": "horovod_train", "method_params": "self,model", "method_startline": "275", "method_endline": "336", "method_complexity": {"method_NLOC": "34", "method_CCN": "12", "method_NToken": "293", "method_nesting_level": "1"}}}}}, "file_5": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "pytorch_lightning\\trainer\\evaluation_loop.py", "file_new_name": "pytorch_lightning\\trainer\\evaluation_loop.py", "file_complexity": {"file_NLOC": "338", "file_CCN": "39", "file_NToken": "1245"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "394,432", "deleted_lines": null, "method_info": {"method_name": "run_evaluation", "method_params": "self,bool", "method_startline": "352", "method_endline": "432", "method_complexity": {"method_NLOC": "47", "method_CCN": "15", "method_NToken": "258", "method_nesting_level": "1"}}}}}, "file_6": {"file_change_type": "MODIFY", "file_Nmethod": 4, "file_old_name": "pytorch_lightning\\trainer\\trainer.py", "file_new_name": "pytorch_lightning\\trainer\\trainer.py", "file_complexity": {"file_NLOC": "1074", "file_CCN": "113", "file_NToken": "4437"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "1356,1357", "deleted_lines": null, "method_info": {"method_name": "barrier", "method_params": "self,name", "method_startline": "1354", "method_endline": "1361", "method_complexity": {"method_NLOC": "5", "method_CCN": "5", "method_NToken": "35", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051", "deleted_lines": "1035,1040", "method_info": {"method_name": "__run_ddp_spawn", "method_params": "self,model,nprocs", "method_startline": "1034", "method_endline": "1051", "method_complexity": {"method_NLOC": "12", "method_CCN": "3", "method_NToken": "97", "method_nesting_level": "1"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "1126,1133,1134,1135,1136,1137,1138,1139,1140,1141,1142,1143", "deleted_lines": "1111,1118,1119", "method_info": {"method_name": "run_pretrain_routine", "method_params": "self,LightningModule", "method_startline": "1071", "method_endline": "1180", "method_complexity": {"method_NLOC": "56", "method_CCN": "28", "method_NToken": "426", "method_nesting_level": "1"}}}, "hunk_3": {"Ismethod": 1, "added_lines": "1037,1038,1039,1040,1041,1042", "deleted_lines": "1040", "method_info": {"method_name": "can_prepare_data", "method_params": "self", "method_startline": "1037", "method_endline": "1042", "method_complexity": {"method_NLOC": "5", "method_CCN": "3", "method_NToken": "30", "method_nesting_level": "1"}}}}}, "file_7": {"file_change_type": "MODIFY", "file_Nmethod": 3, "file_old_name": "pytorch_lightning\\trainer\\training_loop.py", "file_new_name": "pytorch_lightning\\trainer\\training_loop.py", "file_complexity": {"file_NLOC": "652", "file_CCN": "159", "file_NToken": "3352"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "510,511", "deleted_lines": "510", "method_info": {"method_name": "check_checkpoint_callback", "method_params": "self,should_check_val", "method_startline": "507", "method_endline": "513", "method_complexity": {"method_NLOC": "5", "method_CCN": "7", "method_NToken": "64", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "892,893,894,895,896", "deleted_lines": null, "method_info": {"method_name": "run_training_teardown", "method_params": "self", "method_startline": "863", "method_endline": "896", "method_complexity": {"method_NLOC": "21", "method_CCN": "11", "method_NToken": "145", "method_nesting_level": "1"}}}, "hunk_2": {"Ismethod": 1, "added_lines": null, "deleted_lines": "745", "method_info": {"method_name": "call_optimizer_step", "method_params": "self,optimizer,opt_idx,batch_idx,split_batch", "method_startline": "715", "method_endline": "760", "method_complexity": {"method_NLOC": "28", "method_CCN": "9", "method_NToken": "187", "method_nesting_level": "1"}}}}}, "file_8": {"file_change_type": "MODIFY", "file_Nmethod": 4, "file_old_name": "tests\\base\\deterministic_model.py", "file_new_name": "tests\\base\\deterministic_model.py", "file_complexity": {"file_NLOC": "107", "file_CCN": "27", "file_NToken": "1050"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "18,24,25", "deleted_lines": "22,25", "method_info": {"method_name": "__init__", "method_params": "self,weights", "method_startline": "11", "method_endline": "25", "method_complexity": {"method_NLOC": "13", "method_CCN": "2", "method_NToken": "101", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "28", "deleted_lines": null, "method_info": {"method_name": "forward", "method_params": "self,x", "method_startline": "27", "method_endline": "28", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "14", "method_nesting_level": "1"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "154", "deleted_lines": null, "method_info": {"method_name": "__getitem__", "method_params": "self,idx", "method_startline": "153", "method_endline": "154", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "26", "method_nesting_level": "1"}}}, "hunk_3": {"Ismethod": 1, "added_lines": "34,35,36", "deleted_lines": "31,32", "method_info": {"method_name": "step", "method_params": "self,batch,batch_idx", "method_startline": "30", "method_endline": "40", "method_complexity": {"method_NLOC": "9", "method_CCN": "1", "method_NToken": "88", "method_nesting_level": "1"}}}}}, "file_9": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "tests\\base\\develop_pipelines.py", "file_new_name": "tests\\base\\develop_pipelines.py", "file_complexity": {"file_NLOC": "59", "file_CCN": "14", "file_NToken": "461"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "40,49,58", "deleted_lines": "49,50,51,53,61", "method_info": {"method_name": "run_model_test", "method_params": "trainer_options,model,bool,version,bool", "method_startline": "39", "method_endline": "76", "method_complexity": {"method_NLOC": "22", "method_CCN": "7", "method_NToken": "184", "method_nesting_level": "0"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "22", "deleted_lines": "22,23", "method_info": {"method_name": "run_model_test_without_loggers", "method_params": "trainer_options,model,float", "method_startline": "9", "method_endline": "36", "method_complexity": {"method_NLOC": "17", "method_CCN": "4", "method_NToken": "113", "method_nesting_level": "0"}}}}}, "file_10": {"file_change_type": "MODIFY", "file_Nmethod": 7, "file_old_name": "tests\\base\\develop_utils.py", "file_new_name": "tests\\base\\develop_utils.py", "file_complexity": {"file_NLOC": "71", "file_CCN": "19", "file_NToken": "522"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "64", "deleted_lines": "63,64,65,66", "method_info": {"method_name": "load_model_from_checkpoint", "method_params": "logger,root_weights_dir,module_class,path_expt", "method_startline": "63", "method_endline": "66", "method_complexity": {"method_NLOC": "4", "method_CCN": "1", "method_NToken": "32", "method_nesting_level": "0"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114", "deleted_lines": "93,94,95,96,97", "method_info": {"method_name": "pl_multi_process_test", "method_params": "func", "method_startline": "91", "method_endline": "114", "method_complexity": {"method_NLOC": "4", "method_CCN": "1", "method_NToken": "16", "method_nesting_level": "0"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "99,100,101,102,103,104,105,106", "deleted_lines": null, "method_info": {"method_name": "pl_multi_process_test.pl_multi_process_test.wrapper.inner_f", "method_params": "queue,kwargs", "method_startline": "99", "method_endline": "106", "method_complexity": {"method_NLOC": "8", "method_CCN": "2", "method_NToken": "40", "method_nesting_level": "2"}}}, "hunk_3": {"Ismethod": 1, "added_lines": "94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112", "deleted_lines": "94,95,96,97", "method_info": {"method_name": "pl_multi_process_test.wrapper", "method_params": "args,kwargs", "method_startline": "94", "method_endline": "112", "method_complexity": {"method_NLOC": "9", "method_CCN": "1", "method_NToken": "62", "method_nesting_level": "1"}}}, "hunk_4": {"Ismethod": 1, "added_lines": "93,94,95,96,97,98", "deleted_lines": "93,94,95,96,97", "method_info": {"method_name": "init_checkpoint_callback", "method_params": "logger,path_dir", "method_startline": "93", "method_endline": "98", "method_complexity": {"method_NLOC": "6", "method_CCN": "1", "method_NToken": "45", "method_nesting_level": "0"}}}, "hunk_5": {"Ismethod": 1, "added_lines": "40,43,45,46,48,56", "deleted_lines": "39,43,59,60", "method_info": {"method_name": "get_data_path", "method_params": "expt_logger,path_dir", "method_startline": "38", "method_endline": "60", "method_complexity": {"method_NLOC": "14", "method_CCN": "7", "method_NToken": "109", "method_nesting_level": "0"}}}, "hunk_6": {"Ismethod": 1, "added_lines": "86,87", "deleted_lines": null, "method_info": {"method_name": "init_checkpoint_callback", "method_params": "logger", "method_startline": "86", "method_endline": "88", "method_complexity": {"method_NLOC": "3", "method_CCN": "1", "method_NToken": "15", "method_nesting_level": "0"}}}}}, "file_11": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "tests\\callbacks\\test_early_stopping.py", "file_new_name": "tests\\callbacks\\test_early_stopping.py", "file_complexity": {"file_NLOC": "96", "file_CCN": "12", "file_NToken": "639"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": null, "deleted_lines": "133"}}}, "file_12": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "tests\\loggers\\test_all.py", "file_new_name": "tests\\loggers\\test_all.py", "file_complexity": {"file_NLOC": "130", "file_CCN": "13", "file_NToken": "796"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "159", "deleted_lines": "159"}}}, "file_13": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "tests\\loggers\\test_base.py", "file_new_name": "tests\\loggers\\test_base.py", "file_complexity": {"file_NLOC": "143", "file_CCN": "23", "file_NToken": "847"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": null, "deleted_lines": "61"}}}, "file_14": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "tests\\loggers\\test_tensorboard.py", "file_new_name": "tests\\loggers\\test_tensorboard.py", "file_complexity": {"file_NLOC": "82", "file_CCN": "8", "file_NToken": "625"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "35,36,37,38,39,40,41,42,43,44,45", "deleted_lines": "35,36,37,38,39,40,41,42,43,44,45", "method_info": {"method_name": "test_tensorboard_hparams_reload", "method_params": "tmpdir", "method_startline": "17", "method_endline": "45", "method_complexity": {"method_NLOC": "17", "method_CCN": "1", "method_NToken": "154", "method_nesting_level": "0"}}}}}, "file_15": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "tests\\models\\test_amp.py", "file_new_name": "tests\\models\\test_amp.py", "file_complexity": {"file_NLOC": "95", "file_CCN": "5", "file_NToken": "596"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "106", "deleted_lines": "106", "method_info": {"method_name": "test_amp_gpu_ddp_slurm_managed", "method_params": "tmpdir", "method_startline": "87", "method_endline": "121", "method_complexity": {"method_NLOC": "22", "method_CCN": "1", "method_NToken": "133", "method_nesting_level": "0"}}}}}, "file_16": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "tests\\models\\test_cpu.py", "file_new_name": "tests\\models\\test_cpu.py", "file_complexity": {"file_NLOC": "243", "file_CCN": "21", "file_NToken": "1424"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": null, "deleted_lines": "110"}}}, "file_17": {"file_change_type": "MODIFY", "file_Nmethod": 11, "file_old_name": "tests\\models\\test_gpu.py", "file_new_name": "tests\\models\\test_gpu.py", "file_complexity": {"file_NLOC": "290", "file_CCN": "37", "file_NToken": "2688"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "36,37,38,39,40,41,42,43,44,45,46,47", "deleted_lines": "36,38,39,45,46,48", "method_info": {"method_name": "test_multi_gpu_early_stop_ddp_spawn", "method_params": "tmpdir", "method_startline": "36", "method_endline": "51", "method_complexity": {"method_NLOC": "13", "method_CCN": "1", "method_NToken": "61", "method_nesting_level": "0"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "116,127,131", "deleted_lines": "116,117,118,119,120,121,122,123,124,125,126,127", "method_info": {"method_name": "test_multi_gpu_early_stop_dp", "method_params": "tmpdir", "method_startline": "116", "method_endline": "131", "method_complexity": {"method_NLOC": "13", "method_CCN": "1", "method_NToken": "61", "method_nesting_level": "0"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "64,65,69,70,77,78,79,80,81,82", "deleted_lines": "64,75,79,80,81,82", "method_info": {"method_name": "test_multi_gpu_early_stop", "method_params": "tmpdir,backend", "method_startline": "64", "method_endline": "82", "method_complexity": {"method_NLOC": "15", "method_CCN": "1", "method_NToken": "72", "method_nesting_level": "0"}}}, "hunk_3": {"Ismethod": 1, "added_lines": "100,101,102,103,104,105,106,107,108,109,110,111,112", "deleted_lines": "110,111,112", "method_info": {"method_name": "test_single_gpu_model", "method_params": "tmpdir,gpus", "method_startline": "100", "method_endline": "112", "method_complexity": {"method_NLOC": "11", "method_CCN": "1", "method_NToken": "53", "method_nesting_level": "0"}}}, "hunk_4": {"Ismethod": 1, "added_lines": "77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95", "deleted_lines": "79,80,81,82,85,95", "method_info": {"method_name": "test_multi_gpu_model_ddp_spawn", "method_params": "tmpdir", "method_startline": "77", "method_endline": "95", "method_complexity": {"method_NLOC": "14", "method_CCN": "1", "method_NToken": "65", "method_nesting_level": "0"}}}, "hunk_5": {"Ismethod": 1, "added_lines": "55,61,62,64,65,69,70", "deleted_lines": "55,61,62,64", "method_info": {"method_name": "test_multi_gpu_model_dp", "method_params": "tmpdir", "method_startline": "55", "method_endline": "73", "method_complexity": {"method_NLOC": "14", "method_CCN": "1", "method_NToken": "65", "method_nesting_level": "0"}}}, "hunk_6": {"Ismethod": 1, "added_lines": "143,144,146", "deleted_lines": null, "method_info": {"method_name": "test_ddp_all_dataloaders_passed_to_fit", "method_params": "tmpdir", "method_startline": "135", "method_endline": "155", "method_complexity": {"method_NLOC": "17", "method_CCN": "1", "method_NToken": "100", "method_nesting_level": "0"}}}, "hunk_7": {"Ismethod": 1, "added_lines": "38,39,40,41,42,43,44,45,46,47,55", "deleted_lines": "38,39,45,46,48,52,53,54,55", "method_info": {"method_name": "test_multi_gpu_model", "method_params": "tmpdir,backend", "method_startline": "38", "method_endline": "58", "method_complexity": {"method_NLOC": "15", "method_CCN": "1", "method_NToken": "78", "method_nesting_level": "0"}}}, "hunk_8": {"Ismethod": 1, "added_lines": "297", "deleted_lines": null, "method_info": {"method_name": "test_parse_gpu_returns_none_when_no_devices_are_available", "method_params": "mocked_device_count_0,gpus", "method_startline": "297", "method_endline": "299", "method_complexity": {"method_NLOC": "3", "method_CCN": "1", "method_NToken": "19", "method_nesting_level": "0"}}}, "hunk_9": {"Ismethod": 1, "added_lines": "18,19,20,23,26,27,28,29,30,31,32", "deleted_lines": "18,19,20,21,26,27,28", "method_info": {"method_name": "test_multi_gpu_none_backend", "method_params": "tmpdir", "method_startline": "18", "method_endline": "32", "method_complexity": {"method_NLOC": "13", "method_CCN": "1", "method_NToken": "60", "method_nesting_level": "0"}}}, "hunk_10": {"Ismethod": 1, "added_lines": null, "deleted_lines": "267", "method_info": {"method_name": "test_parse_gpu_returns_None_when_no_devices_are_available", "method_params": "mocked_device_count_0,gpus", "method_startline": "267", "method_endline": "269", "method_complexity": {"method_NLOC": "3", "method_CCN": "1", "method_NToken": "19", "method_nesting_level": "0"}}}}}, "file_18": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "tests\\models\\test_horovod.py", "file_new_name": "tests\\models\\test_horovod.py", "file_complexity": {"file_NLOC": "141", "file_CCN": "18", "file_NToken": "1081"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "132", "deleted_lines": "131", "method_info": {"method_name": "test_horovod_transfer_batch_to_gpu", "method_params": "tmpdir", "method_startline": "116", "method_endline": "144", "method_complexity": {"method_NLOC": "17", "method_CCN": "1", "method_NToken": "80", "method_nesting_level": "0"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "105", "deleted_lines": "104", "method_info": {"method_name": "test_horovod_multi_gpu", "method_params": "tmpdir", "method_startline": "96", "method_endline": "109", "method_complexity": {"method_NLOC": "13", "method_CCN": "1", "method_NToken": "63", "method_nesting_level": "0"}}}}}, "file_19": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "tests\\models\\test_restore.py", "file_new_name": "tests\\models\\test_restore.py", "file_complexity": {"file_NLOC": "162", "file_CCN": "15", "file_NToken": "1101"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "95", "deleted_lines": "95,96,97", "method_info": {"method_name": "test_running_test_pretrained_model_cpu", "method_params": "tmpdir", "method_startline": "70", "method_endline": "101", "method_complexity": {"method_NLOC": "19", "method_CCN": "1", "method_NToken": "112", "method_nesting_level": "0"}}}}}, "file_20": {"file_change_type": "ADD", "file_Nmethod": 0, "file_old_name": "None", "file_new_name": "tests\\models\\test_test_loop.py", "file_complexity": {"file_NLOC": "59", "file_CCN": "3", "file_NToken": "357"}}, "file_21": {"file_change_type": "MODIFY", "file_Nmethod": 3, "file_old_name": "tests\\models\\test_tpu.py", "file_new_name": "tests\\models\\test_tpu.py", "file_complexity": {"file_NLOC": "123", "file_CCN": "8", "file_NToken": "789"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "25,26,27,28,29,30,31,32,33,34,35,36,37", "deleted_lines": null, "method_info": {"method_name": "test_base_tpu_model", "method_params": "tmpdir,tpu_cores", "method_startline": "25", "method_endline": "37", "method_complexity": {"method_NLOC": "11", "method_CCN": "1", "method_NToken": "61", "method_nesting_level": "0"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58", "deleted_lines": null, "method_info": {"method_name": "test_base_tpu_16bit_model", "method_params": "tmpdir,tpu_cores", "method_startline": "42", "method_endline": "58", "method_complexity": {"method_NLOC": "13", "method_CCN": "1", "method_NToken": "77", "method_nesting_level": "0"}}}, "hunk_2": {"Ismethod": 1, "added_lines": null, "deleted_lines": "103,104,105,106,107,108,109,110,111,112,113,114,115", "method_info": {"method_name": "test_mixed_precision_with_tpu", "method_params": "tmpdir,tpu_cores", "method_startline": "103", "method_endline": "115", "method_complexity": {"method_NLOC": "12", "method_CCN": "1", "method_NToken": "67", "method_nesting_level": "0"}}}}}, "file_22": {"file_change_type": "MODIFY", "file_Nmethod": 4, "file_old_name": "tests\\test_deprecated.py", "file_new_name": "tests\\test_deprecated.py", "file_complexity": {"file_NLOC": "111", "file_CCN": "16", "file_NToken": "916"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "20,23,27,34,37,41,44,48,50", "deleted_lines": "20,23,27,34,37,41,44,48,50", "method_info": {"method_name": "test_tbd_remove_in_v0_10_0_trainer", "method_params": "", "method_startline": "18", "method_endline": "51", "method_complexity": {"method_NLOC": "30", "method_CCN": "1", "method_NToken": "230", "method_nesting_level": "0"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "71,76,79,82,85,88", "deleted_lines": "71,76,79,82,85,88", "method_info": {"method_name": "test_tbd_remove_in_v0_9_0_module_imports", "method_params": "", "method_startline": "69", "method_endline": "89", "method_complexity": {"method_NLOC": "20", "method_CCN": "1", "method_NToken": "140", "method_nesting_level": "0"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "139,147,152", "deleted_lines": "139,147,152", "method_info": {"method_name": "test_tbd_remove_in_v1_0_0_model_hooks", "method_params": "", "method_startline": "130", "method_endline": "156", "method_complexity": {"method_NLOC": "19", "method_CCN": "1", "method_NToken": "202", "method_nesting_level": "0"}}}, "hunk_3": {"Ismethod": 1, "added_lines": "56,60,64", "deleted_lines": "56,60,64", "method_info": {"method_name": "test_tbd_remove_in_v0_9_0_trainer", "method_params": "", "method_startline": "54", "method_endline": "66", "method_complexity": {"method_NLOC": "10", "method_CCN": "1", "method_NToken": "87", "method_nesting_level": "0"}}}}}, "file_23": {"file_change_type": "MODIFY", "file_Nmethod": 4, "file_old_name": "tests\\trainer\\test_dataloaders.py", "file_new_name": "tests\\trainer\\test_dataloaders.py", "file_complexity": {"file_NLOC": "488", "file_CCN": "47", "file_NToken": "3464"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "542,552,561,562", "deleted_lines": "537,547,556", "method_info": {"method_name": "test_dataloader_reinit_for_subclass", "method_params": "", "method_startline": "536", "method_endline": "579", "method_complexity": {"method_NLOC": "30", "method_CCN": "1", "method_NToken": "261", "method_nesting_level": "0"}}}, "hunk_1": {"Ismethod": 1, "added_lines": null, "deleted_lines": "537", "method_info": {"method_name": "test_dataloader_reinit_for_subclass.__init__", "method_params": "self,dataset,batch_size,shuffle,sampler,batch_sampler,num_workers,collate_fn,pin_memory,drop_last,timeout,worker_init_fn,dummy_kwarg", "method_startline": "534", "method_endline": "537", "method_complexity": {"method_NLOC": "4", "method_CCN": "1", "method_NToken": "51", "method_nesting_level": "2"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "329,330,331,332,333,334", "deleted_lines": "329", "method_info": {"method_name": "test_dataloaders_with_limit_num_batches", "method_params": "tmpdir,limit_train_batches,limit_val_batches,limit_test_batches", "method_startline": "307", "method_endline": "334", "method_complexity": {"method_NLOC": "23", "method_CCN": "3", "method_NToken": "160", "method_nesting_level": "0"}}}, "hunk_3": {"Ismethod": 1, "added_lines": "542", "deleted_lines": null, "method_info": {"method_name": "test_dataloader_reinit_for_subclass.__init__", "method_params": "self,dataset,batch_size,shuffle,sampler,batch_sampler,num_workers,collate_fn,pin_memory,drop_last,timeout,worker_init_fn,dummy_kwarg,kwargs", "method_startline": "539", "method_endline": "542", "method_complexity": {"method_NLOC": "4", "method_CCN": "1", "method_NToken": "54", "method_nesting_level": "2"}}}}}, "file_24": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "tests\\trainer\\test_trainer_steps.py", "file_new_name": "tests\\trainer\\test_trainer_steps.py", "file_complexity": {"file_NLOC": "104", "file_CCN": "8", "file_NToken": "727"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": null, "deleted_lines": "20,21", "method_info": {"method_name": "test_training_step_dict", "method_params": "tmpdir", "method_startline": "9", "method_endline": "50", "method_complexity": {"method_NLOC": "30", "method_CCN": "2", "method_NToken": "209", "method_nesting_level": "0"}}}}}, "file_25": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "tests\\trainer\\test_trainer_tricks.py", "file_new_name": "tests\\trainer\\test_trainer_tricks.py", "file_complexity": {"file_NLOC": "153", "file_CCN": "13", "file_NToken": "1204"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35", "deleted_lines": null, "method_info": {"method_name": "test_num_training_batches", "method_params": "tmpdir", "method_startline": "11", "method_endline": "35", "method_complexity": {"method_NLOC": "17", "method_CCN": "1", "method_NToken": "152", "method_nesting_level": "0"}}}}}}}}