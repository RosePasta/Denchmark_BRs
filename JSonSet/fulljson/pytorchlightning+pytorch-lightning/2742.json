{"BR": {"BR_id": "2742", "BR_author": "remisphere", "BRopenT": "2020-07-28T15:54:40Z", "BRcloseT": "2020-08-02T00:17:58Z", "BR_text": {"BRsummary": "[DataModule] `prepare_data()` and `setup()` not called", "BRdescription": "\n <denchmark-h:h2>\ud83d\udc1b Bug</denchmark-h>\n \n It seems that when using DataModule to separate training logic and data loading,\n of the <denchmark-link:https://pytorch-lightning.readthedocs.io/en/latest/datamodules.html#methods>five methods</denchmark-link>\n  that should be called that are\n , , ,  and ,\n only the last three are actually used, witch is problematic since the datasets used by the data-loaders should be assigned in the .\n <denchmark-h:h3>To Reproduce</denchmark-h>\n \n Steps to reproduce the behavior:\n Run this:\n <denchmark-h:h4>Code sample</denchmark-h>\n \n import torch\n from pytorch_lightning import LightningDataModule\n from pytorch_lightning.core.lightning import LightningModule\n from pytorch_lightning.trainer import Trainer\n from torch.nn import L1Loss, Linear\n from torch.optim import SGD\n from torch.utils.data import DataLoader\n \n \n class MyDataModule(LightningDataModule):\n \n     def __init__(self):\n         super().__init__()\n \n     def prepare_data(self):\n         print('in prepare_data, '\n               'this should be called before train_dataloader() but is not.')\n \n     def setup(self, stage):\n         print('in setup, '\n               'this should be called before train_dataloader() but is not.')\n         self.train_dataset = 'whatever'\n \n     def train_dataloader(self):\n         print('in train_dataloader')\n         return DataLoader(self.train_dataset)\n \n \n class MyLightningModule(LightningModule):\n \n     def __init__(self):\n         super().__init__()\n         self.layer = Linear(1, 1)\n         self.loss_function = L1Loss()\n \n     def forward(self, x):\n         return self.layer(x)\n \n     def configure_optimizers(self):\n         return SGD(self.parameters(), lr=0.01)\n \n     def training_step(self, batch, batch_idx):\n         print(\"you won't even get here\")\n         raise NotImplementedError\n \n \n data_module = MyDataModule()\n model = MyLightningModule()\n trainer = Trainer(gpus=1)\n trainer.fit(model, data_module)\n this gives AttributeError: 'MyDataModule' object has no attribute 'train_dataset'.\n <denchmark-h:h3>Expected behavior</denchmark-h>\n \n When entering train_dataloader(), prepare_data() and setup() should already have been executed, and thus the train_dataset attribute should exist.\n <denchmark-h:h3>Additional context</denchmark-h>\n \n IMHO, it comes from <denchmark-link:https://github.com/PyTorchLightning/pytorch-lightning/blob/590e7fb1fd1729b732128b3b96c919ebdf524077/pytorch_lightning/trainer/trainer.py#L1161-L1167>here</denchmark-link>\n \n <denchmark-h:h3>Environment</denchmark-h>\n \n \n CUDA:\n \n GPU:\n \n GeForce RTX 2080 Ti\n GeForce RTX 2080 Ti\n \n \n available:         True\n version:           10.1\n \n \n Packages:\n \n numpy:             1.19.1\n pyTorch_debug:     False\n pyTorch_version:   1.5.1+cu101\n pytorch-lightning: 0.9.0rc2\n tensorboard:       2.3.0\n tqdm:              4.48.0\n \n \n System:\n \n OS:                Linux\n architecture:\n \n 64bit\n \n \n processor:         x86_64\n python:            3.7.6\n version:           #41-Ubuntu SMP Tue Dec 3 00:27:35 UTC 2019\n \n \n \n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "remisphere", "commentT": "2020-07-28T16:18:17Z", "comment_text": "\n \t\t\n \n you're not specifying the datamodule kwarg in trainer.fit() - your last line should look like this: trainer.fit(model, datamodule=data_module)\n \n \n In this first iteration of LightningDataModule, you have to call setup and prepare_data manually for the datamodule instance. We have it set up this way so if you don't want to use Lightning, you can use your datamodule's loaders with pure Pytorch. I thought of having them called implicitly in the PR, but ended up landing on this for now. I'm not sure if users would always want these to run implicitly.\n \n \n TL;DR: you can update your code to look like this:\n # Init a datamodule\n dm = MyDataModule()\n \n # Manually call prepare_data and setup. You could put this at end of __init__ if you want\n dm.prepare_data()\n dm.setup()\n \n model = MyLightningModule()\n trainer = Trainer(gpus=1)\n trainer.fit(model, datamodule=dm)\n <denchmark-h:hr></denchmark-h>\n \n That being said, we're open to any ideas on making this more intuitive, so feel free to throw out some alternatives. \ud83d\ude04\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "remisphere", "commentT": "2020-07-28T16:39:39Z", "comment_text": "\n \t\t\n \n is not true in 0.9.0rc2: a data module as second positional argument is taken care of here.\n \n \n I don't have a global enough view to know what other users might want, so if it is a feature i'm fine with it.\n I just saw that the manual call was in the docs, my bad for not looking far enough.\n \n \n Anyway thank you for the clear answer ^^\n \t\t"}, "comments_2": {"comment_id": 3, "comment_author": "remisphere", "commentT": "2020-07-29T19:54:45Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/remisphere>@remisphere</denchmark-link>\n  I totally didn't notice! You were completely right on the dm arg. things move fast haha.\n Reopening actually, as I think your intended use is more user friendly.\n \t\t"}}}, "commit": {"commit_id": "036bcea4992865e8a82a5939f0d374530e17b778", "commit_author": "Nathan Raw", "commitT": "2020-08-01 20:17:57-04:00", "commit_complexity": {"commit_NLOC": "1.0", "commit_CCN": "1.0", "commit_Nprams": "1.0"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "docs\\source\\datamodules.rst", "file_new_name": "docs\\source\\datamodules.rst", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,93,94,95,96,97,98,99,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,135,140,141,142,143,144,145,146,147,148,149,150,151,167,168,169,170,171,172,173,174,175,176,177,178,184,185,186,187,188,189,190,191,192,193,194,195,201,219,224,225,243,248,249", "deleted_lines": "15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,63,64,65,66,67,80,81,82,83,84,85,86,87,88,89,90,91,99,100,101,102,103,104,105,106,122,123,124,125,126,127,128,129,135,136,137,138,139,140,141,142,165,170,187"}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "pytorch_lightning\\accelerator_backends\\cpu_backend.py", "file_new_name": "pytorch_lightning\\accelerator_backends\\cpu_backend.py", "file_complexity": {"file_NLOC": "15", "file_CCN": "4", "file_NToken": "110"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "29", "deleted_lines": "29,30,31", "method_info": {"method_name": "setup", "method_params": "self,model", "method_startline": "23", "method_endline": "36", "method_complexity": {"method_NLOC": "8", "method_CCN": "2", "method_NToken": "62", "method_nesting_level": "1"}}}}}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "pytorch_lightning\\accelerator_backends\\ddp_spawn_backend.py", "file_new_name": "pytorch_lightning\\accelerator_backends\\ddp_spawn_backend.py", "file_complexity": {"file_NLOC": "85", "file_CCN": "21", "file_NToken": "733"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "109", "deleted_lines": "109,110,111", "method_info": {"method_name": "ddp_train", "method_params": "self,process_idx,mp_queue,model,is_master,proc_offset", "method_startline": "63", "method_endline": "171", "method_complexity": {"method_NLOC": "54", "method_CCN": "15", "method_NToken": "515", "method_nesting_level": "1"}}}}}, "file_3": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "pytorch_lightning\\accelerator_backends\\dp_backend.py", "file_new_name": "pytorch_lightning\\accelerator_backends\\dp_backend.py", "file_complexity": {"file_NLOC": "74", "file_CCN": "21", "file_NToken": "515"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "36", "deleted_lines": "36,37,38", "method_info": {"method_name": "setup", "method_params": "self,model", "method_startline": "34", "method_endline": "58", "method_complexity": {"method_NLOC": "12", "method_CCN": "2", "method_NToken": "97", "method_nesting_level": "1"}}}}}, "file_4": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "pytorch_lightning\\accelerator_backends\\gpu_backend.py", "file_new_name": "pytorch_lightning\\accelerator_backends\\gpu_backend.py", "file_complexity": {"file_NLOC": "30", "file_CCN": "8", "file_NToken": "229"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "34", "deleted_lines": "34,35,36", "method_info": {"method_name": "setup", "method_params": "self,model", "method_startline": "31", "method_endline": "49", "method_complexity": {"method_NLOC": "11", "method_CCN": "5", "method_NToken": "103", "method_nesting_level": "1"}}}}}, "file_5": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "pytorch_lightning\\accelerator_backends\\tpu_backend.py", "file_new_name": "pytorch_lightning\\accelerator_backends\\tpu_backend.py", "file_complexity": {"file_NLOC": "88", "file_CCN": "20", "file_NToken": "622"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "105,106", "deleted_lines": "105,106,107", "method_info": {"method_name": "tpu_train_in_process", "method_params": "self,int,LightningModule,trainer,mp_queue", "method_startline": "99", "method_endline": "118", "method_complexity": {"method_NLOC": "8", "method_CCN": "2", "method_NToken": "71", "method_nesting_level": "1"}}}}}, "file_6": {"file_change_type": "MODIFY", "file_Nmethod": 8, "file_old_name": "pytorch_lightning\\core\\datamodule.py", "file_new_name": "pytorch_lightning\\core\\datamodule.py", "file_complexity": {"file_NLOC": "237", "file_CCN": "48", "file_NToken": "965"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "237,244", "deleted_lines": null, "method_info": {"method_name": "setup", "method_params": "self,None", "method_startline": "237", "method_endline": "247", "method_complexity": {"method_NLOC": "1", "method_CCN": "1", "method_NToken": "15", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "189,190,191,192,193,194,195", "deleted_lines": null, "method_info": {"method_name": "has_prepared_data", "method_params": "self", "method_startline": "189", "method_endline": "195", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "10", "method_nesting_level": "1"}}}, "hunk_2": {"Ismethod": 1, "added_lines": null, "deleted_lines": "158,165", "method_info": {"method_name": "setup", "method_params": "self,args,kwargs", "method_startline": "158", "method_endline": "168", "method_complexity": {"method_NLOC": "1", "method_CCN": "1", "method_NToken": "12", "method_nesting_level": "1"}}}, "hunk_3": {"Ismethod": 1, "added_lines": "198,199,200,201,202,203,204", "deleted_lines": null, "method_info": {"method_name": "has_setup_fit", "method_params": "self", "method_startline": "198", "method_endline": "204", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "10", "method_nesting_level": "1"}}}, "hunk_4": {"Ismethod": 1, "added_lines": "62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84", "deleted_lines": null, "method_info": {"method_name": "track_data_hook_calls.wrapped_fn", "method_params": "args,kwargs", "method_startline": "62", "method_endline": "84", "method_complexity": {"method_NLOC": "11", "method_CCN": "8", "method_NToken": "93", "method_nesting_level": "1"}}}, "hunk_5": {"Ismethod": 1, "added_lines": "207,208,209,210,211,212,213", "deleted_lines": null, "method_info": {"method_name": "has_setup_test", "method_params": "self", "method_startline": "207", "method_endline": "213", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "10", "method_nesting_level": "1"}}}, "hunk_6": {"Ismethod": 1, "added_lines": "32,35,36,37,38", "deleted_lines": "33,34", "method_info": {"method_name": "__call__", "method_params": "cls,args,kwargs", "method_startline": "27", "method_endline": "43", "method_complexity": {"method_NLOC": "5", "method_CCN": "1", "method_NToken": "51", "method_nesting_level": "1"}}}, "hunk_7": {"Ismethod": 1, "added_lines": "46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86", "deleted_lines": null, "method_info": {"method_name": "track_data_hook_calls", "method_params": "fn", "method_startline": "46", "method_endline": "86", "method_complexity": {"method_NLOC": "4", "method_CCN": "1", "method_NToken": "17", "method_nesting_level": "0"}}}}}, "file_7": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "pytorch_lightning\\trainer\\distrib_data_parallel.py", "file_new_name": "pytorch_lightning\\trainer\\distrib_data_parallel.py", "file_complexity": {"file_NLOC": "484", "file_CCN": "116", "file_NToken": "2405"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "539", "deleted_lines": "533,534,535", "method_info": {"method_name": "ddp_train", "method_params": "self,process_idx,mp_queue,model,is_master,proc_offset", "method_startline": "497", "method_endline": "600", "method_complexity": {"method_NLOC": "48", "method_CCN": "16", "method_NToken": "405", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "216,217", "deleted_lines": null, "method_info": {"method_name": "call_setup_hook", "method_params": "self,args", "method_startline": "216", "method_endline": "217", "method_complexity": {"method_NLOC": "1", "method_CCN": "1", "method_NToken": "9", "method_nesting_level": "1"}}}}}, "file_8": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "pytorch_lightning\\trainer\\distrib_parts.py", "file_new_name": "pytorch_lightning\\trainer\\distrib_parts.py", "file_complexity": {"file_NLOC": "318", "file_CCN": "85", "file_NToken": "1730"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "187", "deleted_lines": "185", "method_info": {"method_name": "horovod_train", "method_params": "self,model", "method_startline": "185", "method_endline": "249", "method_complexity": {"method_NLOC": "36", "method_CCN": "14", "method_NToken": "317", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "92,93", "deleted_lines": null, "method_info": {"method_name": "call_setup_hook", "method_params": "self,args", "method_startline": "92", "method_endline": "93", "method_complexity": {"method_NLOC": "1", "method_CCN": "1", "method_NToken": "9", "method_nesting_level": "1"}}}}}, "file_9": {"file_change_type": "MODIFY", "file_Nmethod": 6, "file_old_name": "pytorch_lightning\\trainer\\trainer.py", "file_new_name": "pytorch_lightning\\trainer\\trainer.py", "file_complexity": {"file_NLOC": "1080", "file_CCN": "136", "file_NToken": "4779"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "1079", "deleted_lines": "1072", "method_info": {"method_name": "__attach_datamodule", "method_params": "self,model,datamodule", "method_startline": "1072", "method_endline": "1084", "method_complexity": {"method_NLOC": "9", "method_CCN": "6", "method_NToken": "77", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": null, "deleted_lines": "1343,1344", "method_info": {"method_name": "__test_given_model", "method_params": "self,model,test_dataloaders", "method_startline": "1342", "method_endline": "1362", "method_complexity": {"method_NLOC": "12", "method_CCN": "3", "method_NToken": "78", "method_nesting_level": "1"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "1079,1086,1087,1088,1089,1090,1091,1092,1100", "deleted_lines": null, "method_info": {"method_name": "__attach_datamodule", "method_params": "self,model,datamodule,stage", "method_startline": "1079", "method_endline": "1100", "method_complexity": {"method_NLOC": "10", "method_CCN": "6", "method_NToken": "82", "method_nesting_level": "1"}}}, "hunk_3": {"Ismethod": 1, "added_lines": "1298", "deleted_lines": "1297", "method_info": {"method_name": "__test_using_best_weights", "method_params": "self,ckpt_path,test_dataloaders", "method_startline": "1295", "method_endline": "1340", "method_complexity": {"method_NLOC": "32", "method_CCN": "8", "method_NToken": "192", "method_nesting_level": "1"}}}, "hunk_4": {"Ismethod": 1, "added_lines": "1058,1059,1060,1061,1063,1065", "deleted_lines": "1058", "method_info": {"method_name": "can_prepare_data", "method_params": "self", "method_startline": "1057", "method_endline": "1065", "method_complexity": {"method_NLOC": "8", "method_CCN": "7", "method_NToken": "64", "method_nesting_level": "1"}}}, "hunk_5": {"Ismethod": 1, "added_lines": "1384,1385,1386,1387,1388,1389,1390,1391,1392", "deleted_lines": null, "method_info": {"method_name": "call_setup_hook", "method_params": "self,model", "method_startline": "1384", "method_endline": "1392", "method_complexity": {"method_NLOC": "8", "method_CCN": "5", "method_NToken": "65", "method_nesting_level": "1"}}}}}, "file_10": {"file_change_type": "MODIFY", "file_Nmethod": 3, "file_old_name": "tests\\base\\datamodules.py", "file_new_name": "tests\\base\\datamodules.py", "file_complexity": {"file_NLOC": "26", "file_CCN": "10", "file_NToken": "287"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "12", "deleted_lines": null, "method_info": {"method_name": "__init__", "method_params": "self,str", "method_startline": "9", "method_endline": "12", "method_complexity": {"method_NLOC": "4", "method_CCN": "1", "method_NToken": "28", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "18,19,20,21,22,23,24,25,26,27,28,29", "deleted_lines": "18,19,20", "method_info": {"method_name": "setup", "method_params": "self,str", "method_startline": "18", "method_endline": "29", "method_complexity": {"method_NLOC": "9", "method_CCN": "5", "method_NToken": "140", "method_nesting_level": "1"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "18,19,20", "deleted_lines": "16,17,18,19,20", "method_info": {"method_name": "setup", "method_params": "self", "method_startline": "16", "method_endline": "20", "method_complexity": {"method_NLOC": "5", "method_CCN": "1", "method_NToken": "87", "method_nesting_level": "1"}}}}}, "file_11": {"file_change_type": "MODIFY", "file_Nmethod": 13, "file_old_name": "tests\\core\\test_datamodules.py", "file_new_name": "tests\\core\\test_datamodules.py", "file_complexity": {"file_NLOC": "207", "file_CCN": "16", "file_NToken": "1184"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "216,217,229", "deleted_lines": null, "method_info": {"method_name": "test_full_loop", "method_params": "tmpdir", "method_startline": "215", "method_endline": "235", "method_complexity": {"method_NLOC": "14", "method_CCN": "1", "method_NToken": "75", "method_nesting_level": "0"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "37,38,39,40,41", "deleted_lines": "37,38,39,40,41", "method_info": {"method_name": "test_dm_pickle_after_setup", "method_params": "tmpdir", "method_startline": "37", "method_endline": "41", "method_complexity": {"method_NLOC": "5", "method_CCN": "1", "method_NToken": "26", "method_nesting_level": "0"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "294,295,309", "deleted_lines": null, "method_info": {"method_name": "test_full_loop_ddp_spawn", "method_params": "tmpdir", "method_startline": "290", "method_endline": "315", "method_complexity": {"method_NLOC": "18", "method_CCN": "1", "method_NToken": "96", "method_nesting_level": "0"}}}, "hunk_3": {"Ismethod": 1, "added_lines": "120,121,122,123,124,125,126,127,128,129,130,131", "deleted_lines": "120,121,131", "method_info": {"method_name": "test_data_hooks_called_with_stage_kwarg", "method_params": "tmpdir", "method_startline": "120", "method_endline": "131", "method_complexity": {"method_NLOC": "10", "method_CCN": "1", "method_NToken": "61", "method_nesting_level": "0"}}}, "hunk_4": {"Ismethod": 1, "added_lines": "98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117", "deleted_lines": "105,108", "method_info": {"method_name": "test_data_hooks_called_verbose", "method_params": "tmpdir", "method_startline": "98", "method_endline": "117", "method_complexity": {"method_NLOC": "17", "method_CCN": "1", "method_NToken": "99", "method_nesting_level": "0"}}}, "hunk_5": {"Ismethod": 1, "added_lines": "265,266,280", "deleted_lines": null, "method_info": {"method_name": "test_full_loop_dp", "method_params": "tmpdir", "method_startline": "264", "method_endline": "286", "method_complexity": {"method_NLOC": "16", "method_CCN": "1", "method_NToken": "82", "method_nesting_level": "0"}}}, "hunk_6": {"Ismethod": 1, "added_lines": "13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65", "deleted_lines": "37,38,39,40,41,42,43,46,47,62,65", "method_info": {"method_name": "test_can_prepare_data", "method_params": "tmpdir", "method_startline": "13", "method_endline": "65", "method_complexity": {"method_NLOC": "27", "method_CCN": "1", "method_NToken": "147", "method_nesting_level": "0"}}}, "hunk_7": {"Ismethod": 1, "added_lines": "81,82,83,84,85,86,87,88,89,90,91,92,93,94,95", "deleted_lines": "85,88,90,95", "method_info": {"method_name": "test_data_hooks_called", "method_params": "tmpdir", "method_startline": "81", "method_endline": "95", "method_complexity": {"method_NLOC": "13", "method_CCN": "1", "method_NToken": "74", "method_nesting_level": "0"}}}, "hunk_8": {"Ismethod": 1, "added_lines": "173,175", "deleted_lines": "158,161", "method_info": {"method_name": "test_train_loop_only", "method_params": "tmpdir", "method_startline": "155", "method_endline": "175", "method_complexity": {"method_NLOC": "17", "method_CCN": "1", "method_NToken": "88", "method_nesting_level": "0"}}}, "hunk_9": {"Ismethod": 1, "added_lines": "240,241,254", "deleted_lines": null, "method_info": {"method_name": "test_full_loop_single_gpu", "method_params": "tmpdir", "method_startline": "239", "method_endline": "260", "method_complexity": {"method_NLOC": "15", "method_CCN": "1", "method_NToken": "78", "method_nesting_level": "0"}}}, "hunk_10": {"Ismethod": 1, "added_lines": "179,180,195,197", "deleted_lines": "188,191", "method_info": {"method_name": "test_train_val_loop_only", "method_params": "tmpdir", "method_startline": "178", "method_endline": "197", "method_complexity": {"method_NLOC": "15", "method_CCN": "1", "method_NToken": "76", "method_nesting_level": "0"}}}, "hunk_11": {"Ismethod": 1, "added_lines": "74,75,76,77,78", "deleted_lines": null, "method_info": {"method_name": "test_base_datamodule_with_verbose_setup", "method_params": "tmpdir", "method_startline": "74", "method_endline": "78", "method_complexity": {"method_NLOC": "5", "method_CCN": "1", "method_NToken": "27", "method_nesting_level": "0"}}}, "hunk_12": {"Ismethod": 1, "added_lines": "200,201,202,203,204,205,206,207,208,209,210,211,212", "deleted_lines": null, "method_info": {"method_name": "test_test_loop_only", "method_params": "tmpdir", "method_startline": "200", "method_endline": "212", "method_complexity": {"method_NLOC": "10", "method_CCN": "1", "method_NToken": "46", "method_nesting_level": "0"}}}}}}}}