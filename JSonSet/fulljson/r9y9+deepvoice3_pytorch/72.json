{"BR": {"BR_id": "72", "BR_author": "abhishekkritarth", "BRopenT": "2018-04-26T10:31:52Z", "BRcloseT": "2018-04-27T03:40:44Z", "BR_text": {"BRsummary": "NotImplementedError:", "BRdescription": "\n Hi,\n <denchmark-link:https://github.com/r9y9>@r9y9</denchmark-link>\n \n @LucianZala\n <denchmark-link:https://github.com/taras-sereda>@taras-sereda</denchmark-link>\n \n <denchmark-link:https://github.com/Kyubyong>@Kyubyong</denchmark-link>\n \n while running this code in Google Co-lab I'm getting Not Implemented Error\n text = \"Some have accepted this as a miracle without any physical explanation\"\n N = 15\n print(\"Synthesizing \"{}\" with {} different speakers\".format(text, N))\n for speaker_id in range(N):\n print(speaker_id)\n tts(model, text, speaker_id=speaker_id, figures=False)\n <denchmark-h:h2>Synthesizing \"Some have accepted this as a miracle without any physical explanation\" with 15 different speakers\n 0</denchmark-h>\n \n NotImplementedError                       Traceback (most recent call last)\n  in ()\n 4 for speaker_id in range(N):\n 5   print(speaker_id)\n ----> 6   tts(model, text, speaker_id=speaker_id, figures=False)\n  in tts(model, text, p, speaker_id, fast, figures)\n 1 def tts(model, text, p=0, speaker_id=0, fast=True, figures=True):\n 2   from synthesis import tts as _tts\n ----> 3   waveform, alignment, spectrogram, mel = _tts(model, text, p, speaker_id, fast)\n 4   if figures:\n 5       visualize(alignment, spectrogram)\n /content/deepvoice3_pytorch/synthesis.py in tts(model, text, p, speaker_id, fast)\n 64     # Greedy decoding\n 65     mel_outputs, linear_outputs, alignments, done = model(\n ---> 66         sequence, text_positions=text_positions, speaker_ids=speaker_ids)\n 67\n 68     linear_output = linear_outputs[0].cpu().data.numpy()\n /usr/local/lib/python3.6/dist-packages/torch/nn/modules/module.py in call(self, *input, **kwargs)\n 489             result = self._slow_forward(*input, **kwargs)\n 490         else:\n --> 491             result = self.forward(*input, **kwargs)\n 492         for hook in self._forward_hooks.values():\n 493             hook_result = hook(self, input, result)\n /content/deepvoice3_pytorch/deepvoice3_pytorch/init.py in forward(self, text_sequences, mel_targets, speaker_ids, text_positions, frame_positions, input_lengths)\n 77         mel_outputs, alignments, done, decoder_states = self.seq2seq(\n 78             text_sequences, mel_targets, speaker_embed,\n ---> 79             text_positions, frame_positions, input_lengths)\n 80\n 81         # Reshape\n /usr/local/lib/python3.6/dist-packages/torch/nn/modules/module.py in call(self, *input, **kwargs)\n 489             result = self._slow_forward(*input, **kwargs)\n 490         else:\n --> 491             result = self.forward(*input, **kwargs)\n 492         for hook in self._forward_hooks.values():\n 493             hook_result = hook(self, input, result)\n /content/deepvoice3_pytorch/deepvoice3_pytorch/init.py in forward(self, text_sequences, mel_targets, speaker_embed, text_positions, frame_positions, input_lengths)\n 122             encoder_outputs, mel_targets,\n 123             text_positions=text_positions, frame_positions=frame_positions,\n --> 124             speaker_embed=speaker_embed, lengths=input_lengths)\n 125\n 126         return mel_outputs, alignments, done, decoder_states\n /usr/local/lib/python3.6/dist-packages/torch/nn/modules/module.py in call(self, *input, **kwargs)\n 489             result = self._slow_forward(*input, **kwargs)\n 490         else:\n --> 491             result = self.forward(*input, **kwargs)\n 492         for hook in self._forward_hooks.values():\n 493             hook_result = hook(self, input, result)\n /content/deepvoice3_pytorch/deepvoice3_pytorch/deepvoice3.py in forward(self, encoder_out, inputs, text_positions, frame_positions, speaker_embed, lengths)\n 282             assert text_positions is not None\n 283             self.start_fresh_sequence()\n --> 284             outputs = self.incremental_forward(encoder_out, text_positions, speaker_embed)\n 285             return outputs\n 286\n /content/deepvoice3_pytorch/deepvoice3_pytorch/deepvoice3.py in incremental_forward(self, encoder_out, text_positions, speaker_embed, initial_input, test_inputs)\n 376         if self.speaker_proj1 is not None:\n 377             w = w * F.sigmoid(self.speaker_proj1(speaker_embed)).view(-1)\n --> 378         text_pos_embed = self.embed_keys_positions(text_positions, w)\n 379         keys = keys + text_pos_embed\n 380\n /usr/local/lib/python3.6/dist-packages/torch/nn/modules/module.py in call(self, *input, **kwargs)\n 489             result = self._slow_forward(*input, **kwargs)\n 490         else:\n --> 491             result = self.forward(*input, **kwargs)\n 492         for hook in self._forward_hooks.values():\n 493             hook_result = hook(self, input, result)\n /content/deepvoice3_pytorch/deepvoice3_pytorch/modules.py in forward(self, x, w)\n 49         if isscaler or w.size(0) == 1:\n 50             weight = sinusoidal_encode(self.weight, w)\n ---> 51             return self._backend.Embedding.apply(\n 52                 x, weight,\n 53                 padding_idx, self.max_norm, self.norm_type,\n /usr/local/lib/python3.6/dist-packages/torch/nn/backends/backend.py in getattr(self, name)\n 8         fn = self.function_classes.get(name)\n 9         if fn is None:\n ---> 10             raise NotImplementedError\n 11         return fn\n 12\n NotImplementedError:\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "abhishekkritarth", "commentT": "2018-04-26T12:35:58Z", "comment_text": "\n \t\tThis seems to be occurring when we try to train too. Here is the traceback.\n Traceback (most recent call last): File \"train.py\", line 992, in <module> train_seq2seq=train_seq2seq, train_postnet=train_postnet) File \"train.py\", line 662, in train input_lengths=input_lengths) File \"/home/i/DeepVoice3/Wavenet/.dv3wn/lib/python3.5/site-packages/torch/nn/modules/module.py\", line 491, in __call__ result = self.forward(*input, **kwargs) File \"/home/i/DeepVoice3/Wavenet/deepvoice3_pytorch/deepvoice3_pytorch/__init__.py\", line 79, in forward text_positions, frame_positions, input_lengths) File \"/home/i/DeepVoice3/Wavenet/.dv3wn/lib/python3.5/site-packages/torch/nn/modules/module.py\", line 491, in __call__ result = self.forward(*input, **kwargs) File \"/home/i/DeepVoice3/Wavenet/deepvoice3_pytorch/deepvoice3_pytorch/__init__.py\", line 124, in forward speaker_embed=speaker_embed, lengths=input_lengths) File \"/home/i/DeepVoice3/Wavenet/.dv3wn/lib/python3.5/site-packages/torch/nn/modules/module.py\", line 491, in __call__ result = self.forward(*input, **kwargs) File \"/home/i/DeepVoice3/Wavenet/deepvoice3_pytorch/deepvoice3_pytorch/deepvoice3.py\", line 310, in forward text_pos_embed = self.embed_keys_positions(text_positions, w) File \"/home/i/DeepVoice3/Wavenet/.dv3wn/lib/python3.5/site-packages/torch/nn/modules/module.py\", line 491, in __call__ result = self.forward(*input, **kwargs) File \"/home/i/DeepVoice3/Wavenet/deepvoice3_pytorch/deepvoice3_pytorch/modules.py\", line 51, in forward return self._backend.Embedding.apply( File \"/home/i/DeepVoice3/Wavenet/.dv3wn/lib/python3.5/site-packages/torch/nn/backends/backend.py\", line 10, in __getattr__ raise NotImplementedError NotImplementedError \n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "abhishekkritarth", "commentT": "2018-04-26T13:32:00Z", "comment_text": "\n \t\tThank you for the report, but please do not ping random people. This is probably due to pytorch upgraded to v0.4 from 0.3. I will look into it this weekend.\n \t\t"}, "comments_2": {"comment_id": 3, "comment_author": "abhishekkritarth", "commentT": "2018-04-27T04:58:33Z", "comment_text": "\n \t\tFixed the colab notebook.\n \t\t"}, "comments_3": {"comment_id": 4, "comment_author": "abhishekkritarth", "commentT": "2019-02-22T07:06:49Z", "comment_text": "\n \t\thi\n <denchmark-link:https://github.com/r9y9>@r9y9</denchmark-link>\n \n @LucianZala\n <denchmark-link:https://github.com/taras-sereda>@taras-sereda</denchmark-link>\n \n <denchmark-link:https://github.com/Kyubyong>@Kyubyong</denchmark-link>\n \n <denchmark-link:https://github.com/rvnth>@rvnth</denchmark-link>\n \n <denchmark-link:https://github.com/engiecat>@engiecat</denchmark-link>\n \n i have tried to change the version of pytorch but i still got the same error ,how did you fix it ?\n \t\t"}}}, "commit": {"commit_id": "dbaeaae3dbdd6e7d0180a137a85bc3b59cdf1c7a", "commit_author": "Ryuichi Yamamoto", "commitT": "2018-04-27 12:40:24+09:00", "commit_complexity": {"commit_NLOC": "1.0", "commit_CCN": "0.0", "commit_Nprams": "1.0"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "deepvoice3_pytorch\\conv.py", "file_new_name": "deepvoice3_pytorch\\conv.py", "file_complexity": {"file_NLOC": "48", "file_CCN": "12", "file_NToken": "453"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "43", "deleted_lines": "43", "method_info": {"method_name": "incremental_forward", "method_params": "self,input", "method_startline": "18", "method_endline": "47", "method_complexity": {"method_NLOC": "22", "method_CCN": "6", "method_NToken": "236", "method_nesting_level": "1"}}}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "deepvoice3_pytorch\\modules.py", "file_new_name": "deepvoice3_pytorch\\modules.py", "file_complexity": {"file_NLOC": "174", "file_CCN": "34", "file_NToken": "1628"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "51,52,53,60,61,62", "deleted_lines": "51,52,53,54,55,62,63,64", "method_info": {"method_name": "forward", "method_params": "self,x,w", "method_startline": "43", "method_endline": "64", "method_complexity": {"method_NLOC": "19", "method_CCN": "5", "method_NToken": "154", "method_nesting_level": "1"}}}}}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "train.py", "file_new_name": "train.py", "file_complexity": {"file_NLOC": "748", "file_CCN": "93", "file_NToken": "5985"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "731,736,738,739,740,741,743,744,746,748,754", "deleted_lines": "731,736,738,739,740,741,743,744,746,748,754"}}}}}}