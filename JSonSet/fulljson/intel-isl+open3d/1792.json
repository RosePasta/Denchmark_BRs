{"BR": {"BR_id": "1792", "BR_author": "1939938853", "BRopenT": "2020-05-06T10:28:03Z", "BRcloseT": "2020-11-25T10:48:31Z", "BR_text": {"BRsummary": "get_point_indices_within_bounding_box sometimes return empty list even though there are many points within the box", "BRdescription": "\n Hello,\n I'm facing an issue of empty list returned from the  get_point_indices_within_bounding_box, even though there are many points in the box that can be proven by\n o3d.visualization.draw_geometries([bbox,pcd])\n What can be the problem? Too big? Here are my bbox prints\n bbox points\n [[ 1.91543903e+02  4.06216233e+02 -9.44216210e+00]\n [ 4.87694126e+02 -1.17739071e+02 -4.88146456e+00]\n [-2.61239117e+02  1.50335185e+02 -4.71488369e+00]\n [ 1.91985260e+02  4.07383736e+02  9.60267055e+01]\n [ 3.53524628e+01 -3.72452616e+02  1.05314681e+02]\n [-2.60797760e+02  1.51502688e+02  1.00753984e+02]\n [ 4.88135483e+02 -1.16571568e+02  1.00587403e+02]\n [ 3.49111062e+01 -3.73620119e+02 -1.54186151e-01]]\n bbox is empty: False\n bbox volume: 33018203.09962348\n Center\n [113.44818306  16.88180837  47.93625968]\n Thank you in advance!\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "1939938853", "commentT": "2020-05-06T11:29:08Z", "comment_text": "\n \t\tIs it possible for you to share your point cloud and the code to reproduce this?\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "1939938853", "commentT": "2020-05-06T12:20:28Z", "comment_text": "\n \t\tHello,\n Here is the code to generate the box and to get the index from my pcd\n `\n import open3d as o3d\n import numpy as np\n pcd = o3d.io.read_point_cloud(\"pcd.pcd\")\n #o3d.visualization.draw_geometries([pcd])\n xyz = np.array([[ 191.37540588,  406.16873721,   -3.95729281],\n [ 487.20517632, -116.87310088 ,  -4.83974038],\n [-260.37880283,  150.66017318,   -4.72208136],\n [  35.44502621, -372.4029362 ,    5.01155065],\n [ 191.37540588,  406.16873721,   96.04270719],\n [ 487.20517632, -116.87310088,   95.16025962],\n [-260.37880283,  150.66017318,   95.27791864],\n [  35.44502621, -372.4029362,   105.01155065]])\n points = o3d.utility.Vector3dVector(xyz)\n bbox = o3d.geometry.OrientedBoundingBox.create_from_points(points)\n idx = bbox.get_point_indices_within_bounding_box(pcd.points)\n print(\"The length of the selected point indeces within the bbox\")\n print(len(idx))\n o3d.visualization.draw_geometries([pcd, bbox])\n `\n Thank you in advance!\n \t\t"}, "comments_2": {"comment_id": 3, "comment_author": "1939938853", "commentT": "2020-05-07T07:55:53Z", "comment_text": "\n \t\tShould be fixed in <denchmark-link:https://github.com/intel-isl/Open3D/pull/1798>#1798</denchmark-link>\n .\n \t\t"}, "comments_3": {"comment_id": 4, "comment_author": "1939938853", "commentT": "2020-05-07T09:35:55Z", "comment_text": "\n \t\tThank you for the quick fix. Is it committed  in master branch? Why I cannot find it?\n \t\t"}, "comments_4": {"comment_id": 5, "comment_author": "1939938853", "commentT": "2020-05-07T10:18:34Z", "comment_text": "\n \t\tIt is currently under review and will then be merged into master. If you need it now, you could clone the  branch from here <denchmark-link:https://github.com/griegler/Open3D/tree/oobfix>https://github.com/griegler/Open3D/tree/oobfix</denchmark-link>\n \n \t\t"}, "comments_5": {"comment_id": 6, "comment_author": "1939938853", "commentT": "2020-05-08T00:47:41Z", "comment_text": "\n \t\tThe fix works well. Thank you!\n \t\t"}}}, "commit": {"commit_id": "c2d24b0d2f7546531e53fdb23aef1aac94a4f402", "commit_author": "Gernot", "commitT": "2020-05-13 17:33:46+02:00", "commit_complexity": {"commit_NLOC": "1.0", "commit_CCN": "1.0", "commit_Nprams": "0.0"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "src\\Open3D\\Geometry\\BoundingVolume.cpp", "file_new_name": "src\\Open3D\\Geometry\\BoundingVolume.cpp", "file_complexity": {"file_NLOC": "262", "file_CCN": "53", "file_NToken": "2183"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "125,126,127,129,130,131,132", "deleted_lines": "124,125,126,127,128,129,130,133,134,135,136,137", "method_info": {"method_name": "open3d::geometry::OrientedBoundingBox::GetPointIndicesWithinBoundingBox", "method_params": "points", "method_startline": "122", "method_endline": "137", "method_complexity": {"method_NLOC": "16", "method_CCN": "5", "method_NToken": "184", "method_nesting_level": "2"}}}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "src\\Open3D\\Geometry\\BoundingVolume.h", "file_new_name": "src\\Open3D\\Geometry\\BoundingVolume.h", "file_complexity": {"file_NLOC": "108", "file_CCN": "12", "file_NToken": "832"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "104,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123", "deleted_lines": null}}}}}}