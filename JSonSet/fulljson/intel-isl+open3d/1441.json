{"BR": {"BR_id": "1441", "BR_author": "jkerfs", "BRopenT": "2020-01-14T21:55:02Z", "BRcloseT": "2020-02-12T16:15:16Z", "BR_text": {"BRsummary": "VoxelGrid.carve_depth_map incorrectly states that non visible voxels are not carved.", "BRdescription": "\n From the documenation for VoxelGrid.carve_depth_map:\n \n The point is not carved if none of the boundary points of the voxel projects to a valid image location.\n \n However, the implementation does carve voxels when no points project into the image:\n <denchmark-link:https://github.com/intel-isl/Open3D/blob/master/src/Open3D/Geometry/VoxelGrid.cpp#L288-L309>https://github.com/intel-isl/Open3D/blob/master/src/Open3D/Geometry/VoxelGrid.cpp#L288-L309</denchmark-link>\n \n The question is which behavior is desired.  I'm in favor of doing what the documentation says and not carving voxels if they do not project into the image.  If other agree with that, I can fix the function to adhere to that contract.\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "jkerfs", "commentT": "2020-01-17T08:55:57Z", "comment_text": "\n \t\tYes, seems to be right, same for CarveSilhouette. The problem is with voxels that do not project into any image/valid image region. Ideally, we would have a function argument that let the user choose what to do in this case, i.e., carve or not carve.\n Would be great, if you could provide a PR for that!\n \t\t"}}}, "commit": {"commit_id": "aa04b6222de14d1990b67088e2204b6c9fb65381", "commit_author": "Jeremy Kerfs", "commitT": "2020-02-03 09:30:27+01:00", "commit_complexity": {"commit_NLOC": "0.0", "commit_CCN": "0.6923076923076923", "commit_Nprams": "0.0"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 4, "file_old_name": "src\\Open3D\\Geometry\\VoxelGrid.cpp", "file_new_name": "src\\Open3D\\Geometry\\VoxelGrid.cpp", "file_complexity": {"file_NLOC": "294", "file_CCN": "59", "file_NToken": "2144"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "273,274,301,302", "deleted_lines": "273,300", "method_info": {"method_name": "open3d::geometry::VoxelGrid::CarveDepthMap", "method_params": "depth_map,camera_parameter", "method_startline": "271", "method_endline": "311", "method_complexity": {"method_NLOC": "37", "method_CCN": "9", "method_NToken": "264", "method_nesting_level": "2"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "317,318,345,346", "deleted_lines": "315,342", "method_info": {"method_name": "open3d::geometry::VoxelGrid::CarveSilhouette", "method_params": "silhouette_mask,camera_parameter,keep_voxels_outside_image", "method_startline": "315", "method_endline": "357", "method_complexity": {"method_NLOC": "39", "method_CCN": "10", "method_NToken": "272", "method_nesting_level": "2"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "273,274,301,302", "deleted_lines": "273,300", "method_info": {"method_name": "open3d::geometry::VoxelGrid::CarveDepthMap", "method_params": "depth_map,camera_parameter,keep_voxels_outside_image", "method_startline": "271", "method_endline": "313", "method_complexity": {"method_NLOC": "39", "method_CCN": "11", "method_NToken": "276", "method_nesting_level": "2"}}}, "hunk_3": {"Ismethod": 1, "added_lines": "317,318,345,346", "deleted_lines": "315,342", "method_info": {"method_name": "open3d::geometry::VoxelGrid::CarveSilhouette", "method_params": "silhouette_mask,camera_parameter", "method_startline": "313", "method_endline": "353", "method_complexity": {"method_NLOC": "37", "method_CCN": "8", "method_NToken": "260", "method_nesting_level": "2"}}}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "src\\Open3D\\Geometry\\VoxelGrid.h", "file_new_name": "src\\Open3D\\Geometry\\VoxelGrid.h", "file_complexity": {"file_NLOC": "137", "file_CCN": "18", "file_NToken": "896"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "121,122,123,126,127,130,131,132,135,136", "deleted_lines": "121,122,125,128,129,130,133"}}}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "src\\Python\\open3d_pybind\\geometry\\voxelgrid.cpp", "file_new_name": "src\\Python\\open3d_pybind\\geometry\\voxelgrid.cpp", "file_complexity": {"file_NLOC": "181", "file_CCN": "2", "file_NToken": "1088"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "103,107,108,109,112,115,116,117,161,162,163,164,170,171,172,173", "deleted_lines": "106,107,112,113,114,158,164", "method_info": {"method_name": "pybind_voxelgrid", "method_params": "m", "method_startline": "41", "method_endline": "211", "method_complexity": {"method_NLOC": "170", "method_CCN": "1", "method_NToken": "1054", "method_nesting_level": "0"}}}}}}}}