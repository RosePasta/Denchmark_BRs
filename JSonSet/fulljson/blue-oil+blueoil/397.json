{"BR": {"BR_id": "397", "BR_author": "yd8534976", "BRopenT": "2019-08-20T05:31:03Z", "BRcloseT": "2019-08-30T02:47:03Z", "BR_text": {"BRsummary": "Fix round", "BRdescription": "\n \n In linear.py', 'linear_mid_tread_half_quantizer() uses quantized = tf.round(shifted * n) / n.\n In quantizer.h, func_QTZ_binary_channel_wise_mean_scaling uses tmp = roundf(tmp * n) / n.\n \n Where, tf.round() will round half to even. So tf.round(2.5) = 2.0. Yet roundf(2.5) = 3.0.\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "yd8534976", "commentT": "2019-08-21T05:48:02Z", "comment_text": "\n \t\tWe can use std::nearbyint/nearbyintf.\n Behavior of these functions depends on rounding mode.\n If current rounding mode is FE_TONEAREST, it is recommended to round half to even and glibc is so.\n \t\t"}}}, "commit": {"commit_id": "df68799792eab6348595246d1cb5027ea56c57a7", "commit_author": "Ruidong", "commitT": "2019-08-29 13:15:39+09:00", "commit_complexity": {"commit_NLOC": "None", "commit_CCN": "None", "commit_Nprams": "None"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "dlk\\python\\dlk\\core\\operators.py", "file_new_name": "dlk\\python\\dlk\\core\\operators.py", "file_complexity": {"file_NLOC": "2578", "file_CCN": "363", "file_NToken": "12377"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "1449", "deleted_lines": "1449", "method_info": {"method_name": "run", "method_params": "self,kwargs", "method_startline": "1437", "method_endline": "1450", "method_complexity": {"method_NLOC": "13", "method_CCN": "1", "method_NToken": "96", "method_nesting_level": "1"}}}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "lmnet\\lmnet\\quantizations\\linear.py", "file_new_name": "lmnet\\lmnet\\quantizations\\linear.py", "file_complexity": {"file_NLOC": "73", "file_CCN": "5", "file_NToken": "274"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "105", "deleted_lines": "105", "method_info": {"method_name": "_forward._func", "method_params": "x,bit,max_value", "method_startline": "99", "method_endline": "107", "method_complexity": {"method_NLOC": "8", "method_CCN": "1", "method_NToken": "88", "method_nesting_level": "2"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "105", "deleted_lines": "105", "method_info": {"method_name": "_forward", "method_params": "x", "method_startline": "87", "method_endline": "109", "method_complexity": {"method_NLOC": "6", "method_CCN": "1", "method_NToken": "59", "method_nesting_level": "1"}}}}}}}}