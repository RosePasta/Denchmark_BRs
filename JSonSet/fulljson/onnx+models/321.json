{"BR": {"BR_id": "321", "BR_author": "alrevuelta", "BRopenT": "2020-06-22T10:50:26Z", "BRcloseT": "2020-07-23T22:18:09Z", "BR_text": {"BRsummary": "Super resolution bug in output data", "BRdescription": "\n <denchmark-h:h1>Bug Report</denchmark-h>\n \n <denchmark-h:h3>Which model does this pertain to?</denchmark-h>\n \n This bug report belongs to the <denchmark-link:https://github.com/onnx/models/tree/master/vision/super_resolution/sub_pixel_cnn_2016>super_resolution</denchmark-link>\n  model.\n <denchmark-h:h3>Describe the bug</denchmark-h>\n \n When reading the output_0.pb and trying to parse the raw_data I'm getting an error, because it contains 451584 elements (672x672 image) but its dimensions are 224x224.\n <denchmark-h:h3>Reproduction instructions</denchmark-h>\n \n System Information\n OS Platform and Distribution (e.g. Linux Ubuntu 16.04): macOS 19.13.6\n ONNX version (e.g. 1.6): 1.7.0\n Backend/Runtime version (e.g. ONNX Runtime 1.1, PyTorch 1.2):  NA\n The error can be reproduced with:\n import onnx\n tensor = onnx.load_tensor(\"test/super_resolution/test_data_set_0/output_0.pb\")\n np_array = numpy_helper.to_array(tensor)\n Error: ValueError: cannot reshape array of size 451584 into shape (224,224)\n This error of course makes sense because.\n print(tensor.dims) # [224, 224] but should be [672, 672]\n print(len(tensor.raw_data)) #1806336 divided by 4 (bytes per float), thats 451584 (672x672)\n So according to this I would say that output_0.pb outputs are wrong. I guess these files are autogenerated, so maybe there are other problems somewhere else?\n Edit: Actually the output should be 1x1x672x672 to be consistent with the model.\n <denchmark-h:h3>Notes</denchmark-h>\n \n NA\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "alrevuelta", "commentT": "2020-07-20T10:18:31Z", "comment_text": "\n \t\tAnyone?\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "alrevuelta", "commentT": "2020-07-23T21:31:53Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/alrevuelta>@alrevuelta</denchmark-link>\n  Thanks for letting us know with a detailed bug report and replication steps! I can confirm that I'm seeing the same error you're seeing with output_0.pb and will generate new sample data accordingly.\n \t\t"}}}, "commit": {"commit_id": "df56b49bf9600cb93769fa3b13d7409a9537ebec", "commit_author": "Vinitra Swamy", "commitT": "2020-07-23 15:18:08-07:00", "commit_complexity": {"commit_NLOC": "None", "commit_CCN": "None", "commit_Nprams": "None"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "vision\\super_resolution\\sub_pixel_cnn_2016\\model\\super-resolution-10.tar.gz", "file_new_name": "vision\\super_resolution\\sub_pixel_cnn_2016\\model\\super-resolution-10.tar.gz", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "2,3", "deleted_lines": "2,3"}}}}}}