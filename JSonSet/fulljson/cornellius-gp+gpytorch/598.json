{"BR": {"BR_id": "598", "BR_author": "neighthan", "BRopenT": "2019-03-27T17:21:38Z", "BRcloseT": "2019-03-27T20:26:27Z", "BR_text": {"BRsummary": "Error in `psd_safe_cholesky` (when data has low noise?)", "BRdescription": "\n It's possible to hit the <denchmark-link:https://github.com/cornellius-gp/gpytorch/blob/9a2fb2ef870bf66efc29775245b8ce6c624e45a5/gpytorch/utils/cholesky.py#L43>return L</denchmark-link>\n  line in  without  being defined. This happens if  throws a  for both  and  and  is not in the error message. Then the user just gets , which isn't very helpful. I'm not actually sure what error I got that led to this, but perhaps it would be good to change\n if \"singular\" in e.args[0]:\n     raise RuntimeError(\"Adding jitter of {} to the diagonal did not make A p.d.\".format(jitter))\n to\n if \"singular\" in e.args[0]:\n     raise RuntimeError(\"Adding jitter of {} to the diagonal did not make A p.d.\".format(jitter))\n else:  # or skip the else, depending on your coding style\n     raise\n This should give the user a more useful error message at least. Or is there anything that would be better to do in this case?\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "neighthan", "commentT": "2019-03-27T18:59:19Z", "comment_text": "\n \t\tThanks for flagging. Passing to <denchmark-link:https://github.com/gpleiss>@gpleiss</denchmark-link>\n  who has worked on Cholesky related stuff recently.\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "neighthan", "commentT": "2019-03-27T20:24:42Z", "comment_text": "\n \t\tI've seen this error before. I think that this typically fails when there are NaNs, which isn't caught by our exception handling.\n <denchmark-link:https://github.com/neighthan>@neighthan</denchmark-link>\n  - your solution would be good so that we can get better error messages, and try to pin-point the problem more closely.\n \t\t"}, "comments_2": {"comment_id": 3, "comment_author": "neighthan", "commentT": "2019-03-27T20:26:37Z", "comment_text": "\n \t\tAdded that change in.\n \t\t"}}}, "commit": {"commit_id": "83efbf43cb531b94ce6067df9cbd9ffb7d56bcb2", "commit_author": "Geoff Pleiss", "commitT": "2019-03-27 16:26:21-04:00", "commit_complexity": {"commit_NLOC": "0.0", "commit_CCN": "0.0", "commit_Nprams": "0.0"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "gpytorch\\utils\\cholesky.py", "file_new_name": "gpytorch\\utils\\cholesky.py", "file_complexity": {"file_NLOC": "31", "file_CCN": "16", "file_NToken": "282"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "41,42", "deleted_lines": null, "method_info": {"method_name": "psd_safe_cholesky", "method_params": "A,upper,out,jitter", "method_startline": "7", "method_endline": "45", "method_complexity": {"method_NLOC": "24", "method_CCN": "14", "method_NToken": "229", "method_nesting_level": "0"}}}}}}}}