{"BR": {"BR_id": "11345", "BR_author": "qingqing01", "BRopenT": "2018-06-11T03:45:15Z", "BRcloseT": "2018-06-12T02:13:48Z", "BR_text": {"BRsummary": "There is bug in l2_normalize.", "BRdescription": "\n There is a lack of square root operation () after <denchmark-link:https://github.com/PaddlePaddle/Paddle/blob/develop/python/paddle/fluid/layers/nn.py#L2505>reduce_sum</denchmark-link>\n .\n \t"}, "comments": {}}, "commit": {"commit_id": "19fd07178550ebd589a820d8fd1e9c543a31dc97", "commit_author": "qingqing01", "commitT": "2018-06-12 10:13:47+08:00", "commit_complexity": {"commit_NLOC": "1.0", "commit_CCN": "0.0", "commit_Nprams": "0.21568627450980393"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "paddle\\fluid\\operators\\norm_op.cc", "file_new_name": "paddle\\fluid\\operators\\norm_op.cc", "file_complexity": {"file_NLOC": "70", "file_CCN": "4", "file_NToken": "390"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "22,23,24,25,26,27,28,29,31,32,33,34,35,37,38,39,40,41,42,43,44,45,46", "deleted_lines": "23,24,25,26,27,28,29,30,31,32,33,35,36,37,38,40,41,42,43,44,45,46,47", "method_info": {"method_name": "paddle::operators::NormOpMaker::Make", "method_params": "", "method_startline": "21", "method_endline": "47", "method_complexity": {"method_NLOC": "27", "method_CCN": "1", "method_NToken": "70", "method_nesting_level": "3"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "55,58,59,60,61,62,63", "deleted_lines": "61,62,63,64", "method_info": {"method_name": "paddle::operators::NormOp::InferShape", "method_params": "ctx", "method_startline": "53", "method_endline": "64", "method_complexity": {"method_NLOC": "12", "method_CCN": "2", "method_NToken": "104", "method_nesting_level": "3"}}}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "paddle\\fluid\\operators\\norm_op.cu", "file_new_name": "paddle\\fluid\\operators\\norm_op.cu", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "19,20,21,22,23,24", "deleted_lines": "19,20,21,22,23,24"}}}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 5, "file_old_name": "paddle\\fluid\\operators\\norm_op.h", "file_new_name": "paddle\\fluid\\operators\\norm_op.h", "file_complexity": {"file_NLOC": "88", "file_CCN": "7", "file_NToken": "1066"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "22,23,24,25,26,27,28,29,30,31,32,33", "deleted_lines": "22,25,26,27,28,29,30,31,32,33", "method_info": {"method_name": "paddle::operators::GetDims", "method_params": "dim,axis,pre,n,post", "method_startline": "22", "method_endline": "33", "method_complexity": {"method_NLOC": "12", "method_CCN": "3", "method_NToken": "104", "method_nesting_level": "2"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125", "deleted_lines": "89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171", "method_info": {"method_name": "paddle::operators::NormGradKernel::Compute", "method_params": "context", "method_startline": "89", "method_endline": "172", "method_complexity": {"method_NLOC": "79", "method_CCN": "2", "method_NToken": "857", "method_nesting_level": "3"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "25,26,27,28,29,30,31,32,33,34,35,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,79,80,81,82,83,84", "deleted_lines": "25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83", "method_info": {"method_name": "paddle::operators::NormKernel::Compute", "method_params": "context", "method_startline": "25", "method_endline": "84", "method_complexity": {"method_NLOC": "58", "method_CCN": "2", "method_NToken": "670", "method_nesting_level": "3"}}}, "hunk_3": {"Ismethod": 1, "added_lines": "38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73", "deleted_lines": "38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74", "method_info": {"method_name": "paddle::operators::NormKernel::Compute", "method_params": "ctx", "method_startline": "38", "method_endline": "74", "method_complexity": {"method_NLOC": "29", "method_CCN": "2", "method_NToken": "406", "method_nesting_level": "3"}}}, "hunk_4": {"Ismethod": 1, "added_lines": "79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125", "deleted_lines": "79,80,81,82,83,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126", "method_info": {"method_name": "paddle::operators::NormGradKernel::Compute", "method_params": "ctx", "method_startline": "79", "method_endline": "126", "method_complexity": {"method_NLOC": "33", "method_CCN": "2", "method_NToken": "489", "method_nesting_level": "3"}}}}}, "file_3": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "python\\paddle\\fluid\\layers\\nn.py", "file_new_name": "python\\paddle\\fluid\\layers\\nn.py", "file_complexity": {"file_NLOC": "1478", "file_CCN": "130", "file_NToken": "9545"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "2470,2471,2478,2479,2480,2481,2482,2484,2503,2504,2506,2507,2508,2509,2511,2512", "deleted_lines": "2470,2477,2478,2479,2480,2482,2501,2502,2503,2504,2506,2507,2508,2510,2511,2512,2514", "method_info": {"method_name": "l2_normalize", "method_params": "x,axis,epsilon,name", "method_startline": "2463", "method_endline": "2514", "method_complexity": {"method_NLOC": "16", "method_CCN": "3", "method_NToken": "115", "method_nesting_level": "0"}}}}}, "file_4": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "python\\paddle\\fluid\\tests\\unittests\\test_layers.py", "file_new_name": "python\\paddle\\fluid\\tests\\unittests\\test_layers.py", "file_complexity": {"file_NLOC": "341", "file_CCN": "33", "file_NToken": "3098"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "390,391,392,393,394", "deleted_lines": null, "method_info": {"method_name": "test_l2_normalize", "method_params": "self", "method_startline": "390", "method_endline": "394", "method_complexity": {"method_NLOC": "5", "method_CCN": "1", "method_NToken": "52", "method_nesting_level": "1"}}}}}, "file_5": {"file_change_type": "MODIFY", "file_Nmethod": 4, "file_old_name": "python\\paddle\\fluid\\tests\\unittests\\test_norm_op.py", "file_new_name": "python\\paddle\\fluid\\tests\\unittests\\test_norm_op.py", "file_complexity": {"file_NLOC": "38", "file_CCN": "7", "file_NToken": "306"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "20,21,22,23,24,25", "deleted_lines": "20,21,22,23,24,25", "method_info": {"method_name": "l2_norm", "method_params": "x,axis,epsilon", "method_startline": "20", "method_endline": "25", "method_complexity": {"method_NLOC": "6", "method_CCN": "1", "method_NToken": "58", "method_nesting_level": "0"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "32,33,34,35,36", "deleted_lines": "29,30,31,32,33,34,35,36", "method_info": {"method_name": "setUp", "method_params": "self", "method_startline": "29", "method_endline": "36", "method_complexity": {"method_NLOC": "8", "method_CCN": "1", "method_NToken": "87", "method_nesting_level": "1"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "20,21,22,23,24,25,32,33,34,35,36", "deleted_lines": "20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42", "method_info": {"method_name": "norm", "method_params": "input,scale,epsilon", "method_startline": "20", "method_endline": "42", "method_complexity": {"method_NLOC": "23", "method_CCN": "3", "method_NToken": "228", "method_nesting_level": "0"}}}, "hunk_3": {"Ismethod": 1, "added_lines": "45,46,47", "deleted_lines": null, "method_info": {"method_name": "init_test_case", "method_params": "self", "method_startline": "44", "method_endline": "47", "method_complexity": {"method_NLOC": "4", "method_CCN": "1", "method_NToken": "30", "method_nesting_level": "1"}}}}}, "file_6": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "python\\paddle\\fluid\\tests\\unittests\\test_normalization_wrapper.py", "file_new_name": "python\\paddle\\fluid\\tests\\unittests\\test_normalization_wrapper.py", "file_complexity": {"file_NLOC": "52", "file_CCN": "8", "file_NToken": "438"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "73,74,75", "deleted_lines": "73,74", "method_info": {"method_name": "l2_normalize", "method_params": "self,data,axis,epsilon", "method_startline": "70", "method_endline": "76", "method_complexity": {"method_NLOC": "5", "method_CCN": "1", "method_NToken": "51", "method_nesting_level": "1"}}}}}}}}