{"BR": {"BR_id": "2895", "BR_author": "fty8788", "BRopenT": "2017-07-16T01:07:57Z", "BRcloseT": "2017-08-11T08:15:43Z", "BR_text": {"BRsummary": "\u5199\u6a21\u578b\u5230\u672c\u5730\u76ee\u5f55\u7684\u65f6\u5019\u5d29\u6e83", "BRdescription": "\n \u4e00\u8f6e\u8bad\u7ec3\u5b8c\u6210\u4e4b\u540e\uff0c\u5199\u5165\u6587\u4ef6\uff0c\u5d29\u6e83\uff0c\u4ee3\u7801\u662f\uff1a\n with gzip.open(\"dssm_%s_pass_%05d.tar.gz\" %\n                            (model_save_name_prefix, event.pass_id), \"w\") as f:\n                 parameters.to_tar(f)\n \u9519\u8bef\u65e5\u5fd7\u662f\uff1a\n [INFO 2017-07-13 15:26:48,320 train.py:199] Pass 0, Batch 4000, Cost 0.530298, {'__auc_evaluator_0__': 0.7309514880180359, 'classification_error_evaluator': 0.2705000042915344}\n \n (paddle_box) (paddle_box) tail log.bigram\n     num_passes=num_passes)\n   File \"/home/yanchunwei/third_party/paddle_env/python27/lib/python2.7/site-packages/paddle/v2/trainer.py\", line 175, in train\n     event_handler(v2_event.EndPass(pass_id, evaluator=pass_evaluator))\n   File \"train.py\", line 211, in _event_handler\n     parameters.to_tar(f)\n   File \"/home/yanchunwei/third_party/paddle_env/python27/lib/python2.7/site-packages/paddle/v2/parameters.py\", line 274, in to_tar\n     self.serialize(nm, buf)\n   File \"/home/yanchunwei/third_party/paddle_env/python27/lib/python2.7/site-packages/paddle/v2/parameters.py\", line 256, in serialize\n     f.write(param.tostring())\n OverflowError: length too large\n \u7528\u7684DSSM\u6a21\u578b\uff0c\u5b57\u5178\u7ef4\u5ea6200w\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "fty8788", "commentT": "2017-08-08T12:47:52Z", "comment_text": "\n \t\t\u5bf9paddle\u65e0\u6cd5\u4fdd\u5b58\u53c2\u6570\u5f88\u591a\u7684\u6a21\u578b\u5410\u69fd\u4e0b\u3002\u6211\u89c9\u5f97\u8fd9\u5e94\u8be5\u662f\u4e00\u4e2a\u5f88\u5f3a\u70c8\u7684\u9700\u6c42\uff0c\u8bf7\u8003\u8651\u5b9e\u73b0\u3002\u4f60\u4eec\u90fd\u652f\u6301\u8bfb\u5165\u4e86caffe\u5bfc\u51fa\u7684\u6a21\u578b\uff0c\u5374\u6ca1\u505a\u597d\u81ea\u5df1\u7684\u6a21\u578b\u7684\u4fdd\u5b58\u548c\u518d\u6b21load\u3002\n \u5bf9paddle\u5185\u90e8\u5b9e\u73b0\u673a\u5236\u4e0d\u719f\u6089\uff0c\u8bf7\u95ee\u5982\u679c\u8981\u81ea\u5df1\u4fee\u6539to_tar\u51fd\u6570\uff0c\u8981\u5177\u4f53\u600e\u4e48\u4fee\u6539\uff0c\u8def\u5f84\u5728\u54ea\u91cc\uff1f\u8bf7\u5c3d\u91cf\u63cf\u8ff0\u7684\u8be6\u7ec6\u4e00\u4e9b\u3002\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "fty8788", "commentT": "2017-08-08T13:04:45Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/cszhou>@cszhou</denchmark-link>\n   \u5e94\u8be5\u662f\u8c03\u7528tostring \u548c frombuffer \u8fd9\u4e24\u4e2a\u51fd\u6570\u6765\u5b9e\u73b0\u5e8f\u5217\u5316\u548c\u53cd\u5e8f\u5217\u8bdd\uff0c\u7d27\u6025\u7684\u8bdd\uff0c\u8bd5\u8bd5\u628a\u8fd9\u4e24\u4e2a\u51fd\u6570\u66ff\u6362\u6389\uff0c\u6362\u6210pickle\u4e4b\u7c7b\u4efb\u4f55\u5176\u4ed6\u5e8f\u5217\u5316\u65b9\u5f0f\u8bd5\u8bd5\u770b\u3002\n <denchmark-link:https://github.com/PaddlePaddle/Paddle/blob/develop/python/paddle/v2/parameters.py#L253>https://github.com/PaddlePaddle/Paddle/blob/develop/python/paddle/v2/parameters.py#L253</denchmark-link>\n \n <denchmark-link:https://github.com/PaddlePaddle/Paddle/blob/develop/python/paddle/v2/parameters.py#L264>https://github.com/PaddlePaddle/Paddle/blob/develop/python/paddle/v2/parameters.py#L264</denchmark-link>\n \n \t\t"}, "comments_2": {"comment_id": 3, "comment_author": "fty8788", "commentT": "2017-08-08T13:12:35Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/lcy-seso>@lcy-seso</denchmark-link>\n \n thanks!\n \t\t"}, "comments_3": {"comment_id": 4, "comment_author": "fty8788", "commentT": "2017-08-08T13:14:33Z", "comment_text": "\n \t\t\u6211\u4eec\u4f1a\u5728\u5c3d\u5feb\u5728\u4e3b\u5e72\u4e0a\u4fee\u590d\u4e00\u4e0b\u8fd9\u4e2a\u95ee\u9898\uff0c\u5982\u679c\u786e\u5b9e\u975e\u5e38\u7d27\u6025\uff0c\u6211\u89c9\u5f97\u8bd5\u8bd5\u628a\u4e0a\u9762\u4e24\u4e2a\u5730\u65b9\u7528numpy\u505a\u7684\u5e8f\u5217\u66ff\u6362\u6389\u3002\u975e\u5e38\u62b1\u6b49\u3002\u3002\n \t\t"}, "comments_4": {"comment_id": 5, "comment_author": "fty8788", "commentT": "2017-08-09T02:11:19Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/lcy-seso>@lcy-seso</denchmark-link>\n \n \u660e\u767d\u4e86\u3002\u8c22\u8c22~\n \t\t"}, "comments_5": {"comment_id": 6, "comment_author": "fty8788", "commentT": "2017-08-09T08:16:33Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/lcy-seso>@lcy-seso</denchmark-link>\n \n \u62a5\u9519\u662f\u51fa\u73b0\u5728\n \n \u6211\u5c06\u8fd9\u4e00\u884c\u62c6\u5206\u6210\u4e24\u884c\n \n \n \u62a5\u9519\u5728\u7b2c\u4e8c\u884c\u3002\n f\u662fcStringIO.StringIO()\u5bf9\u8c61\u3002\u6240\u4ee5\u95ee\u9898\u4e0d\u5728\u5e8f\u5217\u5316\uff0c\u800c\u662f\u5728\u8fd9\u4e2abuffer\u6587\u4ef6\u65e0\u6cd5\u4fdd\u5b58\u8fd9\u4e48\u5927\u7684\u6587\u4ef6\u3002\u6240\u4ee5\u6211\u89c9\u5f97\u8981\u4e48tarfile\u4e0d\u7528cStringIO.StringIO\uff0c\u7528\u5176\u4ed6\uff1f\uff1f\n //\u8003\u8651\u5230\u540e\u671f\u4e0a\u7ebf\u9700\u8981\u7528\u5230c-api\uff0c\u662f\u8981\u8bfb\u53d6\u8fd9\u4e2atar\u6587\u4ef6\u7684\u7ed3\u679c\u3002\u6240\u4ee5\u6709\u4ec0\u4e48\u5efa\u8bae\u4e48\u3002\n \t\t"}, "comments_6": {"comment_id": 7, "comment_author": "fty8788", "commentT": "2017-08-09T09:01:34Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/cszhou>@cszhou</denchmark-link>\n  \u611f\u89c9\u53ef\u4ee5\u5c1d\u8bd5\u5148\u4fdd\u5b58\u6210pickle\u6216\u8005RecordIO\u683c\u5f0f\u7684\u6570\u636e\u518d\u6253\u5305\uff0c\u6211\u6d4b\u8bd5\u4e00\u4e0b\u3002\n \t\t"}, "comments_7": {"comment_id": 8, "comment_author": "fty8788", "commentT": "2017-08-09T09:09:03Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/Yancey1989>@Yancey1989</denchmark-link>\n \n \u55ef\u3002\u5982\u679c\u4f60\u4eec\u80fd\u6d4b\u8bd5\u540e\u544a\u8bc9\u6211\u4e0b\u600e\u4e48\u4fee\u6539\u5c31\u66f4\u597d\u4e86\u3002\n \t\t"}, "comments_8": {"comment_id": 9, "comment_author": "fty8788", "commentT": "2017-08-09T09:10:04Z", "comment_text": "\n \t\t\u597d\u7684\uff0c\u6211\u4eec\u4f1a\u5c3d\u91cf\u5728\u4e3b\u5206\u652f\u4e0a\u4fee\u590d\u8fd9\u4e2a\u95ee\u9898\u3002\n \t\t"}, "comments_9": {"comment_id": 10, "comment_author": "fty8788", "commentT": "2017-08-09T09:14:03Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/Yancey1989>@Yancey1989</denchmark-link>\n  \u6709\u4e2a\u5927\u6982\u7684\u65f6\u95f4\u8282\u70b9\u4e48\u3002\u5982\u679c\u9694\u5f97\u4e0d\u8fdc\u7684\u8bdd\uff0c\u6211\u5c31\u81ea\u5df1\u52a8\u624b\u6539\u4e86\uff0c\u6bd5\u7adf\u8fd8\u6709\u5176\u4ed6\u5f00\u53d1\u4efb\u52a1\u3002\n \t\t"}, "comments_10": {"comment_id": 11, "comment_author": "fty8788", "commentT": "2017-08-09T09:17:35Z", "comment_text": "\n \t\t\u6211\u5148\u770b\u4e00\u4e0b\uff0c\u5c3d\u91cf\u5728\u672c\u5468\u5185\u5427\uff0c\u5982\u679c\u7d27\u6025\u7684\u8bdd\u53ef\u4ee5\u5148\u6539\u4e0b\u7528\u7740\u3002\n \t\t"}, "comments_11": {"comment_id": 12, "comment_author": "fty8788", "commentT": "2017-08-09T09:19:47Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/Yancey1989>@Yancey1989</denchmark-link>\n \n \u6ca1\u90a3\u4e48\u7d27\u6025\u3002bug fixed\u540e\uff0c\u8981\u662f\u65b9\u4fbf\u7684\u8bdd\u544a\u8bc9\u6211\u4e00\u58f0\u3002\u8f9b\u82e6\u5566\u3002\n \t\t"}}}, "commit": {"commit_id": "7e8c337a6805f7c97ec94dcd628fb525b58d10f2", "commit_author": "Yancey", "commitT": "2017-08-11 16:15:42+08:00", "commit_complexity": {"commit_NLOC": "1.0", "commit_CCN": "1.0", "commit_Nprams": "0.0"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "python\\paddle\\v2\\parameters.py", "file_new_name": "python\\paddle\\v2\\parameters.py", "file_complexity": {"file_NLOC": "184", "file_CCN": "49", "file_NToken": "1288"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "284,285,286,287,288,289,290", "deleted_lines": "284", "method_info": {"method_name": "serialize", "method_params": "self,name,f", "method_startline": "272", "method_endline": "290", "method_complexity": {"method_NLOC": "12", "method_CCN": "2", "method_NToken": "104", "method_nesting_level": "1"}}}}}}}}