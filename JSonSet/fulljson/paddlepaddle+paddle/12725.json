{"BR": {"BR_id": "12725", "BR_author": "luameows", "BRopenT": "2018-08-15T12:13:52Z", "BRcloseT": "2018-08-21T03:56:43Z", "BR_text": {"BRsummary": "fluid\u4e0bscatter\u64cd\u4f5c\u5bf9\u8f93\u5165\u53c2\u6570\u8981\u6c42\u6709\u95ee\u9898", "BRdescription": "\n a\uff0clabels\uff0cdiff\u7684dtype\u5206\u522b\u4e3afloat32, int64, float32\n \u8c03\u7528fluid\u4e0blayers.scatter(x=a,ids=labels,updates=diff)\uff0c\u63d0\u793a\u9519\u8befoperator scatter must input same dtype. VarType.FP32 vs VarType.INT64\n \u540e\u6765\u8ddf\u8fdb\u4ee3\u7801\u91cc\u9762\uff0c\u53d1\u73b0\u6309\u7167\u8fd9\u4e2acheck\u903b\u8f91\uff0cscatter\u7684\u4e09\u4e2a\u8f93\u5165\u7684dtype\u5fc5\u987b\u8981\u6c42\u4e00\u81f4\u624d\u884c\u3002\n <denchmark-link:https://user-images.githubusercontent.com/30432086/44147240-cec7560e-a0c5-11e8-9a7f-5fafb451017f.png></denchmark-link>\n \n \u6309\u7167scatter\u7684\u7528\u6cd5\u8bf4\u660e\uff0cids\u4e3a\u5bf9\u5e94\u7d22\u5f15index\uff0c\u4e0d\u5e94\u8be5\u662ffloat\u7c7b\u578b\u5427\uff1f\u8bf7\u95ee\u4e0b\u8fd9\u662f\u4ec0\u4e48\u539f\u56e0\u5462\uff1f\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "luameows", "commentT": "2018-08-15T12:50:29Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/luameows>@luameows</denchmark-link>\n  \u770b\u4e86\u4e0b\u662f\u4e2aop Python API\u5c01\u88c5\u7684\u539f\u56e0\uff0c\u5185\u90e8\u5b9e\u73b0\u7684\u539f\u56e0\uff0cPython API\u9700\u8981\u624b\u52a8\u5c01\u88c5\u4e0b\uff0c\u6211\u4eec\u7a0d\u540e\u4fee\u590d\u4e0b\u4e0b\u5427\uff0c\u62b1\u6b49\u3002\n \u5982\u679c\u7740\u6025\u4f7f\u7528\uff0c\u53ef\u4ee5\u4eff\u7167 <denchmark-link:https://github.com/PaddlePaddle/Paddle/blob/develop/python/paddle/fluid/layers/nn.py>https://github.com/PaddlePaddle/Paddle/blob/develop/python/paddle/fluid/layers/nn.py</denchmark-link>\n  \u91cc\u81ea\u884c\u5148\u5c01\u88c5~\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "luameows", "commentT": "2018-08-15T13:12:59Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/qingqing01>@qingqing01</denchmark-link>\n  \u8c22\u8c22\u60a8\u7684\u7b54\u590d\u3002\u7531\u4e8e\u6211\u662f\u5728\u79d1\u8d5b\u5e73\u53f0\u4e0a\u4f7f\u7528\u7684paddlepaddle\uff0c\u4f3c\u4e4e\u6ca1\u6cd5\u5bf9\u6e90\u7801\u8fdb\u884c\u4fee\u6539\u3002\u70e6\u8bf7\u60a8\u5728\u4fee\u6b63\u8be5bug\u540e\u7ed9\u6211\u4e00\u4e2a\u53cd\u9988\u5427\uff0c\u6211\u597d\u91cd\u65b0\u4e0b\u8f7d\u3002\n \t\t"}, "comments_2": {"comment_id": 3, "comment_author": "luameows", "commentT": "2018-08-21T03:57:34Z", "comment_text": "\n \t\t\u65b0\u52a0\u4e86scatter op\u7684python API\uff0c\u9ebb\u70e6\u60a8\u8bd5\u8bd5\u53ef\u4ee5\u7528\u4e0d\u80fd\n \t\t"}, "comments_3": {"comment_id": 4, "comment_author": "luameows", "commentT": "2018-09-03T06:28:54Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/ktlichkid>@ktlichkid</denchmark-link>\n  \u5b9e\u5728\u4e0d\u597d\u610f\u601d\u518d\u6253\u6270\u4e0b\uff0c\u6211\u5982\u679c\u8981\u66f4\u65b0paddle\u7248\u672c\uff0c\u662f\u4e0d\u662f\u53ea\u80fd\u901a\u8fc7\u4e0b\u8f7d\u6e90\u7801\u7f16\u8bd1\u7684\u65b9\u5f0f\u6765\u66f4\u65b0\uff0c\u800c\u65e0\u6cd5\u901a\u8fc7pip install\u83b7\u53d6\u3002\n \u53e6\u5916\uff0c\u770b\u4e86\u4e0b\u60a8\u5bf9scatter\u90e8\u5206\u7684\u4fee\u6539\uff0c\u4f3c\u4e4e\u5c06out=Out[id]+update\u4fee\u6539\u6210\u4e86out[id]=update\u3002\n \t\t"}}}, "commit": {"commit_id": "3d11d018e05bb9523548a40ac4c562ac615816d1", "commit_author": "Qingsheng Li", "commitT": "2018-08-21 11:56:42+08:00", "commit_complexity": {"commit_NLOC": "0.3793103448275862", "commit_CCN": "1.0", "commit_Nprams": "0.6206896551724138"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "paddle\\fluid\\API.spec", "file_new_name": "paddle\\fluid\\API.spec", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "156", "deleted_lines": "253"}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "paddle\\fluid\\operators\\scatter_op.cc", "file_new_name": "paddle\\fluid\\operators\\scatter_op.cc", "file_complexity": {"file_NLOC": "83", "file_CCN": "6", "file_NToken": "505"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "84,85,93", "deleted_lines": "84,85,93", "method_info": {"method_name": "paddle::operators::ScatterOpMaker::Make", "method_params": "", "method_startline": "81", "method_endline": "97", "method_complexity": {"method_NLOC": "17", "method_CCN": "1", "method_NToken": "40", "method_nesting_level": "3"}}}}}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "paddle\\fluid\\operators\\scatter_op.h", "file_new_name": "paddle\\fluid\\operators\\scatter_op.h", "file_complexity": {"file_NLOC": "38", "file_CCN": "2", "file_NToken": "336"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "58", "deleted_lines": "58", "method_info": {"method_name": "paddle::operators::ScatterGradientOpKernel::Compute", "method_params": "ctx", "method_startline": "47", "method_endline": "60", "method_complexity": {"method_NLOC": "11", "method_CCN": "1", "method_NToken": "150", "method_nesting_level": "3"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "37,39", "deleted_lines": "37,39", "method_info": {"method_name": "paddle::operators::ScatterOpKernel::Compute", "method_params": "ctx", "method_startline": "29", "method_endline": "41", "method_complexity": {"method_NLOC": "10", "method_CCN": "1", "method_NToken": "121", "method_nesting_level": "3"}}}}}, "file_3": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "python\\paddle\\fluid\\layers\\nn.py", "file_new_name": "python\\paddle\\fluid\\layers\\nn.py", "file_complexity": {"file_NLOC": "1838", "file_CCN": "164", "file_NToken": "11849"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "5040,5041,5042,5043,5044,5045,5046,5047,5048,5049,5050,5051,5052,5053,5054,5055,5056,5057,5058,5059,5060,5061,5062,5063,5064,5065,5066,5067,5068,5069,5070,5071,5072,5073,5074,5075,5076,5077,5078", "deleted_lines": null, "method_info": {"method_name": "scatter", "method_params": "input,index,updates,name", "method_startline": "5040", "method_endline": "5078", "method_complexity": {"method_NLOC": "11", "method_CCN": "1", "method_NToken": "74", "method_nesting_level": "0"}}}}}, "file_4": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "python\\paddle\\fluid\\layers\\ops.py", "file_new_name": "python\\paddle\\fluid\\layers\\ops.py", "file_complexity": {"file_NLOC": "117", "file_CCN": "12", "file_NToken": "429"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": null, "deleted_lines": "68"}}}, "file_5": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "python\\paddle\\fluid\\tests\\unittests\\test_layers.py", "file_new_name": "python\\paddle\\fluid\\tests\\unittests\\test_layers.py", "file_complexity": {"file_NLOC": "450", "file_CCN": "42", "file_NToken": "3932"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367", "deleted_lines": null, "method_info": {"method_name": "test_scatter", "method_params": "self", "method_startline": "350", "method_endline": "367", "method_complexity": {"method_NLOC": "18", "method_CCN": "1", "method_NToken": "123", "method_nesting_level": "1"}}}}}}}}