{"BR": {"BR_id": "4906", "BR_author": "groszewn", "BRopenT": "2020-04-01T15:21:57Z", "BRcloseT": "2020-06-02T02:44:15Z", "BR_text": {"BRsummary": "Notebook provisioner UI ignores specified StorageClass", "BRdescription": "\n /kind bug\n What steps did you take and what happened:\n [A clear and concise description of what the bug is.]\n We have deployed Kubeflow at  into our cluster.  Our cluster does not have a default StorageClass, and when attempting to provision a notebook from the  button, the  dropdown option for  does not appear (regardless of whether we set the  class to an existing StorageClass in the cluster).\n <denchmark-link:https://user-images.githubusercontent.com/13921855/78153437-0d023e80-7409-11ea-92ce-dd5c1931b2ff.png></denchmark-link>\n \n What did you expect to happen:\n If the config has value {none} and no default storage class is set then the UI should have the New option disabled. It should also show a tooltip as to why it is disabled.\n If the config has an existing StorageClass specified, the New option should work as expected with that StorageClass.\n Anything else you would like to add:\n [Miscellaneous information that will assist in solving the issue.]\n Environment:\n \n Kubeflow version: (version number can be found at the bottom left corner of the Kubeflow dashboard): 1.0.1\n kfctl version: (use kfctl version): v1.0.1-0-gf3edb9b\n Kubernetes platform: (e.g. minikube) Custom AWS Cluster\n Kubernetes version: (use kubectl version): v1.14.8\n OS (e.g. from /etc/os-release): Ubuntu 18.04\n \n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "groszewn", "commentT": "2020-04-01T15:22:10Z", "comment_text": "\n \t\tIssue-Label Bot is automatically applying the labels:\n \n \n \n Label\n Probability\n \n \n \n \n kind/bug\n 0.99\n \n \n \n Please mark this comment with  or  to give our bot feedback!\n Links: <denchmark-link:https://github.com/marketplace/issue-label-bot>app homepage</denchmark-link>\n , <denchmark-link:https://github.com/marketplace/issue-label-botdata/kubeflow/kubeflow>dashboard</denchmark-link>\n  and <denchmark-link:https://github.com/hamelsmu/MLapp>code</denchmark-link>\n  for this bot.\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "groszewn", "commentT": "2020-04-01T15:43:54Z", "comment_text": "\n \t\t/area jupyter\n /priority p1\n Thanks for catching that <denchmark-link:https://github.com/groszewn>@groszewn</denchmark-link>\n ! The frontend seems to completely ignore the  value of the workspace volume in the config and always expects to use the default storage class.\n The UX should be the following:\n \n The frontend must use the value in the config for the storage class of the workspace volume\n The default value of the class in the config should be {none} (use the default storage class)\n If the config has value {none} and no default storage class is set then the UI should have the New option disabled. It should also show a tooltip as to why it is disabled.\n \n I can create a PR for this in the next couple days\n /assign kimwnasptd\n \t\t"}, "comments_2": {"comment_id": 3, "comment_author": "groszewn", "commentT": "2020-05-28T01:49:40Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/groszewn>@groszewn</denchmark-link>\n  Hey Nick - Do you still need this enhancement ?  We are getting close to the Kubeflow 1.1 cut date.   Please let us know.\n \t\t"}, "comments_3": {"comment_id": 4, "comment_author": "groszewn", "commentT": "2020-05-28T02:06:00Z", "comment_text": "\n \t\tHey <denchmark-link:https://github.com/jbottum>@jbottum</denchmark-link>\n , it would be great to have this fix available.\n \t\t"}}}, "commit": {"commit_id": "5185f06786554fa6598f0c735829476b0cdf29b0", "commit_author": "Kimonas Sotirchos", "commitT": "2020-06-01 19:44:14-07:00", "commit_complexity": {"commit_NLOC": "0.0", "commit_CCN": "1.0", "commit_Nprams": "0.0"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 5, "file_old_name": "components\\jupyter-web-app\\frontend\\src\\app\\resource-form\\resource-form.component.ts", "file_new_name": "components\\jupyter-web-app\\frontend\\src\\app\\resource-form\\resource-form.component.ts", "file_complexity": {"file_NLOC": "74", "file_CCN": "15", "file_NToken": "452"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "82,84,85,86", "deleted_lines": "88,90,91,92", "method_info": {"method_name": "onSubmit", "method_params": "", "method_startline": "79", "method_endline": "93", "method_complexity": {"method_NLOC": "6", "method_CCN": "1", "method_NToken": "33", "method_nesting_level": "0"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "33", "deleted_lines": "33", "method_info": {"method_name": "constructor", "method_params": "NamespaceService,KubernetesService,Router,SnackBarService", "method_startline": "29", "method_endline": "34", "method_complexity": {"method_NLOC": "6", "method_CCN": "1", "method_NToken": "23", "method_nesting_level": "0"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "61", "deleted_lines": "61", "method_info": {"method_name": "(anonymous)", "method_params": "", "method_startline": "53", "method_endline": "61", "method_complexity": {"method_NLOC": "5", "method_CCN": "1", "method_NToken": "39", "method_nesting_level": "0"}}}, "hunk_3": {"Ismethod": 1, "added_lines": "33", "deleted_lines": "33", "method_info": {"method_name": "constructor", "method_params": "NamespaceService,KubernetesService,Router,SnackBarService", "method_startline": "29", "method_endline": "34", "method_complexity": {"method_NLOC": "6", "method_CCN": "1", "method_NToken": "24", "method_nesting_level": "0"}}}, "hunk_4": {"Ismethod": 1, "added_lines": "61", "deleted_lines": "61,68,69,70,71,72", "method_info": {"method_name": "ngOnInit", "method_params": "", "method_startline": "36", "method_endline": "72", "method_complexity": {"method_NLOC": "8", "method_CCN": "1", "method_NToken": "65", "method_nesting_level": "0"}}}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "components\\jupyter-web-app\\frontend\\src\\app\\resource-form\\volume\\volume.component.html", "file_new_name": "components\\jupyter-web-app\\frontend\\src\\app\\resource-form\\volume\\volume.component.html", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "5,6,7,8,9,10", "deleted_lines": "5"}}}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "components\\jupyter-web-app\\frontend\\src\\app\\resource-form\\volume\\volume.component.ts", "file_new_name": "components\\jupyter-web-app\\frontend\\src\\app\\resource-form\\volume\\volume.component.ts", "file_complexity": {"file_NLOC": "144", "file_CCN": "12", "file_NToken": "941"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "135,137", "deleted_lines": null, "method_info": {"method_name": "this.subscriptions.add.valueChanges.subscribe", "method_params": "", "method_startline": "135", "method_endline": "137", "method_complexity": {"method_NLOC": "3", "method_CCN": "1", "method_NToken": "9", "method_nesting_level": "0"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "142,144,146", "deleted_lines": null, "method_info": {"method_name": "(anonymous)", "method_params": "", "method_startline": "142", "method_endline": "146", "method_complexity": {"method_NLOC": "4", "method_CCN": "1", "method_NToken": "28", "method_nesting_level": "0"}}}}}, "file_3": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "components\\jupyter-web-app\\frontend\\src\\app\\uis\\rok\\utils\\common.ts", "file_new_name": "components\\jupyter-web-app\\frontend\\src\\app\\uis\\rok\\utils\\common.ts", "file_complexity": {"file_NLOC": "39", "file_CCN": "2", "file_NToken": "207"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "9,10", "deleted_lines": "9,10", "method_info": {"method_name": "createRokVolumeControl", "method_params": "ConfigVolume", "method_startline": "5", "method_endline": "13", "method_complexity": {"method_NLOC": "6", "method_CCN": "1", "method_NToken": "48", "method_nesting_level": "0"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "34,37,38,39,40,41,46", "deleted_lines": "34,37,38,43", "method_info": {"method_name": "+", "method_params": "1", "method_startline": "34", "method_endline": "48", "method_complexity": {"method_NLOC": "13", "method_CCN": "1", "method_NToken": "52", "method_nesting_level": "0"}}}}}, "file_4": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "components\\jupyter-web-app\\frontend\\src\\app\\utils\\common.ts", "file_new_name": "components\\jupyter-web-app\\frontend\\src\\app\\utils\\common.ts", "file_complexity": {"file_NLOC": "142", "file_CCN": "16", "file_NToken": "1123"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "65", "deleted_lines": null, "method_info": {"method_name": "updateVolumeControl", "method_params": "FormGroup,ConfigVolume,readonly", "method_startline": "55", "method_endline": "71", "method_complexity": {"method_NLOC": "16", "method_CCN": "2", "method_NToken": "140", "method_nesting_level": "0"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "98,99,100", "deleted_lines": null, "method_info": {"method_name": "+", "method_params": "1", "method_startline": "93", "method_endline": "108", "method_complexity": {"method_NLOC": "14", "method_CCN": "1", "method_NToken": "59", "method_nesting_level": "0"}}}}}, "file_5": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "components\\jupyter-web-app\\frontend\\src\\app\\utils\\types.ts", "file_new_name": "components\\jupyter-web-app\\frontend\\src\\app\\utils\\types.ts", "file_complexity": {"file_NLOC": "121", "file_CCN": "1", "file_NToken": "422"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "15,16,17,18,19,21", "deleted_lines": "15,16,17,18,19,21", "method_info": {"method_name": "emptyVolume", "method_params": "", "method_startline": "13", "method_endline": "23", "method_complexity": {"method_NLOC": "11", "method_CCN": "1", "method_NToken": "39", "method_nesting_level": "0"}}}}}}}}