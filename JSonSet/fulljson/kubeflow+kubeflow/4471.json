{"BR": {"BR_id": "4471", "BR_author": "Dibel", "BRopenT": "2019-11-06T02:50:39Z", "BRcloseT": "2020-01-06T14:43:05Z", "BR_text": {"BRsummary": "tensorflow package for python3 not found in tensorflow-1.14.0-notebook-gpu:0.7.0", "BRdescription": "\n /kind bug\n What steps did you take and what happened:\n Try to set up a notebook with image gcr.io/kubeflow-images-public/tensorflow-1.14.0-notebook-gpu:v0.7.0 in kubeflow 0.7. But this image contains both python2 and python3 runtime, and tensorflow only exists in python2 runtime.\n In container's terminal I run python --version got the following output:\n Python 2.7.15+\n pip list got the following output:\n \n Click to expand\n DEPRECATION: Python 2.7 will reach the end of its life on January 1st, 2020. Please upgrade your Python as Python 2.7 won't be maintained after that date. A future version of pip will drop support for Python 2.7.\n Package                            Version\n ---------------------------------- -----------\n absl-py                            0.7.1\n asn1crypto                         0.24.0\n astor                              0.8.0\n attrs                              19.1.0\n backports-abc                      0.5\n backports.functools-lru-cache      1.5\n backports.shutil-get-terminal-size 1.0.0\n backports.weakref                  1.0.post1\n bleach                             3.1.0\n configparser                       3.7.4\n crcmod                             1.7\n cryptography                       2.1.4\n cycler                             0.10.0\n decorator                          4.4.0\n defusedxml                         0.6.0\n entrypoints                        0.3\n enum34                             1.1.6\n funcsigs                           1.0.2\n functools32                        3.2.3.post2\n futures                            3.2.0\n gast                               0.2.2\n google-pasta                       0.1.7\n grpcio                             1.21.1\n h5py                               2.9.0\n idna                               2.6\n ipaddress                          1.0.17\n ipykernel                          4.10.0\n ipython                            5.8.0\n ipython-genutils                   0.2.0\n ipywidgets                         7.4.2\n Jinja2                             2.10.1\n jsonschema                         3.0.1\n jupyter                            1.0.0\n jupyter-client                     5.2.4\n jupyter-console                    5.2.0\n jupyter-core                       4.5.0\n jupyter-http-over-ws               0.0.6\n Keras-Applications                 1.0.8\n Keras-Preprocessing                1.1.0\n keyring                            10.6.0\n keyrings.alt                       3.0\n kiwisolver                         1.1.0\n Markdown                           3.1.1\n MarkupSafe                         1.1.1\n matplotlib                         2.2.4\n mistune                            0.8.4\n mock                               3.0.5\n nbconvert                          5.5.0\n nbformat                           4.4.0\n notebook                           5.7.8\n numpy                              1.16.4\n pandocfilters                      1.4.2\n pathlib2                           2.3.3\n pexpect                            4.7.0\n pickleshare                        0.7.5\n pip                                19.1.1\n prometheus-client                  0.7.1\n prompt-toolkit                     1.0.16\n protobuf                           3.8.0\n ptyprocess                         0.6.0\n pycrypto                           2.6.1\n Pygments                           2.4.2\n pygobject                          3.26.1\n pyparsing                          2.4.0\n pyrsistent                         0.15.2\n python-dateutil                    2.8.0\n pytz                               2019.1\n pyxdg                              0.25\n pyzmq                              18.0.1\n qtconsole                          4.5.1\n scandir                            1.10.0\n SecretStorage                      2.3.1\n Send2Trash                         1.5.0\n setuptools                         41.0.1\n simplegeneric                      0.8.1\n singledispatch                     3.4.0.3\n six                                1.11.0\n subprocess32                       3.5.4\n tensorboard                        1.14.0\n tensorflow-estimator               1.14.0\n tensorflow-gpu                     1.14.0\n termcolor                          1.1.0\n terminado                          0.8.2\n testpath                           0.4.2\n tornado                            5.1.1\n traitlets                          4.3.2\n wcwidth                            0.1.7\n webencodings                       0.5.1\n Werkzeug                           0.15.4\n wheel                              0.30.0\n widgetsnbextension                 3.4.2\n wrapt                              1.11.2\n WARNING: You are using pip version 19.1.1, however version 19.3.1 is available.\n You should consider upgrading via the 'pip install --upgrade pip' command.\n \n \n pip3 list got the following output:\n \n Click to expand\n DEPRECATION: The default format will switch to columns in the future. You can use --format=(legacy|columns) (or define a format=(legacy|columns) in your pip.conf under the [list] section) to disable this warning.\n argo-models (2.2.1a0)\n asn1crypto (0.24.0)\n attrs (19.1.0)\n backcall (0.1.0)\n bleach (3.1.0)\n cachetools (3.1.1)\n certifi (2019.9.11)\n cffi (1.12.3)\n chardet (3.0.4)\n Click (7.0)\n cloudpickle (1.2.2)\n cryptography (2.7)\n decorator (4.4.0)\n defusedxml (0.6.0)\n docker (4.0.2)\n entrypoints (0.3)\n fairing (0.5)\n future (0.17.1)\n google-api-core (1.14.2)\n google-api-python-client (1.7.11)\n google-auth (1.6.3)\n google-auth-httplib2 (0.0.3)\n google-cloud-core (1.0.3)\n google-cloud-storage (1.20.0)\n google-resumable-media (0.4.1)\n googleapis-common-protos (1.6.0)\n httplib2 (0.14.0)\n idna (2.8)\n ipykernel (5.1.2)\n ipython (7.8.0)\n ipython-genutils (0.2.0)\n jedi (0.15.1)\n Jinja2 (2.10.1)\n json5 (0.8.5)\n jsonschema (3.0.2)\n jupyter-client (5.3.3)\n jupyter-console (6.0.0)\n jupyter-core (4.5.0)\n jupyterlab (1.1.4)\n jupyterlab-server (1.0.6)\n kfp (0.1.22)\n kfp-server-api (0.1.18.3)\n kubernetes (10.0.1)\n MarkupSafe (1.1.1)\n mistune (0.8.4)\n nbconvert (5.6.0)\n nbformat (4.4.0)\n notebook (6.0.1)\n numpy (1.17.2)\n oauth2client (4.1.3)\n oauthlib (3.1.0)\n pandocfilters (1.4.2)\n parso (0.5.1)\n pexpect (4.7.0)\n pickleshare (0.7.5)\n pip (9.0.1)\n prometheus-client (0.7.1)\n prompt-toolkit (2.0.9)\n protobuf (3.9.2)\n ptyprocess (0.6.0)\n pyasn1 (0.4.7)\n pyasn1-modules (0.2.6)\n pycparser (2.19)\n Pygments (2.4.2)\n pygobject (3.26.1)\n PyJWT (1.7.1)\n pyrsistent (0.15.4)\n python-apt (1.6.4)\n python-dateutil (2.8.0)\n pytz (2019.2)\n PyYAML (5.1.2)\n pyzmq (18.1.0)\n requests (2.22.0)\n requests-oauthlib (1.2.0)\n requests-toolbelt (0.9.1)\n rsa (4.0)\n scipy (1.3.1)\n Send2Trash (1.5.0)\n setuptools (39.0.1)\n six (1.12.0)\n tabulate (0.8.3)\n terminado (0.8.2)\n testpath (0.4.2)\n tornado (5.1.1)\n traitlets (4.3.2)\n uritemplate (3.0.0)\n urllib3 (1.24.3)\n wcwidth (0.1.7)\n webencodings (0.5.1)\n websocket-client (0.56.0)\n xgboost (0.90)\n \n \n What did you expect to happen:\n Only python3 runtime exists in the image, and tensorflow should be useable in python3.\n Anything else you would like to add:\n Everything worked well in tensorflow-1.15.0-notebook-gpu:v-base-e60ee44-1186280489095270404\n Environment:\n \n Kubeflow version: 0.7.0\n kfctl version:  v0.7.0\n Kubernetes platform:  bare metal\n Kubernetes version:\n \n <denchmark-code>Server Version: version.Info{Major:\"1\", Minor:\"15\", GitVersion:\"v1.15.3\", GitCommit:\"2d3c76f9091b6bec110a5e63777c332469e0cba2\", GitTreeState:\"clean\", BuildDate:\"2019-08-19T11:05:50Z\", GoVersion:\"go1.12.9\", Compiler:\"gc\", Platform:\"linux/amd64\"}\n </denchmark-code>\n \n \n OS: CentOS Linux 7 (Core)\n \n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "Dibel", "commentT": "2019-11-06T02:50:41Z", "comment_text": "\n \t\tIssue-Label Bot is automatically applying the label kind/bug to this issue, with a confidence of 0.94. Please mark this comment with \ud83d\udc4d or \ud83d\udc4e to give our bot feedback!\n Links: <denchmark-link:https://github.com/marketplace/issue-label-bot>app homepage</denchmark-link>\n , <denchmark-link:https://mlbot.net/data/kubeflow/kubeflow>dashboard</denchmark-link>\n  and <denchmark-link:https://github.com/hamelsmu/MLapp>code</denchmark-link>\n  for this bot.\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "Dibel", "commentT": "2019-11-07T03:12:02Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/Dibel>@Dibel</denchmark-link>\n  Thanks for reporting this problem. We are working on it. Sorry for the inconvenience.\n \t\t"}, "comments_2": {"comment_id": 3, "comment_author": "Dibel", "commentT": "2019-11-07T14:17:33Z", "comment_text": "\n \t\tAfter <denchmark-link:https://github.com/kubeflow/kubeflow/pull/4478>#4478</denchmark-link>\n  is merged we will need to build a new image and move the 0.7.0 tag.\n \t\t"}, "comments_3": {"comment_id": 4, "comment_author": "Dibel", "commentT": "2019-11-25T18:53:55Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/Tabrizian>@Tabrizian</denchmark-link>\n  do we have an updated jupyter image that we can tag?\n gcr.io/kubeflow-images-public/tensorflow-1.14.0-notebook-gpu:v0.7.0 is currently pointing to\n sha256:895aa500ff09c9080e0755044e4fd9a3bd3dc3ae403415e220ebcc1dab09b6ef\n Looks like it was built on october 10.\n v-base-ef41372-1177829795472347138\n There's a newer image\n gcr.io/kubeflow-images-public/tensorflow-1.14.0-notebook-gpu@sha256:0d4f11de65e23deac6c2e955b37aa5d549085f8ea1a03d696a3fff9f27d4df3f\n v-base-b813c9a-1184585142199390209\n \t\t"}, "comments_4": {"comment_id": 5, "comment_author": "Dibel", "commentT": "2019-11-25T18:56:47Z", "comment_text": "\n \t\tLooks like this image isn't new enough\n <denchmark-code>git log -1 --format='%ci' b813c9a\n 2019-10-16 14:40:41 -0700\n git log -1 --format='%ci' 884a0c51\n 2019-11-07 06:19:09 -0800\n </denchmark-code>\n \n \t\t"}, "comments_5": {"comment_id": 6, "comment_author": "Dibel", "commentT": "2019-11-25T21:15:03Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/jlewi>@jlewi</denchmark-link>\n  The  has not been updated but I created a pull request for .\n The pull request is here: <denchmark-link:https://github.com/kubeflow/kubeflow/pull/4352>#4352</denchmark-link>\n \n \t\t"}, "comments_6": {"comment_id": 7, "comment_author": "Dibel", "commentT": "2020-01-06T14:43:05Z", "comment_text": "\n \t\tClosing this as fixed by <denchmark-link:https://github.com/kubeflow/kubeflow/pull/4352>#4352</denchmark-link>\n \n \t\t"}}}, "commit": {"commit_id": "884a0c51381084ae293b322944ab378c5b669e10", "commit_author": "Iman Tabrizian", "commitT": "2019-11-07 06:19:09-08:00", "commit_complexity": {"commit_NLOC": "None", "commit_CCN": "None", "commit_Nprams": "None"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "components\\tensorflow-notebook-image\\versions\\1.14.0gpu\\version-config.json", "file_new_name": "components\\tensorflow-notebook-image\\versions\\1.14.0gpu\\version-config.json", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "2", "deleted_lines": "2"}}}}}}