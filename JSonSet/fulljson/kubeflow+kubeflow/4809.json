{"BR": {"BR_id": "4809", "BR_author": "Jeffwan", "BRopenT": "2020-03-01T00:37:38Z", "BRcloseT": "2020-03-03T18:18:58Z", "BR_text": {"BRsummary": "Admission Controller failed to build", "BRdescription": "\n /kind bug\n What steps did you take and what happened:\n [A clear and concise description of what the bug is.]\n <denchmark-code>$ make build\n go build -gcflags 'all=-N -l' -o bin/webhook main.go\n go: downloading k8s.io/api v0.0.0-20190222213804-5cb15d344471\n go: downloading k8s.io/apimachinery v0.0.0-20190221213512-86fb29eff628\n go: downloading sigs.k8s.io/controller-runtime v0.1.10\n go: extracting k8s.io/api v0.0.0-20190222213804-5cb15d344471\n go: extracting sigs.k8s.io/controller-runtime v0.1.10\n go: downloading k8s.io/client-go v10.0.0+incompatible\n go: extracting k8s.io/apimachinery v0.0.0-20190221213512-86fb29eff628\n go: downloading golang.org/x/net v0.0.0-20190415214537-1da14a5a36f2\n go: extracting k8s.io/client-go v10.0.0+incompatible\n go: downloading golang.org/x/oauth2 v0.0.0-20190402181905-9f3314589c9a\n go: downloading golang.org/x/crypto v0.0.0-20190418165655-df01cb2cc480\n go: extracting golang.org/x/net v0.0.0-20190415214537-1da14a5a36f2\n go: extracting golang.org/x/crypto v0.0.0-20190418165655-df01cb2cc480\n go: downloading golang.org/x/sys v0.0.0-20190418153312-f0ce4c0180be\n go: extracting golang.org/x/sys v0.0.0-20190418153312-f0ce4c0180be\n go: extracting golang.org/x/oauth2 v0.0.0-20190402181905-9f3314589c9a\n # command-line-arguments\n ./main.go:399:18: undefined: codecs\n ./main.go:420:15: undefined: getCrdClient\n ./main.go:509:18: undefined: codecs\n ./main.go:550:14: undefined: configTLS\n make: *** [build] Error 2\n </denchmark-code>\n \n We actually can find this file under package main here,\n \n \n \n kubeflow/components/admission-webhook/scheme.go\n \n \n          Line 28\n       in\n       6409fde\n \n \n \n \n \n \n  var codecs = serializer.NewCodecFactory(scheme) \n \n \n \n \n \n \n \n \n kubeflow/components/admission-webhook/Makefile\n \n \n          Line 7\n       in\n       6409fde\n \n \n \n \n \n \n  go build -gcflags 'all=-N -l' -o bin/webhook main.go \n \n \n \n \n \n The problem is if other files use main package, go run need to supply all files as argument like\n go build -gcflags 'all=-N -l' -o bin/webhook main.go config.go scheme.go\n or \n go build -gcflags 'all=-N -l' -o bin/webhook ...\n or use different packages in config.go and scheme.go\n What did you expect to happen:\n make build should go through.\n Environment:\n \n Kubeflow version: (version number can be found at the bottom left corner of the Kubeflow dashboard): master\n \n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "Jeffwan", "commentT": "2020-03-01T00:37:54Z", "comment_text": "\n \t\tIssue-Label Bot is automatically applying the labels:\n \n \n \n Label\n Probability\n \n \n \n \n kind/bug\n 1.00\n \n \n \n Please mark this comment with  or  to give our bot feedback!\n Links: <denchmark-link:https://github.com/marketplace/issue-label-bot>app homepage</denchmark-link>\n , <denchmark-link:https://github.com/marketplace/issue-label-botdata/kubeflow/kubeflow>dashboard</denchmark-link>\n  and <denchmark-link:https://github.com/hamelsmu/MLapp>code</denchmark-link>\n  for this bot.\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "Jeffwan", "commentT": "2020-03-01T00:37:56Z", "comment_text": "\n \t\tI will file a PR to resolve this issue.\n \t\t"}, "comments_2": {"comment_id": 3, "comment_author": "Jeffwan", "commentT": "2020-03-03T18:18:58Z", "comment_text": "\n \t\tPR merged.\n \t\t"}}}, "commit": {"commit_id": "efdcd7e253bdb6796eced62c20238007352a34fa", "commit_author": "Jiaxin Shan", "commitT": "2020-03-02 22:13:37-08:00", "commit_complexity": {"commit_NLOC": "None", "commit_CCN": "None", "commit_Nprams": "None"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "components\\admission-webhook\\Makefile", "file_new_name": "components\\admission-webhook\\Makefile", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "7,11", "deleted_lines": "7,11,12"}}}}}}