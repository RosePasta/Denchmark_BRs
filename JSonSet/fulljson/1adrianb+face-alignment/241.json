{"BR": {"BR_id": "241", "BR_author": "La4La", "BRopenT": "2020-12-21T06:20:31Z", "BRcloseT": "2020-12-21T14:16:07Z", "BR_text": {"BRsummary": "Error in initialization in version 1.3.0", "BRdescription": "\n First of all, thank you for developing this great library!\n I've used this library for a while.\n I can use version 1.1.1 and 1.2.0 without any problem, however I got the following error after I updated it to 1.3.0 or 1.3.1.\n (I'm using pytorch 1.6.0+cu101.)\n In [1]: import face_alignment\n \n In [2]: fa = face_alignment.FaceAlignment(face_alignment.LandmarksType._2D, flip_input=False)\n ---------------------------------------------------------------------------\n RuntimeError                              Traceback (most recent call last)\n <ipython-input-2-265c29806126> in <module>\n ----> 1 fa = face_alignment.FaceAlignment(face_alignment.LandmarksType._2D, flip_input=False)\n \n ~/.local/lib/python3.8/site-packages/face_alignment/api.py in __init__(self, landmarks_type, network_size, device, flip_input, face_detector, verbose)\n      65         else:\n      66             network_name = '3DFAN-' + str(network_size)\n ---> 67         self.face_alignment_net = torch.jit.load(load_file_from_url(models_urls[network_name]))\n      68\n      69         self.face_alignment_net.to(device)\n \n /opt/miniconda/lib/python3.8/site-packages/torch/jit/__init__.py in load(f, map_location, _extra_files)\n     273     cu = torch._C.CompilationUnit()\n     274     if isinstance(f, str) or isinstance(f, pathlib.Path):\n --> 275         cpp_module = torch._C.import_ir_module(cu, f, map_location, _extra_files)\n     276     else:\n     277         cpp_module = torch._C.import_ir_module_from_buffer(cu, f.read(), map_location, _extra_files)\n \n RuntimeError:\n \n aten::_convolution(Tensor input, Tensor weight, Tensor? bias, int[] stride, int[] padding, int[] dilation, bool transposed, int[] output_padding, int groups,\n bool benchmark, bool deterministic, bool cudnn_enabled) -> (Tensor):\n Expected at most 12 arguments but found 13 positional arguments.\n :\n /home/SERILOCAL/adrian.bulat/miniconda3/lib/python3.7/site-packages/torch/nn/modules/conv.py(420): _conv_forward\n /home/SERILOCAL/adrian.bulat/miniconda3/lib/python3.7/site-packages/torch/nn/modules/conv.py(423): forward\n /home/SERILOCAL/adrian.bulat/miniconda3/lib/python3.7/site-packages/torch/nn/modules/module.py(709): _slow_forward\n /home/SERILOCAL/adrian.bulat/miniconda3/lib/python3.7/site-packages/torch/nn/modules/module.py(725): _call_impl\n /home/SERILOCAL/adrian.bulat/test/face-alignment/face_alignment/models/fan.py(134): forward\n /home/SERILOCAL/adrian.bulat/miniconda3/lib/python3.7/site-packages/torch/nn/modules/module.py(709): _slow_forward\n /home/SERILOCAL/adrian.bulat/miniconda3/lib/python3.7/site-packages/torch/nn/modules/module.py(725): _call_impl\n /home/SERILOCAL/adrian.bulat/miniconda3/lib/python3.7/site-packages/torch/jit/_trace.py(940): trace_module\n /home/SERILOCAL/adrian.bulat/miniconda3/lib/python3.7/site-packages/torch/jit/_trace.py(742): trace\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "La4La", "commentT": "2020-12-21T08:24:35Z", "comment_text": "\n \t\tI've got same problem like you just now. Have you solved it?\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "La4La", "commentT": "2020-12-21T09:52:52Z", "comment_text": "\n \t\t\n I've got same problem like you just now. Have you solved it?\n \n Not yet. Want help from the author \ud83d\ude4f\n \t\t"}, "comments_2": {"comment_id": 3, "comment_author": "La4La", "commentT": "2020-12-21T11:42:53Z", "comment_text": "\n \t\tA quick fix is to update to pytorch 1.7.x\n I will deploy a fix for 1.6.0 in 2-3 hours\n \t\t"}, "comments_3": {"comment_id": 4, "comment_author": "La4La", "commentT": "2020-12-21T14:26:46Z", "comment_text": "\n \t\tThis should be now fixed if you update from source or to 1.3.2. The minimum pytorch version required is 1.5\n \t\t"}}}, "commit": {"commit_id": "bfb6ddaf40ca0c083ab6361f4d843202b35670c2", "commit_author": "Adrian Bulat", "commitT": "2020-12-21 14:15:54+00:00", "commit_complexity": {"commit_NLOC": "0.0", "commit_CCN": "0.0", "commit_Nprams": "0.0"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "face_alignment\\api.py", "file_new_name": "face_alignment\\api.py", "file_complexity": {"file_NLOC": "136", "file_CCN": "18", "file_NToken": "1102"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "35", "deleted_lines": "34,35", "method_info": {"method_name": "__int__", "method_params": "self", "method_startline": "34", "method_endline": "35", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "9", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "29", "deleted_lines": "29,30,31,32", "method_info": {"method_name": "__new__", "method_params": "cls,value", "method_startline": "29", "method_endline": "32", "method_complexity": {"method_NLOC": "4", "method_CCN": "1", "method_NToken": "22", "method_nesting_level": "1"}}}}}}}}