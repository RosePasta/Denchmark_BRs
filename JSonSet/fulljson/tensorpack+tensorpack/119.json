{"BR": {"BR_id": "119", "BR_author": "huihuiqu", "BRopenT": "2017-01-25T03:50:21Z", "BRcloseT": "2017-01-25T03:55:51Z", "BR_text": {"BRsummary": "Training on A3C model", "BRdescription": "\n During the training of A3C model on the breakout game \"./train-atari.py --env Breakout-v0 --gpu 0\", It says that it cannot compare a list with an int. I am using AWS g2 instance. Could you please help me to deal with that?\n Thank you.\n ^[[32m[0124 21:36:50 @logger.py:70]^[[0m Argv: ./train-atari.py --env Breakout-v0 --gpu 0\n ^[[32m[0124 21:36:51 @multigpu.py:31]^[[0m Training a model of 1 tower\n ^[[32m[0124 21:36:51 @multigpu.py:39]^[[0m Building graph for training tower 0...\n ^[[32m[0124 21:36:51 @common.py:82]^[[0m conv0 input: [None, 84, 84, 12]\n ^[[32m[0124 21:36:51 @common.py:90]^[[0m conv0 output: [None, 84, 84, 32]\n ^[[32m[0124 21:36:51 @common.py:82]^[[0m pool0 input: [None, 84, 84, 32]\n ^[[32m[0124 21:36:51 @common.py:90]^[[0m pool0 output: [None, 42, 42, 32]\n ^[[32m[0124 21:36:51 @common.py:82]^[[0m conv1 input: [None, 42, 42, 32]\n ^[[32m[0124 21:36:51 @common.py:90]^[[0m conv1 output: [None, 42, 42, 32]\n ^[[32m[0124 21:36:51 @common.py:82]^[[0m pool1 input: [None, 42, 42, 32]\n ^[[32m[0124 21:36:51 @common.py:90]^[[0m pool1 output: [None, 21, 21, 32]\n ^[[32m[0124 21:36:51 @common.py:82]^[[0m conv2 input: [None, 21, 21, 32]\n ^[[32m[0124 21:36:51 @common.py:90]^[[0m conv2 output: [None, 21, 21, 64]\n ^[[32m[0124 21:36:51 @common.py:82]^[[0m pool2 input: [None, 21, 21, 64]\n ^[[32m[0124 21:36:51 @common.py:90]^[[0m pool2 output: [None, 10, 10, 64]\n ^[[32m[0124 21:36:51 @common.py:82]^[[0m conv3 input: [None, 10, 10, 64]\n ^[[32m[0124 21:36:51 @common.py:90]^[[0m conv3 output: [None, 10, 10, 64]\n ^[[32m[0124 21:36:51 @common.py:82]^[[0m fc0 input: [None, 10, 10, 64]\n ^[[32m[0124 21:36:51 @common.py:90]^[[0m fc0 output: [None, 512]\n ^[[32m[0124 21:36:51 @common.py:82]^[[0m fc-pi input: [None, 512]\n ^[[32m[0124 21:36:51 @common.py:90]^[[0m fc-pi output: [None, 6]\n ^[[32m[0124 21:36:51 @common.py:82]^[[0m fc-v input: [None, 512]\n ^[[32m[0124 21:36:51 @common.py:90]^[[0m fc-v output: [None, 1]\n ^[[32m[0124 21:36:52 @modelutils.py:27]^[[0m ^[[36mModel Parameters: ^[[0m\n conv0/W:0: shape=[5, 5, 12, 32], dim=9600\n conv0/b:0: shape=[32], dim=32\n conv1/W:0: shape=[5, 5, 32, 32], dim=25600\n conv1/b:0: shape=[32], dim=32\n conv2/W:0: shape=[4, 4, 32, 64], dim=32768\n conv2/b:0: shape=[64], dim=64\n conv3/W:0: shape=[3, 3, 64, 64], dim=36864\n conv3/b:0: shape=[64], dim=64\n fc0/W:0: shape=[6400, 512], dim=3276800\n fc0/b:0: shape=[512], dim=512\n prelu/alpha:0: shape=[], dim=1\n fc-pi/W:0: shape=[512, 6], dim=3072\n fc-pi/b:0: shape=[6], dim=6\n fc-v/W:0: shape=[512, 1], dim=512\n fc-v/b:0: shape=[1], dim=1\n ^[[36mTotal #param=3385928 (12.92 MB assuming all float32)^[[0m\n ^[[32m[0124 21:36:52 @base.py:148]^[[0m Setup callbacks ...\n ^[[32m[0124 21:36:52 @base.py:157]^[[0m Building prediction graph for towerid=0 with prefix='' ...\n ^[[32m[0124 21:36:57 @stats.py:34]^[[0m Found stats at train_log/train-atari/stat.json, will append to it.\n ^[[32m[0124 21:36:57 @base.py:159]^[[0m Initializing graph variables ...\n ^[[32m[0124 21:36:58 @concurrency.py:30]^[[0m Starting SimulatorMaster\n ^[[32m[0124 21:36:58 @concurrency.py:30]^[[0m Starting EnqueueThread\n ^[[32m[0124 21:36:58 @base.py:182]^[[0m Start Epoch 1 ...\n ^[[32m[0124 22:14:11 @base.py:194]^[[0m Epoch 1 (global_step 6000) finished, time:2233.17 sec.\n ^[[32m[0124 22:14:11 @multigpu.py:205]^[[0m ^[[4m^[[5m^[[31mERR^[[0m Cannot log async_global_step\n Traceback (most recent call last):\n File \"/home/ubuntu/tensorpack/tensorpack/train/multigpu.py\", line 199, in _trigger_epoch\n if self.config.tower > 1:\n TypeError: unorderable types: list() > int()\n ^[[32m[0124 22:14:16 @saver.py:80]^[[0m Model saved to train_log/train-atari/model-6000.\n ^[[32m[0124 22:14:16 @stats.py:101]^[[0m SummaryGradient/conv0/W/rms: 0.00067522\n ^[[32m[0124 22:14:16 @stats.py:101]^[[0m SummaryGradient/conv0/b/rms: 0.0084852\n ^[[32m[0124 22:14:16 @stats.py:101]^[[0m SummaryGradient/conv1/W/rms: 0.00038924\n ^[[32m[0124 22:14:16 @stats.py:101]^[[0m SummaryGradient/conv1/b/rms: 0.0064533\n ^[[32m[0124 22:14:16 @stats.py:101]^[[0m SummaryGradient/conv2/W/rms: 0.00028933\n ^[[32m[0124 22:14:16 @stats.py:101]^[[0m SummaryGradient/conv2/b/rms: 0.0044036\n ^[[32m[0124 22:14:16 @stats.py:101]^[[0m SummaryGradient/conv3/W/rms: 0.00025662\n ^[[32m[0124 22:14:16 @stats.py:101]^[[0m SummaryGradient/conv3/b/rms: 0.0051158\n ^[[32m[0124 22:14:16 @stats.py:101]^[[0m SummaryGradient/fc-pi/W/rms: 0.00029742\n ^[[32m[0124 22:14:16 @stats.py:101]^[[0m SummaryGradient/fc-pi/b/rms: 0.0036213\n ^[[32m[0124 22:14:16 @stats.py:101]^[[0m SummaryGradient/fc-v/W/rms: 0.0016729\n ^[[32m[0124 22:14:16 @stats.py:101]^[[0m SummaryGradient/fc-v/b/rms: 0.02057\n ^[[32m[0124 22:14:16 @stats.py:101]^[[0m SummaryGradient/fc0/W/rms: 3.2691e-05\n ^[[32m[0124 22:14:16 @stats.py:101]^[[0m SummaryGradient/fc0/b/rms: 0.00097313\n ^[[32m[0124 22:14:16 @stats.py:101]^[[0m SummaryGradient/prelu/alpha/rms: 0.0085771\n ^[[32m[0124 22:14:16 @stats.py:101]^[[0m cost: -0.014976\n ^[[32m[0124 22:14:16 @stats.py:101]^[[0m input_queue_size: 5.5515e-07\n ^[[32m[0124 22:14:16 @stats.py:101]^[[0m learning_rate: 0.001\n ^[[32m[0124 22:14:16 @stats.py:101]^[[0m policy_loss: -0.43098\n ^[[32m[0124 22:14:16 @stats.py:101]^[[0m predict_reward: 0.63999\n ^[[32m[0124 22:14:16 @stats.py:101]^[[0m rms_advantage: 0.10505\n ^[[32m[0124 22:14:16 @stats.py:101]^[[0m value_loss: 0.74247\n ^[[32m[0124 22:14:16 @stats.py:101]^[[0m xentropy_loss: -222.84\n ^[[32m[0124 22:14:16 @group.py:44]^[[0m Callbacks took 3.978 sec in total. ModelSaver: 3.961sec\n ^[[32m[0124 22:14:16 @base.py:182]^[[0m Start Epoch 2 ...\n ^[[32m[0124 22:51:26 @base.py:194]^[[0m Epoch 2 (global_step 12000) finished, time:2230.66 sec.\n ^[[32m[0124 22:51:26 @multigpu.py:205]^[[0m ^[[4m^[[5m^[[31mERR^[[0m Cannot log async_global_step\n Traceback (most recent call last):\n File \"/home/ubuntu/tensorpack/tensorpack/train/multigpu.py\", line 199, in _trigger_epoch\n if self.config.tower > 1:\n TypeError: unorderable types: list() > int()\n ^[[32m[0124 22:51:28 @saver.py:80]^[[0m Model saved to train_log/train-atari/model-12000.\n \t"}, "comments": {}}, "commit": {"commit_id": "ff4604918f752eef3c8b484b8eb5d3810a73a464", "commit_author": "Yuxin Wu", "commitT": "2017-01-25 11:55:37+08:00", "commit_complexity": {"commit_NLOC": "None", "commit_CCN": "None", "commit_Nprams": "None"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "tensorpack\\train\\multigpu.py", "file_new_name": "tensorpack\\train\\multigpu.py", "file_complexity": {"file_NLOC": "149", "file_CCN": "30", "file_NToken": "1063"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "174", "deleted_lines": "174", "method_info": {"method_name": "_start_async_threads", "method_params": "self,grad_list", "method_startline": "169", "method_endline": "184", "method_complexity": {"method_NLOC": "11", "method_CCN": "2", "method_NToken": "82", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "199", "deleted_lines": "199", "method_info": {"method_name": "_trigger_epoch", "method_params": "self", "method_startline": "194", "method_endline": "206", "method_complexity": {"method_NLOC": "13", "method_CCN": "4", "method_NToken": "81", "method_nesting_level": "1"}}}}}}}}