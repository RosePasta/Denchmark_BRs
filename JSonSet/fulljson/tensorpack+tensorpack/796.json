{"BR": {"BR_id": "796", "BR_author": "jwook1004", "BRopenT": "2018-06-18T13:12:13Z", "BRcloseT": "2018-06-18T15:41:26Z", "BR_text": {"BRsummary": "nan occurred when training Alexnet", "BRdescription": "\n Issue: Unexpected Problems / Potential Bugs\n \n \n What you did:\n I just git-clone this repository and ran training for Alexnet using the python script in \"https://github.com/tensorpack/tensorpack/blob/master/examples/ImageNetModels/alexnet.py\".\n Command:\n python3 alexnet.py --gpu 0,1 --data /home/choij/Data/ILSVRC2012 --batch 64\n \n \n What you observed, e.g. the entire log:\n \n \n \n [0618 07:42:45 @base.py:242] Start Epoch 1 ...\n [0618 07:42:45 @input_source.py:513] Pre-filling StagingArea ...\n [0618 07:42:45 @input_source.py:517] 1 element was put into StagingArea.\n 100%|#####################################################################################################################################################################|10009/10009[13:44<00:00,12.14it/s]\n [0618 07:56:29 @base.py:252] Epoch 1 (global_step 10009) finished, time:13 minutes 44 seconds.\n [0618 07:56:29 @graph.py:73] Running Op sync_variables/sync_variables_from_main_tower ...\n [0618 07:56:30 @saver.py:84] Model saved to train_log/AlexNet/model-10009.\n [0618 07:56:30 @misc.py:98] Estimated Time Left: 22 hours 41 minutes 38 seconds\n 100%|#########################################################################################################################################################################|782/782[00:15<00:00,49.52it/s]\n [0618 07:56:46 @monitor.py:440] DataParallelInferenceRunner/QueueInput/queue_size: 50\n [0618 07:56:46 @monitor.py:440] GPUUtil/0: 93.674\n [0618 07:56:46 @monitor.py:440] GPUUtil/1: 94.415\n [0618 07:56:46 @monitor.py:440] QueueInput/queue_size: 50\n [0618 07:56:46 @monitor.py:440] l2_regularize_loss: nan\n [0618 07:56:46 @monitor.py:440] learning_rate: 0.1\n [0618 07:56:46 @monitor.py:440] train-error-top1: 1\n [0618 07:56:46 @monitor.py:440] train-error-top5: 1\n [0618 07:56:46 @monitor.py:440] val-error-top1: 1\n [0618 07:56:46 @monitor.py:440] val-error-top5: 1\n [0618 07:56:46 @monitor.py:440] xentropy-loss: nan\n [0618 07:56:46 @group.py:44] Callbacks took 16.977 sec in total. DataParallelInferenceRunner: 16 seconds\n \n \n \n What you expected, if not obvious.\n As can be seen above, I got \"nan\" for l2_regularize_loss and xentropy-loss. I expect valid values for them. Note that I didn't modify any code in the script (i.e., alexnet.py) or other Tensorpack source code.\n \n \n Your environment:\n \n Python version.: Python 3.6.5\n TF version: v1.7.0-3-g024aecf414 1.7.0\n Tensorpack version: 0.8.6\n \n \n \n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "jwook1004", "commentT": "2018-06-18T15:41:52Z", "comment_text": "\n \t\tThanks for reporting! Forgot to update the initial learning rate when I refactor the code. Should be fixed now.\n \t\t"}}}, "commit": {"commit_id": "12223dfbc26b72c400b5436e53099ade27699086", "commit_author": "Yuxin Wu", "commitT": "2018-06-18 09:41:13-06:00", "commit_complexity": {"commit_NLOC": "None", "commit_CCN": "None", "commit_Nprams": "None"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "examples\\ImageNetModels\\alexnet.py", "file_new_name": "examples\\ImageNetModels\\alexnet.py", "file_complexity": {"file_NLOC": "110", "file_CCN": "7", "file_NToken": "1081"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "91,110", "deleted_lines": "91,110", "method_info": {"method_name": "get_config", "method_params": "", "method_startline": "90", "method_endline": "121", "method_complexity": {"method_NLOC": "29", "method_CCN": "2", "method_NToken": "199", "method_nesting_level": "0"}}}}}}}}