{"BR": {"BR_id": "247", "BR_author": "edran", "BRopenT": "2018-01-29T11:08:26Z", "BRcloseT": "2018-01-30T09:44:11Z", "BR_text": {"BRsummary": "Python client segfaults when given empty commands", "BRdescription": "\n To reproduce:\n >>> import torchcraft\n >>> tc = torchcraft.Client()\n <torchcraft.Client at 0xwhatever>\n >>> tc.connect('localhost', 11111)\n True\n >>>tc.send([[]])\n Segmentation fault (core dumped)\n This is likely because we simply don't handle this well both in the backend and in pybind. We might want to look into how to crash more gracefully (e.g. crash the client, but tell the user that happened so that they can try reconnecting)?\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "edran", "commentT": "2018-01-29T11:15:13Z", "comment_text": "\n \t\tThis is because the code in question accesses the first element of the command vector before checking its length: <denchmark-link:https://github.com/TorchCraft/TorchCraft/blob/master/py/pyclient.cpp#L48>https://github.com/TorchCraft/TorchCraft/blob/master/py/pyclient.cpp#L48</denchmark-link>\n . Will fix.\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "edran", "commentT": "2018-01-30T09:44:11Z", "comment_text": "\n \t\tFixed in devleop\n \t\t"}}}, "commit": {"commit_id": "7dc6112c01d404e2e745d44e6ea23334fb341d92", "commit_author": "Jonas Gehring", "commitT": "2018-01-29 12:19:56+01:00", "commit_complexity": {"commit_NLOC": "None", "commit_CCN": "None", "commit_Nprams": "None"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "py\\pyclient.cpp", "file_new_name": "py\\pyclient.cpp", "file_complexity": {"file_NLOC": "78", "file_CCN": "8", "file_NToken": "632"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "48,50,51,52,53", "deleted_lines": "48,49,51,52,53", "method_info": {"method_name": "init_client", "method_params": "torchcraft", "method_startline": "8", "method_endline": "83", "method_complexity": {"method_NLOC": "74", "method_CCN": "8", "method_NToken": "621", "method_nesting_level": "0"}}}}}}}}