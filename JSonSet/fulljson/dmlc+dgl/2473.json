{"BR": {"BR_id": "2473", "BR_author": "ZZy979", "BRopenT": "2020-12-31T09:09:40Z", "BRcloseT": "2020-12-31T15:45:32Z", "BR_text": {"BRsummary": "WN18Dataset.__len__ raises NameError", "BRdescription": "\n <denchmark-h:h2>\ud83d\udc1b Bug</denchmark-h>\n \n WN18Dataset.__len__ raises NameError: name 'idx' is not defined, same problem for FB15k237Dataset and FB15kDataset\n <denchmark-h:h2>To Reproduce</denchmark-h>\n \n Steps to reproduce the behavior:\n <denchmark-code>>>> from dgl.data import WN18Dataset\n >>> data = WN18Dataset()\n >>> len(data)\n Traceback (most recent call last):\n ...\n   File \"D:\\anaconda3\\envs\\academic\\lib\\site-packages\\dgl\\data\\knowledge_graph.py\", line 740, in __len__\n     return super(WN18Dataset, self).__len__(idx)\n NameError: name 'idx' is not defined\n </denchmark-code>\n \n Both FB15k237Dataset and FB15kDataset also have this problem.\n <denchmark-h:h2>Expected behavior</denchmark-h>\n \n It should return 1\n The problem is caused by the extra argument idx:\n def __len__(self):\n     r\"\"\"The number of graphs in the dataset.\"\"\"\n     return super(FB15kDataset, self).__len__(idx)\n <denchmark-h:h2>Environment</denchmark-h>\n \n \n DGL Version (e.g., 1.0): 0.5.2\n Backend Library & Version (e.g., PyTorch 0.4.1, MXNet/Gluon 1.3): PyTorch 1.6.0\n OS (e.g., Linux): Windows 10\n How you installed DGL (conda, pip, source): pip\n Build command you used (if compiling from source):\n Python version: 3.7.6\n CUDA/cuDNN version (if applicable):\n GPU models and configuration (e.g. V100):\n Any other relevant information:\n \n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "ZZy979", "commentT": "2020-12-31T15:07:37Z", "comment_text": "\n \t\tConfirmed bug.\n \t\t"}}}, "commit": {"commit_id": "4464b9734c1061bd84325a54883c5046031def37", "commit_author": "xiang song(charlie.song)", "commitT": "2020-12-31 23:33:21+08:00", "commit_complexity": {"commit_NLOC": "None", "commit_CCN": "None", "commit_Nprams": "None"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "python\\dgl\\data\\knowledge_graph.py", "file_new_name": "python\\dgl\\data\\knowledge_graph.py", "file_complexity": {"file_NLOC": "699", "file_CCN": "51", "file_NToken": "2546"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "467", "deleted_lines": "467", "method_info": {"method_name": "__len__", "method_params": "self", "method_startline": "465", "method_endline": "467", "method_complexity": {"method_NLOC": "3", "method_CCN": "1", "method_NToken": "18", "method_nesting_level": "1"}}}}}}}}