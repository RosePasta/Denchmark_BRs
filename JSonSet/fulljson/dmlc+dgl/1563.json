{"BR": {"BR_id": "1563", "BR_author": "jermainewang", "BRopenT": "2020-05-26T11:46:56Z", "BRcloseT": "2020-06-15T14:00:25Z", "BR_text": {"BRsummary": "DGLHeteroGraph.subgraph crashes when the input is a Tensor object", "BRdescription": "\n <denchmark-h:h2>\ud83d\udc1b Bug</denchmark-h>\n \n DGLHeteroGraph.subgraph crashes when the input is a Tensor object even if the graph is homogeneous.\n The buggy line is \n \n \n dgl/python/dgl/heterograph.py\n \n \n          Line 1944\n       in\n       cc07bd4\n \n \n \n \n \n \n  induced_nodes = [utils.toindex(nodes.get(ntype, []), self._idtype_str) \n \n \n \n \n  . The nodes.get(ntype, []) does not make sense when the input is of tensor type.\n <denchmark-h:h2>To Reproduce</denchmark-h>\n \n Steps to reproduce the behavior:\n Quite easy to reproduce.\n <denchmark-h:h2>Expected behavior</denchmark-h>\n \n Shall not crash\n \t"}, "comments": {}}, "commit": {"commit_id": "3e72c53ae0ecd16ae057aa63e81f0c57f5828fa8", "commit_author": "Quan (Andy) Gan", "commitT": "2020-06-15 22:00:21+08:00", "commit_complexity": {"commit_NLOC": "0.7777777777777778", "commit_CCN": "1.0", "commit_Nprams": "0.8888888888888888"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "python\\dgl\\heterograph.py", "file_new_name": "python\\dgl\\heterograph.py", "file_complexity": {"file_NLOC": "1813", "file_CCN": "351", "file_NToken": "10841"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "1896,1900,1901,1902,1959,1960,1961,1962,1963", "deleted_lines": "1895,1955", "method_info": {"method_name": "subgraph", "method_params": "self,nodes", "method_startline": "1888", "method_endline": "1969", "method_complexity": {"method_NLOC": "11", "method_CCN": "3", "method_NToken": "103", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "1986,1987,1988,2049,2050,2051,2052", "deleted_lines": null, "method_info": {"method_name": "edge_subgraph", "method_params": "self,edges,preserve_nodes", "method_startline": "1971", "method_endline": "2061", "method_complexity": {"method_NLOC": "13", "method_CCN": "4", "method_NToken": "131", "method_nesting_level": "1"}}}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 3, "file_old_name": "tests\\compute\\test_heterograph.py", "file_new_name": "tests\\compute\\test_heterograph.py", "file_complexity": {"file_NLOC": "1384", "file_CCN": "143", "file_NToken": "16954"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "944,945,946,947,948,949,950,951,952,953", "deleted_lines": null, "method_info": {"method_name": "test_subgraph._check_subgraph_single_etype", "method_params": "g,sg", "method_startline": "944", "method_endline": "953", "method_complexity": {"method_NLOC": "10", "method_CCN": "1", "method_NToken": "146", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "901,902,903,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959", "deleted_lines": null, "method_info": {"method_name": "test_subgraph", "method_params": "index_dtype", "method_startline": "899", "method_endline": "1005", "method_complexity": {"method_NLOC": "37", "method_CCN": "2", "method_NToken": "382", "method_nesting_level": "0"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "933,934,935,936,937,938,939,940,941,942", "deleted_lines": null, "method_info": {"method_name": "test_subgraph._check_subgraph_single_ntype", "method_params": "g,sg", "method_startline": "933", "method_endline": "942", "method_complexity": {"method_NLOC": "10", "method_CCN": "1", "method_NToken": "175", "method_nesting_level": "1"}}}}}}}}