{"BR": {"BR_id": "1178", "BR_author": "Nic-Ma", "BRopenT": "2020-11-02T23:53:37Z", "BRcloseT": "2020-11-03T01:38:37Z", "BR_text": {"BRsummary": "CopyItemsd transform can't support tensor from model", "BRdescription": "\n \n Thanks for <denchmark-link:https://github.com/madil90>@madil90</denchmark-link>\n  's bug report,  transform can work on normal  data but can't work on a tensor in graph:\n <denchmark-code>ERROR - Exception: Applying transform <monai.transforms.compose.Compose object at 0x7f0700e9deb8>.\n Traceback (most recent call last):\n   File \"/home/madil/dlmed/code/MONAI/monai/transforms/utils.py\", line 309, in apply_transform\n     return transform(data)\n   File \"/home/madil/dlmed/code/MONAI/monai/transforms/utility/dictionary.py\", line 406, in __call__\n     d[new_key] = copy.deepcopy(d[key])\n   File \"/opt/conda/lib/python3.6/copy.py\", line 161, in deepcopy\n     y = copier(memo)\n   File \"/opt/conda/lib/python3.6/site-packages/torch/tensor.py\", line 38, in __deepcopy__\n     raise RuntimeError(\"Only Tensors created explicitly by the user \"\n RuntimeError: Only Tensors created explicitly by the user (graph leaves) support the deepcopy protocol at the moment\n </denchmark-code>\n \n Need to fix it for post transforms.\n \t"}, "comments": {}}, "commit": {"commit_id": "63bf49269c5ed4269cf3ef40885d6e536bae3d50", "commit_author": "Nic Ma", "commitT": "2020-11-03 01:38:37+00:00", "commit_complexity": {"commit_NLOC": "None", "commit_CCN": "None", "commit_Nprams": "None"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "monai\\transforms\\utility\\dictionary.py", "file_new_name": "monai\\transforms\\utility\\dictionary.py", "file_complexity": {"file_NLOC": "489", "file_CCN": "57", "file_NToken": "2443"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "406,407,408,409", "deleted_lines": "406", "method_info": {"method_name": "__call__", "method_params": "self,data", "method_startline": "396", "method_endline": "410", "method_complexity": {"method_NLOC": "10", "method_CCN": "4", "method_NToken": "93", "method_nesting_level": "1"}}}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "tests\\test_copy_itemsd.py", "file_new_name": "tests\\test_copy_itemsd.py", "file_complexity": {"file_NLOC": "52", "file_CCN": "7", "file_NToken": "838"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "61,62,63,64,65,66,67,68,69,70,71,72", "deleted_lines": null, "method_info": {"method_name": "test_graph_tensor_values", "method_params": "self", "method_startline": "61", "method_endline": "72", "method_complexity": {"method_NLOC": "12", "method_CCN": "2", "method_NToken": "248", "method_nesting_level": "1"}}}}}}}}