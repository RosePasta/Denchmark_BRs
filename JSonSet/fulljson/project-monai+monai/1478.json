{"BR": {"BR_id": "1478", "BR_author": "Nic-Ma", "BRopenT": "2021-01-21T10:18:14Z", "BRcloseT": "2021-01-21T14:11:38Z", "BR_text": {"BRsummary": "TorchScript can't work for AHNet when num_psp=0", "BRdescription": "\n Describe the bug\n When set num_psp=0 in AHNet, can't use TorchScript to export the model:\n <denchmark-code>RuntimeError: \n Module 'AHNet' has no attribute 'psp' :\n   File \"/workspace/data/medical/MONAI/monai/networks/nets/ahnet.py\", line 514\n         d4 = self.dense4(sum4)\n         if self.psp_block_num > 0:\n             psp = self.psp(d4)\n                   ~~~~~~~~ <--- HERE\n             x = torch.cat((psp, d4), dim=1)\n         else:\n </denchmark-code>\n \n \t"}, "comments": {}}, "commit": {"commit_id": "c9d15f116cb338eb377f2541768db850264f9d26", "commit_author": "Nic Ma", "commitT": "2021-01-21 14:11:37+00:00", "commit_complexity": {"commit_NLOC": "None", "commit_CCN": "None", "commit_Nprams": "None"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "monai\\networks\\nets\\ahnet.py", "file_new_name": "monai\\networks\\nets\\ahnet.py", "file_complexity": {"file_NLOC": "454", "file_CCN": "38", "file_NToken": "3847"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "514", "deleted_lines": "513", "method_info": {"method_name": "forward", "method_params": "self,x", "method_startline": "486", "method_endline": "519", "method_complexity": {"method_NLOC": "28", "method_CCN": "3", "method_NToken": "225", "method_nesting_level": "1"}}}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "tests\\test_ahnet.py", "file_new_name": "tests\\test_ahnet.py", "file_complexity": {"file_NLOC": "202", "file_CCN": "9", "file_NToken": "1658"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "194,198,199,200,201", "deleted_lines": null, "method_info": {"method_name": "test_script", "method_params": "self", "method_startline": "193", "method_endline": "201", "method_complexity": {"method_NLOC": "7", "method_CCN": "1", "method_NToken": "79", "method_nesting_level": "1"}}}}}}}}