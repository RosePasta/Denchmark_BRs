{"BR": {"BR_id": "547", "BR_author": "adrianoleal", "BRopenT": "2020-10-13T17:03:09Z", "BRcloseT": "2020-10-14T03:18:30Z", "BR_text": {"BRsummary": "error install photoprism rpi 4 4gb", "BRdescription": "\n Hello everyone.\n I have little general knowledge in the area (docker, docker-compose, etc.), for this reason, I apologize for any lack of knowledge of mine, I only know the basics to run what I want and need, always using the most advanced users.\n I am delighted with the Photoprism project, I discovered it just over 4 days ago.\n The idea is great, congratulations.\n I'm looking to install it on rpi 4 4gb, which is running OVM (openmediavault) docker, docker-compose and portainer.\n I have some containers running well.\n When I try to install photoprism, through docker-compose, I have this output:\n root @ server: / home / pi # docker-compose up\n Creating network \"pi_default\" with the default driver\n Creating pi_watchtower_1 ... done\n Creating pi_photoprism_1 ... done\n Attaching to pi_watchtower_1, pi_photoprism_1\n photoprism_1 | standard_init_linux.go: 211: exec user process caused \"exec format error\"\n watchtower_1 | time = \"2020-10-13T16: 51: 44Z\" level = info msg = \"Starting Watchtower and scheduling first run: 2020-10-13 16:56:44 +0000 UTC m = + 300.086689978\"\n pi_photoprism_1 exited with code 1\n pi_photoprism_1 exited with code 0\n pi_photoprism_1 exited with code 1\n pi_photoprism_1 exited with code 1\n pi_photoprism_1 exited with code 1\n pi_photoprism_1 exited with code 1\n pi_photoprism_1 exited with code 1\n pi_photoprism_1 exited with code 1\n pi_photoprism_1 exited with code 1\n It is the exit table that I have when I try to install something that does not run on the rpi platform (arm64).\n <denchmark-link:https://github.com/photoprism/photoprism/files/5372944/docker-compose.txt>file docker-compose.yml</denchmark-link>\n \n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "adrianoleal", "commentT": "2020-10-13T17:35:44Z", "comment_text": "\n \t\tThanks for reporting this, I suspect the error is related to our new entry file.\n You should try either using Docker to set the user and group like user: \"1000:1000\" or set GID / UID via environment variable. Maybe it doesn't work because you did both?\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "adrianoleal", "commentT": "2020-10-13T20:56:36Z", "comment_text": "\n \t\tJust improved our entrypoint.sh script that runs before Docker starts PhotoPrism.\n UID/GID handling and the exec call have been changed, so it might work. Can you pull our latest image (available in about one hour if the <denchmark-link:https://drone.photoprism.app/photoprism/photoprism/159/1/1>build</denchmark-link>\n  doesn't fail) and then test again?\n Thank you :)\n \t\t"}, "comments_2": {"comment_id": 3, "comment_author": "adrianoleal", "commentT": "2020-10-13T21:25:51Z", "comment_text": "\n \t\tHad to restart the build, but now it seems to work. New image for ARM64 is already available.\n \t\t"}, "comments_3": {"comment_id": 4, "comment_author": "adrianoleal", "commentT": "2020-10-14T00:11:18Z", "comment_text": "\n \t\tGood night.\n I must thank you.\n I will try the new image as soon as possible, I believe tomorrow morning. I'm looking forward to it, because I loved the idea of Photoprism.\n I intend to be peculiar within my limitations. Be it with some amount of money (lately the exchange rate is terrifying for my country's currency, about 6 to 1, lol) but I want to contribute and encourage the development of this project.\n I wish you much success and luck.\n \t\t"}, "comments_4": {"comment_id": 5, "comment_author": "adrianoleal", "commentT": "2020-10-14T03:18:30Z", "comment_text": "\n \t\t\n Had to restart the build, but now it seems to work. New image for ARM64 is already available.\n \n First of all, thank you for the effort and everything.\n I checked everything and made sure everything was correct.\n I copied the \".yml\" file without making any changes.\n After the \"docher-compose up\" command, the installation went smoothly.\n I noticed that Photoprism works.\n Tomorrow I will do a wider, more effective scan with my settings.\n This problem has been successfully resolved.\n Once again, thank you.\n Success.\n \t\t"}, "comments_5": {"comment_id": 6, "comment_author": "adrianoleal", "commentT": "2020-10-14T03:20:35Z", "comment_text": "\n \t\t<denchmark-link:https://user-images.githubusercontent.com/35710061/95939696-ae9c1c80-0daa-11eb-909f-08f4a8012d64.JPG></denchmark-link>\n \n \t\t"}}}, "commit": {"commit_id": "2e31120cdac475f27f78d0d40328029fbbbd0e16", "commit_author": "Michael Mayer", "commitT": "2020-10-13 22:45:27+02:00", "commit_complexity": {"commit_NLOC": "None", "commit_CCN": "None", "commit_Nprams": "None"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "docker\\photoprism\\entrypoint.sh", "file_new_name": "docker\\photoprism\\entrypoint.sh", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "8,9,12", "deleted_lines": "8,9,12"}}}}}}