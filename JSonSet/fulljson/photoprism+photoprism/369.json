{"BR": {"BR_id": "369", "BR_author": "jdhuntington", "BRopenT": "2020-06-28T21:15:56Z", "BRcloseT": "2020-06-30T17:50:41Z", "BR_text": {"BRsummary": "Duplicate key error while importing", "BRdescription": "\n While importing multiple files, I've noticed several errors referencing duplicate keys of the form:\n <denchmark-code>2020-06-28 21:11:55 ERRO photo-keyword: Error 1062: Duplicate entry '3920-351' for key 'PRIMARY'\n </denchmark-code>\n \n Configuration:\n \n Version: 200628-7f94259-Linux-x86_64\n Workers: default\n Backend: mariadb\n \n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "jdhuntington", "commentT": "2020-06-29T09:49:06Z", "comment_text": "\n \t\tThanks for reporting this! Probably not a real issue since keywords should in fact only be indexed once per photo... unique index works as expected.\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "jdhuntington", "commentT": "2020-06-30T17:50:40Z", "comment_text": "\n \t\tClosing this. Please create a new issues if you find a bug!\n \t\t"}}}, "commit": {"commit_id": "1c72f88e8c082f64988c8e5d310b4f81d3105c8d", "commit_author": "Michael Mayer", "commitT": "2020-06-29 13:16:55+02:00", "commit_complexity": {"commit_NLOC": "0.5833333333333334", "commit_CCN": "0.0", "commit_Nprams": "1.0"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "internal\\entity\\photo.go", "file_new_name": "internal\\entity\\photo.go", "file_complexity": {"file_NLOC": "637", "file_CCN": "200", "file_NToken": "5196"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "576,601,637", "deleted_lines": "576,601,637", "method_info": {"method_name": "UpdateTitle", "method_params": "Labels", "method_startline": "560", "method_endline": "641", "method_complexity": {"method_NLOC": "73", "method_CCN": "40", "method_NToken": "970", "method_nesting_level": "0"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "170", "deleted_lines": "170", "method_info": {"method_name": "String", "method_params": "", "method_startline": "162", "method_endline": "174", "method_complexity": {"method_NLOC": "11", "method_CCN": "4", "method_NToken": "68", "method_nesting_level": "0"}}}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "internal\\entity\\photo_keyword.go", "file_new_name": "internal\\entity\\photo_keyword.go", "file_complexity": {"file_NLOC": "27", "file_CCN": "6", "file_NToken": "155"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "36", "deleted_lines": "36", "method_info": {"method_name": "FirstOrCreatePhotoKeyword", "method_params": "PhotoKeyword", "method_startline": "30", "method_endline": "41", "method_complexity": {"method_NLOC": "9", "method_CCN": "3", "method_NToken": "71", "method_nesting_level": "0"}}}}}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "internal\\entity\\photo_label.go", "file_new_name": "internal\\entity\\photo_label.go", "file_complexity": {"file_NLOC": "64", "file_CCN": "13", "file_NToken": "407"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "70", "deleted_lines": "70", "method_info": {"method_name": "FirstOrCreatePhotoLabel", "method_params": "PhotoLabel", "method_startline": "64", "method_endline": "75", "method_complexity": {"method_NLOC": "9", "method_CCN": "3", "method_NToken": "71", "method_nesting_level": "0"}}}}}, "file_3": {"file_change_type": "RENAME", "file_Nmethod": 0, "file_old_name": "internal\\entity\\photo_maintain.go", "file_new_name": "internal\\entity\\photo_optimize.go", "file_complexity": {"file_NLOC": "105", "file_CCN": "36", "file_NToken": "756"}}, "file_4": {"file_change_type": "RENAME", "file_Nmethod": 0, "file_old_name": "internal\\entity\\photo_maintain_test.go", "file_new_name": "internal\\entity\\photo_optimize_test.go", "file_complexity": {"file_NLOC": "54", "file_CCN": "11", "file_NToken": "521"}}, "file_5": {"file_change_type": "MODIFY", "file_Nmethod": 3, "file_old_name": "internal\\meta\\exif.go", "file_new_name": "internal\\meta\\exif.go", "file_complexity": {"file_NLOC": "268", "file_CCN": "94", "file_NToken": "1981"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "39", "deleted_lines": "39", "method_info": {"method_name": "", "method_params": "", "method_startline": "37", "method_endline": "41", "method_complexity": {"method_NLOC": "5", "method_CCN": "2", "method_NToken": "27", "method_nesting_level": "0"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "39,61,62,64,82,84,98,135,294,327,331,334", "deleted_lines": "39,61,62,64,82,84,98,135,294,327,331,334", "method_info": {"method_name": "Exif", "method_params": "string", "method_startline": "36", "method_endline": "351", "method_complexity": {"method_NLOC": "216", "method_CCN": "82", "method_NToken": "1737", "method_nesting_level": "0"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "135", "deleted_lines": "135", "method_info": {"method_name": "", "method_params": "", "method_startline": "113", "method_endline": "146", "method_complexity": {"method_NLOC": "24", "method_CCN": "7", "method_NToken": "146", "method_nesting_level": "0"}}}}}, "file_6": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "internal\\meta\\exif_test.go", "file_new_name": "internal\\meta\\exif_test.go", "file_complexity": {"file_NLOC": "204", "file_CCN": "26", "file_NToken": "2089"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "107", "deleted_lines": "107", "method_info": {"method_name": "", "method_params": "", "method_startline": "100", "method_endline": "108", "method_complexity": {"method_NLOC": "7", "method_CCN": "2", "method_NToken": "44", "method_nesting_level": "0"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "107,222,258,267", "deleted_lines": "107,222,258,267", "method_info": {"method_name": "TestExif", "method_params": "T", "method_startline": "9", "method_endline": "269", "method_complexity": {"method_NLOC": "14", "method_CCN": "1", "method_NToken": "107", "method_nesting_level": "0"}}}}}, "file_7": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "internal\\meta\\gps.go", "file_new_name": "internal\\meta\\gps.go", "file_complexity": {"file_NLOC": "58", "file_CCN": "11", "file_NToken": "362"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "76", "deleted_lines": "76", "method_info": {"method_name": "GpsCoord", "method_params": "string", "method_startline": "68", "method_endline": "80", "method_complexity": {"method_NLOC": "10", "method_CCN": "3", "method_NToken": "45", "method_nesting_level": "0"}}}}}, "file_8": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "internal\\meta\\json.go", "file_new_name": "internal\\meta\\json.go", "file_complexity": {"file_NLOC": "152", "file_CCN": "53", "file_NToken": "1041"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "27,38,45,55,104,130,134", "deleted_lines": "27,38,45,55,104,130,134", "method_info": {"method_name": "JSON", "method_params": "jsonName,string", "method_startline": "24", "method_endline": "194", "method_complexity": {"method_NLOC": "132", "method_CCN": "50", "method_NToken": "970", "method_nesting_level": "0"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "27", "deleted_lines": "27", "method_info": {"method_name": "", "method_params": "", "method_startline": "25", "method_endline": "29", "method_complexity": {"method_NLOC": "5", "method_CCN": "2", "method_NToken": "27", "method_nesting_level": "0"}}}}}, "file_9": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "internal\\meta\\meta.go", "file_new_name": "internal\\meta\\meta.go", "file_complexity": {"file_NLOC": "13", "file_CCN": "2", "file_NToken": "59"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "46", "deleted_lines": "46", "method_info": {"method_name": "init", "method_params": "", "method_startline": "42", "method_endline": "48", "method_complexity": {"method_NLOC": "6", "method_CCN": "2", "method_NToken": "40", "method_nesting_level": "0"}}}}}, "file_10": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "internal\\meta\\xmp.go", "file_new_name": "internal\\meta\\xmp.go", "file_complexity": {"file_NLOC": "43", "file_CCN": "12", "file_NToken": "256"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "21,28", "deleted_lines": "21,28", "method_info": {"method_name": "XMP", "method_params": "string", "method_startline": "18", "method_endline": "60", "method_complexity": {"method_NLOC": "29", "method_CCN": "9", "method_NToken": "195", "method_nesting_level": "0"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "21", "deleted_lines": "21", "method_info": {"method_name": "", "method_params": "", "method_startline": "19", "method_endline": "23", "method_complexity": {"method_NLOC": "5", "method_CCN": "2", "method_NToken": "27", "method_nesting_level": "0"}}}}}, "file_11": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "internal\\photoprism\\location_test.go", "file_new_name": "internal\\photoprism\\location_test.go", "file_complexity": {"file_NLOC": "78", "file_CCN": "16", "file_NToken": "581"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "99", "deleted_lines": "99,101", "method_info": {"method_name": "", "method_params": "", "method_startline": "88", "method_endline": "101", "method_complexity": {"method_NLOC": "10", "method_CCN": "2", "method_NToken": "70", "method_nesting_level": "0"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "99", "deleted_lines": "99,101", "method_info": {"method_name": "TestMediaFile_Location", "method_params": "T", "method_startline": "12", "method_endline": "102", "method_complexity": {"method_NLOC": "6", "method_CCN": "1", "method_NToken": "43", "method_nesting_level": "0"}}}}}, "file_12": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "internal\\workers\\prism.go", "file_new_name": "internal\\workers\\prism.go", "file_complexity": {"file_NLOC": "88", "file_CCN": "22", "file_NToken": "453"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "55", "deleted_lines": "55", "method_info": {"method_name": "", "method_params": "", "method_startline": "51", "method_endline": "57", "method_complexity": {"method_NLOC": "6", "method_CCN": "2", "method_NToken": "32", "method_nesting_level": "0"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "55,59,60,65,77,82,91,92,93,94,95,96,100,108,109", "deleted_lines": "55,74,79,88,92,100,101", "method_info": {"method_name": "Start", "method_params": "", "method_startline": "45", "method_endline": "125", "method_complexity": {"method_NLOC": "53", "method_CCN": "14", "method_NToken": "296", "method_nesting_level": "0"}}}}}}}}