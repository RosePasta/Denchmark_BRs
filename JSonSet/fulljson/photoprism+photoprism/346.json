{"BR": {"BR_id": "346", "BR_author": "uLUViL3gCs", "BRopenT": "2020-06-02T08:38:17Z", "BRcloseT": "2020-06-05T05:05:56Z", "BR_text": {"BRsummary": "Import folder selection not updated according to folder structure on disk", "BRdescription": "\n The import (newly named: copy) function within library section provides the user to choose the folder that the user wants to import.\n After upgrading to PhotoPrism\u2122 200601-716012a-Linux-x86_64, the folders as located in \u201c~/Pictures/Import:/photoprism/import\u201c on disk do not seem to be reflected as a choice to the user.\n The system seems to only show the initial state of folders when a database clean-up (\u2018rm -r storage/*\u2019) is performed.\n Problem not seen with earlier versions.\n The problem could not be resolved following these steps:\n \n logout and login\n enforce browser refresh\n change browser\n \n Steps to reproduce:\n OK:\n \n Clean system, start with fresh system (\u2018rm -r storage/*\u2019)\n Go to Library -> Copy -> Drop/Down menu\n => The folders listed to user are reflecting the status as on disk\n Change folder structure within import folder on disk\n \n NOK\n \n Go to Library -> Copy -> Drop/Down menu\n => The list of selectable folder is still the same as from step 2 and does not update according to changes made on disk\n \n System details:\n PhotoPrism\u2122 200601-716012a-Linux-x86_64\n Chrome 81.0.4044.138 / macOS 10.15.4\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "uLUViL3gCs", "commentT": "2020-06-04T15:45:41Z", "comment_text": "\n \t\tShould be fixed now, disabled caching.\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "uLUViL3gCs", "commentT": "2020-06-05T05:05:56Z", "comment_text": "\n \t\tLooks great, Successfully retested with:\n PhotoPrism\u2122 200604-5b1c0f2-Linux-x86_64\n (Chrome 81.0.4044.138 / macOS 10.15.4)\n Thanks!\n \t\t"}}}, "commit": {"commit_id": "7fb04acd510197f1aef941f23335e279333d3ad3", "commit_author": "Michael Mayer", "commitT": "2020-06-02 16:07:57+02:00", "commit_complexity": {"commit_NLOC": "1.0", "commit_CCN": "1.0", "commit_Nprams": "1.0"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "frontend\\src\\model\\folder.js", "file_new_name": "frontend\\src\\model\\folder.js", "file_complexity": {"file_NLOC": "131", "file_CCN": "30", "file_NToken": "760"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "95,96,97", "deleted_lines": null, "method_info": {"method_name": "findAllUncached", "method_params": "path", "method_startline": "95", "method_endline": "97", "method_complexity": {"method_NLOC": "3", "method_CCN": "1", "method_NToken": "23", "method_nesting_level": "0"}}}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "frontend\\src\\pages\\library.vue", "file_new_name": "frontend\\src\\pages\\library.vue", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "29,33", "deleted_lines": "29,33"}}}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "frontend\\src\\pages\\library\\import.vue", "file_new_name": "frontend\\src\\pages\\library\\import.vue", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "201", "deleted_lines": "201"}}}}}}