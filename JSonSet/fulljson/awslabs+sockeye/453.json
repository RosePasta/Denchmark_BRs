{"BR": {"BR_id": "453", "BR_author": "mjpost", "BRopenT": "2018-06-22T13:41:56Z", "BRcloseT": "2018-09-19T16:55:51Z", "BR_text": {"BRsummary": "pip installs test/ and contrib/ directories", "BRdescription": "\n When installing via pip, it creates a sockeye/ directory (as it should), but also creates our test/ and contrib/ directories, e.g.,\n <denchmark-code>$ ls /usr/local/lib/python3.6/site-packages\n [snip]\n contrib/\n sockeye/\n test/\n </denchmark-code>\n \n Our setup.py script has \"test\" in the ignore list but it is clearly not being ignored. We shouldn't be including these files.\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "mjpost", "commentT": "2018-06-22T14:57:12Z", "comment_text": "\n \t\tthanks for bringing this up! We should make sure to not include the test package and consider renaming contrib to sockeye_contrib as we're otherwise polluting people's site-packages with a very generic package name.\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "mjpost", "commentT": "2018-09-15T16:23:22Z", "comment_text": "\n \t\tFollowing up on this: what would it entail if we rename contrib to sockeye_contrib? We'd need to update the imports from contrib (i.e. sacrebleu), but would it break anything or anyone else?\n \t\t"}, "comments_2": {"comment_id": 3, "comment_author": "mjpost", "commentT": "2018-09-15T23:06:08Z", "comment_text": "\n \t\tAutopilot should be fine with a batch find-and-replace contrib -> sockeye_contrib.\n \t\t"}, "comments_3": {"comment_id": 4, "comment_author": "mjpost", "commentT": "2018-09-16T12:30:08Z", "comment_text": "\n \t\tI don't see any problems, but what's the reason for this change? Just a preference?\n \t\t"}, "comments_4": {"comment_id": 5, "comment_author": "mjpost", "commentT": "2018-09-16T13:32:24Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/mjpost>@mjpost</denchmark-link>\n  the reason is this issue that you created :) installing a generically named package called 'contrib' to users' site-packages doesn't sound like a good idea.\n \t\t"}, "comments_5": {"comment_id": 6, "comment_author": "mjpost", "commentT": "2018-09-17T00:38:48Z", "comment_text": "\n \t\tOh, I see, you\u2019re still installing contrib. Another option would be to remove contrib entirely. I don\u2019t think autopilot needs to be included (you could turn it into its own separate pypi module), and sacrebleu could also be used only via import as a standard external module.\n \t\t"}, "comments_6": {"comment_id": 7, "comment_author": "mjpost", "commentT": "2018-09-17T07:37:50Z", "comment_text": "\n \t\tThere is more things in contrib than autopilot and sacrebleu and if I remember correctly we had talked about a separate install of sacrebleu and concluded that it would make things more complicated.\n If renaming contrib to sockeye_contrib would be an option, I would suggest even go further and just move contrib into sockeye: sockeye.contrib.{autopilot,sacrebleu,rouge,vis_tool}\n This would lead to a single folder created during pip install for users.\n \t\t"}, "comments_7": {"comment_id": 8, "comment_author": "mjpost", "commentT": "2018-09-17T08:47:09Z", "comment_text": "\n \t\twould this work with sacrebleu? Either sockeye_contrib or merging everything into one package sounds good. I think I'd slightly favor keeping a separate folder.\n \t\t"}, "comments_8": {"comment_id": 9, "comment_author": "mjpost", "commentT": "2018-09-18T07:07:29Z", "comment_text": "\n \t\tok, I'll create a PR with the rename to sockeye_contrib\n \t\t"}, "comments_9": {"comment_id": 10, "comment_author": "mjpost", "commentT": "2018-09-18T07:20:07Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/awslabs/sockeye/pull/537>#537</denchmark-link>\n \n \t\t"}, "comments_10": {"comment_id": 11, "comment_author": "mjpost", "commentT": "2018-09-18T14:04:28Z", "comment_text": "\n \t\tSounds good to me.\n \t\t"}}}, "commit": {"commit_id": "3353487d805a111dc3559dead1a3a56303ffe9ae", "commit_author": "Felix Hieber", "commitT": "2018-09-16 15:27:45+02:00", "commit_complexity": {"commit_NLOC": "None", "commit_CCN": "None", "commit_Nprams": "None"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "setup.py", "file_new_name": "setup.py", "file_complexity": {"file_NLOC": "103", "file_CCN": "10", "file_NToken": "561"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "57,111,125", "deleted_lines": "110,124"}}}}}}