{"BR": {"BR_id": "271", "BR_author": "fajwel", "BRopenT": "2018-07-04T10:37:33Z", "BRcloseT": "2018-07-10T08:59:23Z", "BR_text": {"BRsummary": "Using LR scheduler callback prevents from cloning estimator", "BRdescription": "\n kwargs arguments of class LRScheduler are not initialized properly according to scikit learn guidelines, which prevents from cloning an estimator using a LRScheduler callback\n Traceback:\n <denchmark-code>RuntimeError                              Traceback (most recent call last)\n <ipython-input-30-580ab0927662> in <module>()\n ----> 1 clone(clf)\n \n ~/lib/python3.5/site-packages/sklearn/base.py in clone(estimator, safe)\n      60     new_object_params = estimator.get_params(deep=False)\n      61     for name, param in six.iteritems(new_object_params):\n ---> 62         new_object_params[name] = clone(param, safe=False)\n      63     new_object = klass(**new_object_params)\n      64     params_set = new_object.get_params(deep=False)\n \n ~/lib/python3.5/site-packages/sklearn/base.py in clone(estimator, safe)\n      48     # XXX: not handling dictionaries\n      49     if estimator_type in (list, tuple, set, frozenset):\n ---> 50         return estimator_type([clone(e, safe=safe) for e in estimator])\n      51     elif not hasattr(estimator, 'get_params'):\n      52         if not safe:\n \n ~/lib/python3.5/site-packages/sklearn/base.py in <listcomp>(.0)\n      48     # XXX: not handling dictionaries\n      49     if estimator_type in (list, tuple, set, frozenset):\n ---> 50         return estimator_type([clone(e, safe=safe) for e in estimator])\n      51     elif not hasattr(estimator, 'get_params'):\n      52         if not safe:\n \n ~/lib/python3.5/site-packages/sklearn/base.py in clone(estimator, safe)\n     117             raise RuntimeError('Cannot clone object %s, as the constructor '\n     118                                'does not seem to set parameter %s' %\n --> 119                                (estimator, name))\n     120 \n     121     return new_object\n \n RuntimeError: Cannot clone object <skorch.callbacks.lr_scheduler.LRScheduler object at 0x7fdb86328710>, as the constructor does not seem to set parameter kwargs\n </denchmark-code>\n \n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "fajwel", "commentT": "2018-07-04T11:38:29Z", "comment_text": "\n \t\tThank you, <denchmark-link:https://github.com/skorch-dev/skorch/pull/272>#272</denchmark-link>\n  should fix this.\n \t\t"}}}, "commit": {"commit_id": "a4eae21d7409c478a05a571ac67e5f18ec996f19", "commit_author": "Benjamin Bossan", "commitT": "2018-07-10 10:59:22+02:00", "commit_complexity": {"commit_NLOC": "None", "commit_CCN": "None", "commit_Nprams": "None"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "skorch\\callbacks\\lr_scheduler.py", "file_new_name": "skorch\\callbacks\\lr_scheduler.py", "file_complexity": {"file_NLOC": "344", "file_CCN": "49", "file_NToken": "1574"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "89,90,91,92,93,94,95,96", "deleted_lines": null, "method_info": {"method_name": "kwargs", "method_params": "self", "method_startline": "89", "method_endline": "96", "method_complexity": {"method_NLOC": "5", "method_CCN": "4", "method_NToken": "48", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "47", "deleted_lines": "47", "method_info": {"method_name": "__init__", "method_params": "self,policy,monitor,kwargs", "method_startline": "44", "method_endline": "47", "method_complexity": {"method_NLOC": "4", "method_CCN": "1", "method_NToken": "35", "method_nesting_level": "1"}}}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "skorch\\tests\\callbacks\\test_lr_scheduler.py", "file_new_name": "skorch\\tests\\callbacks\\test_lr_scheduler.py", "file_complexity": {"file_NLOC": "357", "file_CCN": "51", "file_NToken": "2838"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "123,124,125,126,127,128,129,130,131,132", "deleted_lines": null, "method_info": {"method_name": "test_lr_scheduler_set_params", "method_params": "self,classifier_module,classifier_data", "method_startline": "123", "method_endline": "132", "method_complexity": {"method_NLOC": "10", "method_CCN": "1", "method_NToken": "74", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "118,119,120,121", "deleted_lines": null, "method_info": {"method_name": "test_lr_scheduler_cloneable", "method_params": "self", "method_startline": "118", "method_endline": "121", "method_complexity": {"method_NLOC": "3", "method_CCN": "1", "method_NToken": "19", "method_nesting_level": "1"}}}}}}}}