{"BR": {"BR_id": "2317", "BR_author": "toadman667", "BRopenT": "2019-11-04T15:21:23Z", "BRcloseT": "2019-11-07T19:25:50Z", "BR_text": {"BRsummary": "tensor.print() shows incorrect ending values for long 'complex64' tensors", "BRdescription": "\n <denchmark-h:h4>TensorFlow.js version</denchmark-h>\n \n 1.3.1\n <denchmark-h:h4>Browser version</denchmark-h>\n \n Safari, Version 13.0.3 (15608.3.10.1.4)\n <denchmark-h:h4>Describe the problem or feature request</denchmark-h>\n \n .print() on a large complex64 tensor returns incorrect results for tail values. In particular, for 1D tensors if the length is N and even, the printed tail values show the values leading up to N/2. If N is odd, the real and imaginary parts also get swapped.\n For example:\n a.print() -> [1, 2, 3, ..., 28, 29, 30]\n b.print() -> [0, 0, 0, ..., 0, 0, 0]\n tf.complex(a,b).print() -> [1 + 0j, 2 + 0j, 3 + 0j, ..., 13 + 0j, 14 + 0j, 15 + 0j]\n a.print() -> [1, 2, 3, ..., 27, 28, 29]\n b.print() -> [0, 0, 0, ..., 0, 0, 0]\n tf.complex(a,b).print() -> [1 + 0j, 2 + 0j, 3 + 0j, ..., 0 + 13j, 0 + 14j, 0 + 15j]\n <denchmark-h:h4>Code to reproduce the bug / link to feature request</denchmark-h>\n \n <denchmark-link:https://codepen.io/toadman667/pen/eYYVGZj>https://codepen.io/toadman667/pen/eYYVGZj</denchmark-link>\n \n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "toadman667", "commentT": "2019-11-04T22:06:23Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/dsmilkov>@dsmilkov</denchmark-link>\n  i was able to reproduce above when N >= 21. I tested in tensorflow core and there seems to be no issue.\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "toadman667", "commentT": "2019-11-07T19:26:10Z", "comment_text": "\n \t\tThanks for reporting this! The fix will go out in the next release.\n \t\t"}}}, "commit": {"commit_id": "fbf536dc884228ba479a3956f61a973ed319e63e", "commit_author": "Nikhil Thorat", "commitT": "2019-11-07 14:25:49-05:00", "commit_complexity": {"commit_NLOC": "0.0", "commit_CCN": "0.9545454545454546", "commit_Nprams": "1.0"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "tfjs-core\\src\\tensor_format.ts", "file_new_name": "tfjs-core\\src\\tensor_format.ts", "file_complexity": {"file_NLOC": "162", "file_CCN": "33", "file_NToken": "1373"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "115,116", "deleted_lines": "115", "method_info": {"method_name": "subTensorToString", "method_params": "DataType,isLast", "method_startline": "90", "method_endline": "188", "method_complexity": {"method_NLOC": "92", "method_CCN": "17", "method_NToken": "711", "method_nesting_level": "0"}}}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "tfjs-core\\src\\tensor_test.ts", "file_new_name": "tfjs-core\\src\\tensor_test.ts", "file_complexity": {"file_NLOC": "1959", "file_CCN": "342", "file_NToken": "21422"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "1940,1941,1942,1949,1950,1951", "deleted_lines": "1940,1947,1948,1949", "method_info": {"method_name": "(anonymous)", "method_params": "", "method_startline": "1938", "method_endline": "1952", "method_complexity": {"method_NLOC": "15", "method_CCN": "1", "method_NToken": "75", "method_nesting_level": "0"}}}}}}}}