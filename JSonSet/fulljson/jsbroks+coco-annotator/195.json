{"BR": {"BR_id": "195", "BR_author": "EMCP", "BRopenT": "2019-04-22T16:56:40Z", "BRcloseT": "2019-04-24T19:59:50Z", "BR_text": {"BRsummary": "v0.10.2 - crash when attempting to get annotations from previous image", "BRdescription": "\n I have a dataset, with an image.  I have previously annotated the prior image... and want to copy those over to the one I am looking at.. I click copy annotation.. clicked \"previous image\" and get a client side error...\n looked at the console to find this\n <denchmark-code>annotator_webclient | [2019-04-22 16:54:22 +0000] [184] [DEBUG] POST /api/image/copy/333/135/annotations\n annotator_webclient | [2019-04-22 16:54:22 +0000] [184] [ERROR] Exception on /api/image/copy/333/135/annotations [POST]\n annotator_webclient | Traceback (most recent call last):\n annotator_webclient |   File \"/usr/local/lib/python3.6/site-packages/flask/app.py\", line 1813, in full_dispatch_request\n annotator_webclient |     rv = self.dispatch_request()\n annotator_webclient |   File \"/usr/local/lib/python3.6/site-packages/flask/app.py\", line 1799, in dispatch_request\n annotator_webclient |     return self.view_functions[rule.endpoint](**req.view_args)\n annotator_webclient |   File \"/usr/local/lib/python3.6/site-packages/flask_restplus/api.py\", line 325, in wrapper\n annotator_webclient |     resp = resource(*args, **kwargs)\n annotator_webclient |   File \"/usr/local/lib/python3.6/site-packages/flask/views.py\", line 88, in view\n annotator_webclient |     return self.dispatch_request(*args, **kwargs)\n annotator_webclient |   File \"/usr/local/lib/python3.6/site-packages/flask_restplus/resource.py\", line 44, in dispatch_request\n annotator_webclient |     resp = meth(*args, **kwargs)\n annotator_webclient |   File \"/usr/local/lib/python3.6/site-packages/flask_login/utils.py\", line 261, in decorated_view\n annotator_webclient |     return func(*args, **kwargs)\n annotator_webclient |   File \"/workspace/webserver/api/images.py\", line 190, in post\n annotator_webclient |     return {'annotations_created': image_to.copy_annotations(query)}\n annotator_webclient |   File \"/workspace/database/images.py\", line 148, in copy_annotations\n annotator_webclient |     clone = annotation.clone()\n annotator_webclient |   File \"/workspace/database/annotations.py\", line 93, in clone\n annotator_webclient |     create = json.loads(self.to_json())\n annotator_webclient | NameError: name 'json' is not defined\n \n </denchmark-code>\n \n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "EMCP", "commentT": "2019-04-22T17:02:38Z", "comment_text": "\n \t\tForgot to import json module\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "EMCP", "commentT": "2019-04-22T17:06:01Z", "comment_text": "\n \t\tif and when I upgrade to a latest release of this, is the database and my work preserved.. I think I will do 1 export soon of 600 images.. using v0.10.2 .. but wondering if it's safe to upgrade and just continue working.. I guess technically since it's able to import/export.. I can export all my current work, then try importing into latest release\n \t\t"}, "comments_2": {"comment_id": 3, "comment_author": "EMCP", "commentT": "2019-04-22T17:14:22Z", "comment_text": "\n \t\tAlways when upgrading create an export of your annotations! I would also look into backing up the database as well (you can never be to safe). You can also revert to the older version since everything is tagged.\n If a version release will cause incompatibility a note will be made in the release information, but I do not extensively test every update to say for sure.\n \t\t"}}}, "commit": {"commit_id": "8f336177c987bfd9d17620f95fc055c5a3b0e289", "commit_author": "Justin Brooks", "commitT": "2019-04-22 13:02:12-04:00", "commit_complexity": {"commit_NLOC": "None", "commit_CCN": "None", "commit_Nprams": "None"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "backend\\database\\annotations.py", "file_new_name": "backend\\database\\annotations.py", "file_complexity": {"file_NLOC": "83", "file_CCN": "17", "file_NToken": "625"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "2,121", "deleted_lines": "120"}}}}}}