{"BR": {"BR_id": "544", "BR_author": "guillaumekln", "BRopenT": "2019-11-07T13:44:04Z", "BRcloseT": "2019-11-07T16:43:53Z", "BR_text": {"BRsummary": "Possible error when training on a finite dataset with multiple GPU", "BRdescription": "\n When the total number of batches is not a multiple of the number of replicas (finite dataset), the training can stop with an error because some replicas receive an empty batch.\n This error can happen on master, or on v2.2.0 when TensorFlow fails to use batch splitting approach to feed the replicas.\n \t"}, "comments": {}}, "commit": {"commit_id": "a533917529822f9ccea0b32b8b94be34b12c002b", "commit_author": "Guillaume Klein", "commitT": "2019-11-07 17:43:52+01:00", "commit_complexity": {"commit_NLOC": "0.047619047619047616", "commit_CCN": "1.0", "commit_Nprams": "1.0"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "opennmt\\tests\\runner_test.py", "file_new_name": "opennmt\\tests\\runner_test.py", "file_complexity": {"file_NLOC": "221", "file_CCN": "13", "file_NToken": "1575"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "114,115", "deleted_lines": "114", "method_info": {"method_name": "testTrainDistribute", "method_params": "self", "method_startline": "94", "method_endline": "119", "method_complexity": {"method_NLOC": "25", "method_CCN": "1", "method_NToken": "127", "method_nesting_level": "1"}}}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 3, "file_old_name": "opennmt\\training.py", "file_new_name": "opennmt\\training.py", "file_complexity": {"file_NLOC": "189", "file_CCN": "23", "file_NToken": "1473"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159", "deleted_lines": "126,127,129,130,131,132,133,134,150", "method_info": {"method_name": "_forward", "method_params": "next_fn", "method_startline": "118", "method_endline": "159", "method_complexity": {"method_NLOC": "19", "method_CCN": "1", "method_NToken": "174", "method_nesting_level": "2"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "138,139,140,141,142,143,144,145", "deleted_lines": null, "method_info": {"method_name": "_forward._skip", "method_params": "", "method_startline": "138", "method_endline": "145", "method_complexity": {"method_NLOC": "8", "method_CCN": "3", "method_NToken": "72", "method_nesting_level": "5"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "127,128,129,130,131,132,133,134,135,136", "deleted_lines": "127,129,130,131,132,133,134", "method_info": {"method_name": "_forward._run", "method_params": "", "method_startline": "127", "method_endline": "136", "method_complexity": {"method_NLOC": "8", "method_CCN": "2", "method_NToken": "85", "method_nesting_level": "5"}}}}}}}}