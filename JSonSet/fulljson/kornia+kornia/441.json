{"BR": {"BR_id": "441", "BR_author": "lferraz", "BRopenT": "2020-02-06T10:29:53Z", "BRcloseT": "2020-03-26T15:00:23Z", "BR_text": {"BRsummary": "[BUG] image_to_tensor() changes the image datatype to float", "BRdescription": "\n e.g. if I have a uint8 numpy image and I apply the method it returns a float tensor.\n I consider these kind of changes shouldn't be done or at least they should be clearly noted in the docstring.\n Another issue with this is the speed, datatype changes are not for free, and in my case means that using image_to_tensor there are two unnecessary dtype conversions (unit8->float->uint8)\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "lferraz", "commentT": "2020-03-26T15:00:22Z", "comment_text": "\n \t\tsolved here <denchmark-link:https://github.com/kornia/kornia/pull/497>#497</denchmark-link>\n \n \t\t"}}}, "commit": {"commit_id": "51572b6d19e316766bb895a10c1c5450af0f5d2f", "commit_author": "Edgar Riba", "commitT": "2020-03-26 15:09:21+01:00", "commit_complexity": {"commit_NLOC": "None", "commit_CCN": "None", "commit_Nprams": "None"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "kornia\\utils\\image.py", "file_new_name": "kornia\\utils\\image.py", "file_complexity": {"file_NLOC": "76", "file_CCN": "19", "file_NToken": "418"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "34", "deleted_lines": "34", "method_info": {"method_name": "image_to_tensor", "method_params": "ndarray,bool", "method_startline": "8", "method_endline": "50", "method_complexity": {"method_NLOC": "35", "method_CCN": "9", "method_NToken": "201", "method_nesting_level": "0"}}}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "test\\utils\\test_image.py", "file_new_name": "test\\utils\\test_image.py", "file_complexity": {"file_NLOC": "50", "file_CCN": "4", "file_NToken": "626"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "14,15,16,17", "deleted_lines": null, "method_info": {"method_name": "test_image_to_tensor_keep_dtype", "method_params": "input_dtype,expected_dtype", "method_startline": "14", "method_endline": "17", "method_complexity": {"method_NLOC": "4", "method_CCN": "1", "method_NToken": "41", "method_nesting_level": "0"}}}}}}}}