{"BR": {"BR_id": "1133", "BR_author": "vfdev-5", "BRopenT": "2020-06-16T16:22:38Z", "BRcloseT": "2020-07-22T17:56:41Z", "BR_text": {"BRsummary": "Inspect warnings from Visdom that make CI flaky", "BRdescription": "\n <denchmark-h:h2>\ud83d\udc1b Bug description</denchmark-h>\n \n LR finder catch errors from Visdom server and thus fails.\n <denchmark-code>tests/ignite/contrib/handlers/test_lr_finder.py:202: AssertionError\n \n ------------------------------ Captured log call -------------------------------\n \n ERROR    visdom:__init__.py:619 [Errno 111] Connection refused\n ERROR    visdom:__init__.py:619 [Errno 111] Connection refused\n </denchmark-code>\n \n <denchmark-link:https://travis-ci.org/github/pytorch/ignite/jobs/698932904#L3758>https://travis-ci.org/github/pytorch/ignite/jobs/698932904#L3758</denchmark-link>\n \n Need to inspect and fix that.\n <denchmark-h:h2>Environment</denchmark-h>\n \n \n PyTorch Version (e.g., 1.4):\n Ignite Version (e.g., 0.3.0):\n OS (e.g., Linux):\n How you installed Ignite (conda, pip, source):\n Python version:\n Any other relevant information:\n \n \t"}, "comments": {}}, "commit": {"commit_id": "585236f8abf5d6f8d85abf4335eeac018cd0a7e0", "commit_author": "Sylvain Desroziers", "commitT": "2020-07-22 19:56:40+02:00", "commit_complexity": {"commit_NLOC": "0.0", "commit_CCN": "1.0", "commit_Nprams": "1.0"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 3, "file_old_name": "ignite\\contrib\\handlers\\visdom_logger.py", "file_new_name": "ignite\\contrib\\handlers\\visdom_logger.py", "file_complexity": {"file_NLOC": "457", "file_CCN": "53", "file_NToken": "1467"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "457,494,496,498", "deleted_lines": "457,494,496,498", "method_info": {"method_name": "__init__", "method_params": "self,server,port,num_workers,kwargs", "method_startline": "457", "method_endline": "505", "method_complexity": {"method_NLOC": "37", "method_CCN": "10", "method_NToken": "208", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "457,494,496,498", "deleted_lines": "457,494,496,498", "method_info": {"method_name": "__init__", "method_params": "self,server,port,num_workers,raise_exceptions,kwargs", "method_startline": "457", "method_endline": "505", "method_complexity": {"method_NLOC": "37", "method_CCN": "11", "method_NToken": "222", "method_nesting_level": "1"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "512", "deleted_lines": "511", "method_info": {"method_name": "close", "method_params": "self", "method_startline": "510", "method_endline": "512", "method_complexity": {"method_NLOC": "3", "method_CCN": "1", "method_NToken": "17", "method_nesting_level": "1"}}}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 3, "file_old_name": "tests\\ignite\\contrib\\conftest.py", "file_new_name": "tests\\ignite\\contrib\\conftest.py", "file_complexity": {"file_NLOC": "39", "file_CCN": "5", "file_NToken": "201"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "56,57,58,59,60,62,63", "deleted_lines": null, "method_info": {"method_name": "visdom_server_stop", "method_params": "", "method_startline": "56", "method_endline": "63", "method_complexity": {"method_NLOC": "5", "method_CCN": "1", "method_NToken": "19", "method_nesting_level": "0"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "21,22,23,24,25,26,27,28,29,30,31,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52", "deleted_lines": "21", "method_info": {"method_name": "visdom_server", "method_params": "", "method_startline": "21", "method_endline": "52", "method_complexity": {"method_NLOC": "22", "method_CCN": "3", "method_NToken": "127", "method_nesting_level": "0"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "7,11,12", "deleted_lines": "8,9,10,12", "method_info": {"method_name": "visdom_offline_logfile", "method_params": "dirname", "method_startline": "7", "method_endline": "12", "method_complexity": {"method_NLOC": "4", "method_CCN": "1", "method_NToken": "21", "method_nesting_level": "0"}}}}}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "tests\\ignite\\contrib\\engines\\test_common.py", "file_new_name": "tests\\ignite\\contrib\\engines\\test_common.py", "file_complexity": {"file_NLOC": "445", "file_CCN": "38", "file_NToken": "3633"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "406,409,419", "deleted_lines": "406,409,419", "method_info": {"method_name": "test_setup_visdom_logging", "method_params": "visdom_offline_logfile", "method_startline": "406", "method_endline": "425", "method_complexity": {"method_NLOC": "19", "method_CCN": "1", "method_NToken": "105", "method_nesting_level": "0"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "406,409,419", "deleted_lines": "406,409,419", "method_info": {"method_name": "test_setup_visdom_logging", "method_params": "visdom_server", "method_startline": "406", "method_endline": "425", "method_complexity": {"method_NLOC": "19", "method_CCN": "1", "method_NToken": "123", "method_nesting_level": "0"}}}}}, "file_3": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "tests\\ignite\\contrib\\handlers\\test_lr_finder.py", "file_new_name": "tests\\ignite\\contrib\\handlers\\test_lr_finder.py", "file_complexity": {"file_NLOC": "156", "file_CCN": "29", "file_NToken": "1462"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "202,204,208", "deleted_lines": "202,204,205,206", "method_info": {"method_name": "test_detach_terminates", "method_params": "lr_finder,to_save,dummy_engine,dataloader,recwarn", "method_startline": "202", "method_endline": "208", "method_complexity": {"method_NLOC": "6", "method_CCN": "1", "method_NToken": "64", "method_nesting_level": "0"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "202,204,208", "deleted_lines": "202,204,205,206", "method_info": {"method_name": "test_detach_terminates", "method_params": "lr_finder,to_save,dummy_engine,dataloader", "method_startline": "202", "method_endline": "209", "method_complexity": {"method_NLOC": "7", "method_CCN": "1", "method_NToken": "72", "method_nesting_level": "0"}}}}}, "file_4": {"file_change_type": "MODIFY", "file_Nmethod": 6, "file_old_name": "tests\\ignite\\contrib\\handlers\\test_visdom_logger.py", "file_new_name": "tests\\ignite\\contrib\\handlers\\test_visdom_logger.py", "file_complexity": {"file_NLOC": "768", "file_CCN": "71", "file_NToken": "5919"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "800", "deleted_lines": null, "method_info": {"method_name": "test_logger_init_hostname_port", "method_params": "visdom_server", "method_startline": "796", "method_endline": "800", "method_complexity": {"method_NLOC": "4", "method_CCN": "1", "method_NToken": "42", "method_nesting_level": "0"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "791,792", "deleted_lines": "791,792", "method_info": {"method_name": "test_integration_no_server", "method_params": "", "method_startline": "789", "method_endline": "792", "method_complexity": {"method_NLOC": "3", "method_CCN": "1", "method_NToken": "19", "method_nesting_level": "0"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "854", "deleted_lines": null, "method_info": {"method_name": "test_integration_no_executor", "method_params": "visdom_server", "method_startline": "822", "method_endline": "854", "method_complexity": {"method_NLOC": "24", "method_CCN": "5", "method_NToken": "269", "method_nesting_level": "0"}}}, "hunk_3": {"Ismethod": 1, "added_lines": "895", "deleted_lines": "895", "method_info": {"method_name": "test_integration_with_executor_as_context_manager", "method_params": "visdom_server,visdom_server_stop", "method_startline": "895", "method_endline": "927", "method_complexity": {"method_NLOC": "23", "method_CCN": "5", "method_NToken": "268", "method_nesting_level": "0"}}}, "hunk_4": {"Ismethod": 1, "added_lines": "812", "deleted_lines": null, "method_info": {"method_name": "test_logger_init_env_vars", "method_params": "visdom_server", "method_startline": "804", "method_endline": "812", "method_complexity": {"method_NLOC": "7", "method_CCN": "1", "method_NToken": "69", "method_nesting_level": "0"}}}, "hunk_5": {"Ismethod": 1, "added_lines": "895", "deleted_lines": "895", "method_info": {"method_name": "test_integration_with_executor_as_context_manager", "method_params": "visdom_server", "method_startline": "895", "method_endline": "927", "method_complexity": {"method_NLOC": "23", "method_CCN": "5", "method_NToken": "266", "method_nesting_level": "0"}}}}}}}}