{"BR": {"BR_id": "1249", "BR_author": "vfdev-5", "BRopenT": "2020-08-26T09:53:51Z", "BRcloseT": "2020-09-15T10:53:19Z", "BR_text": {"BRsummary": "CycleGAN notebook is broken with updated ParamGroupScheduler", "BRdescription": "\n \n \n \n ignite/ignite/contrib/handlers/param_scheduler.py\n \n \n          Line 960\n       in\n       c2c4a36\n \n \n \n \n \n \n  raise ValueError(\"schedulers should be related to same optimizer\") \n \n \n \n \n \n <denchmark-link:https://github.com/sdesrozis>@sdesrozis</denchmark-link>\n  above code brakes our cycle gan notebook where we do\n gen_lr_scheduler = PiecewiseLinear(optimizer_D, param_name='lr', milestones_values=milestones_values)\n desc_lr_scheduler = PiecewiseLinear(optimizer_G, param_name='lr', milestones_values=milestones_values)\n \n lr_scheduler = ParamGroupScheduler([gen_lr_scheduler, desc_lr_scheduler], \n                                    names=['gen_lr_scheduler', 'desc_lr_scheduler'])\n Can we simply remove that check ?\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "vfdev-5", "commentT": "2020-08-27T14:30:46Z", "comment_text": "\n \t\tOk, I didn't add this usecase in mind.\n It need more fixes than simply remove the test\n \n \n \n ignite/ignite/contrib/handlers/param_scheduler.py\n \n \n          Line 1047\n       in\n       c2c4a36\n \n \n \n \n \n \n  objs[\"optimizer\"] = schedulers[0].optimizer.state_dict() \n \n \n \n \n \n I do it and I add a test\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "vfdev-5", "commentT": "2020-08-27T14:37:59Z", "comment_text": "\n \t\tThanks, Sylvain !\n \t\t"}}}, "commit": {"commit_id": "b6c96a0b09537c71a3e49e9f20ee21d22fe570b3", "commit_author": "Sylvain Desroziers", "commitT": "2020-09-15 12:53:18+02:00", "commit_complexity": {"commit_NLOC": "0.0", "commit_CCN": "0.30434782608695654", "commit_Nprams": "0.30434782608695654"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 9, "file_old_name": "ignite\\contrib\\handlers\\param_scheduler.py", "file_new_name": "ignite\\contrib\\handlers\\param_scheduler.py", "file_complexity": {"file_NLOC": "807", "file_CCN": "152", "file_NToken": "4124"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "1011,1012", "deleted_lines": "984,985,986,987,992,1007,1008,1009", "method_info": {"method_name": "__init__", "method_params": "self,None,save_history", "method_startline": "981", "method_endline": "1012", "method_complexity": {"method_NLOC": "23", "method_CCN": "13", "method_NToken": "217", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "1019,1020", "deleted_lines": null, "method_info": {"method_name": "optimizer_param_groups", "method_params": "self", "method_startline": "1019", "method_endline": "1020", "method_complexity": {"method_NLOC": "2", "method_CCN": "3", "method_NToken": "21", "method_nesting_level": "1"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "666", "deleted_lines": null, "method_info": {"method_name": "__init__", "method_params": "self,lr_scheduler,save_history", "method_startline": "666", "method_endline": "680", "method_complexity": {"method_NLOC": "13", "method_CCN": "2", "method_NToken": "72", "method_nesting_level": "1"}}}, "hunk_3": {"Ismethod": 1, "added_lines": "1101", "deleted_lines": "1080", "method_info": {"method_name": "simulate_values", "method_params": "cls,num_events,schedulers,kwargs", "method_startline": "1075", "method_endline": "1110", "method_complexity": {"method_NLOC": "17", "method_CCN": "5", "method_NToken": "183", "method_nesting_level": "1"}}}, "hunk_4": {"Ismethod": 1, "added_lines": "463,472,473,474,475,476,477,480,481,482,483,484,485,486,487,492,493,494", "deleted_lines": "462,471,472,479", "method_info": {"method_name": "__init__", "method_params": "self,schedulers,durations,save_history", "method_startline": "439", "method_endline": "500", "method_complexity": {"method_NLOC": "47", "method_CCN": "19", "method_NToken": "391", "method_nesting_level": "1"}}}, "hunk_5": {"Ismethod": 1, "added_lines": null, "deleted_lines": "1007,1008", "method_info": {"method_name": "get_param", "method_params": "self", "method_startline": "1007", "method_endline": "1008", "method_complexity": {"method_NLOC": "2", "method_CCN": "2", "method_NToken": "29", "method_nesting_level": "1"}}}, "hunk_6": {"Ismethod": 1, "added_lines": null, "deleted_lines": "643", "method_info": {"method_name": "__init__", "method_params": "self,lr_scheduler,save_history,kwargs", "method_startline": "643", "method_endline": "657", "method_complexity": {"method_NLOC": "13", "method_CCN": "2", "method_NToken": "75", "method_nesting_level": "1"}}}, "hunk_7": {"Ismethod": 1, "added_lines": "597,598,599,600,601,602,603,604,605,606,614,637", "deleted_lines": "591,614", "method_info": {"method_name": "simulate_values", "method_params": "cls,num_events,schedulers,durations,param_names,kwargs", "method_startline": "575", "method_endline": "639", "method_complexity": {"method_NLOC": "38", "method_CCN": "16", "method_NToken": "353", "method_nesting_level": "1"}}}, "hunk_8": {"Ismethod": 1, "added_lines": null, "deleted_lines": "533,534", "method_info": {"method_name": "_setup_scheduler", "method_params": "self", "method_startline": "528", "method_endline": "534", "method_complexity": {"method_NLOC": "7", "method_CCN": "2", "method_NToken": "63", "method_nesting_level": "1"}}}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 10, "file_old_name": "tests\\ignite\\contrib\\handlers\\test_param_scheduler.py", "file_new_name": "tests\\ignite\\contrib\\handlers\\test_param_scheduler.py", "file_complexity": {"file_NLOC": "978", "file_CCN": "97", "file_NToken": "8645"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "825", "deleted_lines": "817,818", "method_info": {"method_name": "test_simulate_and_plot_values", "method_params": "", "method_startline": "814", "method_endline": "902", "method_complexity": {"method_NLOC": "29", "method_CCN": "1", "method_NToken": "391", "method_nesting_level": "0"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "825", "deleted_lines": null, "method_info": {"method_name": "test_simulate_and_plot_values._test", "method_params": "scheduler_cls,scheduler_kwargs", "method_startline": "820", "method_endline": "864", "method_complexity": {"method_NLOC": "25", "method_CCN": "5", "method_NToken": "181", "method_nesting_level": "1"}}}, "hunk_2": {"Ismethod": 1, "added_lines": null, "deleted_lines": "1179,1180", "method_info": {"method_name": "test_param_group_scheduler.test_param_group_scheduler._test.save_lr", "method_params": "engine", "method_startline": "1179", "method_endline": "1180", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "31", "method_nesting_level": "2"}}}, "hunk_3": {"Ismethod": 1, "added_lines": "1169,1184,1186,1204,1205,1206,1207,1208,1209,1210,1211,1212,1213,1214,1215,1216,1217,1218,1219,1220,1221", "deleted_lines": "1169,1178,1179,1180,1181,1206", "method_info": {"method_name": "test_param_group_scheduler", "method_params": "", "method_startline": "1168", "method_endline": "1221", "method_complexity": {"method_NLOC": "21", "method_CCN": "1", "method_NToken": "264", "method_nesting_level": "0"}}}, "hunk_4": {"Ismethod": 1, "added_lines": "1169,1184,1186", "deleted_lines": "1169,1178,1179,1180,1181", "method_info": {"method_name": "test_param_group_scheduler._test", "method_params": "lr_schedulers,save_lr", "method_startline": "1169", "method_endline": "1192", "method_complexity": {"method_NLOC": "18", "method_CCN": "9", "method_NToken": "218", "method_nesting_level": "1"}}}, "hunk_5": {"Ismethod": 1, "added_lines": "1205,1206", "deleted_lines": "1206", "method_info": {"method_name": "test_param_group_scheduler.save_lr_one_optimizer", "method_params": "engine,lrs", "method_startline": "1205", "method_endline": "1206", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "33", "method_nesting_level": "1"}}}, "hunk_6": {"Ismethod": 1, "added_lines": "1218,1219", "deleted_lines": null, "method_info": {"method_name": "test_param_group_scheduler.save_lr_mutliple_optimizers", "method_params": "engine,lrs", "method_startline": "1218", "method_endline": "1219", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "33", "method_nesting_level": "1"}}}, "hunk_7": {"Ismethod": 1, "added_lines": "1169,1184,1186", "deleted_lines": "1169,1178,1179,1180,1181", "method_info": {"method_name": "test_param_group_scheduler._test", "method_params": "lr_schedulers,optimizer", "method_startline": "1169", "method_endline": "1194", "method_complexity": {"method_NLOC": "18", "method_CCN": "9", "method_NToken": "207", "method_nesting_level": "1"}}}, "hunk_8": {"Ismethod": 1, "added_lines": "342,343,344,345,346,347,348", "deleted_lines": null, "method_info": {"method_name": "test_concat_scheduler_asserts", "method_params": "", "method_startline": "297", "method_endline": "348", "method_complexity": {"method_NLOC": "36", "method_CCN": "1", "method_NToken": "512", "method_nesting_level": "0"}}}, "hunk_9": {"Ismethod": 1, "added_lines": null, "deleted_lines": "1160,1161,1162,1163,1164,1165", "method_info": {"method_name": "test_param_group_scheduler_asserts", "method_params": "", "method_startline": "1114", "method_endline": "1165", "method_complexity": {"method_NLOC": "39", "method_CCN": "1", "method_NToken": "518", "method_nesting_level": "0"}}}}}}}}