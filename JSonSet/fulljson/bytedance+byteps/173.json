{"BR": {"BR_id": "173", "BR_author": "eric-haibin-lin", "BRopenT": "2019-12-10T01:14:14Z", "BRcloseT": "2019-12-12T07:22:20Z", "BR_text": {"BRsummary": "undefined symbol during import", "BRdescription": "\n \n BytePS version: <denchmark-link:https://github.com/bytedance/byteps/commit/3ef385ae3bba981f88f8907490a1d25d57c408f3>3ef385a</denchmark-link>\n \n To Reproduce\n Steps to reproduce the behavior:\n \n See error below\n \n Expected behavior\n A clear and concise description of what you expected to happen.\n Screenshots\n If applicable, add screenshots to help explain your problem.\n Environment (please complete the following information):\n \n OS: Linux\n GCC version: gcc (Ubuntu 4.9.3-13ubuntu2) 4.9.3\n CUDA and NCCL version: Cuda compilation tools, release 10.0, V10.0.130\n Framework (TF, PyTorch, MXNet): mxnet-cu100     1.6.0b20191102\n \n Additional context\n <denchmark-code>root@efa48d493056:/# python3 -c 'import byteps.mxnet'\n Traceback (most recent call last):\n   File \"<string>\", line 1, in <module>\n   File \"/usr/local/lib/python3.5/dist-packages/byteps/mxnet/__init__.py\", line 25, in <module>\n     from byteps.mxnet.ops import byteps_push_pull, byteps_declare_tensor\n   File \"/usr/local/lib/python3.5/dist-packages/byteps/mxnet/ops.py\", line 30, in <module>\n     _basics = _BytePSBasics(__file__, 'c_lib')\n   File \"/usr/local/lib/python3.5/dist-packages/byteps/common/__init__.py\", line 57, in __init__\n     self.C_LIB_CTYPES = ctypes.CDLL(full_path, mode=ctypes.RTLD_GLOBAL)\n   File \"/usr/lib/python3.5/ctypes/__init__.py\", line 347, in __init__\n     self._handle = _dlopen(self._name, mode)\n OSError: /usr/local/lib/python3.5/dist-packages/byteps/mxnet/c_lib.cpython-35m-x86_64-linux-gnu.so: undefined symbol: _ZN5mxnet7Storage13_GetSharedRefEv\n \n </denchmark-code>\n \n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "eric-haibin-lin", "commentT": "2019-12-10T07:41:13Z", "comment_text": "\n \t\tThanks Haibin. For other's reference, MXNet 1.6 breaks the current BytePS build. It'll be fixed by Haibin's PR.\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "eric-haibin-lin", "commentT": "2019-12-12T07:22:20Z", "comment_text": "\n \t\tMerged. Thanks for the contribution!\n \t\t"}}}, "commit": {"commit_id": "1bb3352a0e956cec3cf49ab4f4d172bb965146d8", "commit_author": "Haibin Lin", "commitT": "2019-12-12 13:37:09+08:00", "commit_complexity": {"commit_NLOC": "None", "commit_CCN": "None", "commit_Nprams": "None"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "byteps\\mxnet\\ops.cc", "file_new_name": "byteps\\mxnet\\ops.cc", "file_complexity": {"file_NLOC": "95", "file_CCN": "11", "file_NToken": "673"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "31", "deleted_lines": "31"}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "byteps\\mxnet\\tensor_util.cc", "file_new_name": "byteps\\mxnet\\tensor_util.cc", "file_complexity": {"file_NLOC": "116", "file_CCN": "36", "file_NToken": "806"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "125,126,128,129,131,132", "deleted_lines": "126,127,128,129,130,131", "method_info": {"method_name": "byteps::mxnet::TensorUtil::New", "method_params": "device,dtype", "method_startline": "124", "method_endline": "133", "method_complexity": {"method_NLOC": "10", "method_CCN": "2", "method_NToken": "68", "method_nesting_level": "2"}}}}}}}}