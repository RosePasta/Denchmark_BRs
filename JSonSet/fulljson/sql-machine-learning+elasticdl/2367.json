{"BR": {"BR_id": "2367", "BR_author": "workingloong", "BRopenT": "2020-11-20T14:57:04Z", "BRcloseT": "2020-11-21T00:47:53Z", "BR_text": {"BRsummary": "The gradient indices of embedding is not original inputs", "BRdescription": "\n The IndexedSlice.indices is not the input ids but the indices of tf.unique(ids)\n \n \n \n elasticdl/elasticdl/python/worker/ps_trainer.py\n \n \n         Lines 262 to 265\n       in\n       83b37c0\n \n \n \n \n \n \n  grad = Tensor( \n \n \n \n  name, \n \n \n \n  edl_embedding_grads[i + bet_number].values.numpy(), \n \n \n \n  edl_embedding_grads[i + bet_number].indices.numpy(), \n \n \n \n \n \n \t"}, "comments": {}}, "commit": {"commit_id": "09ce505b06b86ea9335e8ff13bc1a2e774bcd195", "commit_author": "Qinlong Wang", "commitT": "2020-11-21 08:47:52+08:00", "commit_complexity": {"commit_NLOC": "None", "commit_CCN": "None", "commit_Nprams": "None"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "elasticdl\\python\\worker\\ps_trainer.py", "file_new_name": "elasticdl\\python\\worker\\ps_trainer.py", "file_complexity": {"file_NLOC": "327", "file_CCN": "90", "file_NToken": "1994"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "265", "deleted_lines": "265", "method_info": {"method_name": "_report_gradient", "method_params": "self,gradients", "method_startline": "239", "method_endline": "280", "method_complexity": {"method_NLOC": "40", "method_CCN": "7", "method_NToken": "269", "method_nesting_level": "1"}}}}}}}}