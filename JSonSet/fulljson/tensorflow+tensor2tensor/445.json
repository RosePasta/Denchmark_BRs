{"BR": {"BR_id": "445", "BR_author": "zyshin", "BRopenT": "2017-11-27T20:22:42Z", "BRcloseT": "2017-12-19T01:46:23Z", "BR_text": {"BRsummary": "`translate_enzh_wmt8k` dev data path error", "BRdescription": "\n <denchmark-code>> t2t-datagen \\\n >   --data_dir=$DATA_DIR \\\n >   --tmp_dir=$TMP_DIR \\\n >   --problem=$PROBLEM\n INFO:tensorflow:Generating problems:\n     translate:\n       * translate_enzh_wmt8k\n INFO:tensorflow:Generating data for translate_enzh_wmt8k.\n INFO:tensorflow:Found vocab file: /home/translate/t2t_data/vocab.enzh-en.8192\n INFO:tensorflow:Found vocab file: /home/translate/t2t_data/vocab.enzh-zh.8192\n INFO:tensorflow:Not downloading, file already found: /tmp/t2t_datagen/training-parallel-nc-v12.tgz\n INFO:tensorflow:Found vocab file: /home/translate/t2t_data/vocab.enzh-en.8192\n INFO:tensorflow:Found vocab file: /home/translate/t2t_data/vocab.enzh-zh.8192\n INFO:tensorflow:Not downloading, file already found: /tmp/t2t_datagen/dev.tgz\n Traceback (most recent call last):\n   File \"/home/translate/env/bin/t2t-datagen\", line 212, in <module>\n     tf.app.run()\n   File \"/home/translate/env/lib/python3.5/site-packages/tensorflow/python/platform/app.py\", line 48, in run\n     _sys.exit(main(_sys.argv[:1] + flags_passthrough))\n   File \"/home/translate/env/bin/t2t-datagen\", line 178, in main\n     generate_data_for_registered_problem(problem)\n   File \"/home/translate/env/bin/t2t-datagen\", line 208, in generate_data_for_registered_problem\n     task_id=task_id)\n   File \"/home/translate/env/lib/python3.5/site-packages/tensor2tensor/data_generators/problem.py\", line 638, in generate_data\n     self.generator(data_dir, tmp_dir, False), dev_paths)\n   File \"/home/translate/env/lib/python3.5/site-packages/tensor2tensor/data_generators/translate_enzh.py\", line 88, in generator\n     \"wmt_enzh_tok_%s\" % tag)\n   File \"/home/translate/env/lib/python3.5/site-packages/tensor2tensor/data_generators/translate.py\", line 246, in compile_data\n     line1, line2 = lang1_file.readline(), lang2_file.readline()\n   File \"/home/translate/env/lib/python3.5/site-packages/tensorflow/python/lib/io/file_io.py\", line 177, in readline\n     self._preread_check()\n   File \"/home/translate/env/lib/python3.5/site-packages/tensorflow/python/lib/io/file_io.py\", line 79, in _preread_check\n     compat.as_bytes(self.__name), 1024 * 512, status)\n   File \"/home/translate/env/lib/python3.5/site-packages/tensorflow/python/framework/errors_impl.py\", line 473, in __exit__\n     c_api.TF_GetCode(self.status.status))\n tensorflow.python.framework.errors_impl.NotFoundError: /tmp/t2t_datagen/dev/newsdev2017-zhen-src.en.sgm; No such file or directory\n </denchmark-code>\n \n Changing line 52 of file data_generators/enzh_wmt8k.py from\n dev/newsdev2017-zhen-src.en.sgm and dev/newsdev2017-zhen-ref.zh.sgm to\n dev/newsdev2017-enzh-src.en.sgm and dev/newsdev2017-enzh-ref.zh.sgm\n will make it work.\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "zyshin", "commentT": "2017-12-02T01:05:10Z", "comment_text": "\n \t\tAh, thank you. Would you like to submit a PR with the fix?\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "zyshin", "commentT": "2017-12-03T05:28:36Z", "comment_text": "\n \t\tSure, already posted as <denchmark-link:https://github.com/tensorflow/tensor2tensor/pull/453>#453</denchmark-link>\n \n \t\t"}, "comments_2": {"comment_id": 3, "comment_author": "zyshin", "commentT": "2017-12-19T01:46:23Z", "comment_text": "\n \t\tThanks!\n \t\t"}}}, "commit": {"commit_id": "5c8009561c4604be53e27310d0014ce69176c5db", "commit_author": "ZYShin", "commitT": "2017-12-18 17:46:09-08:00", "commit_complexity": {"commit_NLOC": "None", "commit_CCN": "None", "commit_Nprams": "None"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "tensor2tensor\\data_generators\\translate_enzh.py", "file_new_name": "tensor2tensor\\data_generators\\translate_enzh.py", "file_complexity": {"file_NLOC": "68", "file_CCN": "12", "file_NToken": "396"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "52", "deleted_lines": "52"}}}}}}