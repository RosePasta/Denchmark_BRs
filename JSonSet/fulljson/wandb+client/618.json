{"BR": {"BR_id": "618", "BR_author": "TKassis", "BRopenT": "2019-10-16T00:41:59Z", "BRcloseT": "2019-11-01T22:35:36Z", "BR_text": {"BRsummary": "AttributeError: module 'os' has no attribute 'setpgrp'`", "BRdescription": "\n wandb --version && python --version && uname\n \n Weights and Biases version: 0.8.13\n Python version: 3.6.7\n Operating System: Windows 10\n \n <denchmark-h:h3>Description</denchmark-h>\n \n When I run a sweep using wandb agent [sweepID] I get the following error:\n `AttributeError: module 'os' has no attribute 'setpgrp'``\n Full traceback below:\n 2019-10-15 20:39:25,932 - wandb.wandb_agent - INFO - Running runs: [] 2019-10-15 20:39:26,111 - wandb.wandb_agent - INFO - Agent received command: run 2019-10-15 20:39:26,112 - wandb.wandb_agent - INFO - Agent starting run with config: batch_size: 16 image_size: 246 learning_rate: 0.0004520644327596513 2019-10-15 20:39:26,117 - wandb.wandb_agent - ERROR - Exception while processing command: {'args': {'batch_size': {'value': 16}, 'image_size': {'max': 300, 'min': 64, 'value': 246}, 'learning_rate': {'max': 0.01, 'min': 0.0001, 'value': 0.0004520644327596513}}, 'program': 'train.py', 'run_id': 'jldigqhv', 'run_storage_id': 'UnVuOnYxOmpsZGlncWh2OnJzbmEtaW50cmFjcmFuaWFsLWhlbW9ycmhhZ2UtZGV0ZWN0aW9uOnRrYXNzaXM=', 'type': 'run'} Traceback (most recent call last): File \"c:\\users\\timothy\\miniconda3\\envs\\tf\\lib\\site-packages\\wandb\\wandb_agent.py\", line 198, in _process_command result = self._command_run(command) File \"c:\\users\\timothy\\miniconda3\\envs\\tf\\lib\\site-packages\\wandb\\wandb_agent.py\", line 247, in _command_run proc = AgentProcess(command=command_list, env=env) File \"c:\\users\\timothy\\miniconda3\\envs\\tf\\lib\\site-packages\\wandb\\wandb_agent.py\", line 41, in __init__ env=env, preexec_fn=os.setpgrp) AttributeError: module 'os' has no attribute 'setpgrp'\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "TKassis", "commentT": "2019-10-16T00:42:02Z", "comment_text": "\n \t\tIssue-Label Bot is automatically applying the label bug to this issue, with a confidence of 0.88. Please mark this comment with \ud83d\udc4d or \ud83d\udc4e to give our bot feedback!\n Links: <denchmark-link:https://github.com/marketplace/issue-label-bot>app homepage</denchmark-link>\n , <denchmark-link:https://mlbot.net/data/wandb/client>dashboard</denchmark-link>\n  and <denchmark-link:https://github.com/hamelsmu/MLapp>code</denchmark-link>\n  for this bot.\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "TKassis", "commentT": "2019-10-16T01:05:47Z", "comment_text": "\n \t\tWindows support was improved with 0.8.13 but wandb agent still has a dependency on unix specific process handling.  We will look into a windows workaround for this path.\n \t\t"}, "comments_2": {"comment_id": 3, "comment_author": "TKassis", "commentT": "2019-10-16T01:14:19Z", "comment_text": "\n \t\tLooks like we can likely implement this in windows with:\n <denchmark-link:https://docs.python.org/3/library/subprocess.html#subprocess.CREATE_NEW_PROCESS_GROUP>https://docs.python.org/3/library/subprocess.html#subprocess.CREATE_NEW_PROCESS_GROUP</denchmark-link>\n \n The change shouldn't be too complex, we will just need to test it with:<denchmark-link:https://docs.wandb.com/library/sweeps/configuration#stopping-criteria>https://docs.wandb.com/library/sweeps/configuration#stopping-criteria</denchmark-link>\n \n Since this stopping criteria will send a signal to the process group.\n \t\t"}, "comments_3": {"comment_id": 4, "comment_author": "TKassis", "commentT": "2019-11-01T22:35:36Z", "comment_text": "\n \t\t0.8.14 now has sweep support on Windows!\n \t\t"}}}, "commit": {"commit_id": "2fc279ed66e5bde05629e1811626bf6cd41c1594", "commit_author": "Jeff", "commitT": "2019-10-31 14:31:23-07:00", "commit_complexity": {"commit_NLOC": "0.0", "commit_CCN": "0.07407407407407407", "commit_Nprams": "0.5185185185185185"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "wandb\\__init__.py", "file_new_name": "wandb\\__init__.py", "file_complexity": {"file_NLOC": "710", "file_CCN": "146", "file_NToken": "4756"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "199,200,201,202,203,204", "deleted_lines": null, "method_info": {"method_name": "_init_headless", "method_params": "run,cloud", "method_startline": "186", "method_endline": "291", "method_complexity": {"method_NLOC": "74", "method_CCN": "12", "method_NToken": "505", "method_nesting_level": "0"}}}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "wandb\\run_manager.py", "file_new_name": "wandb\\run_manager.py", "file_complexity": {"file_NLOC": "1046", "file_CCN": "284", "file_NToken": "7636"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "1009,1010,1011,1013,1014,1015,1018,1019,1020,1021,1022,1023", "deleted_lines": "1010,1013,1014", "method_info": {"method_name": "_upsert_run", "method_params": "self,retry,storage_id,env", "method_startline": "955", "method_endline": "1047", "method_complexity": {"method_NLOC": "69", "method_CCN": "15", "method_NToken": "551", "method_nesting_level": "1"}}}}}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 4, "file_old_name": "wandb\\wandb_agent.py", "file_new_name": "wandb\\wandb_agent.py", "file_complexity": {"file_NLOC": "302", "file_CCN": "83", "file_NToken": "1987"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "41,42,43,44,46", "deleted_lines": "41", "method_info": {"method_name": "__init__", "method_params": "self,env,command,function,run_id,in_jupyter", "method_startline": "35", "method_endline": "52", "method_complexity": {"method_NLOC": "17", "method_CCN": "4", "method_NToken": "142", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "113,114,115", "deleted_lines": null, "method_info": {"method_name": "terminate", "method_params": "self", "method_startline": "111", "method_endline": "117", "method_complexity": {"method_NLOC": "6", "method_CCN": "3", "method_NToken": "46", "method_nesting_level": "1"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "264,265", "deleted_lines": "246", "method_info": {"method_name": "_command_run", "method_params": "self,command", "method_startline": "235", "method_endline": "272", "method_complexity": {"method_NLOC": "28", "method_CCN": "8", "method_NToken": "330", "method_nesting_level": "1"}}}, "hunk_3": {"Ismethod": 1, "added_lines": "90,91,92,93,94,95,96,97,98,99", "deleted_lines": null, "method_info": {"method_name": "wait", "method_params": "self", "method_startline": "88", "method_endline": "101", "method_complexity": {"method_NLOC": "13", "method_CCN": "6", "method_NToken": "67", "method_nesting_level": "1"}}}}}}}}