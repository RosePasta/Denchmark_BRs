{"BR": {"BR_id": "934", "BR_author": "SeanNaren", "BRopenT": "2016-12-12T16:14:45Z", "BRcloseT": "2016-12-20T01:00:10Z", "BR_text": {"BRsummary": "Child processes not terminating", "BRdescription": "\n When I terminate an execution, the child processes still exist and I need to terminate via command line. To replicate:\n <denchmark-code>-- Editing \"Process Test\" Implementation\n --\n -- The following will be executed when the operation is run:\n \n -- libs\n require 'parallel'\n require 'torch'\n \n -- do everything with floats\n torch.setdefaulttensortype('torch.FloatTensor')\n \n -- a queue handler is very simple: it waits for code to execute,\n -- and executes it as soon as it receives it\n function queue_handler()\n    require 'torch'\n    torch.setdefaulttensortype('torch.FloatTensor')\n    while true do\n       local code = parallel.parent:receive()\n       code()\n       collectgarbage()\n    end\n end\n \n function main()\n    -- start queue\n    queue = parallel.nfork(2)\n    queue:exec(queue_handler)\n \n    while true do\n       queue:send(function()\n                   -- function implemented here\n                  end)\n       os.execute(\"sleep 2\")\n    end\n end\n \n -- protected env\n ok,err = pcall(main)\n if not ok then print(err) end\n print(\"PCALL FINISHED\")\n parallel.close()\n </denchmark-code>\n \n \t"}, "comments": {}}, "commit": {"commit_id": "e702f5cef0abacb99d299a95df8bd99def86de69", "commit_author": "Brian Broll", "commitT": "2016-12-19 19:00:08-06:00", "commit_complexity": {"commit_NLOC": "None", "commit_CCN": "None", "commit_Nprams": "None"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "src\\plugins\\ExecuteJob\\templates\\start.ejs", "file_new_name": "src\\plugins\\ExecuteJob\\templates\\start.ejs", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "77,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,242", "deleted_lines": "77,204,211"}}}}}}