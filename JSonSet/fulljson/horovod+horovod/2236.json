{"BR": {"BR_id": "2236", "BR_author": "joequant", "BRopenT": "2020-09-04T06:19:22Z", "BRcloseT": "2020-09-21T20:02:20Z", "BR_text": {"BRsummary": "Logic error fails in building cuda_util.cc", "BRdescription": "\n Environment:\n \n Framework: (TensorFlow, Keras, PyTorch, MXNet)\n Framework version:\n Horovod version: 0.20.0\n MPI version:\n CUDA version:  None\n NCCL version:\n Python version: 3.8\n Spark / PySpark version:\n OS and version: Mageia Linux\n GCC version: 10.2\n \n Bug report:\n Compiler fails on non-CUDA builds because of a missing header.  cuda_util.cc does not include \n 01-install-python.sh\thorovod\t  distcc[33436] ERROR: compile /tmp/pip-install-_9_4iuqp/horovod/horovod/mxnet/cuda_util.cc on 172.17.0.1,cpp,lzo failed\n 01-install-python.sh\thorovod\t  distcc[33436] (dcc_build_somewhere) Warning: remote compilation of '/tmp/pip-install-_9_4iuqp/horovod/horovod/mxnet/cuda_util.cc' failed, retrying locally\n 01-install-python.sh\thorovod\t  distcc[33436] Warning: failed to distribute /tmp/pip-install-_9_4iuqp/horovod/horovod/mxnet/cuda_util.cc to 172.17.0.1,cpp,lzo, running locally instead\n 01-install-python.sh\thorovod\t  /tmp/pip-install-_9_4iuqp/horovod/horovod/mxnet/cuda_util.cc: In constructor \u2018horovod::mxnet::with_device::with_device(int)\u2019:\n 01-install-python.sh\thorovod\t  /tmp/pip-install-_9_4iuqp/horovod/horovod/mxnet/cuda_util.cc:36:16: error: \u2018logic_error\u2019 is not a member of \u2018std\u2019\n 01-install-python.sh\thorovod\t     36 |     throw std::logic_error(\"Internal error. Requested device context manager \"\n 01-install-python.sh\thorovod\t        |                ^~~~~~~~~~~\n 01-install-python.sh\thorovod\t  distcc[33436] ERROR: compile /tmp/pip-install-_9_4iuqp/horovod/horovod/mxnet/cuda_util.cc on localhost failed\n 01-install-python.sh\thorovod\t  gmake[2]: *** [horovod/mxnet/CMakeFiles/mxnet.dir/build.make:472: horovod/mxnet/CMakeFiles/mxnet.dir/cuda_util.cc.o] Error 1\n 01-install-python.sh\thorovod\t  gmake[2]: *** Waiting for unfinished jobs....\n 01-install-python.sh\thorovod\t  [ 76%] Building CXX object horovod/torch/CMakeFiles/pytor\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "joequant", "commentT": "2020-09-04T13:55:42Z", "comment_text": "\n \t\tHey <denchmark-link:https://github.com/joequant>@joequant</denchmark-link>\n , can you try installing from <denchmark-link:https://github.com/horovod/horovod/pull/2238>#2238</denchmark-link>\n  and let me know if that addresses the issue?  Could be that certain includes in your version GCC no longer pull in  automatically.\n \t\t"}}}, "commit": {"commit_id": "d6f54e6ad6192c7ed5fb212c3a79b4095ed7c774", "commit_author": "Travis Addair", "commitT": "2020-09-21 13:02:19-07:00", "commit_complexity": {"commit_NLOC": "None", "commit_CCN": "None", "commit_Nprams": "None"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "horovod\\mxnet\\cuda_util.cc", "file_new_name": "horovod\\mxnet\\cuda_util.cc", "file_complexity": {"file_NLOC": "25", "file_CCN": "6", "file_NToken": "93"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "16,17", "deleted_lines": null}}}}}}