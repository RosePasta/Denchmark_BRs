{"BR": {"BR_id": "757", "BR_author": "mouradmourafiq", "BRopenT": "2020-05-01T20:17:10Z", "BRcloseT": "2020-05-02T11:38:46Z", "BR_text": {"BRsummary": "Retries issues when using azuer blob storage", "BRdescription": "\n <denchmark-h:h3>Describe the bug</denchmark-h>\n \n Some issues are noticed when using the azure connection, it could be related to retries.\n We should upgrade to latest version 12.3.1, current version has issues and it's very old.\n \t"}, "comments": {}}, "commit": {"commit_id": "50fd6631f3629179014b97a26d07a62d4985d87f", "commit_author": "mouradmourafiq", "commitT": "2020-05-02 13:35:28+02:00", "commit_complexity": {"commit_NLOC": "0.5", "commit_CCN": "0.0", "commit_Nprams": "0.3888888888888889"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 5, "file_old_name": "core\\polyaxon\\connections\\azure\\azure_blobstore.py", "file_new_name": "core\\polyaxon\\connections\\azure\\azure_blobstore.py", "file_complexity": {"file_NLOC": "260", "file_CCN": "42", "file_NToken": "1602"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "415,416,417", "deleted_lines": "405,406", "method_info": {"method_name": "delete_file", "method_params": "self,blob,container_name", "method_startline": "403", "method_endline": "418", "method_complexity": {"method_NLOC": "8", "method_CCN": "3", "method_NToken": "50", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "180,181,194,195,196,197,198,200,201", "deleted_lines": "181,182,183,184,185,186,187,188,189,190,191,192,193,195", "method_info": {"method_name": "list", "method_params": "self,key,container_name,path,delimiter,marker", "method_startline": "166", "method_endline": "202", "method_complexity": {"method_NLOC": "22", "method_CCN": "9", "method_NToken": "185", "method_nesting_level": "1"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "301,303,304,305", "deleted_lines": "294,295", "method_info": {"method_name": "download_file", "method_params": "self,blob,local_path,container_name,use_basename", "method_startline": "278", "method_endline": "306", "method_complexity": {"method_NLOC": "16", "method_CCN": "5", "method_NToken": "122", "method_nesting_level": "1"}}}, "hunk_3": {"Ismethod": 1, "added_lines": "159", "deleted_lines": "148", "method_info": {"method_name": "check_blob", "method_params": "self,blob,container_name", "method_startline": "144", "method_endline": "160", "method_complexity": {"method_NLOC": "7", "method_CCN": "3", "method_NToken": "46", "method_nesting_level": "1"}}}, "hunk_4": {"Ismethod": 1, "added_lines": "220,221,222", "deleted_lines": "214", "method_info": {"method_name": "upload_file", "method_params": "self,filename,blob,container_name,use_basename", "method_startline": "204", "method_endline": "222", "method_complexity": {"method_NLOC": "8", "method_CCN": "3", "method_NToken": "73", "method_nesting_level": "1"}}}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "core\\requirements\\requirements-dev.txt", "file_new_name": "core\\requirements\\requirements-dev.txt", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "10", "deleted_lines": "10"}}}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "core\\setup.py", "file_new_name": "core\\setup.py", "file_complexity": {"file_NLOC": "108", "file_CCN": "4", "file_NToken": "381"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "89", "deleted_lines": "89"}}}, "file_3": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "core\\tests\\test_connections\\test_azure\\test_azure_client.py", "file_new_name": "core\\tests\\test_connections\\test_azure\\test_azure_client.py", "file_complexity": {"file_NLOC": "15", "file_CCN": "1", "file_NToken": "102"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "29,33,38", "deleted_lines": "31,36", "method_info": {"method_name": "test_get_blob_service_connection", "method_params": "self", "method_startline": "28", "method_endline": "38", "method_complexity": {"method_NLOC": "9", "method_CCN": "1", "method_NToken": "63", "method_nesting_level": "1"}}}}}, "file_4": {"file_change_type": "MODIFY", "file_Nmethod": 15, "file_old_name": "core\\tests\\test_connections\\test_azure\\test_azure_store.py", "file_new_name": "core\\tests\\test_connections\\test_azure\\test_azure_store.py", "file_complexity": {"file_NLOC": "286", "file_CCN": "40", "file_NToken": "2227"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "248,259,260,261,262,263,264,265,271,272,273,274,275,276,277", "deleted_lines": "253,254,255,256,257,258,259,260,266,267,268,269,270,271,272,273,274,275,276,277", "method_info": {"method_name": "test_upload_dir_with_last_time", "method_params": "self,client", "method_startline": "229", "method_endline": "277", "method_complexity": {"method_NLOC": "40", "method_CCN": "5", "method_NToken": "295", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "341", "deleted_lines": "341,342", "method_info": {"method_name": "test_download_dir_with_basename.mkfile", "method_params": "fname", "method_startline": "341", "method_endline": "342", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "12", "method_nesting_level": "2"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "341,347,354,355,356,358,359,360,365,366,367,375,383,384,385,386,387,388,389,390,391,392,393", "deleted_lines": "337,338,339,340,341,342,347,359,360,361,363,364,365,370,371,372,373,374,382,390,391,392,393", "method_info": {"method_name": "test_download_dir_with_basename", "method_params": "self,client", "method_startline": "337", "method_endline": "393", "method_complexity": {"method_NLOC": "38", "method_CCN": "5", "method_NToken": "281", "method_nesting_level": "1"}}}, "hunk_3": {"Ismethod": 1, "added_lines": "139,140", "deleted_lines": null, "method_info": {"method_name": "test_download_file.mkfile", "method_params": "buffer", "method_startline": "139", "method_endline": "140", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "14", "method_nesting_level": "2"}}}, "hunk_4": {"Ismethod": 1, "added_lines": "77,80", "deleted_lines": "76,82", "method_info": {"method_name": "test_list_empty", "method_params": "self,client", "method_startline": "76", "method_endline": "82", "method_complexity": {"method_NLOC": "6", "method_CCN": "1", "method_NToken": "63", "method_nesting_level": "1"}}}, "hunk_5": {"Ismethod": 1, "added_lines": null, "deleted_lines": "282", "method_info": {"method_name": "test_download_dir.mkfile", "method_params": "container,cloud_path,fname", "method_startline": "282", "method_endline": "283", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "16", "method_nesting_level": "2"}}}, "hunk_6": {"Ismethod": 1, "added_lines": "116,121,122,123,128,129,130", "deleted_lines": "117,118,119,124,125,126,128,130", "method_info": {"method_name": "test_upload_file", "method_params": "self,client", "method_startline": "108", "method_endline": "130", "method_complexity": {"method_NLOC": "18", "method_CCN": "1", "method_NToken": "144", "method_nesting_level": "1"}}}, "hunk_7": {"Ismethod": 1, "added_lines": "165,169,174", "deleted_lines": "166,168", "method_info": {"method_name": "test_delete_file", "method_params": "self,client", "method_startline": "164", "method_endline": "174", "method_complexity": {"method_NLOC": "8", "method_CCN": "1", "method_NToken": "61", "method_nesting_level": "1"}}}, "hunk_8": {"Ismethod": 1, "added_lines": "134,139,140,142,146,151,152,154,158,159,161", "deleted_lines": "135,136,138,146,147,152,153,156,158", "method_info": {"method_name": "test_download_file", "method_params": "self,client", "method_startline": "133", "method_endline": "161", "method_complexity": {"method_NLOC": "20", "method_CCN": "1", "method_NToken": "138", "method_nesting_level": "1"}}}, "hunk_9": {"Ismethod": 1, "added_lines": "193,202,203,204,205,206,207,208,209,210,211,212,216,217,218,219,220,221,222,223,224,225,226", "deleted_lines": "193,194,195,196,197,198,199,200,201,202,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223", "method_info": {"method_name": "test_upload_dir", "method_params": "self,client", "method_startline": "177", "method_endline": "226", "method_complexity": {"method_NLOC": "42", "method_CCN": "9", "method_NToken": "334", "method_nesting_level": "1"}}}, "hunk_10": {"Ismethod": 1, "added_lines": null, "deleted_lines": "135,136", "method_info": {"method_name": "test_download_file.mkfile", "method_params": "container,cloud_path,fname", "method_startline": "135", "method_endline": "136", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "16", "method_nesting_level": "2"}}}, "hunk_11": {"Ismethod": 1, "added_lines": "284,290,297,298,299,301,302,303,308,309,310,318,324,325,326,327,328,329,330,331,332,333,334", "deleted_lines": "282,294,295,296,298,299,300,305,306,307,315,321,322,323,324,325,326,327,328,329,330,331,332,333,334", "method_info": {"method_name": "test_download_dir", "method_params": "self,client", "method_startline": "280", "method_endline": "334", "method_complexity": {"method_NLOC": "36", "method_CCN": "5", "method_NToken": "275", "method_nesting_level": "1"}}}, "hunk_12": {"Ismethod": 1, "added_lines": "92,93,95,98", "deleted_lines": "90,91,93,104", "method_info": {"method_name": "test_list_non_empty", "method_params": "self,client", "method_startline": "85", "method_endline": "105", "method_complexity": {"method_NLOC": "17", "method_CCN": "1", "method_NToken": "143", "method_nesting_level": "1"}}}, "hunk_13": {"Ismethod": 1, "added_lines": "284", "deleted_lines": null, "method_info": {"method_name": "test_download_dir.mkfile", "method_params": "fname", "method_startline": "284", "method_endline": "285", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "12", "method_nesting_level": "2"}}}, "hunk_14": {"Ismethod": 1, "added_lines": "347", "deleted_lines": "347", "method_info": {"method_name": "test_download_dir_with_basename.mkfile", "method_params": "container,cloud_path,fname", "method_startline": "347", "method_endline": "348", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "16", "method_nesting_level": "2"}}}}}}}}