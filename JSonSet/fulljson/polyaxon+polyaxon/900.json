{"BR": {"BR_id": "900", "BR_author": "patryk-s", "BRopenT": "2020-07-09T15:28:41Z", "BRcloseT": "2020-07-09T17:07:25Z", "BR_text": {"BRsummary": "Changing default namespace in helm chart doesn't effect polyaxon-operator -- jobs stuck in queue", "BRdescription": "\n <denchmark-h:h3>Describe the bug</denchmark-h>\n \n Deploying to a different namespace than polyaxon leaves all experiments in queued state.\n After some time, I figured out that the polyaxon-operator's --namespace config option is not set, and it doesn't use the POLYAXON_K8S_NAMESPACE env from polyaxon-config configMap (I guess it's expecting NAMESPACE)\n <denchmark-h:h3>To Reproduce</denchmark-h>\n \n helm install polyaxon polyaxon/polyaxon --namespace=polyaxon1 -f config.yaml\n polyaxon project create --name=quick-start --description='Polyaxon quick start.'\n polyaxon run --url=https://raw.githubusercontent.com/polyaxon/polyaxon-quick-start/master/experimentation/simple.yml\n NOTE: I have namespace: polyaxon1 in config.yaml\n <denchmark-h:h3>Expected behavior</denchmark-h>\n \n Experiment starts.\n <denchmark-h:h3>Environment</denchmark-h>\n \n Kubernetes\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "patryk-s", "commentT": "2020-07-09T17:09:38Z", "comment_text": "\n \t\tA new release v1.1.3 for Polyaxon CE will be made in the next few minutes including a patch for this. Thanks for reporting.\n \t\t"}}}, "commit": {"commit_id": "3e835111b6232aadc0fd098415ca4e84d09a63ee", "commit_author": "mouradmourafiq", "commitT": "2020-07-09 19:12:42+02:00", "commit_complexity": {"commit_NLOC": "0.0", "commit_CCN": "1.0", "commit_Nprams": "1.0"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "README.md", "file_new_name": "README.md", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "4", "deleted_lines": "4"}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "charts\\agent\\Chart.yaml", "file_new_name": "charts\\agent\\Chart.yaml", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "4,5", "deleted_lines": "4,5"}}}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "charts\\agent\\values.yaml", "file_new_name": "charts\\agent\\values.yaml", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "74,96,123,135,152,165,177", "deleted_lines": "74,96,123,135,152,165,177"}}}, "file_3": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "charts\\polyaxon\\Chart.yaml", "file_new_name": "charts\\polyaxon\\Chart.yaml", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "4,5", "deleted_lines": "4,5"}}}, "file_4": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "charts\\polyaxon\\values.yaml", "file_new_name": "charts\\polyaxon\\values.yaml", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "69,93,121,148,160,177,190,203,224,245,282", "deleted_lines": "69,93,121,148,160,177,190,203,224,245,282"}}}, "file_5": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "ci\\requirements.txt", "file_new_name": "ci\\requirements.txt", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "1", "deleted_lines": "1"}}}, "file_6": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "config\\setup\\default.yaml", "file_new_name": "config\\setup\\default.yaml", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "2", "deleted_lines": "2"}}}, "file_7": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "core\\polyaxon\\pkg.py", "file_new_name": "core\\polyaxon\\pkg.py", "file_complexity": {"file_NLOC": "8", "file_CCN": "0", "file_NToken": "26"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "18", "deleted_lines": "18"}}}, "file_8": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "core\\setup.py", "file_new_name": "core\\setup.py", "file_complexity": {"file_NLOC": "116", "file_CCN": "4", "file_NToken": "384"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "31", "deleted_lines": "31"}}}, "file_9": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "hub\\dockerizer\\1.1.yaml", "file_new_name": "hub\\dockerizer\\1.1.yaml", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "28", "deleted_lines": "28"}}}, "file_10": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "operator\\Makefile", "file_new_name": "operator\\Makefile", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "3", "deleted_lines": "3"}}}, "file_11": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "operator\\main.go", "file_new_name": "operator\\main.go", "file_complexity": {"file_NLOC": "70", "file_CCN": "7", "file_NToken": "383"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "75,76,82", "deleted_lines": "80", "method_info": {"method_name": "main", "method_params": "", "method_startline": "67", "method_endline": "117", "method_complexity": {"method_NLOC": "41", "method_CCN": "5", "method_NToken": "278", "method_nesting_level": "0"}}}}}, "file_12": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "platform\\base\\requirements\\requirements-master.txt", "file_new_name": "platform\\base\\requirements\\requirements-master.txt", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "2", "deleted_lines": "2"}}}, "file_13": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "platform\\base\\requirements\\requirements.txt", "file_new_name": "platform\\base\\requirements\\requirements.txt", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "1", "deleted_lines": "1"}}}, "file_14": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "platform\\core-scheduler\\setup.py", "file_new_name": "platform\\core-scheduler\\setup.py", "file_complexity": {"file_NLOC": "56", "file_CCN": "3", "file_NToken": "221"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "43", "deleted_lines": "43"}}}, "file_15": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "platform\\coreapi\\setup.py", "file_new_name": "platform\\coreapi\\setup.py", "file_complexity": {"file_NLOC": "57", "file_CCN": "3", "file_NToken": "221"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "43", "deleted_lines": "43"}}}, "file_16": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "platform\\coredb\\setup.py", "file_new_name": "platform\\coredb\\setup.py", "file_complexity": {"file_NLOC": "48", "file_CCN": "2", "file_NToken": "192"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "40", "deleted_lines": "40"}}}, "file_17": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "platform\\polycommon\\polycommon\\config_manager.py", "file_new_name": "platform\\polycommon\\polycommon\\config_manager.py", "file_complexity": {"file_NLOC": "186", "file_CCN": "48", "file_NToken": "1119"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "75", "deleted_lines": "75", "method_info": {"method_name": "__init__", "method_params": "self,params", "method_startline": "57", "method_endline": "88", "method_complexity": {"method_NLOC": "32", "method_CCN": "1", "method_NToken": "218", "method_nesting_level": "1"}}}}}, "file_18": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "platform\\polycommon\\polycommon\\pkg.py", "file_new_name": "platform\\polycommon\\polycommon\\pkg.py", "file_complexity": {"file_NLOC": "1", "file_CCN": "0", "file_NToken": "3"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "17", "deleted_lines": "17"}}}, "file_19": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "platform\\polycommon\\setup.py", "file_new_name": "platform\\polycommon\\setup.py", "file_complexity": {"file_NLOC": "51", "file_CCN": "2", "file_NToken": "196"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "41", "deleted_lines": "41"}}}, "file_20": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "releases\\1-1.md", "file_new_name": "releases\\1-1.md", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "14,15,16,17,18,19,20,21,22,23,24,25", "deleted_lines": null}}}, "file_21": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "site\\integrations\\argo.md", "file_new_name": "site\\integrations\\argo.md", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "43", "deleted_lines": "43"}}}, "file_22": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "site\\integrations\\github-action.md", "file_new_name": "site\\integrations\\github-action.md", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "39,65", "deleted_lines": "39,65"}}}, "file_23": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "site\\integrations\\jenkins.md", "file_new_name": "site\\integrations\\jenkins.md", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "34", "deleted_lines": "34"}}}}}}