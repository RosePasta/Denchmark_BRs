{"BR": {"BR_id": "3503", "BR_author": "gmuraru", "BRopenT": "2020-05-11T16:57:47Z", "BRcloseT": "2020-05-24T20:15:42Z", "BR_text": {"BRsummary": "Flaky test ```test_spinup_time```", "BRdescription": "\n Describe the bug\n test_spinup_time  fails during automated PR-checking test runs.\n Expected behavior\n Should pass reliably.\n Screenshots\n <denchmark-code>_______________________________ test_spinup_time _______________________________\n \n hook = <syft.frameworks.torch.hook.hook.TorchHook object at 0x7f5ca2437710>\n \n     def test_spinup_time(hook):\n         \"\"\"Tests to ensure that virtual workers intialized with 10000 data points\n         load in under 1 seconds. This is needed to ensure that virtual workers\n         spun up inside web frameworks are created quickly enough to not cause timeout errors\"\"\"\n         data = []\n         for i in range(10000):\n             data.append(torch.Tensor(5, 5).random_(100))\n         start_time = time()\n         dummy = sy.VirtualWorker(hook, id=\"dummy\", data=data)\n         end_time = time()\n >       assert (end_time - start_time) < 1\n E       assert (1589214859.5729005 - 1589214858.5710597) < 1\n </denchmark-code>\n \n LE: Skip this test altogether from the automation pipeline\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "gmuraru", "commentT": "2020-05-11T17:01:06Z", "comment_text": "\n \t\tI haven't figured out a good way to run the time-based tests. The efficiency tests are skipped during the builds, and maybe this one should be too?\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "gmuraru", "commentT": "2020-05-13T19:26:06Z", "comment_text": "\n \t\t\n I haven't figured out a good way to run the time-based tests. The efficiency tests are skipped during the builds, and maybe this one should be too?\n \n I think this is a good idea! Will edit the issue and also marking it Good first issue\n \t\t"}}}, "commit": {"commit_id": "fc729acc88c2c26ece4fb5e4a931a7a13fe0971a", "commit_author": "Bobby Wagner", "commitT": "2020-05-24 16:15:41-04:00", "commit_complexity": {"commit_NLOC": "0.0", "commit_CCN": "0.0", "commit_Nprams": "0.0"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "test\\workers\\test_virtual.py", "file_new_name": "test\\workers\\test_virtual.py", "file_complexity": {"file_NLOC": "136", "file_CCN": "16", "file_NToken": "1157"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": null, "deleted_lines": "228,229,230,231,232,233,234,235,236,237,238", "method_info": {"method_name": "test_spinup_time", "method_params": "hook", "method_startline": "228", "method_endline": "238", "method_complexity": {"method_NLOC": "8", "method_CCN": "2", "method_NToken": "70", "method_nesting_level": "0"}}}}}}}}