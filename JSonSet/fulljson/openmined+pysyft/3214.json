{"BR": {"BR_id": "3214", "BR_author": "LaRiffle", "BRopenT": "2020-03-17T23:33:26Z", "BRcloseT": "2020-03-27T13:17:25Z", "BR_text": {"BRsummary": "Fix parameter serialization", "BRdescription": "\n In some situations, parameters are not serialized properly. I suspect this is due to our implementation of parameter.data\n Here is one example:\n class Net(sy.Plan):\n     def __init__(self):\n         super(Net, self).__init__()\n         self.fc1 = nn.Linear(1, 1)\n \n     def forward(self, x):\n         return self.fc1(x)\n \n plan = Net()\n plan.build(th.tensor([1.2]))\n \n x = th.tensor([-1.0])\n expected = plan(x)\n \n plan.fix_precision().share(alice, bob, crypto_provider=charlie)\n print(plan.state.tensors())\n ptr_plan = plan.send(james)\n \n # Fetch plan\n fetched_plan = plan.owner.fetch_plan(ptr_plan.id_at_location, james)\n print('***')\n print(fetched_plan.state.tensors())\n Output\n <denchmark-code>[Parameter containing:\n (Wrapper)>FixedPrecisionTensor>[AdditiveSharingTensor]\n \t-> [PointerTensor | me:94226517866 -> alice:74685210613]\n \t-> [PointerTensor | me:30028513485 -> bob:91228892047]\n \t*crypto provider: charlie*, Parameter containing:\n (Wrapper)>FixedPrecisionTensor>[AdditiveSharingTensor]\n \t-> [PointerTensor | me:16955185561 -> alice:5015164314]\n \t-> [PointerTensor | me:77573712688 -> bob:21883177159]\n \t*crypto provider: charlie*]\n ***\n [FixedPrecisionTensor>[AdditiveSharingTensor]\n \t-> [PointerTensor | me:94226517866 -> alice:74685210613]\n \t-> [PointerTensor | me:30028513485 -> bob:91228892047]\n \t*crypto provider: charlie*, FixedPrecisionTensor>[AdditiveSharingTensor]\n \t-> [PointerTensor | me:16955185561 -> alice:5015164314]\n \t-> [PointerTensor | me:77573712688 -> bob:21883177159]\n \t*crypto provider: charlie*]\n </denchmark-code>\n \n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "LaRiffle", "commentT": "2020-03-18T18:30:02Z", "comment_text": "\n \t\tI can take a look\n \t\t"}}}, "commit": {"commit_id": "e8fba96e2afc349d74dc6a4a361691c9e502da3a", "commit_author": "Alexandru Rotaru", "commitT": "2020-03-27 09:17:24-04:00", "commit_complexity": {"commit_NLOC": "0.0", "commit_CCN": "1.0", "commit_Nprams": "0.0"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "syft\\execution\\placeholder.py", "file_new_name": "syft\\execution\\placeholder.py", "file_complexity": {"file_NLOC": "97", "file_CCN": "15", "file_NToken": "557"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "33", "deleted_lines": "33,37,38", "method_info": {"method_name": "instantiate", "method_params": "self,tensor", "method_startline": "28", "method_endline": "39", "method_complexity": {"method_NLOC": "6", "method_CCN": "2", "method_NToken": "32", "method_nesting_level": "1"}}}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "test\\execution\\test_plan.py", "file_new_name": "test\\execution\\test_plan.py", "file_complexity": {"file_NLOC": "720", "file_CCN": "120", "file_NToken": "6773"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "645,646,647,648,649,650,651", "deleted_lines": null, "method_info": {"method_name": "test_fetch_encrypted_stateful_plan", "method_params": "hook,is_func2plan,workers", "method_startline": "596", "method_endline": "657", "method_complexity": {"method_NLOC": "34", "method_CCN": "2", "method_NToken": "285", "method_nesting_level": "0"}}}}}}}}