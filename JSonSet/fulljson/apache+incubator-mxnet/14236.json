{"BR": {"BR_id": "14236", "BR_author": "samskalicky", "BRopenT": "2019-02-22T19:19:23Z", "BRcloseT": "2019-03-02T00:26:22Z", "BR_text": {"BRsummary": "Makefile plugins target needs mkldnn dependency", "BRdescription": "\n <denchmark-h:h2>Description</denchmark-h>\n \n Building MXNet from source and enabling the WarpCTC plugin following these instructions:\n <denchmark-link:https://github.com/apache/incubator-mxnet/tree/master/example/ctc#ctc-loss-in-mxnet>https://github.com/apache/incubator-mxnet/tree/master/example/ctc#ctc-loss-in-mxnet</denchmark-link>\n \n fails to build on Ubuntu with   because it depends on mkldnn which wasnt compiled yet. This is due to a missing makefile dependency on the plugin build target.\n Heres the error message:\n <denchmark-code>In file included from include/mxnet/./op_attr_types.h:36:0,\n                  from include/mxnet/operator.h:40,\n                  from plugin/warpctc/./warpctc-inl.h:31,\n                  from plugin/warpctc/warpctc.cc:27:\n include/mxnet/././ndarray.h:41:22: fatal error: mkldnn.hpp: No such file or directory\n  #include <mkldnn.hpp>\n                       ^\n compilation terminated.\n make: *** [build/plugin/warpctc/warpctc.o] Error 1\n </denchmark-code>\n \n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "samskalicky", "commentT": "2019-02-22T19:19:26Z", "comment_text": "\n \t\tHey, this is the MXNet Label Bot.\n Thank you for submitting the issue! I will try and suggest some labels so that the appropriate MXNet community members can help resolve it.\n Here are my recommended labels: Build\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "samskalicky", "commentT": "2019-02-22T19:44:15Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/mxnet-label-bot>@mxnet-label-bot</denchmark-link>\n  add [Build, Bug]\n \t\t"}, "comments_2": {"comment_id": 3, "comment_author": "samskalicky", "commentT": "2019-02-25T13:08:58Z", "comment_text": "\n \t\tThanks to raising the issue. <denchmark-link:https://github.com/xinyu-intel>@xinyu-intel</denchmark-link>\n  could you help take a look?\n \t\t"}, "comments_3": {"comment_id": 4, "comment_author": "samskalicky", "commentT": "2019-02-25T13:09:54Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/mxnet-label-bot>@mxnet-label-bot</denchmark-link>\n  add [MKLDNN]\n \t\t"}, "comments_4": {"comment_id": 5, "comment_author": "samskalicky", "commentT": "2019-02-27T07:50:33Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/samskalicky>@samskalicky</denchmark-link>\n   you can workaround by using: make -j1\n \t\t"}, "comments_5": {"comment_id": 6, "comment_author": "samskalicky", "commentT": "2019-02-27T17:18:34Z", "comment_text": "\n \t\tThanks guys!\n Ive tried adding \" | mkldnn \" to the Makefile here:\n <denchmark-link:https://github.com/apache/incubator-mxnet/blob/master/Makefile#L492>https://github.com/apache/incubator-mxnet/blob/master/Makefile#L492</denchmark-link>\n \n that seems to be working. This is similar to another target above:\n <denchmark-link:https://github.com/apache/incubator-mxnet/blob/master/Makefile#L476>https://github.com/apache/incubator-mxnet/blob/master/Makefile#L476</denchmark-link>\n \n Any thoughts about committing this change into the makefile?\n \t\t"}, "comments_6": {"comment_id": 7, "comment_author": "samskalicky", "commentT": "2019-02-28T02:53:59Z", "comment_text": "\n \t\tWhy do we need warpctc if mxnet already has native implementation?\n \t\t"}}}, "commit": {"commit_id": "3180f9c3e7aad4212f56635f8bb4ab063009211c", "commit_author": "Sam Skalicky", "commitT": "2019-03-01 16:26:21-08:00", "commit_complexity": {"commit_NLOC": "None", "commit_CCN": "None", "commit_Nprams": "None"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "Makefile", "file_new_name": "Makefile", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "492", "deleted_lines": "492"}}}}}}