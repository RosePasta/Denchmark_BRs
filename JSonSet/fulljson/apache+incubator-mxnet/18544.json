{"BR": {"BR_id": "18544", "BR_author": "xidulu", "BRopenT": "2020-06-12T07:14:59Z", "BRcloseT": "2020-06-13T23:32:00Z", "BR_text": {"BRsummary": "Deferred computation API returns \"wrong\" data type given DeepNumpy input", "BRdescription": "\n from mxnet import np, npx\n from mxnet.gluon import HybridBlock\n \n class block1(HybridBlock):\n     def hybrid_forward(self, F, x):\n         return x + 1\n \n class block2(HybridBlock):\n     def forward(self, x):\n         return x + 1\n \n net1 = block1()\n net1.hybridize()\n net2 = block2()\n net2.hybridize()\n \n print(type(net1(np.ones((2,2)))))\n \n print(type(net2(np.ones((2,2)))))\n \n Out:\n <class 'mxnet.numpy.ndarray'>\n <class 'mxnet.ndarray.ndarray.NDArray'>\n Not sure what the output type from forward() is supposed to be, but it should be consistent with that from hybrid_foward()\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "xidulu", "commentT": "2020-06-12T22:22:32Z", "comment_text": "\n \t\tThanks for reporting the issue <denchmark-link:https://github.com/xidulu>@xidulu</denchmark-link>\n ! I opened a PR to fix it. Please review.\n \t\t"}}}, "commit": {"commit_id": "09cf48a24682e308b552a7fa70a816c024308438", "commit_author": "Leonard Lausen", "commitT": "2020-06-13 16:31:59-07:00", "commit_complexity": {"commit_NLOC": "0.0", "commit_CCN": "0.0", "commit_Nprams": "0.0"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "python\\mxnet\\gluon\\block.py", "file_new_name": "python\\mxnet\\gluon\\block.py", "file_complexity": {"file_NLOC": "1091", "file_CCN": "328", "file_NToken": "7590"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "973", "deleted_lines": "973", "method_info": {"method_name": "_get_graph_v2", "method_params": "self,args", "method_startline": "951", "method_endline": "975", "method_complexity": {"method_NLOC": "25", "method_CCN": "11", "method_NToken": "237", "method_nesting_level": "1"}}}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "tests\\python\\unittest\\test_deferred_compute.py", "file_new_name": "tests\\python\\unittest\\test_deferred_compute.py", "file_complexity": {"file_NLOC": "346", "file_CCN": "113", "file_NToken": "3369"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "417,418,419,420,421", "deleted_lines": null, "method_info": {"method_name": "_assert_dc_gluon", "method_params": "setup,net,setup_is_deterministic,numpy,autograd", "method_startline": "382", "method_endline": "424", "method_complexity": {"method_NLOC": "20", "method_CCN": "9", "method_NToken": "182", "method_nesting_level": "0"}}}}}}}}