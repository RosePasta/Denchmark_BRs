{"BR": {"BR_id": "18712", "BR_author": "xidulu", "BRopenT": "2020-07-14T13:46:36Z", "BRcloseT": "2020-10-12T05:19:16Z", "BR_text": {"BRsummary": "Auto-encoder example out of date", "BRdescription": "\n CNN Autoencoder under the example folder is till using the \"old\" api:\n 1 net = gluon.nn.HybridSequential(prefix='autoencoder_')\n      2 with net.name_scope():\n       3     # Encoder 1x28x28 -> 32x1x1\n       4     encoder = gluon.nn.HybridSequential(prefix='encoder_')\n       5     with encoder.name_scope():\n which would cause:\n TypeError: __init__() got an unexpected keyword argument 'prefix'\n when using the nightly version of MXNet.\n <denchmark-h:h2>Reference</denchmark-h>\n \n <denchmark-link:https://github.com/apache/incubator-mxnet/blob/master/example/autoencoder/convolutional_autoencoder.ipynb>https://github.com/apache/incubator-mxnet/blob/master/example/autoencoder/convolutional_autoencoder.ipynb</denchmark-link>\n \n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "xidulu", "commentT": "2020-07-16T02:44:39Z", "comment_text": "\n \t\tI think in addition to fixing the example, we need a mechanism to detect such problems. I started a discussion for managing examples in <denchmark-link:https://lists.apache.org/thread.html/rf0c95283d86cce60f98943f7d6e3387d6bad180a621bd939a1b2960f%40%3Cdev.mxnet.apache.org%3E>https://lists.apache.org/thread.html/rf0c95283d86cce60f98943f7d6e3387d6bad180a621bd939a1b2960f%40%3Cdev.mxnet.apache.org%3E</denchmark-link>\n \n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "xidulu", "commentT": "2020-10-09T10:47:33Z", "comment_text": "\n \t\tHi <denchmark-link:https://github.com/szha>@szha</denchmark-link>\n   Can I take this up?\n \t\t"}, "comments_2": {"comment_id": 3, "comment_author": "xidulu", "commentT": "2020-10-09T11:00:53Z", "comment_text": "\n \t\t\n Hi @szha  Can I take this up?\n \n You are more than welcome to fix this issue.\n \t\t"}, "comments_3": {"comment_id": 4, "comment_author": "xidulu", "commentT": "2020-10-09T16:57:28Z", "comment_text": "\n \t\tHi <denchmark-link:https://github.com/xidulu>@xidulu</denchmark-link>\n \n There is no argument named as  in the  class written in file <denchmark-link:https://github.com/apache/incubator-mxnet/blob/master/python/mxnet/gluon/nn/basic_layers.py>https://github.com/apache/incubator-mxnet/blob/master/python/mxnet/gluon/nn/basic_layers.py</denchmark-link>\n \n The code in the Auto-encoder example should be changed to:\n <denchmark-code>with net.name_scope():\n     # Encoder 1x28x28 -> 32x1x1\n     encoder = gluon.nn.HybridSequential()\n     with encoder.name_scope():\n         encoder.add(\n             gluon.nn.Conv2D(channels=4, kernel_size=3, padding=1, strides=(2,2), activation='relu'),\n             gluon.nn.BatchNorm(),\n             gluon.nn.Conv2D(channels=8, kernel_size=3, padding=1, strides=(2,2), activation='relu'),\n             gluon.nn.BatchNorm(),\n             gluon.nn.Conv2D(channels=16, kernel_size=3, padding=1, strides=(2,2), activation='relu'),\n             gluon.nn.BatchNorm(),\n             gluon.nn.Conv2D(channels=32, kernel_size=3, padding=0, strides=(2,2),activation='relu'),\n             gluon.nn.BatchNorm()\n         )\n     decoder = gluon.nn.HybridSequential()\n </denchmark-code>\n \n Am I doing it right?\n \t\t"}, "comments_4": {"comment_id": 5, "comment_author": "xidulu", "commentT": "2020-10-09T17:34:32Z", "comment_text": "\n \t\tYou don't need the name_scope anymore. You can just use\n <denchmark-code>encoder = gluon.nn.HybridSequential()\n encoder.add(\n             gluon.nn.Conv2D(channels=4, kernel_size=3, padding=1, strides=(2,2), activation='relu'),\n             gluon.nn.BatchNorm(),\n             gluon.nn.Conv2D(channels=8, kernel_size=3, padding=1, strides=(2,2), activation='relu'),\n             gluon.nn.BatchNorm(),\n             gluon.nn.Conv2D(channels=16, kernel_size=3, padding=1, strides=(2,2), activation='relu'),\n             gluon.nn.BatchNorm(),\n             gluon.nn.Conv2D(channels=32, kernel_size=3, padding=0, strides=(2,2),activation='relu'),\n             gluon.nn.BatchNorm()\n         )\n decoder = gluon.nn.HybridSequential()\n </denchmark-code>\n \n \t\t"}, "comments_5": {"comment_id": 6, "comment_author": "xidulu", "commentT": "2020-10-09T17:37:28Z", "comment_text": "\n \t\tHi <denchmark-link:https://github.com/leezu>@leezu</denchmark-link>\n  Thanks! I will make the required changes and open a pull request.\n \t\t"}}}, "commit": {"commit_id": "4dc99472a510299017ed19347ed6d41f2f6680d2", "commit_author": "Aditya Trivedi", "commitT": "2020-10-12 13:19:11+08:00", "commit_complexity": {"commit_NLOC": "None", "commit_CCN": "None", "commit_Nprams": "None"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "CONTRIBUTORS.md", "file_new_name": "CONTRIBUTORS.md", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "140", "deleted_lines": null}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "example\\autoencoder\\convolutional_autoencoder.ipynb", "file_new_name": "example\\autoencoder\\convolutional_autoencoder.ipynb", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,140", "deleted_lines": "111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,145"}}}}}}