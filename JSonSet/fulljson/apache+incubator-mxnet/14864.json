{"BR": {"BR_id": "14864", "BR_author": "araitats", "BRopenT": "2019-05-02T21:55:09Z", "BRcloseT": "2019-05-03T17:40:06Z", "BR_text": {"BRsummary": "[MXNet] - [BERT]", "BRdescription": "\n <denchmark-link:https://github.com/dmlc/gluon-nlp/issues/690>dmlc/gluon-nlp#690</denchmark-link>\n \n <denchmark-h:h2>Description</denchmark-h>\n \n There is a problem with a custom BERT model training with the later version of MXNet 1.5.0 (observed with cu90).\n mlm_loss stops around 7.3 and nsp_acc stopps around 54.\n mxnet-cu90 version which is older than 1.5.0b20190425 does not have this issue.\n 1.5.0b20190426 onward has this issue.\n <denchmark-h:h2>Environment info (Required)</denchmark-h>\n \n Amazon SageMaker Notebook (ml.p3.16xlarge)\n CUDA version: 9.0\n Package used (Python/R/Scala/Julia):\n Python 3.6\n \t"}, "comments": {}}, "commit": {"commit_id": "204f3f2de812e99ca64c8464f3b9e652719ec67d", "commit_author": "Anirudh", "commitT": "2019-05-03 10:40:05-07:00", "commit_complexity": {"commit_NLOC": "1.0", "commit_CCN": "1.0", "commit_Nprams": "1.0"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 3, "file_old_name": "src\\executor\\attach_op_execs_pass.cc", "file_new_name": "src\\executor\\attach_op_execs_pass.cc", "file_complexity": {"file_NLOC": "269", "file_CCN": "48", "file_NToken": "1973"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "264", "deleted_lines": "264,305,306,307,308", "method_info": {"method_name": "mxnet::exec::CreateOpExecs", "method_params": "g,p_ret,p_state,i", "method_startline": "264", "method_endline": "358", "method_complexity": {"method_NLOC": "87", "method_CCN": "15", "method_NToken": "877", "method_nesting_level": "2"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "362", "deleted_lines": "366", "method_info": {"method_name": "mxnet::exec::AttachOpExecs", "method_params": "g", "method_startline": "358", "method_endline": "366", "method_complexity": {"method_NLOC": "9", "method_CCN": "2", "method_NToken": "80", "method_nesting_level": "2"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "264", "deleted_lines": "264,305,306,307,308", "method_info": {"method_name": "mxnet::exec::CreateOpExecs", "method_params": "g,p_ret,i", "method_startline": "264", "method_endline": "354", "method_complexity": {"method_NLOC": "83", "method_CCN": "14", "method_NToken": "847", "method_nesting_level": "2"}}}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "src\\executor\\exec_pass.h", "file_new_name": "src\\executor\\exec_pass.h", "file_complexity": {"file_NLOC": "92", "file_CCN": "9", "file_NToken": "692"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "120", "deleted_lines": "101,102,103,104,105,106,124,127"}}}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 3, "file_old_name": "src\\imperative\\cached_op.cc", "file_new_name": "src\\imperative\\cached_op.cc", "file_complexity": {"file_NLOC": "1209", "file_CCN": "238", "file_NToken": "11768"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "288", "deleted_lines": "288", "method_info": {"method_name": "mxnet::CachedOp::CheckDynamicShapeExists", "method_params": "default_ctx,inputs,erase_result", "method_startline": "265", "method_endline": "293", "method_complexity": {"method_NLOC": "24", "method_CCN": "3", "method_NToken": "175", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "606", "deleted_lines": "606", "method_info": {"method_name": "mxnet::CachedOp::StaticInitExec", "method_params": "state_ptr,recording,keep_fwd", "method_startline": "572", "method_endline": "645", "method_complexity": {"method_NLOC": "63", "method_CCN": "22", "method_NToken": "569", "method_nesting_level": "1"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "708,709", "deleted_lines": "708,709,710,711", "method_info": {"method_name": "mxnet::CachedOp::StaticRunOps", "method_params": "default_ctx,g,state_ptr,state_arrays,start_nid,end_nid", "method_startline": "647", "method_endline": "726", "method_complexity": {"method_NLOC": "76", "method_CCN": "14", "method_NToken": "761", "method_nesting_level": "1"}}}}}, "file_3": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "src\\imperative\\imperative_utils.h", "file_new_name": "src\\imperative\\imperative_utils.h", "file_complexity": {"file_NLOC": "889", "file_CCN": "193", "file_NToken": "8391"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "598,599,600,601,603,604,605,606,607,608,610,611,612,614", "deleted_lines": "598,600,601,602,603,604,605,606,607,608,609,611", "method_info": {"method_name": "mxnet::imperative::CheckAndInferShape", "method_params": "p_g,shapes,use_inputs,node_range,entry_range,contain_unknown", "method_startline": "588", "method_endline": "636", "method_complexity": {"method_NLOC": "49", "method_CCN": "15", "method_NToken": "435", "method_nesting_level": "2"}}}}}}}}