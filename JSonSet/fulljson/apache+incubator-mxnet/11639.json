{"BR": {"BR_id": "11639", "BR_author": "starimpact", "BRopenT": "2018-07-11T03:56:41Z", "BRcloseT": "2018-10-31T18:26:49Z", "BR_text": {"BRsummary": "some big numbers can not be assigned correctly with ndarray, it is a big bug???", "BRdescription": "\n code:\n   1 import sys\n   2 sys.path.insert(0, '/home/mingzhang/work/dmlc/mxnet_v0.8.0.python')\n   3\n   4 import mxnet as mx\n   5 import numpy as np\n   6\n   7 a = mx.nd.zeros((4, 1), dtype=np.int32)\n   8 a[1,0] = int(16800001)\n   9 a[2,0] = int(16800002)\n  10 b = a.asnumpy()\n  11 print b.T, b.dtype\n  12 c = a-1\n  13 b = c.asnumpy()\n  14 print b.T, b.dtype\n output:\n [[       0 16800000 16800002        0]] int32\n [[      -1 16799999 16800001       -1]] int32\n 16800001 can not be assigned correctly!\n the problem is also in mxnet v1.0 and v1.2\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "starimpact", "commentT": "2018-07-11T03:58:41Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/tqchen>@tqchen</denchmark-link>\n  <denchmark-link:https://github.com/piiswrong>@piiswrong</denchmark-link>\n \n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "starimpact", "commentT": "2018-07-11T04:04:49Z", "comment_text": "\n \t\treproducible on master\n \t\t"}, "comments_2": {"comment_id": 3, "comment_author": "starimpact", "commentT": "2018-07-12T03:28:22Z", "comment_text": "\n \t\tThis is a problem of using  by passing big integers to the backend from frontend. In this case,  becomes . That's why  is missing. I think we can add a  field in the  operator and use that to pass integers. <denchmark-link:https://github.com/piiswrong>@piiswrong</denchmark-link>\n  What do you think?\n \t\t"}, "comments_3": {"comment_id": 4, "comment_author": "starimpact", "commentT": "2018-10-23T06:43:56Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/reminisce>@reminisce</denchmark-link>\n  I have fixed this issue by using a double data type to hold large integers. Please help to review the fix. Thanks.\n \t\t"}, "comments_4": {"comment_id": 5, "comment_author": "starimpact", "commentT": "2018-10-25T23:54:30Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/sandeep-krishnamurthy>@sandeep-krishnamurthy</denchmark-link>\n  <denchmark-link:https://github.com/nswamy>@nswamy</denchmark-link>\n  This issue is fixed. Please close it. Thanks!\n \t\t"}}}, "commit": {"commit_id": "ffe551e7c3ad3accbac1d78b53990a544e1331de", "commit_author": "Lin Yuan", "commitT": "2018-10-25 15:14:42-07:00", "commit_complexity": {"commit_NLOC": "1.0", "commit_CCN": "1.0", "commit_Nprams": "1.0"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "src\\operator\\tensor\\matrix_op-inl.h", "file_new_name": "src\\operator\\tensor\\matrix_op-inl.h", "file_complexity": {"file_NLOC": "2098", "file_CCN": "309", "file_NToken": "20126"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "995", "deleted_lines": "995"}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "tests\\python\\unittest\\test_ndarray.py", "file_new_name": "tests\\python\\unittest\\test_ndarray.py", "file_complexity": {"file_NLOC": "1242", "file_CCN": "186", "file_NToken": "16988"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "1358,1359,1360,1361,1362,1363,1364,1365,1366,1367", "deleted_lines": null, "method_info": {"method_name": "test_assign_large_int_to_ndarray", "method_params": "", "method_startline": "1358", "method_endline": "1367", "method_complexity": {"method_NLOC": "9", "method_CCN": "1", "method_NToken": "90", "method_nesting_level": "0"}}}}}}}}