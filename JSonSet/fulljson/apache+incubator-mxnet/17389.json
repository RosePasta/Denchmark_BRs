{"BR": {"BR_id": "17389", "BR_author": "reminisce", "BRopenT": "2020-01-21T06:47:26Z", "BRcloseT": "2020-02-06T06:04:22Z", "BR_text": {"BRsummary": "Indexing ndarray should give empty array output", "BRdescription": "\n <denchmark-h:h2>Description</denchmark-h>\n \n When indexing an ndarray with an index greater than the dim size, it should produce an empty ndarray as in NumPy, instead of throwing an error.\n >>> import mxnet as mx\n >>> mx.npx.set_np()\n >>> a = mx.np.arange(1)\n >>> a\n array([0.])\n >>> a[1:]  # index exceeds dim size, should result in an empty array instead of throwing an error\n Traceback (most recent call last):\n   File \"<stdin>\", line 1, in <module>\n   File \"/home/ubuntu/unison/mxnet4/cpu/python/mxnet/numpy/multiarray.py\", line 663, in __getitem__\n     return self._slice(key.start, key.stop)\n   File \"/home/ubuntu/unison/mxnet4/cpu/python/mxnet/ndarray/ndarray.py\", line 1343, in _slice\n     start, stop, _ = _get_index_range(start, stop, self.shape[0])\n   File \"/home/ubuntu/unison/mxnet4/cpu/python/mxnet/ndarray/ndarray.py\", line 3100, in _get_index_range\n     raise IndexError('Slicing start %d exceeds limit of %d' % (start, length))\n IndexError: Slicing start 1 exceeds limit of 1\n >>> a.asnumpy()[1:]  # Okay in NumPy\n array([], dtype=float32)\n >>> a\n array([0.])\n >>> \n <denchmark-link:https://github.com/Alicia1529>@Alicia1529</denchmark-link>\n \n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "reminisce", "commentT": "2020-02-06T06:04:22Z", "comment_text": "\n \t\tFixed in <denchmark-link:https://github.com/apache/incubator-mxnet/pull/17391>#17391</denchmark-link>\n \n \t\t"}}}, "commit": {"commit_id": "8e0dc928928f708b0b11e277ac0b7a8e5fffa45d", "commit_author": "alicia", "commitT": "2020-02-05 22:03:29-08:00", "commit_complexity": {"commit_NLOC": "0.8666666666666667", "commit_CCN": "1.0", "commit_Nprams": "1.0"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "python\\mxnet\\ndarray\\ndarray.py", "file_new_name": "python\\mxnet\\ndarray\\ndarray.py", "file_complexity": {"file_NLOC": "1743", "file_CCN": "595", "file_NToken": "13933"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "3098,3100,3113,3115", "deleted_lines": "3098,3100,3113,3115", "method_info": {"method_name": "_get_index_range", "method_params": "start,stop,length,step", "method_startline": "3077", "method_endline": "3117", "method_complexity": {"method_NLOC": "30", "method_CCN": "14", "method_NToken": "135", "method_nesting_level": "0"}}}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "tests\\python\\unittest\\test_numpy_ndarray.py", "file_new_name": "tests\\python\\unittest\\test_numpy_ndarray.py", "file_complexity": {"file_NLOC": "1093", "file_CCN": "259", "file_NToken": "12130"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "685,686,687,688,689,690,691,692,693,694,695,696,697,698,699,1004", "deleted_lines": null, "method_info": {"method_name": "test_np_ndarray_indexing", "method_params": "", "method_startline": "633", "method_endline": "1004", "method_complexity": {"method_NLOC": "193", "method_CCN": "5", "method_NToken": "3179", "method_nesting_level": "0"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "685,686,687,688,689,690,691,692,693,694,695,696,697,698", "deleted_lines": null, "method_info": {"method_name": "test_np_ndarray_indexing.test_getitem_slice_bound", "method_params": "", "method_startline": "685", "method_endline": "698", "method_complexity": {"method_NLOC": "13", "method_CCN": "1", "method_NToken": "165", "method_nesting_level": "1"}}}}}}}}