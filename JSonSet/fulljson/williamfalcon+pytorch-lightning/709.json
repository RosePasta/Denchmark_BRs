{"BR": {"BR_id": "709", "BR_author": "borisdayma", "BRopenT": "2020-01-19T02:35:32Z", "BRcloseT": "2020-01-24T10:04:37Z", "BR_text": {"BRsummary": "imagenet_example cannot run", "BRdescription": "\n \ud83d\udc1b Bug\n imagenet_example cannot be executed\n <denchmark-h:h3>To Reproduce</denchmark-h>\n \n Steps to reproduce the behavior:\n \n Download imagenet\n cd pl_examples/full_examples/imagenet\n python imagenet_example.py --data-path imagenet_path\n \n Error:\n <denchmark-code>Traceback (most recent call last):\n   File \"imagenet_example.py\", line 248, in <module>\n     main(get_args())\n   File \"imagenet_example.py\", line 229, in main\n     model = ImageNetLightningModel(hparams)\n TypeError: Can't instantiate abstract class ImageNetLightningModel with abstract methods forward\n </denchmark-code>\n \n <denchmark-h:h3>Expected behavior</denchmark-h>\n \n The example should run.\n <denchmark-h:h3>Environment</denchmark-h>\n \n PyTorch version: 1.3.1\n Is debug build: No\n CUDA used to build PyTorch: 10.1.243\n OS: Ubuntu 18.04.3 LTS\n GCC version: (Ubuntu 7.4.0-1ubuntu1~18.04.1) 7.4.0\n CMake version: Could not collect\n Python version: 3.7\n Is CUDA available: Yes\n CUDA runtime version: Could not collect\n GPU models and configuration: GPU 0: GeForce RTX 2080 Ti\n Nvidia driver version: 440.44\n cuDNN version: Could not collect\n Versions of relevant libraries:\n [pip3] numpy==1.18.1\n [pip3] pytorch-lightning==0.6.0\n [pip3] torch==1.3.1\n [pip3] torchvision==0.4.2\n [conda] blas                      1.0                         mkl\n [conda] mkl                       2019.4                      243\n [conda] mkl-service               2.3.0            py37he904b0f_0\n [conda] mkl_fft                   1.0.14           py37ha843d7b_0\n [conda] mkl_random                1.1.0            py37hd6b4f25_0\n <denchmark-h:h3>Additional context</denchmark-h>\n \n I suspect that there was breaking changes in the API and that the example is obsolete as the method forward is now expected.\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "borisdayma", "commentT": "2020-01-21T12:20:49Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/neggert>@neggert</denchmark-link>\n  <denchmark-link:https://github.com/Borda>@Borda</denchmark-link>\n  let's remove forward from being abstract?\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "borisdayma", "commentT": "2020-01-21T17:42:27Z", "comment_text": "\n \t\tI did a local fix for now by updating line 39 from output = self.model(images) to output = self.forward(images) and my forward function is just calling self.model\n <denchmark-code>def forward(self, x):\n         return self.model(x)\n </denchmark-code>\n \n Also following issues also exist\n \n Argument 'seed' must not be None as it breaks tensorboard writer.\n Argument 'data' might have been updated to 'data_path' recently but there are references to hparams.data in the dataloaders.\n \n After fixing all three, I was able to run the example.\n I can create a PR if required.\n \t\t"}, "comments_2": {"comment_id": 3, "comment_author": "borisdayma", "commentT": "2020-01-21T17:53:03Z", "comment_text": "\n \t\tPR please!\n \t\t"}}}, "commit": {"commit_id": "eeb48ceb965f0cc140728676a3bb77e7271d9e35", "commit_author": "Harsh Sharma", "commitT": "2020-01-21 16:35:42-05:00", "commit_complexity": {"commit_NLOC": "1.0", "commit_CCN": "1.0", "commit_Nprams": "1.0"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 7, "file_old_name": "pl_examples\\full_examples\\imagenet\\imagenet_example.py", "file_new_name": "pl_examples\\full_examples\\imagenet\\imagenet_example.py", "file_complexity": {"file_NLOC": "205", "file_CCN": "24", "file_NToken": "1498"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "220", "deleted_lines": "217", "method_info": {"method_name": "get_args", "method_params": "", "method_startline": "210", "method_endline": "226", "method_complexity": {"method_NLOC": "16", "method_CCN": "1", "method_NToken": "152", "method_nesting_level": "0"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "168", "deleted_lines": "165", "method_info": {"method_name": "val_dataloader", "method_params": "self", "method_startline": "163", "method_endline": "180", "method_complexity": {"method_NLOC": "18", "method_CCN": "1", "method_NToken": "126", "method_nesting_level": "1"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "65", "deleted_lines": null, "method_info": {"method_name": "validation_step", "method_params": "self,batch,batch_idx", "method_startline": "63", "method_endline": "81", "method_complexity": {"method_NLOC": "15", "method_CCN": "3", "method_NToken": "110", "method_nesting_level": "1"}}}, "hunk_3": {"Ismethod": 1, "added_lines": "138", "deleted_lines": "135", "method_info": {"method_name": "train_dataloader", "method_params": "self", "method_startline": "132", "method_endline": "160", "method_complexity": {"method_NLOC": "26", "method_CCN": "2", "method_NToken": "161", "method_nesting_level": "1"}}}, "hunk_4": {"Ismethod": 1, "added_lines": "42", "deleted_lines": null, "method_info": {"method_name": "training_step", "method_params": "self,batch,batch_idx", "method_startline": "40", "method_endline": "61", "method_complexity": {"method_NLOC": "18", "method_CCN": "3", "method_NToken": "124", "method_nesting_level": "1"}}}, "hunk_5": {"Ismethod": 1, "added_lines": "37,38", "deleted_lines": null, "method_info": {"method_name": "forward", "method_params": "self,x", "method_startline": "37", "method_endline": "38", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "14", "method_nesting_level": "1"}}}, "hunk_6": {"Ismethod": 1, "added_lines": "191", "deleted_lines": "188", "method_info": {"method_name": "add_model_specific_args", "method_params": "parent_parser", "method_startline": "183", "method_endline": "207", "method_complexity": {"method_NLOC": "25", "method_CCN": "1", "method_NToken": "220", "method_nesting_level": "1"}}}}}}}}