{"BR": {"BR_id": "1501", "BR_author": "alex23lemm", "BRopenT": "2020-05-16T10:33:07Z", "BRcloseT": "2020-05-26T15:43:51Z", "BR_text": {"BRsummary": "S3Downloader.list() returns malformed URIs under Windows", "BRdescription": "\n Describe the bug\n Instead of a / after the bucket name S3Downloader.list() adds \\\\ when constructing the URI under Windows resulting in an address that looks as follows:\n s3://bucket_name\\\\models/output/model.tar.gz\n To reproduce\n I assume that you have set up your credentials underneath ~/.aws on your Windows machine.\n \n On your machine install Miniconda https://docs.conda.io/en/latest/miniconda.html\n Open the Anaconda Prompt and execute the following commands to set up a test environment:\n \n <denchmark-code>conda create --name sagemaker-test\n conda activate sagemaker-test\n conda install pip\n pip install sagemaker\n </denchmark-code>\n \n \n Save the following Python script underneath C:\\examples\\s3downlader.py and modify the S3 URI to test it against your S3 bucket:\n \n import sagemaker\n \n s3_downloader = sagemaker.s3.S3Downloader()\n output_path = \"s3://[YOUR BUCKET NAME]/models/\"\n print(s3_downloader.list(output_path))\n \n Back in Anaconda Prompt, execute the following command:\n \n <denchmark-code>python c:\\examples\\s3downloader.py\n </denchmark-code>\n \n \n In my case the result looks as follows:\n \n <denchmark-code>['s3://[REMOVED_MY_BUCKET_NAME]\\\\models/sagemaker-train-xgboost-15-May-2020-10-41-44/output/model.tar.gz',\n  's3://[REMOVED_MY_BUCKET_NAME]\\\\models/sagemaker-train-xgboost-15-May-2020-10-41-44/predictions/taxi_test.csv.out']\n </denchmark-code>\n \n Expected behavior\n In contrast, when I execute the Python script above in a SageMaker notebook, everything works as expected and the response looks as follows:\n <denchmark-code>['s3://[REMOVED_MY_BUCKET_NAME]/models/sagemaker-train-xgboost-15-May-2020-10-41-44/output/model.tar.gz',\n  's3://[REMOVED_MY_BUCKET_NAME]/models/sagemaker-train-xgboost-15-May-2020-10-41-44/predictions/taxi_test.csv.out']\n </denchmark-code>\n \n System information\n A description of your system. Please provide:\n \n SageMaker Python SDK version: 1.58.2\n Python version: 3.7\n OS: Windows 10\n \n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "alex23lemm", "commentT": "2020-05-21T19:02:27Z", "comment_text": "\n \t\tI've merged a PR to fix this: <denchmark-link:https://github.com/aws/sagemaker-python-sdk/pull/1520>#1520</denchmark-link>\n . This should be released on Monday morning.\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "alex23lemm", "commentT": "2020-05-26T15:43:50Z", "comment_text": "\n \t\treleased in <denchmark-link:https://github.com/aws/sagemaker-python-sdk/releases/tag/v1.60.0>v1.60.0</denchmark-link>\n \n \t\t"}}}, "commit": {"commit_id": "e86da62979b3b29af89cadacfb227236cefdc4da", "commit_author": "Lauren Yu", "commitT": "2020-05-21 12:01:37-07:00", "commit_complexity": {"commit_NLOC": "None", "commit_CCN": "None", "commit_Nprams": "None"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "src\\sagemaker\\s3.py", "file_new_name": "src\\sagemaker\\s3.py", "file_complexity": {"file_NLOC": "72", "file_CCN": "22", "file_NToken": "477"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "186", "deleted_lines": null, "method_info": {"method_name": "list", "method_params": "s3_uri,session", "method_startline": "167", "method_endline": "186", "method_complexity": {"method_NLOC": "7", "method_CCN": "4", "method_NToken": "66", "method_nesting_level": "1"}}}}}}}}