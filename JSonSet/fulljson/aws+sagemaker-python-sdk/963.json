{"BR": {"BR_id": "963", "BR_author": "markpurser", "BRopenT": "2019-08-01T10:47:04Z", "BRcloseT": "2019-08-15T18:01:38Z", "BR_text": {"BRsummary": "PipelineModel deploy method cannot find update_endpoint argument", "BRdescription": "\n Please fill out the form below.\n <denchmark-h:h3>System Information</denchmark-h>\n \n \n Framework (e.g. TensorFlow) / Algorithm (e.g. KMeans):\n SKLearn with kNN\n Framework Version:\n Python Version:\n Python 3\n CPU or GPU:\n CPU\n Python SDK Version:\n Are you using a custom image:\n No\n \n <denchmark-h:h3>Describe the problem</denchmark-h>\n \n I want to update an endpoint that already exists when deploying from a PipelineModel. The update_endpoint flag is supported on Estimators.deploy but not on PipelineModel.deploy\n <denchmark-h:h3>Minimal repro / logs</denchmark-h>\n \n <denchmark-h:hr></denchmark-h>\n \n TypeError                                 Traceback (most recent call last)\n  in ()\n 22                 instance_type='ml.t2.medium',\n 23                 endpoint_name=endpoint_name,\n ---> 24                 update_endpoint=True)\n TypeError: deploy() got an unexpected keyword argument 'update_endpoint'\n \n Exact command to reproduce:\n model_name = 'inference-pipeline-' + timestamp_prefix\n endpoint_name = 'sagemaker-ep'\n sm_model = PipelineModel(\n name=model_name,\n role=role,\n models=[\n sklearn_preprocessor_model,\n sklearn_estimator_model])\n \n sm_model.deploy(initial_instance_count=1,\n instance_type='ml.t2.medium',\n endpoint_name=endpoint_name,\n update_endpoint=True)\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "markpurser", "commentT": "2019-08-14T16:19:49Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/markpurser>@markpurser</denchmark-link>\n \n Hi Mark!\n There was a separate issue blocking this, which I was able to resolve earlier this week.\n Ujjwal beat me to the actual update_endpoint fix, which he pushed just a minute ago.\n (Thanks Ujjwal!)\n This'll be automatically released to PyPi within the next day or so (1.36.5) =)\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "markpurser", "commentT": "2019-08-14T16:21:13Z", "comment_text": "\n \t\tI'm going to go ahead and keep this issue open until the release is available for consumption.\n \t\t"}, "comments_2": {"comment_id": 3, "comment_author": "markpurser", "commentT": "2019-08-15T18:01:38Z", "comment_text": "\n \t\tI triggered a release for this earlier this morning: <denchmark-link:https://github.com/aws/sagemaker-python-sdk/releases/tag/v1.37.0>https://github.com/aws/sagemaker-python-sdk/releases/tag/v1.37.0</denchmark-link>\n \n Thanks again for reaching out and pointing this out to us!\n \t\t"}}}, "commit": {"commit_id": "75f3554564e1cf8a8fbf27d7b60bc07442a2a699", "commit_author": "Ujjwal Bhardwaj", "commitT": "2019-08-14 09:12:01-07:00", "commit_complexity": {"commit_NLOC": "0.06521739130434782", "commit_CCN": "1.0", "commit_Nprams": "0.6086956521739131"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "src\\sagemaker\\pipeline.py", "file_new_name": "src\\sagemaker\\pipeline.py", "file_complexity": {"file_NLOC": "104", "file_CCN": "9", "file_NToken": "542"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "86", "deleted_lines": "86", "method_info": {"method_name": "deploy", "method_params": "self,initial_instance_count,instance_type,endpoint_name,tags,wait", "method_startline": "85", "method_endline": "86", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "19", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "86,87,88,89,90,91,92", "deleted_lines": "86", "method_info": {"method_name": "deploy", "method_params": "self,initial_instance_count,instance_type,endpoint_name,tags,wait,update_endpoint", "method_startline": "85", "method_endline": "92", "method_complexity": {"method_NLOC": "8", "method_CCN": "1", "method_NToken": "24", "method_nesting_level": "1"}}}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "tests\\integ\\test_inference_pipeline.py", "file_new_name": "tests\\integ\\test_inference_pipeline.py", "file_complexity": {"file_NLOC": "182", "file_CCN": "6", "file_NToken": "1100"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216", "deleted_lines": null, "method_info": {"method_name": "test_inference_pipeline_model_deploy_with_update_endpoint", "method_params": "sagemaker_session", "method_startline": "154", "method_endline": "216", "method_complexity": {"method_NLOC": "56", "method_CCN": "4", "method_NToken": "344", "method_nesting_level": "0"}}}}}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "tests\\unit\\test_pipeline_model.py", "file_new_name": "tests\\unit\\test_pipeline_model.py", "file_complexity": {"file_NLOC": "256", "file_CCN": "11", "file_NToken": "1287"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194", "deleted_lines": null, "method_info": {"method_name": "test_deploy_update_endpoint", "method_params": "tfo,time,sagemaker_session", "method_startline": "164", "method_endline": "194", "method_complexity": {"method_NLOC": "30", "method_CCN": "1", "method_NToken": "150", "method_nesting_level": "0"}}}}}}}}