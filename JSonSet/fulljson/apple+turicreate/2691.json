{"BR": {"BR_id": "2691", "BR_author": "srikris", "BRopenT": "2019-11-20T02:44:29Z", "BRcloseT": "2019-11-21T18:13:40Z", "BR_text": {"BRsummary": "Drawing classifier crashes on master with no validation set option", "BRdescription": "\n Following the user guide dataset, here is the error I get on drawing classifier\n <denchmark-code>import turicreate as tc\n \n # Try any one of the following\n SFRAME_PATH = \"sframes/bitmap_square_triangle.sframe\"\n \n # Load the data\n data =  tc.SFrame(SFRAME_PATH)\n \n # Make a small train-test split since our toolkit is not very data-hungry \n # for 2 classes\n train_data, test_data = data.random_split(0.7)\n \n # Create a model\n model = tc.drawing_classifier.create(train_data, 'label')\n </denchmark-code>\n \n <denchmark-code>non-resource variables are not supported in the long term\n 2019-11-19 18:37:44.716262: I tensorflow/core/platform/cpu_feature_guard.cc:142] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA\n 2019-11-19 18:37:44.744622: I tensorflow/compiler/xla/service/service.cc:168] XLA service 0x7fecfae2e650 executing computations on platform Host. Devices:\n 2019-11-19 18:37:44.744651: I tensorflow/compiler/xla/service/service.cc:175]   StreamExecutor device (0): Host, Default Version\n Using CPU to create model\n +--------------+----------------+---------------------+--------------+\n | Iteration    | Train Accuracy | Validation Accuracy | Elapsed Time |\n +--------------+----------------+---------------------+--------------+\n ---------------------------------------------------------------------------\n RuntimeError                              Traceback (most recent call last)\n ~/miniconda3/envs/tc-6.0/lib/python3.6/site-packages/turicreate/extensions.py in __run_class_function(self, fnname, args, kwargs)\n     273         try:\n --> 274             ret = self._tkclass.call_function(fnname, argument_dict)\n     275         except RuntimeError as exc:\n \n cy_model.pyx in turicreate._cython.cy_model.UnityModel.call_function()\n \n cy_model.pyx in turicreate._cython.cy_model.UnityModel.call_function()\n \n RuntimeError: An error occurred: IndexError: arrays used as indices must be of integer (or boolean) type\n </denchmark-code>\n \n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "srikris", "commentT": "2019-11-20T02:45:16Z", "comment_text": "\n \t\tSeems to work when I disable validation set testing\n \t\t"}}}, "commit": {"commit_id": "485eee41f3bd5bc8379698630e887b56f36703ff", "commit_author": "Shreya Jain", "commitT": "2019-11-21 23:31:39+05:18", "commit_complexity": {"commit_NLOC": "1.0", "commit_CCN": "1.0", "commit_Nprams": "1.0"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "src\\python\\turicreate\\test\\test_drawing_classifier.py", "file_new_name": "src\\python\\turicreate\\test\\test_drawing_classifier.py", "file_complexity": {"file_NLOC": "323", "file_CCN": "78", "file_NToken": "2721"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "151,152,153,154", "deleted_lines": null, "method_info": {"method_name": "test_create_with_no_validation_set", "method_params": "self", "method_startline": "151", "method_endline": "154", "method_complexity": {"method_NLOC": "4", "method_CCN": "2", "method_NToken": "36", "method_nesting_level": "1"}}}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "src\\python\\turicreate\\toolkits\\drawing_classifier\\_tf_drawing_classifier.py", "file_new_name": "src\\python\\turicreate\\toolkits\\drawing_classifier\\_tf_drawing_classifier.py", "file_complexity": {"file_NLOC": "163", "file_CCN": "16", "file_NToken": "1668"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "182,183", "deleted_lines": "182", "method_info": {"method_name": "predict", "method_params": "self,feed_dict", "method_startline": "166", "method_endline": "197", "method_complexity": {"method_NLOC": "22", "method_CCN": "3", "method_NToken": "194", "method_nesting_level": "1"}}}}}}}}