{"BR": {"BR_id": "2094", "BR_author": "dhgokul", "BRopenT": "2019-06-27T20:53:56Z", "BRcloseT": "2019-06-27T23:25:31Z", "BR_text": {"BRsummary": "MAC - Turicreate tc.object_detector.util.draw_bounding_boxes error", "BRdescription": "\n <denchmark-link:https://github.com/srikris>@srikris</denchmark-link>\n  <denchmark-link:https://github.com/gustavla>@gustavla</denchmark-link>\n \n MAC - Install turicreate in virtual env and run the below code for prediction and visualise image with bounding box\n Got error as TypeError: cannot concatenate 'str' and 'exceptions.AttributeError' objects\n Code snippet :\n import turicreate as tc\n #load image\n test = tc.SFrame({'image': [tc.Image('amit1517.jpg')]})\n #load the model\n model = tc.load_model('mymodel.model')\n test['predictions'] = model.predict(test)\n print(test['predictions'])\n #this part work only on Mac\n test['image_with_predictions'] = \n tc.object_detector.util.draw_bounding_boxes(test['image'], #test['predictions'])\n test.explore()\n Error :\n Traceback (most recent call last):\n File \"test.py\", line 9, in \n <denchmark-code>test['image_with_predictions'] = tc.object_detector.util.draw_bounding_boxes(test['image'], test['predictions'])\n </denchmark-code>\n \n File \"/Users/test/venv/lib/python2.7/site-packages/turicreate/toolkits/object_detector/util/_visualization.py\", line 163, in draw_bounding_boxes\n <denchmark-code>annotated_images = sf.apply(draw_single_image)\n </denchmark-code>\n \n File \"/Users/test/venv/lib/python2.7/site-packages/turicreate/data_structures/sframe.py\", line 2479, in apply\n <denchmark-code>dryrun = [fn(row) for row in test_sf]\n </denchmark-code>\n \n File \"/Users/test/venv/lib/python2.7/site-packages/turicreate/toolkits/object_detector/util/_visualization.py\", line 155, in draw_single_image\n <denchmark-code>raise _ToolkitError(\"Received exception at row \" + str(row_number) + \": \" + e)\n </denchmark-code>\n \n TypeError: cannot concatenate 'str' and 'exceptions.AttributeError' objects\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "dhgokul", "commentT": "2019-06-27T22:04:08Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/dhgokul>@dhgokul</denchmark-link>\n  What version of TC are you using?\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "dhgokul", "commentT": "2019-06-27T23:29:37Z", "comment_text": "\n \t\tA quick fix is to edit the line to raise _ToolkitError(\"Received exception at row \" + str(row_number) + \": \" + str(e)) in your local code. This change will ship in our next version release of PyPI.\n \t\t"}}}, "commit": {"commit_id": "5b9b5d66eff591c8f6302de483f570f098a06e1d", "commit_author": "fareeha", "commitT": "2019-06-27 16:25:30-07:00", "commit_complexity": {"commit_NLOC": "None", "commit_CCN": "None", "commit_Nprams": "None"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "src\\python\\turicreate\\toolkits\\object_detector\\util\\_visualization.py", "file_new_name": "src\\python\\turicreate\\toolkits\\object_detector\\util\\_visualization.py", "file_complexity": {"file_NLOC": "107", "file_CCN": "18", "file_NToken": "950"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "155", "deleted_lines": "155", "method_info": {"method_name": "draw_bounding_boxes", "method_params": "images,annotations,confidence_threshold", "method_startline": "95", "method_endline": "164", "method_complexity": {"method_NLOC": "11", "method_CCN": "3", "method_NToken": "102", "method_nesting_level": "0"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "155", "deleted_lines": "155", "method_info": {"method_name": "draw_bounding_boxes.draw_single_image", "method_params": "row", "method_startline": "129", "method_endline": "156", "method_complexity": {"method_NLOC": "26", "method_CCN": "6", "method_NToken": "196", "method_nesting_level": "1"}}}}}}}}