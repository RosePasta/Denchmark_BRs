{"BR": {"BR_id": "2402", "BR_author": "guihao-liang", "BRopenT": "2019-10-04T17:33:00Z", "BRcloseT": "2019-10-18T16:36:48Z", "BR_text": {"BRsummary": "segfault when dropping words in text_classifier on table containing undefined values.", "BRdescription": "\n <denchmark-code>import turicreate as tc\n data = tc.SFrame.read_json('corpus.json', orient='records')\n model = tc.text_classifier.create(data, 'intent', features=['text'], word_count_threshold=1)\n </denchmark-code>\n \n The corpus.json has a trailing comma, which is invalid under json standard but we can parse it at our loose internal standard. It will introduce an extra row with all fields filled with undefined.\n <denchmark-code>[\n   {\n     \"intent\": \"getWeather\",\n     \"text\": \"Is it sunny outside\"\n   },\n ]\n </denchmark-code>\n \n \t"}, "comments": {}}, "commit": {"commit_id": "fa68156c7f503ad6373fc59ba2f11bfecf8a5d58", "commit_author": "Guihao Liang", "commitT": "2019-10-11 11:33:28-07:00", "commit_complexity": {"commit_NLOC": "0.6428571428571429", "commit_CCN": "0.8571428571428571", "commit_Nprams": "0.8571428571428571"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "src\\python\\turicreate\\test\\test_text_analytics.py", "file_new_name": "src\\python\\turicreate\\test\\test_text_analytics.py", "file_complexity": {"file_NLOC": "244", "file_CCN": "17", "file_NToken": "3565"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "152,153,154,155,156", "deleted_lines": null, "method_info": {"method_name": "test_drop_words", "method_params": "self", "method_startline": "146", "method_endline": "192", "method_complexity": {"method_NLOC": "32", "method_CCN": "1", "method_NToken": "293", "method_nesting_level": "1"}}}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "src\\python\\turicreate\\test\\test_text_classifier.py", "file_new_name": "src\\python\\turicreate\\test\\test_text_classifier.py", "file_complexity": {"file_NLOC": "180", "file_CCN": "22", "file_NToken": "1463"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "163,164,165,166,167,168,169,170,171,172,173,174", "deleted_lines": null, "method_info": {"method_name": "test_invalid_data_set", "method_params": "self", "method_startline": "163", "method_endline": "174", "method_complexity": {"method_NLOC": "9", "method_CCN": "1", "method_NToken": "121", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "39,40,41", "deleted_lines": "39,40,41", "method_info": {"method_name": "setUpClass", "method_params": "self", "method_startline": "29", "method_endline": "43", "method_complexity": {"method_NLOC": "13", "method_CCN": "1", "method_NToken": "102", "method_nesting_level": "1"}}}}}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "src\\python\\turicreate\\toolkits\\text_analytics\\_util.py", "file_new_name": "src\\python\\turicreate\\toolkits\\text_analytics\\_util.py", "file_complexity": {"file_NLOC": "163", "file_CCN": "39", "file_NToken": "2470"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "403,404,405,406,407", "deleted_lines": "403,404,405,406,407"}}}, "file_3": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "src\\toolkits\\feature_engineering\\word_trimmer.cpp", "file_new_name": "src\\toolkits\\feature_engineering\\word_trimmer.cpp", "file_complexity": {"file_NLOC": "385", "file_CCN": "76", "file_NToken": "2922"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "147,203,204,205,206", "deleted_lines": "135,136,137,138,151", "method_info": {"method_name": "turi::sdk_model::feature_engineering::word_trimmer_topk_index_mapping", "method_params": "src,indexer,to_lower,delimiters", "method_startline": "118", "method_endline": "217", "method_complexity": {"method_NLOC": "76", "method_CCN": "17", "method_NToken": "557", "method_nesting_level": "3"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "244,245,246", "deleted_lines": "257", "method_info": {"method_name": "turi::sdk_model::feature_engineering::word_trimmer_apply", "method_params": "input,indexer,to_lower,stopwords,delimiters", "method_startline": "230", "method_endline": "337", "method_complexity": {"method_NLOC": "89", "method_CCN": "25", "method_NToken": "709", "method_nesting_level": "3"}}}}}}}}