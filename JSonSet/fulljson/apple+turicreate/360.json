{"BR": {"BR_id": "360", "BR_author": "jchuter", "BRopenT": "2018-03-12T18:06:54Z", "BRcloseT": "2018-03-13T18:38:58Z", "BR_text": {"BRsummary": "[ERROR] turicreate.toolkits._main: Toolkit error: Column type of target 'rating' must be int or str.", "BRdescription": "\n Hi, I am getting this error.\n <denchmark-code>[ERROR] turicreate.toolkits._main: Toolkit error: Column type of target 'rating' must be int or str.\n Traceback (most recent call last):\n   File \"imdb_sent_turi.py\", line 45, in <module>\n     model = tc.sentence_classifier.create(dataset, 'rating', features=['text'])\n   File \"/Users/airphoenix/Desktop/aclImdb/sent_turi/lib/python3.6/site-packages/turicreate/toolkits/sentence_classifier/_sentence_classifier.py\", line 110, in create\n     validation_set=validation_set)\n   File \"/Users/airphoenix/Desktop/aclImdb/sent_turi/lib/python3.6/site-packages/turicreate/toolkits/classifier/logistic_classifier.py\", line 312, in create\n     seed=seed)\n   File \"/Users/airphoenix/Desktop/aclImdb/sent_turi/lib/python3.6/site-packages/turicreate/toolkits/_supervised_learning.py\", line 398, in create\n     options, verbose)\n   File \"/Users/airphoenix/Desktop/aclImdb/sent_turi/lib/python3.6/site-packages/turicreate/toolkits/_main.py\", line 84, in run\n     raise ToolkitError(str(message))\n turicreate.toolkits._main.ToolkitError: Column type of target 'rating' must be int or str.\n </denchmark-code>\n \n My ratings vector is derived from\n <denchmark-code>    with open(pf, \"r\") as f:\n         indexCounter = 0\n         review = f.read()\n         split_title = pf.split('_')\n         split_title2 = split_title[1].split('.')\n         rating = int(split_title2[0])\n \n         ratings_vector.append(rating)\n         reviews_vector.append(review)`\n \n </denchmark-code>\n \n and is, when printed, an array of ints.\n My code for the model is:\n <denchmark-code>dataset = {'rating': ratings_vector, 'text': reviews_vector}\n model = tc.sentence_classifier.create(dataset, 'rating', features=['text'])\n </denchmark-code>\n \n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "jchuter", "commentT": "2018-03-12T18:37:50Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/jchuter>@jchuter</denchmark-link>\n  - Sorry for the unhelpful error message. You need to create a <denchmark-link:https://apple.github.io/turicreate/docs/api/generated/turicreate.SFrame.html>SFrame</denchmark-link>\n  and then pass that to .\n So instead of\n dataset = {'rating': ratings_vector, 'text': reviews_vector}\n do\n dataset = tc.SFrame({'rating': ratings_vector, 'text': reviews_vector})\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "jchuter", "commentT": "2018-03-12T18:51:49Z", "comment_text": "\n \t\tLet's keep this issue open to track putting a better error message here when the input is not an SFrame.\n \t\t"}, "comments_2": {"comment_id": 3, "comment_author": "jchuter", "commentT": "2018-03-12T19:49:28Z", "comment_text": "\n \t\tMy mistake, and thanks for the response!\n \t\t"}}}, "commit": {"commit_id": "3964d20b1004c7b6b828b8b72dc60e13411dcde9", "commit_author": "Toby Roseman", "commitT": "2018-03-13 11:38:57-07:00", "commit_complexity": {"commit_NLOC": "1.0", "commit_CCN": "1.0", "commit_Nprams": "1.0"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "src\\unity\\python\\turicreate\\test\\test_logistic_classifier.py", "file_new_name": "src\\unity\\python\\turicreate\\test\\test_logistic_classifier.py", "file_complexity": {"file_NLOC": "1026", "file_CCN": "131", "file_NToken": "9362"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": null, "deleted_lines": "11,12,28,29,30"}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "src\\unity\\python\\turicreate\\test\\test_sentence_classifier.py", "file_new_name": "src\\unity\\python\\turicreate\\test\\test_sentence_classifier.py", "file_complexity": {"file_NLOC": "171", "file_CCN": "21", "file_NToken": "1337"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "208,209,210,211,212,213,214,215,216,217", "deleted_lines": null, "method_info": {"method_name": "test_not_sframe_create_error", "method_params": "self", "method_startline": "208", "method_endline": "217", "method_complexity": {"method_NLOC": "9", "method_CCN": "2", "method_NToken": "74", "method_nesting_level": "1"}}}}}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "src\\unity\\python\\turicreate\\toolkits\\sentence_classifier\\_sentence_classifier.py", "file_new_name": "src\\unity\\python\\turicreate\\toolkits\\sentence_classifier\\_sentence_classifier.py", "file_complexity": {"file_NLOC": "116", "file_CCN": "29", "file_NToken": "828"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "84", "deleted_lines": "82", "method_info": {"method_name": "create", "method_params": "dataset,target,features,method,validation_set", "method_startline": "33", "method_endline": "122", "method_complexity": {"method_NLOC": "29", "method_CCN": "7", "method_NToken": "179", "method_nesting_level": "0"}}}}}}}}