{"BR": {"BR_id": "2631", "BR_author": "srikris", "BRopenT": "2019-11-14T09:11:24Z", "BRcloseT": "2019-11-21T15:05:12Z", "BR_text": {"BRsummary": "Tensorflow prints out strange text", "BRdescription": "\n <denchmark-code>In [4]: model.export_coreml('tc-6.0-tc.mlmodel')\n WARNING:root:TensorFlow version 2.0.0 detected. Last version known to be fully compatible is 1.13.1 .\n 2019-11-14 01:08:03.327787: I tensorflow/core/platform/cpu_feature_guard.cc:142] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA\n 2019-11-14 01:08:03.370602: I tensorflow/compiler/xla/service/service.cc:168] XLA service 0x7fba90358970 executing computations on platform Host. Devices:\n 2019-11-14 01:08:03.370629: I tensorflow/compiler/xla/service/service.cc:175]   StreamExecutor device (0): Host, Default Version\n WARNING:tensorflow:No training configuration found in save file: the model was *not* compiled. Compile it manually.\n WARNING:tensorflow:No training configuration found in save file: the model was *not* compiled. Compile it manually.\n </denchmark-code>\n \n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "srikris", "commentT": "2019-11-15T14:36:47Z", "comment_text": "\n \t\tIt might be worth identifying if we can hide all the logs for TF in 6.0\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "srikris", "commentT": "2019-11-16T00:20:08Z", "comment_text": "\n \t\tThis line is from coremltools not TensorFlow:\n <denchmark-code>WARNING:root:TensorFlow version 2.0.0 detected. Last version known to be fully compatible is 1.13.1 .\n </denchmark-code>\n \n \t\t"}, "comments_2": {"comment_id": 3, "comment_author": "srikris", "commentT": "2019-11-18T07:01:57Z", "comment_text": "\n \t\tYes, that particular line from coremltools is not a regression from 5.8 but the other lines are from TensorFlow (the ones below)\n <denchmark-code>2019-11-14 01:08:03.327787: I tensorflow/core/platform/cpu_feature_guard.cc:142] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA\n 2019-11-14 01:08:03.370602: I tensorflow/compiler/xla/service/service.cc:168] XLA service 0x7fba90358970 executing computations on platform Host. Devices:\n 2019-11-14 01:08:03.370629: I tensorflow/compiler/xla/service/service.cc:175]   StreamExecutor device (0): Host, Default Version\n WARNING:tensorflow:No training configuration found in save file: the model was *not* compiled. Compile it manually.\n WARNING:tensorflow:No training configuration found in save file: the model was *not* compiled. Compile it manually.\n </denchmark-code>\n \n \t\t"}, "comments_3": {"comment_id": 4, "comment_author": "srikris", "commentT": "2019-11-18T19:57:24Z", "comment_text": "\n \t\tI believe even that line getting printed is a regression from 5.8. It was not getting printed in 5.8 because we were not using TensorFlow in 5.8. We should probably silence output of that line too.\n \t\t"}, "comments_4": {"comment_id": 5, "comment_author": "srikris", "commentT": "2019-11-18T22:14:02Z", "comment_text": "\n \t\tAnd I am supressing log from tensorflow and I had picked verbosity level to be error i.e. warnings should not be showing.\n \t\t"}, "comments_5": {"comment_id": 6, "comment_author": "srikris", "commentT": "2019-11-18T23:14:29Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/srikris>@srikris</denchmark-link>\n  Can you tell me which python were you using?\n \t\t"}, "comments_6": {"comment_id": 7, "comment_author": "srikris", "commentT": "2019-11-18T23:15:16Z", "comment_text": "\n \t\tPython 3.6 and Python 2.7. Do you not see this on master?\n \t\t"}, "comments_7": {"comment_id": 8, "comment_author": "srikris", "commentT": "2019-11-18T23:17:23Z", "comment_text": "\n \t\t<denchmark-code>In [1]: import turicreate as tc\n \n In [2]: data = tc.SFrame('/Users/shreya_jain3/Desktop/breakfast-data.sframe/')[:2]\n \n In [3]: model = tc.object_detector.create(data, 'annotation', max_iterations=1)\n Using 'image' as feature column\n WARNING:tensorflow:From /Users/shreya_jain3/turicreate/deps/env/lib/python2.7/site-packages/tensorflow_core/python/compat/v2_compat.py:65: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.\n Instructions for updating:\n non-resource variables are not supported in the long term\n Using CPU to create model\n 2019-11-19 04:42:12.921454: I tensorflow/core/platform/cpu_feature_guard.cc:142] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA\n 2019-11-19 04:42:12.933079: I tensorflow/compiler/xla/service/service.cc:168] XLA service 0x7f8abb6aa2e0 executing computations on platform Host. Devices:\n 2019-11-19 04:42:12.933107: I tensorflow/compiler/xla/service/service.cc:175]   StreamExecutor device (0): Host, Default Version\n Setting 'batch_size' to 32\n +--------------+--------------+--------------+\n | Iteration    | Loss         | Elapsed Time |\n +--------------+--------------+--------------+\n | 1            | 4.58467      | 26.48s       |\n +--------------+--------------+--------------+\n \n In [4]: model.export_coreml('od.mlmodel')\n </denchmark-code>\n \n I see strange stuff in create not in export_coreml.\n \t\t"}, "comments_8": {"comment_id": 9, "comment_author": "srikris", "commentT": "2019-11-18T23:18:39Z", "comment_text": "\n \t\tI use to get this before WARNING:root:TensorFlow version 2.0.0 detected. Last version known to be fully compatible is 1.13.1 . I think it was because I had tensorflow==1.13.1 and then I upgraded to tensorflow==2.0 without ./configure --cleanup.\n Also using\n <denchmark-code>import os\n os.environ['TF_CPP_MIN_LOG_LEVEL'] = '1'\n </denchmark-code>\n \n I can suppress most of it but not all of it.\n \t\t"}, "comments_9": {"comment_id": 10, "comment_author": "srikris", "commentT": "2019-11-18T23:21:21Z", "comment_text": "\n \t\tYou will see things when TF launches the first time. Let's suppress as much as we can. We can only hope TF uses the log level appropriately :)\n \t\t"}, "comments_10": {"comment_id": 11, "comment_author": "srikris", "commentT": "2019-11-18T23:22:08Z", "comment_text": "\n \t\tThat means I need to suppress it everywhere it is imported?\n \t\t"}}}, "commit": {"commit_id": "3e31692cb6914b9154eb0cdec3e7a7eed63a1ac3", "commit_author": "Shreya Jain", "commitT": "2019-11-21 09:12:37+05:18", "commit_complexity": {"commit_NLOC": "1.0", "commit_CCN": "1.0", "commit_Nprams": "1.0"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "src\\python\\turicreate\\toolkits\\_image_feature_extractor.py", "file_new_name": "src\\python\\turicreate\\toolkits\\_image_feature_extractor.py", "file_complexity": {"file_NLOC": "60", "file_CCN": "12", "file_NToken": "412"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "75,76,77", "deleted_lines": null, "method_info": {"method_name": "__init__", "method_params": "self,ptModel", "method_startline": "66", "method_endline": "85", "method_complexity": {"method_NLOC": "9", "method_CCN": "1", "method_NToken": "63", "method_nesting_level": "1"}}}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "src\\python\\turicreate\\toolkits\\_tf_utils.py", "file_new_name": "src\\python\\turicreate\\toolkits\\_tf_utils.py", "file_complexity": {"file_NLOC": "60", "file_CCN": "14", "file_NToken": "640"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "12,13,14,15,16,17,18,19,20,21,22", "deleted_lines": "17,18", "method_info": {"method_name": "suppress_tensorflow_warnings", "method_params": "", "method_startline": "12", "method_endline": "22", "method_complexity": {"method_NLOC": "7", "method_CCN": "1", "method_NToken": "48", "method_nesting_level": "0"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "28,29", "deleted_lines": null, "method_info": {"method_name": "get_gpu_names", "method_params": "", "method_startline": "24", "method_endline": "30", "method_complexity": {"method_NLOC": "4", "method_CCN": "2", "method_NToken": "32", "method_nesting_level": "0"}}}}}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "src\\python\\turicreate\\toolkits\\activity_classifier\\_activity_classifier.py", "file_new_name": "src\\python\\turicreate\\toolkits\\activity_classifier\\_activity_classifier.py", "file_complexity": {"file_NLOC": "543", "file_CCN": "62", "file_NToken": "4397"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": null, "deleted_lines": "175,189"}}}, "file_3": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "src\\python\\turicreate\\toolkits\\activity_classifier\\_tf_model_architecture.py", "file_new_name": "src\\python\\turicreate\\toolkits\\activity_classifier\\_tf_model_architecture.py", "file_complexity": {"file_NLOC": "170", "file_CCN": "27", "file_NToken": "2214"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "281", "deleted_lines": "282", "method_info": {"method_name": "export_weights", "method_params": "self", "method_startline": "239", "method_endline": "290", "method_complexity": {"method_NLOC": "40", "method_CCN": "12", "method_NToken": "391", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": null, "deleted_lines": "29,30,31,32", "method_info": {"method_name": "__init__", "method_params": "self,net_params,batch_size,num_features,num_classes,prediction_window,seq_len", "method_startline": "24", "method_endline": "118", "method_complexity": {"method_NLOC": "60", "method_CCN": "2", "method_NToken": "918", "method_nesting_level": "1"}}}}}, "file_4": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "src\\python\\turicreate\\toolkits\\drawing_classifier\\_tf_drawing_classifier.py", "file_new_name": "src\\python\\turicreate\\toolkits\\drawing_classifier\\_tf_drawing_classifier.py", "file_complexity": {"file_NLOC": "163", "file_CCN": "16", "file_NToken": "1665"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "27", "deleted_lines": "28,29", "method_info": {"method_name": "__init__", "method_params": "self,net_params,batch_size,num_classes", "method_startline": "20", "method_endline": "140", "method_complexity": {"method_NLOC": "88", "method_CCN": "6", "method_NToken": "1041", "method_nesting_level": "1"}}}}}, "file_5": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "src\\python\\turicreate\\toolkits\\object_detector\\_tf_model_architecture.py", "file_new_name": "src\\python\\turicreate\\toolkits\\object_detector\\_tf_model_architecture.py", "file_complexity": {"file_NLOC": "223", "file_CCN": "33", "file_NToken": "2719"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "19", "deleted_lines": "23,24,25,26", "method_info": {"method_name": "__init__", "method_params": "self,input_h,input_w,batch_size,output_size,init_weights,config,is_train", "method_startline": "18", "method_endline": "80", "method_complexity": {"method_NLOC": "46", "method_CCN": "4", "method_NToken": "649", "method_nesting_level": "1"}}}}}, "file_6": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "src\\python\\turicreate\\toolkits\\style_transfer\\_tf_model_architecture.py", "file_new_name": "src\\python\\turicreate\\toolkits\\style_transfer\\_tf_model_architecture.py", "file_complexity": {"file_NLOC": "283", "file_CCN": "28", "file_NToken": "3373"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "13,14,15,16,17", "deleted_lines": "11,12,13,14,16"}}}}}}