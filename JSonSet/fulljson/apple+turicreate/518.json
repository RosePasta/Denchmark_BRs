{"BR": {"BR_id": "518", "BR_author": "znation", "BRopenT": "2018-04-12T09:04:43Z", "BRcloseT": "2018-04-12T17:45:45Z", "BR_text": {"BRsummary": "SFrame.show in Jupyter Notebook raises exception", "BRdescription": "\n Repro steps (in Jupyter Notebook):\n import turicreate as tc\n sf = tc.SFrame.read_csv('/Users/zach/data/manyappend_clang_format.csv')\n sf.show()\n Expected: No errors, plot displays inline the notebook\n Actual: Plot opens in a separate window (I'm guessing due to use of exceptions for control flow), and this error is shown in the notebook:\n <denchmark-code>Materializing SFrame...\n Done.\n ---------------------------------------------------------------------------\n KeyError                                  Traceback (most recent call last)\n <ipython-input-3-9d778c121b4c> in <module>()\n ----> 1 sf.show()\n \n /Users/zach/turicreate/debug/src/unity/python/turicreate/data_structures/sframe.pyc in show(self)\n    4455         returned_plot = self.plot()\n    4456 \n -> 4457         returned_plot.show()\n    4458 \n    4459     def plot(self):\n \n /Users/zach/turicreate/debug/src/unity/python/turicreate/visualization/_plot.pyc in show(self)\n     101             if _target == 'auto' and \\\n     102                get_ipython().__class__.__name__ == \"ZMQInteractiveShell\":\n --> 103                 self._repr_javascript_()\n     104                 display = True\n     105         except NameError:\n \n /Users/zach/turicreate/debug/src/unity/python/turicreate/visualization/_plot.pyc in _repr_javascript_(self)\n     201         from IPython.core.display import display, HTML\n     202 \n --> 203         vega_spec = self._get_vega(True)[\"vega_spec\"]\n     204 \n     205         vega_html = '<html lang=\"en\"> \\\n \n KeyError: 'vega_spec'\n </denchmark-code>\n \n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "znation", "commentT": "2018-04-12T09:05:43Z", "comment_text": "\n \t\tAlso seems to repro for SArray.show: sf['Lines Added'].show().\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "znation", "commentT": "2018-04-12T09:06:37Z", "comment_text": "\n \t\tAnd tc.show as well: tc.show(sf['Lines Added'], sf['Lines Removed']).\n \t\t"}}}, "commit": {"commit_id": "458bacdc6230af4199e29675fe461e4914e564fe", "commit_author": "Zach Nation", "commitT": "2018-04-12 10:45:42-07:00", "commit_complexity": {"commit_NLOC": "None", "commit_CCN": "None", "commit_Nprams": "None"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "src\\unity\\python\\turicreate\\visualization\\_plot.py", "file_new_name": "src\\unity\\python\\turicreate\\visualization\\_plot.py", "file_complexity": {"file_NLOC": "171", "file_CCN": "28", "file_NToken": "717"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "202", "deleted_lines": "202", "method_info": {"method_name": "_repr_javascript_", "method_params": "self", "method_startline": "199", "method_endline": "259", "method_complexity": {"method_NLOC": "58", "method_CCN": "2", "method_NToken": "95", "method_nesting_level": "1"}}}}}}}}