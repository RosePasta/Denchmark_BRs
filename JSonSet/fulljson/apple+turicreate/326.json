{"BR": {"BR_id": "326", "BR_author": "srikris", "BRopenT": "2018-03-02T19:54:48Z", "BRcloseT": "2018-03-05T23:08:47Z", "BR_text": {"BRsummary": "Missing value in Jupiter notebook visualization causes it to open in a new window and not inline", "BRdescription": "\n <denchmark-code>import turicreate as tc\n import numpy\n \n a = test_str(100, 10)\n \n def add_value(sa, value = None, num_values = 0):\n     if num_values > 0:\n         sa = sa.append(tc.SArray([value] * num_values, sa.dtype))\n     return sa\n \n def generate_str(size = 1000, num_none = 0, prefix = \"foo_\"):\n     sa = tc.SArray(numpy.random.randint(3, 20, size = size))\n     sa = add_value(sa, None, num_none)\n     sa = prefix + sa.astype(str)\n     return sa\n </denchmark-code>\n \n <denchmark-code>---------------------------------------------------------------------------\n ValueError                                Traceback (most recent call last)\n <ipython-input-9-003118562ce8> in <module>()\n ----> 1 a = test_str(100, 10)\n \n /Volumes/Data/srikris/workspace/test/viz/viz_test.py in test_str(size, num_none, prefix)\n      80     sa = generate_str(size, num_none, prefix)\n      81     print(\"Showing\")\n ---> 82     sa.show()\n      83     return sa\n      84 \n \n /Volumes/Data/srikris/workspace/turicreate/debug/src/unity/python/turicreate/data_structures/sarray.py in show(self, title, xlabel, ylabel)\n    2899         returned_plot = self.__plot(title, xlabel, ylabel)\n    2900 \n -> 2901         returned_plot.show()\n    2902 \n    2903     def __plot(self, title=None, xlabel=None, ylabel=None):\n \n /Volumes/Data/srikris/workspace/turicreate/debug/src/unity/python/turicreate/visualization/plot.py in show(self)\n      59         try:\n      60             if(get_ipython().__class__.__name__ == \"ZMQInteractiveShell\"):\n ---> 61                 self._repr_javascript_()\n      62                 display = True\n      63         except NameError:\n \n /Volumes/Data/srikris/workspace/turicreate/debug/src/unity/python/turicreate/visualization/plot.py in _repr_javascript_(self)\n     129         from IPython.core.display import display, HTML\n     130 \n --> 131         vega_spec = self._get_vega(True)[\"vega_spec\"]\n     132 \n     133         vega_html = '<html lang=\"en\"> \\\n \n /Volumes/Data/srikris/workspace/turicreate/debug/src/unity/python/turicreate/visualization/plot.py in _get_vega(self, include_data)\n     117         if(include_data):\n     118             spec = _json.loads(self.__proxy__.get('call_function', {'__function_name__': 'get_spec'}))\n --> 119             data = _json.loads(self.__proxy__.get('call_function', {'__function_name__': 'get_data'}))[\"data_spec\"]\n     120             for x in range(0, len(spec[\"vega_spec\"][\"data\"])):\n     121                 if(spec[\"vega_spec\"][\"data\"][x][\"name\"] == \"source_2\"):\n \n /System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/json/__init__.pyc in loads(s, encoding, cls, object_hook, parse_float, parse_int, parse_constant, object_pairs_hook, **kw)\n     336             parse_int is None and parse_float is None and\n     337             parse_constant is None and object_pairs_hook is None and not kw):\n --> 338         return _default_decoder.decode(s)\n     339     if cls is None:\n     340         cls = JSONDecoder\n \n /System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/json/decoder.pyc in decode(self, s, _w)\n     364 \n     365         \"\"\"\n --> 366         obj, end = self.raw_decode(s, idx=_w(s, 0).end())\n     367         end = _w(s, end).end()\n     368         if end != len(s):\n \n /System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/json/decoder.pyc in raw_decode(self, s, idx)\n     382             obj, end = self.scan_once(s, idx)\n     383         except StopIteration:\n --> 384             raise ValueError(\"No JSON object could be decoded\")\n     385         return obj, end\n \n ValueError: No JSON object could be decoded\n </denchmark-code>\n \n \t"}, "comments": {}}, "commit": {"commit_id": "1bea422867eb1da32c620332ce836318c6b62a22", "commit_author": "Abhishek", "commitT": "2018-03-02 19:20:32-08:00", "commit_complexity": {"commit_NLOC": "0.53125", "commit_CCN": "1.0", "commit_Nprams": "1.0"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 3, "file_old_name": "src\\unity\\lib\\visualization\\boxes_and_whiskers.cpp", "file_new_name": "src\\unity\\lib\\visualization\\boxes_and_whiskers.cpp", "file_complexity": {"file_NLOC": "71", "file_CCN": "8", "file_NToken": "461"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "80,103", "deleted_lines": "78,101,102", "method_info": {"method_name": "void::turi::visualization::show_boxes_and_whiskers", "method_params": "path_to_client,x,y,xlabel,ylabel,title", "method_startline": "78", "method_endline": "103", "method_complexity": {"method_NLOC": "19", "method_CCN": "1", "method_NToken": "154", "method_nesting_level": "0"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "80,103", "deleted_lines": "101,102", "method_info": {"method_name": "turi::visualization::plot_boxes_and_whiskers", "method_params": "path_to_client,x,y,xlabel,ylabel,title", "method_startline": "80", "method_endline": "104", "method_complexity": {"method_NLOC": "18", "method_CCN": "1", "method_NToken": "151", "method_nesting_level": "0"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "31,54,55,56,57", "deleted_lines": "69,70,71,78", "method_info": {"method_name": "boxes_and_whiskers_result::vega_column_data", "method_params": "sframe", "method_startline": "25", "method_endline": "78", "method_complexity": {"method_NLOC": "40", "method_CCN": "7", "method_NToken": "257", "method_nesting_level": "0"}}}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "src\\unity\\lib\\visualization\\boxes_and_whiskers.hpp", "file_new_name": "src\\unity\\lib\\visualization\\boxes_and_whiskers.hpp", "file_complexity": {"file_NLOC": "21", "file_CCN": "0", "file_NToken": "101"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "11,31", "deleted_lines": "11,31"}}}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 3, "file_old_name": "src\\unity\\lib\\visualization\\categorical_heatmap.cpp", "file_new_name": "src\\unity\\lib\\visualization\\categorical_heatmap.cpp", "file_complexity": {"file_NLOC": "65", "file_CCN": "9", "file_NToken": "482"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "72", "deleted_lines": "69,92,93", "method_info": {"method_name": "void::turi::visualization::show_categorical_heatmap", "method_params": "path_to_client,x,y,xlabel,ylabel,title", "method_startline": "69", "method_endline": "94", "method_complexity": {"method_NLOC": "19", "method_CCN": "1", "method_NToken": "154", "method_nesting_level": "0"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "34,53,54,55,56,65", "deleted_lines": "60,61,62,69", "method_info": {"method_name": "categorical_heatmap_result::vega_column_data", "method_params": "sframe", "method_startline": "32", "method_endline": "69", "method_complexity": {"method_NLOC": "29", "method_CCN": "5", "method_NToken": "236", "method_nesting_level": "0"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "72,95", "deleted_lines": "92,93", "method_info": {"method_name": "turi::visualization::plot_categorical_heatmap", "method_params": "path_to_client,x,y,xlabel,ylabel,title", "method_startline": "72", "method_endline": "96", "method_complexity": {"method_NLOC": "18", "method_CCN": "1", "method_NToken": "151", "method_nesting_level": "0"}}}}}, "file_3": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "src\\unity\\lib\\visualization\\categorical_heatmap.hpp", "file_new_name": "src\\unity\\lib\\visualization\\categorical_heatmap.hpp", "file_complexity": {"file_NLOC": "24", "file_CCN": "0", "file_NToken": "143"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "11,34", "deleted_lines": "11,34"}}}, "file_4": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "src\\unity\\lib\\visualization\\heatmap.cpp", "file_new_name": "src\\unity\\lib\\visualization\\heatmap.cpp", "file_complexity": {"file_NLOC": "257", "file_CCN": "49", "file_NToken": "2314"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "35,60", "deleted_lines": "36,61", "method_info": {"method_name": "turi::visualization::plot_heatmap", "method_params": "path_to_client,x,y,xlabel,ylabel,title", "method_startline": "35", "method_endline": "61", "method_complexity": {"method_NLOC": "20", "method_CCN": "1", "method_NToken": "161", "method_nesting_level": "0"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "60", "deleted_lines": "36,61,62", "method_info": {"method_name": "turi::visualization::show_heatmap", "method_params": "path_to_client,x,y,xlabel,ylabel,title", "method_startline": "36", "method_endline": "63", "method_complexity": {"method_NLOC": "21", "method_CCN": "1", "method_NToken": "162", "method_nesting_level": "0"}}}}}, "file_5": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "src\\unity\\lib\\visualization\\heatmap.hpp", "file_new_name": "src\\unity\\lib\\visualization\\heatmap.hpp", "file_complexity": {"file_NLOC": "38", "file_CCN": "0", "file_NToken": "260"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "10,60", "deleted_lines": "59"}}}, "file_6": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "src\\unity\\lib\\visualization\\item_frequency.cpp", "file_new_name": "src\\unity\\lib\\visualization\\item_frequency.cpp", "file_complexity": {"file_NLOC": "87", "file_CCN": "15", "file_NToken": "713"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "103,104,105,106", "deleted_lines": "122,123,124,125", "method_info": {"method_name": "item_frequency_result::vega_column_data", "method_params": "sframe", "method_startline": "60", "method_endline": "130", "method_complexity": {"method_NLOC": "51", "method_CCN": "9", "method_NToken": "438", "method_nesting_level": "0"}}}}}, "file_7": {"file_change_type": "MODIFY", "file_Nmethod": 9, "file_old_name": "src\\unity\\lib\\visualization\\scatter.cpp", "file_new_name": "src\\unity\\lib\\visualization\\scatter.cpp", "file_complexity": {"file_NLOC": "79", "file_CCN": "19", "file_NToken": "591"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "52,53,54,55,56,57,58,59,60,64,65,68,69,72,73,74,75,76,77,78,79,82,83", "deleted_lines": "54,55,56,59,60,63,66,68", "method_info": {"method_name": "scatter_result::vega_column_data", "method_params": "sframe", "method_startline": "52", "method_endline": "83", "method_complexity": {"method_NLOC": "25", "method_CCN": "9", "method_NToken": "223", "method_nesting_level": "0"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "32,33,34", "deleted_lines": "32,33,34", "method_info": {"method_name": "scatter::init", "method_params": "sf", "method_startline": "32", "method_endline": "34", "method_complexity": {"method_NLOC": "3", "method_CCN": "1", "method_NToken": "13", "method_nesting_level": "0"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "44,45,46", "deleted_lines": "44,46", "method_info": {"method_name": "scatter::get_rows_processed", "method_params": "", "method_startline": "44", "method_endline": "46", "method_complexity": {"method_NLOC": "3", "method_CCN": "1", "method_NToken": "15", "method_nesting_level": "0"}}}, "hunk_3": {"Ismethod": 1, "added_lines": "86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,111,112", "deleted_lines": null, "method_info": {"method_name": "turi::visualization::plot_scatter", "method_params": "path_to_client,x,y,xlabel,ylabel,title", "method_startline": "86", "method_endline": "114", "method_complexity": {"method_NLOC": "19", "method_CCN": "1", "method_NToken": "166", "method_nesting_level": "0"}}}, "hunk_4": {"Ismethod": 1, "added_lines": "48,49,50", "deleted_lines": "48,49,50", "method_info": {"method_name": "scatter::get_batch_size", "method_params": "", "method_startline": "48", "method_endline": "50", "method_complexity": {"method_NLOC": "3", "method_CCN": "1", "method_NToken": "15", "method_nesting_level": "0"}}}, "hunk_5": {"Ismethod": 1, "added_lines": "40,41,42", "deleted_lines": "41,42", "method_info": {"method_name": "scatter::eof", "method_params": "", "method_startline": "40", "method_endline": "42", "method_complexity": {"method_NLOC": "3", "method_CCN": "1", "method_NToken": "11", "method_nesting_level": "0"}}}, "hunk_6": {"Ismethod": 1, "added_lines": "30,32,33,34,36,37,38,40,41,42,44,45,46,48,49,50,51,52,53,54,55,56,57,58,59,60,64,65,68,69", "deleted_lines": "30,31,32,33,34,35,37,39,41,42,44,46,47,48,49,50,54,55,56,59,60,63,66,68", "method_info": {"method_name": "turi::visualization::show_scatter", "method_params": "path_to_client,x,y,xlabel,ylabel,title", "method_startline": "30", "method_endline": "70", "method_complexity": {"method_NLOC": "29", "method_CCN": "8", "method_NToken": "271", "method_nesting_level": "0"}}}, "hunk_7": {"Ismethod": 1, "added_lines": "36,37,38", "deleted_lines": "37", "method_info": {"method_name": "scatter::get", "method_params": "", "method_startline": "36", "method_endline": "38", "method_complexity": {"method_NLOC": "3", "method_CCN": "1", "method_NToken": "18", "method_nesting_level": "0"}}}, "hunk_8": {"Ismethod": 1, "added_lines": "30", "deleted_lines": "30", "method_info": {"method_name": "scatter_result::scatter_result", "method_params": "sf", "method_startline": "30", "method_endline": "30", "method_complexity": {"method_NLOC": "1", "method_CCN": "1", "method_NToken": "14", "method_nesting_level": "0"}}}}}, "file_8": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "src\\unity\\lib\\visualization\\scatter.hpp", "file_new_name": "src\\unity\\lib\\visualization\\scatter.hpp", "file_complexity": {"file_NLOC": "30", "file_CCN": "0", "file_NToken": "153"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "8,9,10,11,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36", "deleted_lines": "11"}}}, "file_9": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "src\\unity\\lib\\visualization\\show.cpp", "file_new_name": "src\\unity\\lib\\visualization\\show.cpp", "file_complexity": {"file_NLOC": "62", "file_CCN": "18", "file_NToken": "455"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "28,60,62,67,68,70,71,74", "deleted_lines": "28,60,62,67,69,72,76", "method_info": {"method_name": "turi::visualization::plot", "method_params": "path_to_client,x,y,xlabel,ylabel,title", "method_startline": "28", "method_endline": "78", "method_complexity": {"method_NLOC": "41", "method_CCN": "15", "method_NToken": "345", "method_nesting_level": "2"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "28,60,62,67,68,70,71,74", "deleted_lines": "28,60,62,67,69,72,76", "method_info": {"method_name": "turi::visualization::show", "method_params": "path_to_client,x,y,xlabel,ylabel,title", "method_startline": "28", "method_endline": "77", "method_complexity": {"method_NLOC": "41", "method_CCN": "15", "method_NToken": "340", "method_nesting_level": "2"}}}}}, "file_10": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "src\\unity\\lib\\visualization\\show.hpp", "file_new_name": "src\\unity\\lib\\visualization\\show.hpp", "file_complexity": {"file_NLOC": "15", "file_CCN": "0", "file_NToken": "69"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "11,19", "deleted_lines": "18"}}}, "file_11": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "src\\unity\\python\\turicreate\\visualization\\plot.py", "file_new_name": "src\\unity\\python\\turicreate\\visualization\\plot.py", "file_complexity": {"file_NLOC": "130", "file_CCN": "20", "file_NToken": "531"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "154,184", "deleted_lines": "183", "method_info": {"method_name": "_repr_javascript_", "method_params": "self", "method_startline": "128", "method_endline": "188", "method_complexity": {"method_NLOC": "58", "method_CCN": "2", "method_NToken": "98", "method_nesting_level": "1"}}}}}, "file_12": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "src\\unity\\python\\turicreate\\visualization\\show.py", "file_new_name": "src\\unity\\python\\turicreate\\visualization\\show.py", "file_complexity": {"file_NLOC": "24", "file_CCN": "8", "file_NToken": "191"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "76,89,90,91", "deleted_lines": "75,88", "method_info": {"method_name": "show", "method_params": "x,y,xlabel,ylabel,title", "method_startline": "22", "method_endline": "91", "method_complexity": {"method_NLOC": "12", "method_CCN": "5", "method_NToken": "93", "method_nesting_level": "0"}}}}}}}}