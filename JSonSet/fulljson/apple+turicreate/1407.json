{"BR": {"BR_id": "1407", "BR_author": "hoytak", "BRopenT": "2019-02-08T00:03:18Z", "BRcloseT": "2019-03-15T01:54:25Z", "BR_text": {"BRsummary": "Per-class accuracy doesn't make any sense", "BRdescription": "\n Consider this code from <denchmark-link:https://apple.github.io/turicreate/docs/userguide/evaluation/classification.html>https://apple.github.io/turicreate/docs/userguide/evaluation/classification.html</denchmark-link>\n \n <denchmark-code>import turicreate as tc\n \n y    = tc.SArray([\"cat\", \"dog\", \"foosa\", \"cat\"])\n yhat = tc.SArray([\"cat\", \"dog\", \"cat\", \"dog\"])\n \n print(tc.evaluation.accuracy(y, yhat, average = \"micro\"))\n print(tc.evaluation.accuracy(y, yhat, average = \"macro\"))\n print(tc.evaluation.accuracy(y, yhat, average = None))\n </denchmark-code>\n \n which produces\n <denchmark-code>0.5\n 0.666666666667\n {'dog': 0.75, 'foosa': 0.75, 'cat': 0.5}\n </denchmark-code>\n \n The per class accuracy doesn't make any sense here...\n \t"}, "comments": {}}, "commit": {"commit_id": "112b30731804edae85e771532db2a383100cf599", "commit_author": "Shantanu Chhabra", "commitT": "2019-03-14 18:54:20-07:00", "commit_complexity": {"commit_NLOC": "0.0", "commit_CCN": "0.5", "commit_Nprams": "1.0"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "src\\unity\\python\\turicreate\\test\\test_evaluation.py", "file_new_name": "src\\unity\\python\\turicreate\\test\\test_evaluation.py", "file_complexity": {"file_NLOC": "874", "file_CCN": "49", "file_NToken": "9957"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "969,970,984,985,986,987,988,989", "deleted_lines": "982,983,984,985,986,987", "method_info": {"method_name": "test_accuracy_multi_class_score", "method_params": "self", "method_startline": "918", "method_endline": "989", "method_complexity": {"method_NLOC": "52", "method_CCN": "2", "method_NToken": "503", "method_nesting_level": "1"}}}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "src\\unity\\toolkits\\evaluation\\evaluation_interface-inl.hpp", "file_new_name": "src\\unity\\toolkits\\evaluation\\evaluation_interface-inl.hpp", "file_complexity": {"file_NLOC": "1210", "file_CCN": "233", "file_NToken": "8637"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "1391,1394,1435", "deleted_lines": "1433", "method_info": {"method_name": "turi::evaluation::flexible_accuracy::get_metric", "method_params": "", "method_startline": "1381", "method_endline": "1443", "method_complexity": {"method_NLOC": "50", "method_CCN": "9", "method_NToken": "344", "method_nesting_level": "3"}}}}}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "userguide\\evaluation\\classification.md", "file_new_name": "userguide\\evaluation\\classification.md", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "59,60,74,75,90,91,92", "deleted_lines": "59,73,74"}}}}}}