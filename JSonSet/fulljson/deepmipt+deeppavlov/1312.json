{"BR": {"BR_id": "1312", "BR_author": "yurakuratov", "BRopenT": "2020-09-07T12:45:25Z", "BRcloseT": "2020-11-13T11:16:23Z", "BR_text": {"BRsummary": "TorchBertClassifier does not use token_type_ids", "BRdescription": "\n Want to contribute to DeepPavlov? Please read the <denchmark-link:http://docs.deeppavlov.ai/en/master/devguides/contribution_guide.html>contributing guideline</denchmark-link>\n  first.\n Please enter all the information below, otherwise your issue may be closed without a warning.\n :\n TorchBertClassifier does not use token_type_ids in <denchmark-link:https://github.com/deepmipt/DeepPavlov/blob/master/deeppavlov/models/torch_bert/torch_bert_classifier.py#L139>call</denchmark-link>\n  and <denchmark-link:https://github.com/deepmipt/DeepPavlov/blob/master/deeppavlov/models/torch_bert/torch_bert_classifier.py#L107>train_on_batch</denchmark-link>\n  methods\n They should use token_types_ids from features.\n It's not a problem in case of single segment, but it is a bug for classification of two text segments.\n \t"}, "comments": {}}, "commit": {"commit_id": "3b78bab95dc266e9eb90abdf166d16a31a859d43", "commit_author": "yurakuratov", "commitT": "2020-11-08 15:50:46+03:00", "commit_complexity": {"commit_NLOC": "0.6086956521739131", "commit_CCN": "0.0", "commit_Nprams": "0.6521739130434783"}, "changed_files": {"file_0": {"file_change_type": "ADD", "file_Nmethod": 0, "file_old_name": "None", "file_new_name": "deeppavlov\\configs\\classifiers\\glue\\glue_cola_cased_bert_torch.json", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}}, "file_1": {"file_change_type": "ADD", "file_Nmethod": 0, "file_old_name": "None", "file_new_name": "deeppavlov\\configs\\classifiers\\glue\\glue_mnli_cased_bert_torch.json", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}}, "file_2": {"file_change_type": "ADD", "file_Nmethod": 0, "file_old_name": "None", "file_new_name": "deeppavlov\\configs\\classifiers\\glue\\glue_mnli_mm_cased_bert_torch.json", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}}, "file_3": {"file_change_type": "ADD", "file_Nmethod": 0, "file_old_name": "None", "file_new_name": "deeppavlov\\configs\\classifiers\\glue\\glue_mrpc_cased_bert_torch.json", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}}, "file_4": {"file_change_type": "ADD", "file_Nmethod": 0, "file_old_name": "None", "file_new_name": "deeppavlov\\configs\\classifiers\\glue\\glue_qnli_cased_bert_torch.json", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}}, "file_5": {"file_change_type": "ADD", "file_Nmethod": 0, "file_old_name": "None", "file_new_name": "deeppavlov\\configs\\classifiers\\glue\\glue_qqp_cased_bert_torch.json", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}}, "file_6": {"file_change_type": "ADD", "file_Nmethod": 0, "file_old_name": "None", "file_new_name": "deeppavlov\\configs\\classifiers\\glue\\glue_rte_cased_bert_torch.json", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}}, "file_7": {"file_change_type": "ADD", "file_Nmethod": 0, "file_old_name": "None", "file_new_name": "deeppavlov\\configs\\classifiers\\glue\\glue_sst2_cased_bert_torch.json", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}}, "file_8": {"file_change_type": "ADD", "file_Nmethod": 0, "file_old_name": "None", "file_new_name": "deeppavlov\\configs\\classifiers\\glue\\glue_stsb_cased_bert_torch.json", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}}, "file_9": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "deeppavlov\\core\\common\\metrics_registry.json", "file_new_name": "deeppavlov\\core\\common\\metrics_registry.json", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "15,22,37", "deleted_lines": null}}}, "file_10": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "deeppavlov\\core\\common\\registry.json", "file_new_name": "deeppavlov\\core\\common\\registry.json", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "71,72", "deleted_lines": null}}}, "file_11": {"file_change_type": "ADD", "file_Nmethod": 0, "file_old_name": "None", "file_new_name": "deeppavlov\\dataset_iterators\\huggingface_dataset_iterator.py", "file_complexity": {"file_NLOC": "37", "file_CCN": "1", "file_NToken": "189"}}, "file_12": {"file_change_type": "ADD", "file_Nmethod": 0, "file_old_name": "None", "file_new_name": "deeppavlov\\dataset_readers\\huggingface_dataset_reader.py", "file_complexity": {"file_NLOC": "31", "file_CCN": "1", "file_NToken": "192"}}, "file_13": {"file_change_type": "ADD", "file_Nmethod": 0, "file_old_name": "None", "file_new_name": "deeppavlov\\metrics\\correlation.py", "file_complexity": {"file_NLOC": "12", "file_CCN": "3", "file_NToken": "96"}}, "file_14": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "deeppavlov\\models\\torch_bert\\torch_bert_classifier.py", "file_new_name": "deeppavlov\\models\\torch_bert\\torch_bert_classifier.py", "file_complexity": {"file_NLOC": "165", "file_CCN": "28", "file_NToken": "1233"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "142,146,150,159,162,163", "deleted_lines": "139,148", "method_info": {"method_name": "__call__", "method_params": "self", "method_startline": "130", "method_endline": "164", "method_complexity": {"method_NLOC": "31", "method_CCN": "7", "method_NToken": "264", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "104,108,109,110,111,112,116", "deleted_lines": "103,107", "method_info": {"method_name": "train_on_batch", "method_params": "self", "method_startline": "91", "method_endline": "128", "method_complexity": {"method_NLOC": "31", "method_CCN": "7", "method_NToken": "269", "method_nesting_level": "1"}}}}}, "file_15": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "deeppavlov\\requirements\\transformers.txt", "file_new_name": "deeppavlov\\requirements\\transformers.txt", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "1,2", "deleted_lines": "1"}}}, "file_16": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "docs\\features\\models\\classifiers.rst", "file_new_name": "docs\\features\\models\\classifiers.rst", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,384,385,386", "deleted_lines": null}}}, "file_17": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "tests\\test_quick_start.py", "file_new_name": "tests\\test_quick_start.py", "file_complexity": {"file_NLOC": "635", "file_CCN": "84", "file_NToken": "5528"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "121,122,123", "deleted_lines": "121"}}}}}}