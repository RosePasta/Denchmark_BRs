{"BR": {"BR_id": "18", "BR_author": "yasersakkaf", "BRopenT": "2018-03-15T07:17:23Z", "BRcloseT": "2018-03-18T15:00:18Z", "BR_text": {"BRsummary": "No output for your own images also.", "BRdescription": "\n Hello,\n I have started using the charclassifier model.\n I am running the OCR.ipynb and using the following image:  \"data/textdet/2.jpg\"\n The output is very wierd. It cant detect any character.\n I think there is some thing wrong with the bounding boxes that we get after recalculating them as per the ratio\n Another error that I am getting is:\n **IndexError                                Traceback (most recent call last)\n  in ()\n 1 # Crop image and get bounding boxes\n ----> 2 crop = page.detection(image)\n 3 implt(crop)\n 4 bBoxes = words.detection(crop)\n ~\\handwriting-ocr-master-final\\ocr\\page.py in detection(image)\n 17                                    np.ones((5, 11)))\n 18     # Countours\n ---> 19     pageContour = findPageContours(closedEdges, resize(image))\n 20     # Recalculate to original scale\n 21     pageContour = pageContour.dot(ratio(image))\n ~\\handwriting-ocr-master-final\\ocr\\page.py in findPageContours(edges, img)\n 94\n 95     # Sort corners and offset them\n ---> 96     pageContour = fourCornersSort(pageContour[:, 0])\n 97     return contourOffset(pageContour, (-5, -5))\n 98\n ~\\handwriting-ocr-master-final\\ocr\\page.py in fourCornersSort(pts)\n 47 def fourCornersSort(pts):\n 48     \"\"\" Sort corners: top-left, bot-left, bot-right, top-right\"\"\"\n ---> 49     diff = np.diff(pts, axis=1)\n 50     summ = pts.sum(axis=1)\n 51     return np.array([pts[np.argmin(summ)],\n ~\\AppData\\Local\\Continuum\\anaconda3\\lib\\site-packages\\numpy\\lib\\function_base.py in diff(a, n, axis)\n 1922     slice1 = [slice(None)]*nd\n 1923     slice2 = [slice(None)]*nd\n -> 1924     slice1[axis] = slice(1, None)\n 1925     slice2[axis] = slice(None, -1)\n 1926     slice1 = tuple(slice1)\n IndexError: list assignment index out of range**\n This for the image: \"data/textdet/1.jpg\" and 3.jpg and many more.\n Please help by checking it for yourself.\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "yasersakkaf", "commentT": "2018-03-18T14:59:17Z", "comment_text": "\n \t\tHi,\n I fixed the issue in new commit. I also want to point out that in the folder data/textdet/ the pages are already cropped; therefore, you can skip the page.detection() function.\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "yasersakkaf", "commentT": "2018-03-19T07:12:21Z", "comment_text": "\n \t\tThanks Breta,\n Now the output for your images is perfectly working.\n However I am getting some issue with the following image.\n <denchmark-link:https://user-images.githubusercontent.com/36536522/37582315-700bcdfc-2b72-11e8-9da5-2c58cb92cd5b.jpg></denchmark-link>\n \n I tried with and without page.detection(image) but it did not work.\n Output is like this:\n <denchmark-link:https://user-images.githubusercontent.com/36536522/37582437-efa105aa-2b72-11e8-93f7-27ea8210b33d.png></denchmark-link>\n \n I think there is some problem with bounding boxes. The co-ordinates returned are not proper.\n You can try it for yourself. I can send you the image on your email if you give it.\n \t\t"}}}, "commit": {"commit_id": "a5880979b1a992da12b06a83bb19ee0d4d68835f", "commit_author": "Breta01", "commitT": "2018-03-18 16:00:04+01:00", "commit_complexity": {"commit_NLOC": "None", "commit_CCN": "None", "commit_Nprams": "None"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "OCR.ipynb", "file_new_name": "OCR.ipynb", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "16,17,18,19,20,21,22,23,53,54,55,56,57,58,59,60,61,62,72,91,115,120,122,130,136,141,143,151,153,176,241,242,243,244,249,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,269,281,320", "deleted_lines": "54,73,97,102,104,112,118,123,125,133,135,158,223,224,229,234,246,285"}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "ocr\\page.py", "file_new_name": "ocr\\page.py", "file_complexity": {"file_NLOC": "73", "file_CCN": "11", "file_NToken": "670"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "79,80,81,93,96", "deleted_lines": "79,80,81,93,96", "method_info": {"method_name": "findPageContours", "method_params": "edges,img", "method_startline": "64", "method_endline": "97", "method_complexity": {"method_NLOC": "23", "method_CCN": "5", "method_NToken": "203", "method_nesting_level": "0"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "17", "deleted_lines": "17", "method_info": {"method_name": "detection", "method_params": "image", "method_startline": "9", "method_endline": "24", "method_complexity": {"method_NLOC": "9", "method_CCN": "1", "method_NToken": "71", "method_nesting_level": "0"}}}}}}}}