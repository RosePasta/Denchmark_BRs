{"BR": {"BR_id": "281", "BR_author": "dante0shy", "BRopenT": "2020-12-22T13:11:07Z", "BRcloseT": "2020-12-25T09:56:34Z", "BR_text": {"BRsummary": "Error report \"RuntimeError: CUSPARSE_STATUS_INVALID_VALUE at...\" when using MinkowskiSumPooling in v0.5", "BRdescription": "\n Hi Choy,\n I'm working on a function that requires to check whether there is any nearest neighbor in point cloud A at the coordinates in point cloud B. My way is to use a  sum pooling like below.\n <denchmark-code>com_sum = ME.MinkowskiSumPooling(kernel_size=5, dimension=D,)\n com_index = torch.abs(com_sum(PC_a, coordinates=PC_b.C).F).sum(1) > 0\n </denchmark-code>\n \n com_index would be the index that those points in PC_b have any nearest neighbor in PC_a. When I use this code, the error RuntimeError: CUSPARSE_STATUS_INVALID_VALUE at... shows up randomly, but when I change my code as below, this error just disappears.\n <denchmark-code>com_max = ME.MinkowskiMaxPooling(kernel_size=5, dimension=D,)\n com_index = torch.abs(com_max (PC_a, coordinates=PC_b.C).F).sum(1) > 0\n </denchmark-code>\n \n I only change the sum pooling to max pooling, so I think there might be some bugs for MinkowskiSumPooling. Furthermore, I know it might not be the best way to realize my function, and is there any direct way to realize my function?\n Thank you for your time!\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "dante0shy", "commentT": "2020-12-23T11:40:27Z", "comment_text": "\n \t\tCould you post, CUDA version, nvidia driver version?\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "dante0shy", "commentT": "2020-12-24T03:04:06Z", "comment_text": "\n \t\tSure. My working environment is as following:\n <denchmark-code>CUDA: 11.1\n Nvidia driver: 455.45.01\n Python: 3.7\n Pytorch: 1.7\n </denchmark-code>\n \n I directly compile and install the package with the branch v0.5 instead of pip install git+https://github.com/NVIDIA/MinkowskiEngine.git@v0.5 .\n \t\t"}, "comments_2": {"comment_id": 3, "comment_author": "dante0shy", "commentT": "2020-12-25T09:57:05Z", "comment_text": "\n \t\tPlease install from the master\n pip install git+https://github.com/NVIDIA/MinkowskiEngine.git\n \t\t"}}}, "commit": {"commit_id": "8f53bf92627b79e19c45566a02f7afd1e13b0989", "commit_author": "chrischoy", "commitT": "2020-12-25 18:56:18+09:00", "commit_complexity": {"commit_NLOC": "None", "commit_CCN": "None", "commit_Nprams": "None"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "src\\broadcast_kernel.cu", "file_new_name": "src\\broadcast_kernel.cu", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "254,256", "deleted_lines": "254,256"}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "src\\pooling_avg_kernel.cu", "file_new_name": "src\\pooling_avg_kernel.cu", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "145,148", "deleted_lines": "145,148"}}}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "src\\spmm.cu", "file_new_name": "src\\spmm.cu", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "76,92", "deleted_lines": "76,92"}}}, "file_3": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "tests\\python\\pool.py", "file_new_name": "tests\\python\\pool.py", "file_complexity": {"file_NLOC": "359", "file_CCN": "20", "file_NToken": "1707"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "35,36", "deleted_lines": "35,36"}}}}}}