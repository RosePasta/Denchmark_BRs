{"BR": {"BR_id": "264", "BR_author": "szha", "BRopenT": "2018-08-10T05:06:12Z", "BRcloseT": "2018-08-13T03:53:35Z", "BR_text": {"BRsummary": "apply_weight_drop required changes to integrate mxnet 1.3", "BRdescription": "\n our existing implementation on apply_weight_drop relied on a non-public attribute in gluon RNN blocks that were removed <denchmark-link:https://github.com/apache/incubator-mxnet/pull/11482>apache/incubator-mxnet#11482</denchmark-link>\n  when making the RNN blocks hybrid, and it does not have test, which will prevent us from integrating with mxnet 1.3. We need:\n \n  fix apply_weight_drop and upgrade the mxnet dependency to allow 1.3 integration.\n  add test for apply_weight_drop\n  bump up minor version to 0.4 which relies on 1.3.\n \n \t"}, "comments": {}}, "commit": {"commit_id": "07b0eddeeccf9ccedc16ef81dd5adb3c43b52322", "commit_author": "Sheng Zha", "commitT": "2018-08-12 20:53:35-07:00", "commit_complexity": {"commit_NLOC": "0.14666666666666667", "commit_CCN": "0.16", "commit_Nprams": "1.0"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "env\\doc.yml", "file_new_name": "env\\doc.yml", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "17", "deleted_lines": "17"}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "env\\py2.yml", "file_new_name": "env\\py2.yml", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "14", "deleted_lines": "14"}}}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "env\\py3.yml", "file_new_name": "env\\py3.yml", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "14", "deleted_lines": "14"}}}, "file_3": {"file_change_type": "MODIFY", "file_Nmethod": 5, "file_old_name": "gluonnlp\\model\\utils.py", "file_new_name": "gluonnlp\\model\\utils.py", "file_complexity": {"file_NLOC": "166", "file_CCN": "20", "file_NToken": "768"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "207", "deleted_lines": null, "method_info": {"method_name": "_get_rnn_layer", "method_params": "mode,num_layers,input_size,hidden_size,dropout,weight_dropout", "method_startline": "192", "method_endline": "209", "method_complexity": {"method_NLOC": "14", "method_CCN": "6", "method_NToken": "105", "method_nesting_level": "0"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "31", "deleted_lines": null, "method_info": {"method_name": "apply_weight_drop", "method_params": "block,local_param_regex,rate,axes", "method_startline": "31", "method_endline": "32", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "18", "method_nesting_level": "0"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "27", "deleted_lines": "27", "method_info": {"method_name": "apply_weight_drop", "method_params": "block,local_param_name,rate,axes", "method_startline": "27", "method_endline": "28", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "18", "method_nesting_level": "0"}}}, "hunk_3": {"Ismethod": 1, "added_lines": "119,120,121,122,123,124,125,126,127,128,129,130,131,132,134,135,138,139,140,141,142,143,153,154,155,156,157,159", "deleted_lines": "148", "method_info": {"method_name": "_find_params", "method_params": "block,local_param_regex", "method_startline": "119", "method_endline": "159", "method_complexity": {"method_NLOC": "34", "method_CCN": "12", "method_NToken": "241", "method_nesting_level": "0"}}}, "hunk_4": {"Ismethod": 1, "added_lines": "74,75,76,77,78,79,80,81,82,83,84,85,86,91,92,93,95,96,97,98,99,100", "deleted_lines": "74,75,76,77,78,79,80,81,83,84,96,97,98,100", "method_info": {"method_name": "_find_param", "method_params": "block,full_param_name,local_param_name", "method_startline": "74", "method_endline": "100", "method_complexity": {"method_NLOC": "24", "method_CCN": "11", "method_NToken": "156", "method_nesting_level": "0"}}}}}, "file_4": {"file_change_type": "MODIFY", "file_Nmethod": 9, "file_old_name": "tests\\unittest\\test_models.py", "file_new_name": "tests\\unittest\\test_models.py", "file_complexity": {"file_NLOC": "224", "file_CCN": "31", "file_NToken": "2352"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "84,85,86", "deleted_lines": "86,87", "method_info": {"method_name": "test_text_models", "method_params": "", "method_startline": "70", "method_endline": "92", "method_complexity": {"method_NLOC": "21", "method_CCN": "3", "method_NToken": "164", "method_nesting_level": "0"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "212,213,214,215,216", "deleted_lines": null, "method_info": {"method_name": "test_weight_drop.__init__", "method_params": "self,size,kwargs", "method_startline": "212", "method_endline": "216", "method_complexity": {"method_NLOC": "5", "method_CCN": "1", "method_NToken": "69", "method_nesting_level": "2"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "218,219,220,221,222,223", "deleted_lines": null, "method_info": {"method_name": "test_weight_drop.forward", "method_params": "self,inpt", "method_startline": "218", "method_endline": "223", "method_complexity": {"method_NLOC": "6", "method_CCN": "1", "method_NToken": "62", "method_nesting_level": "2"}}}, "hunk_3": {"Ismethod": 1, "added_lines": "122,125,126,129,130", "deleted_lines": "123,126,127,130,131", "method_info": {"method_name": "test_get_cache_model_noncache_models", "method_params": "", "method_startline": "113", "method_endline": "142", "method_complexity": {"method_NLOC": "26", "method_CCN": "3", "method_NToken": "332", "method_nesting_level": "0"}}}, "hunk_4": {"Ismethod": 1, "added_lines": "151,152", "deleted_lines": "152,153", "method_info": {"method_name": "test_save_load_cache_models", "method_params": "", "method_startline": "145", "method_endline": "155", "method_complexity": {"method_NLOC": "11", "method_CCN": "3", "method_NToken": "98", "method_nesting_level": "0"}}}, "hunk_5": {"Ismethod": 1, "added_lines": "43,44", "deleted_lines": "45,46", "method_info": {"method_name": "_test_pretrained_big_text_models", "method_params": "", "method_startline": "36", "method_endline": "50", "method_complexity": {"method_NLOC": "13", "method_CCN": "2", "method_NToken": "115", "method_nesting_level": "0"}}}, "hunk_6": {"Ismethod": 1, "added_lines": "100,101", "deleted_lines": "101,102", "method_info": {"method_name": "test_cache_models", "method_params": "", "method_startline": "94", "method_endline": "110", "method_complexity": {"method_NLOC": "17", "method_CCN": "3", "method_NToken": "141", "method_nesting_level": "0"}}}, "hunk_7": {"Ismethod": 1, "added_lines": "61", "deleted_lines": "63", "method_info": {"method_name": "test_big_text_models", "method_params": "", "method_startline": "52", "method_endline": "68", "method_complexity": {"method_NLOC": "14", "method_CCN": "2", "method_NToken": "135", "method_nesting_level": "0"}}}, "hunk_8": {"Ismethod": 1, "added_lines": "210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279", "deleted_lines": null, "method_info": {"method_name": "test_weight_drop", "method_params": "", "method_startline": "210", "method_endline": "279", "method_complexity": {"method_NLOC": "53", "method_CCN": "6", "method_NToken": "545", "method_nesting_level": "0"}}}}}}}}