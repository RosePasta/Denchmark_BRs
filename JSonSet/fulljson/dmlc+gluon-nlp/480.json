{"BR": {"BR_id": "480", "BR_author": "szhengac", "BRopenT": "2018-12-24T12:04:56Z", "BRcloseT": "2019-04-01T18:24:45Z", "BR_text": {"BRsummary": "Bug in text classification script?", "BRdescription": "\n <denchmark-link:https://github.com/leezu>@leezu</denchmark-link>\n . In script , I see that the average of the word embeddings without masking out the padding tokens are used to form the hidden units. This looks like a bug as the padding tokens should not be included during averaging the representations.\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "szhengac", "commentT": "2018-12-24T13:11:02Z", "comment_text": "\n \t\tI'm not sure about the text classification scripts. <denchmark-link:https://github.com/sravanbabuiitm>@sravanbabuiitm</denchmark-link>\n  authored them. <denchmark-link:https://github.com/sravanbabuiitm>@sravanbabuiitm</denchmark-link>\n  can you help clarify / fix this?\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "szhengac", "commentT": "2019-04-01T18:24:45Z", "comment_text": "\n \t\tThis should have already been fixed in the previous PRs. Let me know if you need the issue reopened.\n \t\t"}}}, "commit": {"commit_id": "f48e12cb42de447768daa6f8feec1c9a06995e62", "commit_author": "Sravan Babu Bodapati", "commitT": "2019-02-19 18:20:34+08:00", "commit_complexity": {"commit_NLOC": "1.0", "commit_CCN": "1.0", "commit_Nprams": "0.53125"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 13, "file_old_name": "scripts\\text_classification\\fasttext_word_ngram.py", "file_new_name": "scripts\\text_classification\\fasttext_word_ngram.py", "file_complexity": {"file_NLOC": "297", "file_CCN": "40", "file_NToken": "2157"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "49,50", "deleted_lines": null, "method_info": {"method_name": "__init__", "method_params": "self,prefix,params", "method_startline": "49", "method_endline": "50", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "30", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "142,143,144,145,146,147,149,154", "deleted_lines": null, "method_info": {"method_name": "evaluate_accuracy", "method_params": "data_iterator,net,ctx,loss_fun,num_classes", "method_startline": "134", "method_endline": "156", "method_complexity": {"method_NLOC": "18", "method_CCN": "3", "method_NToken": "187", "method_nesting_level": "0"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "244,245,246", "deleted_lines": "244,245", "method_info": {"method_name": "get_length", "method_params": "inp", "method_startline": "244", "method_endline": "246", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "17", "method_nesting_level": "0"}}}, "hunk_3": {"Ismethod": 1, "added_lines": "271,272,273,274,275,276,277,278,279,280,281", "deleted_lines": "274", "method_info": {"method_name": "preprocess_dataset", "method_params": "dataset,labels", "method_startline": "271", "method_endline": "281", "method_complexity": {"method_NLOC": "9", "method_CCN": "1", "method_NToken": "88", "method_nesting_level": "0"}}}, "hunk_4": {"Ismethod": 1, "added_lines": "73,74,76,77,85", "deleted_lines": "70,71", "method_info": {"method_name": "__init__", "method_params": "self,vocab_size,embedding_dim,num_classes,kwargs", "method_startline": "70", "method_endline": "86", "method_complexity": {"method_NLOC": "17", "method_CCN": "2", "method_NToken": "109", "method_nesting_level": "1"}}}, "hunk_5": {"Ismethod": 1, "added_lines": null, "deleted_lines": "69,70,71", "method_info": {"method_name": "hybrid_forward", "method_params": "self,F,x", "method_startline": "69", "method_endline": "72", "method_complexity": {"method_NLOC": "4", "method_CCN": "1", "method_NToken": "43", "method_nesting_level": "1"}}}, "hunk_6": {"Ismethod": 1, "added_lines": "88,89,90,91,92", "deleted_lines": null, "method_info": {"method_name": "hybrid_forward", "method_params": "self,F,doc,valid_length", "method_startline": "88", "method_endline": "93", "method_complexity": {"method_NLOC": "6", "method_CCN": "1", "method_NToken": "62", "method_nesting_level": "1"}}}, "hunk_7": {"Ismethod": 1, "added_lines": "284,285", "deleted_lines": null, "method_info": {"method_name": "get_dataloader", "method_params": "train_dataset,train_data_lengths,test_dataset,batch_size", "method_startline": "284", "method_endline": "285", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "11", "method_nesting_level": "0"}}}, "hunk_8": {"Ismethod": 1, "added_lines": "249,250,251,252,253", "deleted_lines": null, "method_info": {"method_name": "get_sequence", "method_params": "inpt", "method_startline": "249", "method_endline": "253", "method_complexity": {"method_NLOC": "4", "method_CCN": "1", "method_NToken": "27", "method_nesting_level": "0"}}}, "hunk_9": {"Ismethod": 1, "added_lines": "52,53,54,55,56,57,58,59,60", "deleted_lines": "55,56,58,59", "method_info": {"method_name": "hybrid_forward", "method_params": "self,F,data,valid_length", "method_startline": "52", "method_endline": "60", "method_complexity": {"method_NLOC": "7", "method_CCN": "1", "method_NToken": "58", "method_nesting_level": "1"}}}, "hunk_10": {"Ismethod": 1, "added_lines": "256,257,258,259,260,261,262,263,264,265,266,267,268", "deleted_lines": null, "method_info": {"method_name": "convert_to_sequences", "method_params": "dataset,vocab", "method_startline": "256", "method_endline": "268", "method_complexity": {"method_NLOC": "9", "method_CCN": "1", "method_NToken": "76", "method_nesting_level": "0"}}}, "hunk_11": {"Ismethod": 1, "added_lines": "190,191", "deleted_lines": "188", "method_info": {"method_name": "parse_args", "method_params": "", "method_startline": "175", "method_endline": "214", "method_complexity": {"method_NLOC": "32", "method_CCN": "1", "method_NToken": "229", "method_nesting_level": "0"}}}, "hunk_12": {"Ismethod": 1, "added_lines": "311,312,319,320,322,323,329,330,331,332,344,355,356,357,358,359,360,361,368,370,389,390,397,398,401,403,406,407,408,409,411,413,415", "deleted_lines": "311,318,319,320,324,327,328,329,330,331,332,334,336,338,339,346,347", "method_info": {"method_name": "train", "method_params": "args", "method_startline": "311", "method_endline": "416", "method_complexity": {"method_NLOC": "96", "method_CCN": "10", "method_NToken": "712", "method_nesting_level": "0"}}}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "scripts\\text_classification\\index.rst", "file_new_name": "scripts\\text_classification\\index.rst", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "26,29,42,44,55,57", "deleted_lines": "26,29,42,44,55,57"}}}}}}