{"BR": {"BR_id": "751", "BR_author": "leezu", "BRopenT": "2019-06-07T07:15:24Z", "BRcloseT": "2019-06-08T09:27:04Z", "BR_text": {"BRsummary": "CI reports linkcheck as passing for pull-requests even though it fails", "BRdescription": "\n <denchmark-link:https://github.com/szha>@szha</denchmark-link>\n  There is some bug in the CI setup for pull-requests. Even though the\n linkcheck consistently failed for all pull-requests after <denchmark-link:https://github.com/dmlc/gluon-nlp/pull/566>#566</denchmark-link>\n , the CI did not\n recognize the failure and reported the test as passing. Only on the master\n branch, the CI correctly reports the test as failing.\n See for example the log for <denchmark-link:https://github.com/dmlc/gluon-nlp/pull/732>#732</denchmark-link>\n :\n \n The pipeline checking the links is reported as passing\n http://ci.mxnet.io/blue/organizations/jenkins/GluonNLP-py3-master-gpu-doc/detail/PR-732/32/pipeline/85\n However, looking at the detailed log files,\n http://ci.mxnet.io/blue/rest/organizations/jenkins/pipelines/GluonNLP-py3-master-gpu-doc/branches/PR-732/runs/32/nodes/85/steps/106/log/?start=0\n we see that the recipe for target linkcheck failed and reported Error 1 (last few lines)\n \n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "leezu", "commentT": "2019-06-07T07:29:47Z", "comment_text": "\n \t\tThis may be fixed by removing \n \n \n gluon-nlp/ci/jenkins/build_steps.groovy\n \n \n          Line 120\n       in\n       1e50a66\n \n \n \n \n \n \n              set +e \n \n \n \n \n \n This is tentatively done in <denchmark-link:https://github.com/dmlc/gluon-nlp/pull/752>#752</denchmark-link>\n .\n <denchmark-link:https://github.com/szha>@szha</denchmark-link>\n  What was the reason to add\n \n \n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "leezu", "commentT": "2019-06-07T16:30:38Z", "comment_text": "\n \t\tSome external websites were down so this was added as a temporary measure. it shouldn't be needed anymore.\n \t\t"}}}, "commit": {"commit_id": "f9ada0f9367ea0616b26f6d37a1f1767176844c6", "commit_author": "Leonard Lausen", "commitT": "2019-06-07 12:37:36-07:00", "commit_complexity": {"commit_NLOC": "None", "commit_CCN": "None", "commit_Nprams": "None"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "ci\\jenkins\\build_steps.groovy", "file_new_name": "ci\\jenkins\\build_steps.groovy", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": null, "deleted_lines": "120"}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "docs\\community\\contribute.rst", "file_new_name": "docs\\community\\contribute.rst", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "44,46,47,48,49,50,51,52", "deleted_lines": "44,46,47"}}}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "docs\\index.rst", "file_new_name": "docs\\index.rst", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "102,103,104", "deleted_lines": "102,103"}}}}}}