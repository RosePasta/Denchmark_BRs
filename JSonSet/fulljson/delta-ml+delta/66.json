{"BR": {"BR_id": "66", "BR_author": "zh794390558", "BRopenT": "2019-08-29T07:19:42Z", "BRcloseT": "2019-09-10T06:42:16Z", "BR_text": {"BRsummary": "distinguish binary class and multi class problem when using tf.metrics", "BRdescription": "\n Is your feature request related to a problem? Please describe.\n speaker with multi class task, log metrics error on evaluation.\n Describe the solution you'd like\n do not log metrics which is for binary class.\n Describe alternatives you've considered\n N/A\n Additional context\n N/A\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "zh794390558", "commentT": "2019-09-03T03:01:32Z", "comment_text": "\n \t\tOkay, I'll make a fix.\n \t\t"}}}, "commit": {"commit_id": "387d15cd7cd50942cb9c69aa560c64eb3b7e103b", "commit_author": "Hui Zhang", "commitT": "2019-09-10 14:42:15+08:00", "commit_complexity": {"commit_NLOC": "0.0", "commit_CCN": "1.0", "commit_Nprams": "0.5333333333333333"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "delta\\utils\\loss\\loss_utils_test.py", "file_new_name": "delta\\utils\\loss\\loss_utils_test.py", "file_complexity": {"file_NLOC": "242", "file_CCN": "10", "file_NToken": "2841"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "279,280,281,282,289,290,291,292,295,296,297,298", "deleted_lines": "279,286,289", "method_info": {"method_name": "test_focal_loss", "method_params": "self", "method_startline": "266", "method_endline": "301", "method_complexity": {"method_NLOC": "30", "method_CCN": "1", "method_NToken": "294", "method_nesting_level": "1"}}}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "delta\\utils\\misc.py", "file_new_name": "delta\\utils\\misc.py", "file_complexity": {"file_NLOC": "139", "file_CCN": "41", "file_NToken": "1053"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "232,233,234,241", "deleted_lines": "232,244", "method_info": {"method_name": "auc_smaller", "method_params": "best_eval_result,current_eval_result", "method_startline": "232", "method_endline": "252", "method_complexity": {"method_NLOC": "9", "method_CCN": "5", "method_NToken": "53", "method_nesting_level": "0"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "232,233,234", "deleted_lines": "232", "method_info": {"method_name": "metric_smaller", "method_params": "best_eval_result,current_eval_result,default_key", "method_startline": "232", "method_endline": "234", "method_complexity": {"method_NLOC": "3", "method_CCN": "1", "method_NToken": "15", "method_nesting_level": "0"}}}}}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "delta\\utils\\solver\\estimator_solver.py", "file_new_name": "delta\\utils\\solver\\estimator_solver.py", "file_complexity": {"file_NLOC": "378", "file_CCN": "40", "file_NToken": "2536"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "251,252,253,254,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301", "deleted_lines": "249,250,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293", "method_info": {"method_name": "get_eval_hooks", "method_params": "self,labels,logits", "method_startline": "249", "method_endline": "311", "method_complexity": {"method_NLOC": "58", "method_CCN": "3", "method_NToken": "370", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "405,406,407,408,409,410,411,412,413,414,432", "deleted_lines": "415", "method_info": {"method_name": "train_and_eval", "method_params": "self", "method_startline": "395", "method_endline": "448", "method_complexity": {"method_NLOC": "45", "method_CCN": "4", "method_NToken": "275", "method_nesting_level": "1"}}}}}, "file_3": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "deltann\\api\\c_api.cc", "file_new_name": "deltann\\api\\c_api.cc", "file_complexity": {"file_NLOC": "70", "file_CCN": "13", "file_NToken": "491"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "18", "deleted_lines": null}}}, "file_4": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "deltann\\api\\c_api.h", "file_new_name": "deltann\\api\\c_api.h", "file_complexity": {"file_NLOC": "28", "file_CCN": "0", "file_NToken": "181"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "17,18,83", "deleted_lines": "17,18,83"}}}, "file_5": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "deltann\\core\\graph.cc", "file_new_name": "deltann\\core\\graph.cc", "file_complexity": {"file_NLOC": "105", "file_CCN": "18", "file_NToken": "1020"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "64", "deleted_lines": "64", "method_info": {"method_name": "delta::core::Graph::Graph", "method_params": "cfg", "method_startline": "26", "method_endline": "76", "method_complexity": {"method_NLOC": "45", "method_CCN": "7", "method_NToken": "428", "method_nesting_level": "2"}}}}}, "file_6": {"file_change_type": "MODIFY", "file_Nmethod": 3, "file_old_name": "deltann\\core\\runtime.h", "file_new_name": "deltann\\core\\runtime.h", "file_complexity": {"file_NLOC": "314", "file_CCN": "64", "file_NToken": "2153"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "116,117,118,120,127,134", "deleted_lines": "115,117", "method_info": {"method_name": "delta::core::load_models", "method_params": "rt_cfg,graphs", "method_startline": "91", "method_endline": "151", "method_complexity": {"method_NLOC": "44", "method_CCN": "12", "method_NToken": "301", "method_nesting_level": "3"}}}, "hunk_1": {"Ismethod": 1, "added_lines": null, "deleted_lines": "154", "method_info": {"method_name": "delta::core::Runtime::Runtime", "method_params": "rt_cfg", "method_startline": "154", "method_endline": "155", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "22", "method_nesting_level": "3"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "158", "deleted_lines": null, "method_info": {"method_name": "delta::core::Runtime::Runtime", "method_params": "rt_cfg", "method_startline": "158", "method_endline": "159", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "23", "method_nesting_level": "3"}}}}}, "file_7": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "deltann\\core\\tfmodel.cc", "file_new_name": "deltann\\core\\tfmodel.cc", "file_complexity": {"file_NLOC": "187", "file_CCN": "30", "file_NToken": "1399"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "58", "deleted_lines": "58", "method_info": {"method_name": "delta::core::TFModel::TFModel", "method_params": "model_meta,num_threads", "method_startline": "55", "method_endline": "60", "method_complexity": {"method_NLOC": "4", "method_CCN": "1", "method_NToken": "23", "method_nesting_level": "2"}}}}}, "file_8": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "deltann\\core\\tfserving_model.h", "file_new_name": "deltann\\core\\tfserving_model.h", "file_complexity": {"file_NLOC": "24", "file_CCN": "0", "file_NToken": "100"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "52", "deleted_lines": "52"}}}, "file_9": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "deltann\\examples\\text_cls\\test.cc", "file_new_name": "deltann\\examples\\text_cls\\test.cc", "file_complexity": {"file_NLOC": "34", "file_CCN": "3", "file_NToken": "266"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "33,48,49", "deleted_lines": "33,48,49", "method_info": {"method_name": "main", "method_params": "argc,argv", "method_startline": "23", "method_endline": "62", "method_complexity": {"method_NLOC": "30", "method_CCN": "3", "method_NToken": "257", "method_nesting_level": "0"}}}}}, "file_10": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "deltann\\test\\test.cc", "file_new_name": "deltann\\test\\test.cc", "file_complexity": {"file_NLOC": "46", "file_CCN": "4", "file_NToken": "362"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "32,38,39,60,61", "deleted_lines": "32,38,39,60,61", "method_info": {"method_name": "main", "method_params": "argc,argv", "method_startline": "23", "method_endline": "77", "method_complexity": {"method_NLOC": "42", "method_CCN": "4", "method_NToken": "353", "method_nesting_level": "0"}}}}}}}}