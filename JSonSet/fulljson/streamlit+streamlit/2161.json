{"BR": {"BR_id": "2161", "BR_author": "akrolsmir", "BRopenT": "2020-10-12T19:43:03Z", "BRcloseT": "2020-10-14T05:41:10Z", "BR_text": {"BRsummary": "Safari re-requests images inside a column", "BRdescription": "\n <denchmark-code>import streamlit as st\n import time\n from PIL import Image\n \n image = Image.open(\"books.jpg\")\n # Using this image by URL prevents Safari from reloading\n # image = \"https://static.streamlit.io/examples/owl.jpg\"\n # st.image(image, use_column_width=True)\n col1, _ = st.beta_columns(2)\n col1.image(image, use_column_width=True)\n \n for i in range(10):\n     st.write(\"hi\")\n     time.sleep(2)\n </denchmark-code>\n \n When a 1) local image file is 2) placed inside a column 3) on the latest develop (after <denchmark-link:https://github.com/streamlit/streamlit/pull/2158>#2158</denchmark-link>\n , anyways), each subsequent Streamlit call causes Safari to re-request the image, as shown on Safari's \"networks\" tab.\n Current hypothesis is that this is a caching issue; the reason is that an image loaded via URL does not exhibit the same re-requesting issue\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "akrolsmir", "commentT": "2020-10-12T19:47:00Z", "comment_text": "\n \t\tNote that the re-request itself doesn't have any user-visible effects, as far as I can tell. But the code snippet does seem to trigger the same issue described in <denchmark-link:https://github.com/streamlit/streamlit/issues/2145#issuecomment-707208698>#2145 (comment)</denchmark-link>\n \n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "akrolsmir", "commentT": "2020-10-13T19:12:43Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/akrolsmir>@akrolsmir</denchmark-link>\n  It does give a large amount of flickering, which is kinda weird. The end result is fine, but it's weird loading to get to that.\n <denchmark-link:https://user-images.githubusercontent.com/69432/95905119-48cd7780-0d4d-11eb-9809-ae910e260055.gif></denchmark-link>\n \n \t\t"}}}, "commit": {"commit_id": "069a5220c78045debaccbd4869de7c68b8e1bfad", "commit_author": "Ken McGrady", "commitT": "2020-10-13 16:32:45-07:00", "commit_complexity": {"commit_NLOC": "None", "commit_CCN": "None", "commit_Nprams": "None"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "frontend\\src\\components\\core\\Block\\Block.tsx", "file_new_name": "frontend\\src\\components\\core\\Block\\Block.tsx", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "102,103,105,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,215,216,217", "deleted_lines": "102,103,104,105,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,180,181,182,183,184,187,188,189,190,191,192,193,194,195,196,197,198,199,200"}}}}}}