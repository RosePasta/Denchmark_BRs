{"BR": {"BR_id": "568", "BR_author": "nthmost", "BRopenT": "2019-10-30T17:54:40Z", "BRcloseT": "2019-11-19T18:00:13Z", "BR_text": {"BRsummary": "Streamlit 0.49.0 on Windows + Python 3.8 fails to execute (Tornado error)", "BRdescription": "\n <denchmark-h:h1>Summary</denchmark-h>\n \n Streamlit fails to execute on Windows under Python 3.8 due to a bug in Tornado.  The version of Tornado pinned in streamlit 0.49 was 5.x, while the latest version of Tornado at the time of this bug was 6.0.3.  <denchmark-link:https://stackoverflow.com/questions/58422817/jupyter-notebook-with-python-3-8-notimplementederror>A similar bug was found in IPython notebook.</denchmark-link>\n \n <denchmark-h:h1>Steps to reproduce</denchmark-h>\n \n What are the steps we should take to reproduce the bug:\n \n Setup Python 3.8 virtualenv on Windows\n Install streamlit 0.49.0\n streamlit hello\n \n <denchmark-h:h2>Expected behavior:</denchmark-h>\n \n Streamlit hello should run.\n <denchmark-h:h2>Actual behavior:</denchmark-h>\n \n Streamlit fails to execute, spitting out the following (tail end of traceback -- <denchmark-link:https://discuss.streamlit.io/t/streamlit-issue-when-calling-streamlit/724>see full traceback here</denchmark-link>\n ):\n <denchmark-code>self._handlers[sock.fileno()] = add_accept_handler(\n File \u201cc:\\users\\admin\\appdata\\local\\programs\\python\\python38-32\\lib\\site-packages\\tornado\\netutil.py\u201d, line 268, in add_accept_handler\n io_loop.add_handler(sock, accept_handler, IOLoop.READ)\n File \u201cc:\\users\\admin\\appdata\\local\\programs\\python\\python38-32\\lib\\site-packages\\tornado\\platform\\asyncio.py\u201d, line 79, in add_handler\n self.asyncio_loop.add_reader(\n File \u201cc:\\users\\admin\\appdata\\local\\programs\\python\\python38-32\\lib\\asyncio\\events.py\u201d, line 501, in add_reader\n raise NotImplementedError\n NotImplementedError\n </denchmark-code>\n \n <denchmark-h:h2>Is this a regression?</denchmark-h>\n \n No; Python 3.8 hasn't been officially supported in Streamlit to date.  (But it should work.)\n <denchmark-h:h1>Debug info</denchmark-h>\n \n \n Streamlit version: 0.49.0\n Python version: 3.8\n Using Conda? PipEnv? PyEnv? Pex?  any\n OS version: Windows (probably any)\n Browser version:  n/a\n \n <denchmark-h:h1>Additional information</denchmark-h>\n \n Using Python 3.7.5 is the recommended solution for now.  See <denchmark-link:https://discuss.streamlit.io/t/streamlit-issue-when-calling-streamlit/724/4>https://discuss.streamlit.io/t/streamlit-issue-when-calling-streamlit/724/4</denchmark-link>\n \n \t"}, "comments": {}}, "commit": {"commit_id": "613f904d16952dadea0889cfb9d1e3c833746032", "commit_author": "Nahuel Emiliano Rosso Fandi\u00f1o", "commitT": "2019-11-19 15:00:12-03:00", "commit_complexity": {"commit_NLOC": "0.05555555555555555", "commit_CCN": "1.0", "commit_Nprams": "0.9444444444444444"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "lib\\streamlit\\bootstrap.py", "file_new_name": "lib\\streamlit\\bootstrap.py", "file_complexity": {"file_NLOC": "102", "file_CCN": "23", "file_NToken": "584"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126", "deleted_lines": null, "method_info": {"method_name": "_fix_tornado_crash", "method_params": "", "method_startline": "92", "method_endline": "126", "method_complexity": {"method_NLOC": "17", "method_CCN": "5", "method_NToken": "61", "method_nesting_level": "0"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "210", "deleted_lines": null, "method_info": {"method_name": "run", "method_params": "script_path,command_line,args", "method_startline": "196", "method_endline": "229", "method_complexity": {"method_NLOC": "11", "method_CCN": "1", "method_NToken": "66", "method_nesting_level": "0"}}}}}}}}