{"BR": {"BR_id": "1561", "BR_author": "cedias", "BRopenT": "2020-06-10T12:33:32Z", "BRcloseT": "2020-08-27T22:39:01Z", "BR_text": {"BRsummary": "st.plotly_chart legend_title_text is not refreshed on update/refresh.", "BRdescription": "\n <denchmark-h:h1>Summary</denchmark-h>\n \n On update refresh of a st.plotly_chart, the legend title is not refreshed and keeps the existing value.\n <denchmark-h:h1>Steps to reproduce</denchmark-h>\n \n Here is an example of how to reproduce the bug\n import streamlit as st\n import plotly.graph_objects as go\n \n def title():\n     fig = go.Figure()\n     fig.add_trace(go.Bar(y=[10,10,10], x=[\"a\",\"b\",\"c\"], name=\"a\"))\n     fig.add_trace(go.Bar(y=[100,100,100], x=[\"a\",\"b\",\"c\"], name=\"b\"))\n     fig.update_layout(legend_title_text='I have a title')\n \n     st.plotly_chart(fig, key=\"graph2\")\n \t    \n def noTitle():\n     fig = go.Figure()\n     fig.add_trace(go.Bar(y=[10,10,10],x=[\"1\",\"2\",\"3\"],name=\"rolfla\"))\n     fig.add_trace(go.Bar(y=[100,100,100], x=[\"a\",\"b\",\"c\"], name=\"coulos\"))\n     ## fig.update_layout(legend_title_text='I have a title')  # Removing the title\n \n     st.plotly_chart(fig)\n \t    \n plot = st.sidebar.radio(\"plots\",('title', 'noTitle'))\n functs = {'title':title,'noTitle':noTitle}\n functs[plot]()\n <denchmark-h:h2>Expected behavior:</denchmark-h>\n \n One graph (title()) should have a legend title, the other one should not have a legend title (noTitle())\n <denchmark-h:h2>Actual behavior:</denchmark-h>\n \n When switching between title() and noTitle(), the legend title is not refreshed.\n <denchmark-h:h2>Is this a regression?</denchmark-h>\n \n No\n <denchmark-h:h1>Debug info</denchmark-h>\n \n \n Streamlit version: 0.61.0\n Python version: 3.7.4\n \n \t"}, "comments": {}}, "commit": {"commit_id": "f26e9dc3f21ec900b5f819bc2f379db66a32b50c", "commit_author": "Henrikh Kantuni", "commitT": "2020-08-27 18:39:00-04:00", "commit_complexity": {"commit_NLOC": "None", "commit_CCN": "None", "commit_Nprams": "None"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "frontend\\package.json", "file_new_name": "frontend\\package.json", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "58", "deleted_lines": "58"}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "frontend\\yarn.lock", "file_new_name": "frontend\\yarn.lock", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "2113,2114,2115,2116,2117,2118,2119,2120,2133,2134,2135,2136,2137,2142,2222,2223,2224,2225,2226,2227,2228,2229,2230,2231,2232,2233,2234,2235,2236,2237,5137,5138,5139,5140,5141,5142,5143,5144,5145,5146,5543,5669,5831,6035,6038,6144,6845,7514,7515,7516,7517,8113,8114,8115,8116,8132,8140,8141,8142,8143,8162,8163,8164,8165,8177,8178,8179,8180,8188,8203,8204,8205,8206,8208,8210,8213,8215,8216,8217,8218,8221,8223,8224,8227,8233,8241,8242,8243,8244,8245,8246,8247,8248,8249,8253,8254,8256,8257,8261,8262,8264,8267,8268,8269,8270,8274,8278,8280,8281,8282,8283,8287,8290,8292,8295,8299,8302,8303,8304,8305,8320,8321,8322,8323,8325,8326,8327,8328,8332,8335,8336,8337,8338,8341,8344,8345,8346,8347,8350,8351,8354,8365,8366,8367,8368,8381,8382,8383,8384,8386,8394,8395,8396,8397,8403,8404,8405,8406,8407,8411,8413,8414,8415,8417,8441,8461,9656,9657,9658,9659,10951,10952,10953,10954,10956,10959,10961,10965,10966,10968,10970,10972,10976,10977,11611,11614,11619,11622,11634,11641,11642,11643,11644,11645,11646,11647,11648,11920,11923,12759,12760,12761,12762,12775,12776,12780,12781,12782,12783,12784,12785,12786,12788,12789,12790,12791,12792,12793,12795,12796,12801,12802,12807,12808,12809,12812,12815,12824,12825,14369,14378,14379,14380,14381,14382,14383,14384,14385,14386,14635,14636,14637,14638,14640,14679,14680,14681,14682,14683,14740,15381,15449,15452,15638,15789,16371,16372,16373,16374,16446,16492,16493,16494,16495,16496,16497,16498,16743,16744,16745,16746,16747,16748,16749,16750", "deleted_lines": "2129,3434,3435,3436,3437,3438,3439,3440,3441,4514,4515,4516,4517,4595,4596,4597,4598,4599,4600,4601,4838,4839,4840,4841,4842,4843,4844,4845,5531,5657,5663,5664,5665,5666,5667,5668,5669,5670,5671,5672,5673,5674,5675,5676,5677,5678,5835,6039,6147,6526,6527,6528,6529,6530,6531,6854,6859,6860,6861,6862,6954,6955,6956,6957,6958,6959,6960,6961,6962,6963,7224,7225,7226,7227,7241,7242,7243,7244,7261,7262,7263,7264,7269,7270,7271,7272,7553,7554,7555,8151,8152,8153,8169,8177,8178,8179,8180,8199,8200,8201,8213,8214,8215,8223,8238,8239,8240,8242,8244,8247,8249,8250,8251,8254,8256,8257,8259,8261,8262,8263,8264,8265,8271,8275,8276,8277,8278,8279,8280,8281,8282,8287,8288,8289,8290,8294,8295,8297,8298,8302,8303,8305,8308,8309,8310,8311,8315,8319,8321,8322,8323,8324,8328,8331,8333,8336,8340,8343,8344,8345,8360,8361,8362,8364,8365,8366,8367,8371,8374,8375,8376,8379,8382,8383,8384,8385,8386,8387,8388,8389,8390,8391,8392,8393,8394,8395,8398,8399,8400,8403,8414,8415,8416,8429,8430,8431,8432,8434,8442,8443,8444,8450,8451,8452,8453,8454,8458,8460,8461,8462,8464,8488,8508,8664,8665,8666,8667,9707,9708,9709,9710,9711,9712,9713,9714,10907,10908,10909,10910,11010,11011,11012,11013,11015,11018,11020,11024,11025,11027,11029,11031,11035,11036,11653,11654,11655,11656,11657,11658,11666,11667,11668,11669,11670,11671,11672,11683,11690,11704,11705,11706,11707,11708,11709,11710,11711,11989,12093,12094,12095,12096,12113,12114,12115,12116,12835,12836,12837,12838,12851,12852,12856,12857,12858,12859,12860,12861,12862,12864,12865,12866,12867,12868,12869,12871,12872,12877,12878,12883,12884,12885,12888,12891,12900,13911,13912,13913,13914,13915,13916,13917,14451,14468,14469,14470,14471,14472,14473,14474,14475,14476,14717,14718,14719,14720,14735,14817,15036,15037,15038,15039,15040,15041,15464,15532,15720,15729,15730,15731,15732,15733,15734,15877,15891,15892,15893,15894,15895,15896,15897,15898,15899,15900,15901,15902,15903,15904,15905,15906,16475,16476,16477,16507,16508,16509,16510,16511,16512,16513,16556,16649,16650,16651,16652,16653,16654,16865,16866,16867,16868,16869,16870,16871,16872,16873,16882,16883,16884,16885,17946,17947,17948,17949,17960,17961,17962,17963,18231,18232,18233,18234,18235,18236,18380,18381,18382,18383,18384,18385,18386,18387,18388"}}}}}}