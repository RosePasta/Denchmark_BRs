{"BR": {"BR_id": "642", "BR_author": "jrhone", "BRopenT": "2019-11-07T18:28:16Z", "BRcloseT": "2020-01-08T23:16:04Z", "BR_text": {"BRsummary": "st.empty not working as expected", "BRdescription": "\n Using st.empty can lead to some jumpiness in the app. We expect empty to maintain the dimensions of the chart when the app reloads, but instead it's collapsing before re-drawing and all the elements below it move up then down on reload.\n See the following example below and play with the slider to reproduce. If we move the slider above the chart, the jumpiness disappears.\n <denchmark-link:https://gist.github.com/jrhone/c5b827b37295186d1d3ac11fb427870e>https://gist.github.com/jrhone/c5b827b37295186d1d3ac11fb427870e</denchmark-link>\n \n Thiago:\n \n Looks like we're not even adding the empty to the app as an empty div anymore.... I think this bug got introduced with the sidebar refactor\n \n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "jrhone", "commentT": "2019-11-07T18:33:48Z", "comment_text": "\n \t\tHere's the PR that introduced the  behavior for the first time: <denchmark-link:https://github.com/streamlit/streamlit/commit/63bc1d079050d0116649faef16623c106ba5b8e8>63bc1d0</denchmark-link>\n \n Here's a summary of the issue.\n <denchmark-h:h3>Broken behavior:</denchmark-h>\n \n Given this script,\n x = st.empty()\n time.sleep(2)\n x.line_chart(df)\n st.write(\"Hello\")\n \n \n When you run it once, you see:\n \n (2 seconds pause)\n Chart\n \"Hello\"\n \n \n \n When you run it again, you see:\n \n Everything fades away\n The chart disappears, and \"Hello\" jumps up\n (2 seconds pause)\n Chart\n \"Hello\"\n \n \n \n <denchmark-h:h3>Correct behavior:</denchmark-h>\n \n \n \n When you run it once, you see:\n \n (2 seconds pause)\n Chart\n \"Hello\"\n \n \n \n When you run it again, you see:\n \n Everything fades away\n The chart disappears, but there's an empty div in its place with the same dimensions as the original chart. So \"Hello\" does not jump up\n (2 seconds pause)\n Chart\n \"Hello\"\n \n \n \n \t\t"}}}, "commit": {"commit_id": "45865db39587bcdc438a4f27a6df30cf78e243c3", "commit_author": "Matteo", "commitT": "2019-12-10 14:46:32-08:00", "commit_complexity": {"commit_NLOC": "None", "commit_CCN": "None", "commit_Nprams": "None"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "frontend\\src\\components\\core\\Block\\Block.tsx", "file_new_name": "frontend\\src\\components\\core\\Block\\Block.tsx", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "20,40,41,90,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,173,181,182,183,184,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,211,250", "deleted_lines": "20,88,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,171,172,173,174,175,176,177,178,186,187,188,189,190,191,192,193,196,197,198,199,200,201,202,203,204,205,206,207,208,209,218,257"}}}, "file_1": {"file_change_type": "ADD", "file_Nmethod": 0, "file_old_name": "None", "file_new_name": "frontend\\src\\components\\core\\Maybe\\Maybe.test.tsx", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}}, "file_2": {"file_change_type": "ADD", "file_Nmethod": 0, "file_old_name": "None", "file_new_name": "frontend\\src\\components\\core\\Maybe\\Maybe.tsx", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}}, "file_3": {"file_change_type": "ADD", "file_Nmethod": 0, "file_old_name": "None", "file_new_name": "frontend\\src\\components\\core\\Maybe\\index.tsx", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}}, "file_4": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "frontend\\src\\components\\core\\ReportView\\ReportView.scss", "file_new_name": "frontend\\src\\components\\core\\ReportView\\ReportView.scss", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "134,135,136,137", "deleted_lines": null}}}}}}