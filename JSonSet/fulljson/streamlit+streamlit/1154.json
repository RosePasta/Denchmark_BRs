{"BR": {"BR_id": "1154", "BR_author": "MartinoMensio", "BRopenT": "2020-02-27T17:54:04Z", "BRcloseT": "2020-03-11T21:39:18Z", "BR_text": {"BRsummary": "Plotly fullscreen exit bug", "BRdescription": "\n <denchmark-h:h1>Summary</denchmark-h>\n \n The fullscreen of the plotly charts has some problems when exiting. The plot remains wider than the container and overflows on the right\n <denchmark-h:h1>Steps to reproduce</denchmark-h>\n \n What are the steps we should take to reproduce the bug:\n Use the following code\n import streamlit as st\n import numpy as np\n import plotly.graph_objects as go\n import pandas as pd\n \n print(st.__version__)\n # '0.56.0'\n \n # generate some data\n m = np.identity(300)\n \n # generate plotly heatmap\n fig = go.Figure(data=go.Heatmap(z=m))\n # display chart\n st.plotly_chart(fig)\n \n # just to show the width of the normal view\n df = pd.DataFrame(\n    np.random.randn(10, 20),\n    columns=('col %d' % i for i in range(20)))\n st.dataframe(df.style.highlight_max(axis=0))\n Then click on the full-screen button and go back: the view is broken. See this gif\n <denchmark-link:https://user-images.githubusercontent.com/11597393/75470409-87621d80-5988-11ea-9343-6da825c9511b.gif></denchmark-link>\n \n <denchmark-h:h2>Expected behavior:</denchmark-h>\n \n The plot should be displayed in the same way as before the full-screen.\n <denchmark-h:h2>Actual behavior:</denchmark-h>\n \n The plot overflows on the right, out of the normal size of the streamlit app.\n <denchmark-h:h2>Is this a regression?</denchmark-h>\n \n I never tried it before with plotly.\n <denchmark-h:h1>Debug info</denchmark-h>\n \n \n Streamlit version: 0.56.0\n Python version: 3.7.6\n Using Conda? PipEnv? PyEnv? Pex? virtualenv\n OS version: MacOS Catalina 10.15.3\n Browser version: Chrome  80.0.3987.122\n \n The plotly version is 4.5.2\n <denchmark-h:h1>Additional information</denchmark-h>\n \n With other plot types it doesn't happen (e.g. line_chart)\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "MartinoMensio", "commentT": "2020-03-02T20:55:01Z", "comment_text": "\n \t\tHey <denchmark-link:https://github.com/MartinoMensio>@MartinoMensio</denchmark-link>\n  , thanks for catching this!\n I will move this to our backlog so we can prioritize it.\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "MartinoMensio", "commentT": "2020-03-08T00:19:19Z", "comment_text": "\n \t\tFYI - there's a way to deal with this.\n Fix the height of the plotly figure in plotly, and then set streamlit's use_container_width to True.\n <denchmark-code>fig.update_layout(height=450)  \n st.plotly_chart(fig, use_container_width=True)\n </denchmark-code>\n \n \t\t"}}}, "commit": {"commit_id": "1355b69a50270b698ed2ac0c0f8fd47debb82c41", "commit_author": "Nahuel Emiliano Rosso Fandi\u00f1o", "commitT": "2020-03-11 18:39:16-03:00", "commit_complexity": {"commit_NLOC": "None", "commit_CCN": "None", "commit_Nprams": "None"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "frontend\\src\\components\\elements\\PlotlyChart\\PlotlyChart.tsx", "file_new_name": "frontend\\src\\components\\elements\\PlotlyChart\\PlotlyChart.tsx", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "55,56,57,58,60,62,63,64,65,66,76,80,82,83,85", "deleted_lines": "38,39,40,41,42,60,61,63,65,66,67,68,69,70,71,72,81,87,88,90"}}}}}}