{"BR": {"BR_id": "103", "BR_author": "sonnylaskar", "BRopenT": "2020-05-09T08:01:21Z", "BRcloseT": "2020-05-12T13:41:26Z", "BR_text": {"BRsummary": "Making \"question\" field configurable via environment variables in FAQ retrieval", "BRdescription": "\n Hi,\n The current implementation for FAQ style retrieval expects a \"question\" field to be present in the document. However, I think it makes sense to make that field configurable (via env variables).\n There can be cases where data has already been indexed and using a separate process one can generate the embeddings and index them to the same elasticsearch document. Currently, the user will be forced to make a copy of the query field as \"question\" field as a workaround.\n Please advice.\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "sonnylaskar", "commentT": "2020-05-12T13:07:02Z", "comment_text": "\n \t\tHi <denchmark-link:https://github.com/sonnylaskar>@sonnylaskar</denchmark-link>\n , there are currently two approaches for FAQ retrieval:\n \n \n ElasticsearchRetriever uses Elasticsearch query score for retrieval of documents. The field(s) to be used for the retrieval are configured by the SEARCH_FIELD_NAME variable.\n \n \n EmbeddingRetriever uses cosine similarity score of the query string's vector embedding and the embeddings stored in Elasticsearch. The embedding field that stores the vectors can be configured by the EMBEDDING_FIELD_NAME variable.\n \n \n These configs can either be specified as environment variables or specified in haystack/api/config.py.\n I hope that helps.\n \t\t"}}}, "commit": {"commit_id": "42b60b55782967247357418be28039c2dc891c36", "commit_author": "Tanay Soni", "commitT": "2020-05-12 15:41:26+02:00", "commit_complexity": {"commit_NLOC": "None", "commit_CCN": "None", "commit_Nprams": "None"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "haystack\\database\\elasticsearch.py", "file_new_name": "haystack\\database\\elasticsearch.py", "file_complexity": {"file_NLOC": "163", "file_CCN": "21", "file_NToken": "1130"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "164", "deleted_lines": "164", "method_info": {"method_name": "query_by_embedding", "method_params": "self,query_emb,top_k,candidate_doc_ids", "method_startline": "153", "method_endline": "187", "method_complexity": {"method_NLOC": "30", "method_CCN": "5", "method_NToken": "186", "method_nesting_level": "1"}}}}}}}}