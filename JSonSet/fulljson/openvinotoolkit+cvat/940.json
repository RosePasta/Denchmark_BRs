{"BR": {"BR_id": "940", "BR_author": "bsekachev", "BRopenT": "2019-12-12T09:33:57Z", "BRcloseT": "2020-10-01T09:38:01Z", "BR_text": {"BRsummary": "Loading PDF. RAM consumption.", "BRdescription": "\n When I upload a large PDF file (for example a book with 300 pages), memory usage become incredible.\n It takes all available RAM (about 16 gigabytes), starts to use swap and my system literally die.\n Probably we should not store all pages in memory during extraction\n \t"}, "comments": {}}, "commit": {"commit_id": "e9552f84f3d43238287a053b8e4cd8829a2f1764", "commit_author": "Maxim Zhiltsov", "commitT": "2020-10-01 12:38:00+03:00", "commit_complexity": {"commit_NLOC": "0.2894736842105263", "commit_CCN": "1.0", "commit_Nprams": "0.8947368421052632"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "CHANGELOG.md", "file_new_name": "CHANGELOG.md", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "42", "deleted_lines": null}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "cvat\\apps\\engine\\cache.py", "file_new_name": "cvat\\apps\\engine\\cache.py", "file_complexity": {"file_NLOC": "44", "file_CCN": "15", "file_NToken": "477"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "60", "deleted_lines": null, "method_info": {"method_name": "save_chunk", "method_params": "self,db_data_id,chunk_number,quality,buff,mime_type", "method_startline": "59", "method_endline": "60", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "38", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "33", "deleted_lines": "57", "method_info": {"method_name": "prepare_chunk_buff", "method_params": "self,db_data,quality,chunk_number", "method_startline": "32", "method_endline": "57", "method_complexity": {"method_NLOC": "23", "method_CCN": "10", "method_NToken": "274", "method_nesting_level": "1"}}}}}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "cvat\\apps\\engine\\frame_provider.py", "file_new_name": "cvat\\apps\\engine\\frame_provider.py", "file_complexity": {"file_NLOC": "143", "file_CCN": "39", "file_NToken": "1089"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "12,16", "deleted_lines": "15"}}}, "file_3": {"file_change_type": "MODIFY", "file_Nmethod": 8, "file_old_name": "cvat\\apps\\engine\\media_extractors.py", "file_new_name": "cvat\\apps\\engine\\media_extractors.py", "file_complexity": {"file_NLOC": "377", "file_CCN": "97", "file_NToken": "2705"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "72,73", "deleted_lines": null, "method_info": {"method_name": "__len__", "method_params": "self", "method_startline": "72", "method_endline": "73", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "12", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "76,77", "deleted_lines": null, "method_info": {"method_name": "frame_range", "method_params": "self", "method_startline": "76", "method_endline": "77", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "20", "method_nesting_level": "1"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "138", "deleted_lines": "137,138", "method_info": {"method_name": "__del__", "method_params": "self", "method_startline": "137", "method_endline": "138", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "13", "method_nesting_level": "1"}}}, "hunk_3": {"Ismethod": 1, "added_lines": "69", "deleted_lines": "68", "method_info": {"method_name": "get_image_size", "method_params": "self", "method_startline": "68", "method_endline": "69", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "6", "method_nesting_level": "1"}}}, "hunk_4": {"Ismethod": 1, "added_lines": "69", "deleted_lines": null, "method_info": {"method_name": "get_image_size", "method_params": "self,i", "method_startline": "69", "method_endline": "70", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "8", "method_nesting_level": "1"}}}, "hunk_5": {"Ismethod": 1, "added_lines": "138", "deleted_lines": "137,138,139,140", "method_info": {"method_name": "__init__", "method_params": "self,source_path,step,start,stop", "method_startline": "135", "method_endline": "144", "method_complexity": {"method_NLOC": "10", "method_CCN": "1", "method_NToken": "91", "method_nesting_level": "1"}}}, "hunk_6": {"Ismethod": 1, "added_lines": "164,165,166", "deleted_lines": "164,165,166", "method_info": {"method_name": "get_path", "method_params": "self,i", "method_startline": "164", "method_endline": "166", "method_complexity": {"method_NLOC": "3", "method_CCN": "1", "method_NToken": "46", "method_nesting_level": "1"}}}, "hunk_7": {"Ismethod": 1, "added_lines": "155,156,157", "deleted_lines": "155", "method_info": {"method_name": "__init__._make_name", "method_params": "", "method_startline": "155", "method_endline": "157", "method_complexity": {"method_NLOC": "3", "method_CCN": "2", "method_NToken": "18", "method_nesting_level": "2"}}}}}, "file_4": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "cvat\\apps\\engine\\task.py", "file_new_name": "cvat\\apps\\engine\\task.py", "file_complexity": {"file_NLOC": "289", "file_CCN": "87", "file_NToken": "2512"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "276,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,376", "deleted_lines": "276,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339", "method_info": {"method_name": "_create_thread", "method_params": "tid,data", "method_startline": "209", "method_endline": "377", "method_complexity": {"method_NLOC": "124", "method_CCN": "34", "method_NToken": "1101", "method_nesting_level": "0"}}}}}, "file_5": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "cvat\\apps\\engine\\tests\\_test_rest_api.py", "file_new_name": "cvat\\apps\\engine\\tests\\_test_rest_api.py", "file_complexity": {"file_NLOC": "3166", "file_CCN": "422", "file_NToken": "23407"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "1542,1543,1544,1545,1546,1547,1548,1549,1550,1551,1552,1553", "deleted_lines": null, "method_info": {"method_name": "generate_pdf_file", "method_params": "filename,page_count", "method_startline": "1542", "method_endline": "1553", "method_complexity": {"method_NLOC": "10", "method_CCN": "3", "method_NToken": "101", "method_nesting_level": "0"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "1951,1969,1972,1995,1998,2016,2017,2018,2019,2020,2021,2022,2023,2024,2025,2026,2027,2028,2029,2030,2031,2032,2033,2034,2035,2036,2037,2038,2039,2040,2041,2042,2043,2044,2045,2046,2047,2048,2049,2050,2051,2052,2053,2054,2055,2056,2057,2058", "deleted_lines": "1933,1951,1954,1977,1980,1998", "method_info": {"method_name": "_test_api_v1_tasks_id_data", "method_params": "self,user", "method_startline": "1794", "method_endline": "2058", "method_complexity": {"method_NLOC": "227", "method_CCN": "1", "method_NToken": "1208", "method_nesting_level": "1"}}}}}}}}