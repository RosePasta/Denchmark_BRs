{"BR": {"BR_id": "249", "BR_author": "twprinston", "BRopenT": "2018-10-09T08:37:27Z", "BRcloseT": "2018-10-21T01:11:22Z", "BR_text": {"BRsummary": "Final fit not replacing the model in training history", "BRdescription": "\n Hi,\n if I run clf.final_fit(x_train, y_train, x_test, y_test, retrain=True)\n then call\n model = clf.load_searcher().load_best_model().produce_keras_model()\n Is this model the retrained model?\n I traced the 0.2.18 ImageSupervised.final_fit() source code but I'm not sure it's true.\n load_best_model() seems to return the original best model in searching phase.\n Thank you.\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "twprinston", "commentT": "2018-10-11T15:44:26Z", "comment_text": "\n \t\tThis might be a bug. I will investigate it. <denchmark-link:https://github.com/twprinston>@twprinston</denchmark-link>\n  Thanks.\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "twprinston", "commentT": "2018-10-14T11:29:58Z", "comment_text": "\n \t\tFaced a similar problem:\n After training the model using clf.fit() function, calling clf.final_fit() does not make any difference. The best model remains the same and does not get updated. So:\n <denchmark-code>clf = ak.ImageClassifier(verbose=True, resume=True, path='autokeras-run')\t\n clf.final_fit(x_train, y_train, x_dev, y_dev, retrain=True)\n y_test_pred = clf.predict(x_test)\n </denchmark-code>\n \n leads to exactly the same results as:\n <denchmark-code>clf = ak.ImageClassifier(verbose=True, resume=True, path='autokeras-run')\n y_test_pred = clf.predict(x_test)\n </denchmark-code>\n \n \t\t"}}}, "commit": {"commit_id": "f6ca5a73ab7f4f82a9fdf1e0ee3e12a4971136b8", "commit_author": "Haifeng Jin", "commitT": "2018-10-20 20:11:21-05:00", "commit_complexity": {"commit_NLOC": "1.0", "commit_CCN": "1.0", "commit_Nprams": "0.0"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "autokeras\\cnn_module.py", "file_new_name": "autokeras\\cnn_module.py", "file_complexity": {"file_NLOC": "61", "file_CCN": "16", "file_NToken": "493"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "83", "deleted_lines": null, "method_info": {"method_name": "final_fit", "method_params": "self,train_data,test_data,trainer_args,retrain", "method_startline": "67", "method_endline": "83", "method_complexity": {"method_NLOC": "7", "method_CCN": "2", "method_NToken": "84", "method_nesting_level": "1"}}}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 3, "file_old_name": "autokeras\\search.py", "file_new_name": "autokeras\\search.py", "file_complexity": {"file_NLOC": "229", "file_CCN": "45", "file_NToken": "1639"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "115", "deleted_lines": "115", "method_info": {"method_name": "add_model", "method_params": "self,metric_value,loss,graph,model_id", "method_startline": "111", "method_endline": "143", "method_complexity": {"method_NLOC": "26", "method_CCN": "7", "method_NToken": "268", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "92", "deleted_lines": "92", "method_info": {"method_name": "load_model_by_id", "method_params": "self,model_id", "method_startline": "91", "method_endline": "92", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "28", "method_nesting_level": "1"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "109", "deleted_lines": "109", "method_info": {"method_name": "replace_model", "method_params": "self,graph,model_id", "method_startline": "108", "method_endline": "109", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "31", "method_nesting_level": "1"}}}}}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "tests\\image\\test_image_supervised.py", "file_new_name": "tests\\image\\test_image_supervised.py", "file_complexity": {"file_NLOC": "222", "file_CCN": "13", "file_NToken": "1884"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "221,245", "deleted_lines": "221,245", "method_info": {"method_name": "test_export_keras_model", "method_params": "_", "method_startline": "205", "method_endline": "261", "method_complexity": {"method_NLOC": "52", "method_CCN": "1", "method_NToken": "414", "method_nesting_level": "0"}}}}}}}}