{"BR": {"BR_id": "21", "BR_author": "tholor", "BRopenT": "2019-07-30T14:48:48Z", "BRcloseT": "2019-07-31T08:32:31Z", "BR_text": {"BRsummary": "Wrong vocab ids for custom vocab", "BRdescription": "\n The user can enrich the vocabulary of an already pretrained language model by supplying a custom vocab. However, if this custom vocab contains tokens that are already present in the original vocab, the indices got messed up in an edge case because the duplicate check is on the \"unstripped\" token rather than the \"stripped\" one. This caused some trouble later down my pipeline. I will add a fix soon.\n \n \n \n FARM/farm/modeling/tokenization.py\n \n \n          Line 133\n       in\n       c8a8556\n \n \n \n \n \n \n  if token not in self.vocab.keys(): \n \n \n \n \n \n \t"}, "comments": {}}, "commit": {"commit_id": "23ed9a06315690a40d5e6efb6287c40480cf7b3a", "commit_author": "Malte Pietsch", "commitT": "2019-07-31 10:32:30+02:00", "commit_complexity": {"commit_NLOC": "None", "commit_CCN": "None", "commit_Nprams": "None"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "farm\\modeling\\tokenization.py", "file_new_name": "farm\\modeling\\tokenization.py", "file_complexity": {"file_NLOC": "142", "file_CCN": "38", "file_NToken": "1055"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "128,135", "deleted_lines": "128,135", "method_info": {"method_name": "_load_custom_vocab", "method_params": "self,custom_vocab_file", "method_startline": "122", "method_endline": "157", "method_complexity": {"method_NLOC": "33", "method_CCN": "8", "method_NToken": "232", "method_nesting_level": "1"}}}}}}}}