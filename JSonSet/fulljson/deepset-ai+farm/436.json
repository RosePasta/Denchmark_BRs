{"BR": {"BR_id": "436", "BR_author": "PhilipMay", "BRopenT": "2020-06-29T15:54:08Z", "BRcloseT": "2020-07-03T10:21:25Z", "BR_text": {"BRsummary": "Setting `num_training_steps` in `schedule_opts` is not good in function `initialize_optimizer`", "BRdescription": "\n This line:\n \n \n \n FARM/farm/modeling/optimization.py\n \n \n          Line 144\n       in\n       a5bda34\n \n \n \n \n \n \n  schedule_opts[\"num_training_steps\"] = num_train_optimization_steps \n \n \n \n \n \n is not nice when the API user sets an explicit schedule_opts dictionary. It overwrites values. IMO it should be deleted.\n What do you think?\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "PhilipMay", "commentT": "2020-06-29T17:23:02Z", "comment_text": "\n \t\tI wouldn't delete it, as this would be a breaking change requiring users to always compute the num_training_steps themselves (not difficult, but annoying). However, I agree that we should not overwrite in the case where a user supplies this already in schedul_opts.\n So how about adding a condition there that prevents overwriting?\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "PhilipMay", "commentT": "2020-06-29T19:53:20Z", "comment_text": "\n \t\tsee PR <denchmark-link:https://github.com/deepset-ai/FARM/pull/437>#437</denchmark-link>\n \n \t\t"}}}, "commit": {"commit_id": "14c857eaf06731773a1f669fcdea42a6701e803d", "commit_author": "Philip May", "commitT": "2020-06-30 09:11:45+02:00", "commit_complexity": {"commit_NLOC": "1.0", "commit_CCN": "1.0", "commit_Nprams": "1.0"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "farm\\modeling\\optimization.py", "file_new_name": "farm\\modeling\\optimization.py", "file_complexity": {"file_NLOC": "165", "file_CCN": "40", "file_NToken": "1049"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "322", "deleted_lines": "315", "method_info": {"method_name": "_init_amp", "method_params": "model,device,optimizer,use_amp", "method_startline": "314", "method_endline": "322", "method_complexity": {"method_NLOC": "8", "method_CCN": "4", "method_NToken": "60", "method_nesting_level": "0"}}}}}, "file_1": {"file_change_type": "ADD", "file_Nmethod": 0, "file_old_name": "None", "file_new_name": "test\\modeling\\test_optimization.py", "file_complexity": {"file_NLOC": "5", "file_CCN": "1", "file_NToken": "44"}}}}}