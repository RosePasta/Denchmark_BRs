{"BR": {"BR_id": "184", "BR_author": "capdevc", "BRopenT": "2015-11-18T16:42:39Z", "BRcloseT": "2016-01-20T03:30:37Z", "BR_text": {"BRsummary": "Sentence segmentation doesn't match parse", "BRdescription": "\n Hi. I'm using the latest 0.99 installed via conda with the latest models downloaded\n I'm having trouble with sentence segmentation.\n In[39]: text = \"I look forward to using Thingamajig.  I've been told it will make my life easier...\"\n In[40]: t = SPACY(text)\n In[41]: list(t.sents)\n Out[44]: [I look forward to using Thingamajig.  I've been told it will make my life easier...]\n In[45]: len(list(t.sents))\n Out[45]: 1\n Here it's claiming that there is only one sentence. This is even though the parse clearly shows two:\n In[47]: [(tok.orth_, tok.head ) for tok in t]\n Out[48]: \n [('I', look ),\n  ('look', look ),   <----- ROOT\n  ('forward', look ),\n  ('to', look ),\n  ('using', to ),\n  ('Thingamajig', using ),\n  ('.', look ),\n  (' ', told ),      <---- problem?\n  ('I', told ),\n  (\"'ve\", told ),\n  ('been', told ),\n  ('told', told ),       <----- ROOT\n  ('it', make ),\n  ('will', make ),\n  ('make', told ),\n  ('my', life ),\n  ('life', easier),\n  ('easier', make ),\n  ('...', told )]\n This may be related to <denchmark-link:https://github.com/explosion/spaCy/issues/154>#154</denchmark-link>\n . If I remove the extra space between the two sentences in the original text (there are two between \"Thingamajig.\" and \"I've\") everything works correctly and I get two sentences.\n In[53]: text = \"I look forward to using Thingamajig. I've been told it will make my life easier...\"\n In[54]: t = SPACY(text)\n In[55]: len(list(t.sents))\n Out[55]: 2\n In[56]: [(tok.orth_, tok.head) for tok in t]\n Out[56]: \n [('I', look ),\n  ('look', look ),\n  ('forward', look ),\n  ('to', look ),\n  ('using', to ),\n  ('Thingamajig', using ),\n  ('.', look ),\n  ('I', told ),\n  (\"'ve\", told ),\n  ('been', told ),\n  ('told', told ),\n  ('it', make ),\n  ('will', make ),\n  ('make', told ),\n  ('my', life ),\n  ('life', easier),\n  ('easier', make ),\n  ('...', told )]\n In[57]: list(t.sents)\n Out[57]: \n [I look forward to using Thingamajig.,\n  I've been told it will make my life easier...]\n Thanks for the wonderful software!\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "capdevc", "commentT": "2015-11-19T09:29:38Z", "comment_text": "\n \t\tI think I know how I broke this. Thanks, will add the test and fix this.\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "capdevc", "commentT": "2016-01-20T03:30:37Z", "comment_text": "\n \t\tThis should be fixed in v0.100. Please reopen this if it's not.\n \t\t"}, "comments_2": {"comment_id": 3, "comment_author": "capdevc", "commentT": "2018-05-09T15:31:38Z", "comment_text": "\n \t\tThis thread has been automatically locked since there has not been any recent activity after it was closed. Please open a new issue for related bugs.\n \t\t"}}}, "commit": {"commit_id": "7893de32036de666a704a278ea0457af5e4eeb89", "commit_author": "Matthew Honnibal", "commitT": "2016-01-18 23:04:38+01:00", "commit_complexity": {"commit_NLOC": "1.0", "commit_CCN": "1.0", "commit_Nprams": "1.0"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "spacy\\tests\\parser\\test_space_attachment.py", "file_new_name": "spacy\\tests\\parser\\test_space_attachment.py", "file_complexity": {"file_NLOC": "20", "file_CCN": "4", "file_NToken": "164"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "19,20,21,22,23,24,25,26", "deleted_lines": null, "method_info": {"method_name": "test_sentence_space", "method_params": "EN", "method_startline": "19", "method_endline": "26", "method_complexity": {"method_NLOC": "8", "method_CCN": "1", "method_NToken": "98", "method_nesting_level": "0"}}}}}}}}