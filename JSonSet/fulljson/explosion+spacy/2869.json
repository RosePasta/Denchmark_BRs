{"BR": {"BR_id": "2869", "BR_author": "andifunke", "BRopenT": "2018-10-19T18:38:25Z", "BRcloseT": "2019-02-27T10:17:54Z", "BR_text": {"BRsummary": "is_sent_start on first document token should be True instead of None", "BRdescription": "\n Hey everyone,\n From the documentation of Token.is_sent_start:\n \"... It also now returns None if the answer is unknown, and fixes a quirk in the old logic that would always set the property to 0 for the first word of the document.\"\n The value of is_sent_start for the first token in a document is now always None instead of 0. Is this the intended behavior? I would argue that True would be more reasonable and consistent. At least it caused some issues to my code when I concatenated several documents and the is_sent_start flag on each first document word was missing.\n <denchmark-h:h2>How to reproduce the behaviour</denchmark-h>\n \n <denchmark-code>import spacy\n nlp = spacy.load('en')\n text = \"This is the first sentence. This is the second sentence.\"\n doc = nlp(text)\n for token in doc:\n     print(token.i, token.is_sent_start, token.text)\n </denchmark-code>\n \n <denchmark-h:h2>Info about spaCy</denchmark-h>\n \n \n spaCy version: 2.0.16\n Platform: Linux-4.13.0-38-generic-x86_64-with-debian-stretch-sid\n Python version: 3.7.0\n Models: en, de\n \n Kind regards,\n Andreas\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "andifunke", "commentT": "2018-11-29T00:41:53Z", "comment_text": "\n \t\tI agree that this seems inconsistent with the naming of the attribute. I had assumed I must've done something wrong somehow when I discovered this was the case and the first word in my document was not the start of a sentence. If this isn't going to be changed, could we at least get a reasoning for why it is the way it is?\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "andifunke", "commentT": "2019-02-24T21:29:22Z", "comment_text": "\n \t\tSorry for the delay getting to this.\n I had it as None so that it's easy to check that nothing has predicted sentence boundaries. Otherwise we can't tell a situation where a model has tried to predict sentence starts and only found the first word of the sentence.\n That said, I hadn't thought about the case where multiple documents are being concatenated. That does make me think it would be less confusing to make it just True.\n \t\t"}, "comments_2": {"comment_id": 3, "comment_author": "andifunke", "commentT": "2019-03-29T10:42:43Z", "comment_text": "\n \t\tThis thread has been automatically locked since there has not been any recent activity after it was closed. Please open a new issue for related bugs.\n \t\t"}}}, "commit": {"commit_id": "4a3371acd54c0828ba0533b577f70969f56919c8", "commit_author": "Matthew Honnibal", "commitT": "2019-02-27 11:17:17+01:00", "commit_complexity": {"commit_NLOC": "1.0", "commit_CCN": "1.0", "commit_Nprams": "1.0"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "spacy\\tests\\doc\\test_token_api.py", "file_new_name": "spacy\\tests\\doc\\test_token_api.py", "file_complexity": {"file_NLOC": "153", "file_CCN": "20", "file_NToken": "1617"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "196,197,198,199,200", "deleted_lines": null, "method_info": {"method_name": "test_token0_has_sent_start_true", "method_params": "", "method_startline": "196", "method_endline": "200", "method_complexity": {"method_NLOC": "5", "method_CCN": "1", "method_NToken": "43", "method_nesting_level": "0"}}}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "spacy\\tokens\\doc.pyx", "file_new_name": "spacy\\tokens\\doc.pyx", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "191,192,193,194,195,196,197,202,577,578,579", "deleted_lines": "191,192,197"}}}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "website\\docs\\api\\token.md", "file_new_name": "website\\docs\\api\\token.md", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "327", "deleted_lines": "327"}}}}}}