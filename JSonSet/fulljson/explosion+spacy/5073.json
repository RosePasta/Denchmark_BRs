{"BR": {"BR_id": "5073", "BR_author": "alessandrobokan", "BRopenT": "2020-02-28T21:41:40Z", "BRcloseT": "2020-03-03T11:22:40Z", "BR_text": {"BRsummary": "Matcher does not support attribute IS_SENT_START", "BRdescription": "\n <denchmark-h:h2>How to reproduce the behaviour</denchmark-h>\n \n When I tried to add a pattern to the spacy Matcher with the attribute IS_SENT_START gives me an error\n <denchmark-code>from spacy.matcher import Matcher\n matcher = Matcher(nlp.vocab)\n matcher.add(\"rule1\", None, [{\"IS_SENT_START\": True, \"LOWER\": \"hello\"}])\n </denchmark-code>\n \n ValueError: [E152] The attribute None is not supported for token patterns. Please use the option validate=True with Matcher, PhraseMatcher, or EntityRuler for more details.\n I analysed the source-code of  and I see that attr  is in <denchmark-link:https://github.com/explosion/spaCy/blob/master/spacy/matcher/_schemas.py#L169>TOKEN_PATTERN_SCHEMA</denchmark-link>\n  but in the file <denchmark-link:https://github.com/explosion/spaCy/blob/master/spacy/attrs.pxd>attrs.pdx</denchmark-link>\n  appears as , causing the error.\n This issue could be solved by adding following condition after this line <denchmark-link:https://github.com/explosion/spaCy/blob/master/spacy/matcher/matcher.pyx#L674>674</denchmark-link>\n \n <denchmark-code>if attr == \"IS_SENT_START\":\n     attr = \"SENT_START\"\n </denchmark-code>\n \n <denchmark-h:h2>Your Environment</denchmark-h>\n \n \n Operating System: Ubuntu 18.04\n Python Version Used: 3.6\n spaCy Version Used: 2.2.3\n Environment Information: virtualenv\n \n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "alessandrobokan", "commentT": "2020-03-02T13:49:01Z", "comment_text": "\n \t\tThanks for the report! This should be fixed by <denchmark-link:https://github.com/explosion/spaCy/pull/5080>#5080</denchmark-link>\n .\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "alessandrobokan", "commentT": "2020-04-02T14:48:44Z", "comment_text": "\n \t\tThis thread has been automatically locked since there has not been any recent activity after it was closed. Please open a new issue for related bugs.\n \t\t"}}}, "commit": {"commit_id": "697bec764de41e39582caadc14608607c2af8d09", "commit_author": "adrianeboyd", "commitT": "2020-03-03 12:22:39+01:00", "commit_complexity": {"commit_NLOC": "None", "commit_CCN": "None", "commit_Nprams": "None"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "spacy\\matcher\\_schemas.py", "file_new_name": "spacy\\matcher\\_schemas.py", "file_complexity": {"file_NLOC": "201", "file_CCN": "0", "file_NToken": "801"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "173,174,175,176", "deleted_lines": null}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "spacy\\matcher\\matcher.pyx", "file_new_name": "spacy\\matcher\\matcher.pyx", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "673,674", "deleted_lines": null}}}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "spacy\\tests\\matcher\\test_pattern_validation.py", "file_new_name": "spacy\\tests\\matcher\\test_pattern_validation.py", "file_complexity": {"file_NLOC": "58", "file_CCN": "7", "file_NToken": "737"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "37,38", "deleted_lines": null}}}}}}