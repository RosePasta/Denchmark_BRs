{"BR": {"BR_id": "4068", "BR_author": "veer-bains", "BRopenT": "2019-08-02T06:15:57Z", "BRcloseT": "2019-08-05T08:19:40Z", "BR_text": {"BRsummary": "Invalid syntax in \"/spacy/lang/ko/__init__.py\" when calling spacy.blank(\"ko\") for Korean", "BRdescription": "\n <denchmark-h:h2>How to reproduce the behaviour</denchmark-h>\n \n calling\n spacy.blank(\"ko\")\n produces the following traceback:\n `File \"/usr/lib64/python2.7/site-packages/spacy/init.py\", line 31, in blank\n LangClass = util.get_lang_class(name)\n File \"/usr/lib64/python2.7/site-packages/spacy/util.py\", line 70, in get_lang_class\n module = importlib.import_module(\".lang.%s\" % lang, \"spacy\")\n File \"/usr/lib64/python2.7/importlib/init.py\", line 37, in import_module\n import(name)\n File \"/usr/lib64/python2.7/site-packages/spacy/lang/ko/init.py\", line 28\n <denchmark-code>surface: str\n \n        ^\n </denchmark-code>\n \n SyntaxError: invalid syntax`\n The same script has worked fine for me with other languages, and the same format of data(english, german, chinese, spanish, and a few others), so perhaps this may not be an error on my side.\n <denchmark-h:h2>Your Environment</denchmark-h>\n \n \n Operating System: CentOS (\"Linux-3.10.0-957.21.3.el7.x86_64-x86_64-with-centos-7.6.1810-Core\")\n Python Version Used: 2.7\n spaCy Version Used: 2.1.6\n Environment Information: NIL (running script directly from terminal)\n \n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "veer-bains", "commentT": "2019-08-02T07:55:40Z", "comment_text": "\n \t\tThanks for the report\u00a0\u2013 looks like the problem here are the type annotations on the named tuple. There is a condition for Python 2.7 and 3.5, but I guess 2.7 just sees this as a syntax error and fails regardless \ud83d\ude1e\n Are you able to upgrade to Python 3? If so, that'd be the easiest workaround for now.\n Relevant source is here btw: <denchmark-link:https://github.com/explosion/spaCy/blob/master/spacy/lang/ko/__init__.py>https://github.com/explosion/spaCy/blob/master/spacy/lang/ko/__init__.py</denchmark-link>\n \n It might make sense to rewrite the code so it doesn't use a named tuple, if possible. That means we could remove all the Python version handling and compatibility hacks here. (We will drop 2.7 and 3.5 eventually, but for now, we do have to support both.)\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "veer-bains", "commentT": "2019-08-02T17:01:10Z", "comment_text": "\n \t\tA lot of my team's code is dependent on Python 2.7 actually, because converting to Python 3 would actually generate pretty much the same kind of errors we're seeing here haha.\n I guess if we must though, then we must. I'll pass the information along to my team. Thanks for the help!\n \t\t"}, "comments_2": {"comment_id": 3, "comment_author": "veer-bains", "commentT": "2019-08-02T17:55:49Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/veer-bains>@veer-bains</denchmark-link>\n  Yeah, I totally understand that! The other alternative would be to build spaCy from source and remove the non-2.7 code in that file. (Or maybe someone on your team even has some time to fix it and submit a PR  This way, we can definitely make sure to ship the fix in the next release.)\n \t\t"}, "comments_3": {"comment_id": 4, "comment_author": "veer-bains", "commentT": "2019-08-02T20:47:25Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/ines>@ines</denchmark-link>\n  Will do my best!\n \t\t"}, "comments_4": {"comment_id": 5, "comment_author": "veer-bains", "commentT": "2019-09-04T08:42:29Z", "comment_text": "\n \t\tThis thread has been automatically locked since there has not been any recent activity after it was closed. Please open a new issue for related bugs.\n \t\t"}}}, "commit": {"commit_id": "874bd8c8ddf4cbe02dbca3ad8910c808ee01dcdb", "commit_author": "veer-bains", "commitT": "2019-08-05 10:19:32+02:00", "commit_complexity": {"commit_NLOC": "None", "commit_CCN": "None", "commit_Nprams": "None"}, "changed_files": {"file_0": {"file_change_type": "ADD", "file_Nmethod": 0, "file_old_name": "None", "file_new_name": ".github\\contributors\\veer-bains.md", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "spacy\\lang\\ko\\__init__.py", "file_new_name": "spacy\\lang\\ko\\__init__.py", "file_complexity": {"file_NLOC": "92", "file_CCN": "18", "file_NToken": "574"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "35,36,37,38", "deleted_lines": "35,36,37"}}}}}}