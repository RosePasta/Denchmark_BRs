{"BR": {"BR_id": "6340", "BR_author": "ahalterman", "BRopenT": "2020-11-04T15:24:22Z", "BRcloseT": "2020-11-10T12:18:01Z", "BR_text": {"BRsummary": "Error creating init file locally for GPU + accuracy [spacy-nightly]", "BRdescription": "\n Creating an init file locally using the CLI and the GPU produces the following error:\n <denchmark-code>python -m spacy init config -p textcat -l en --optimize accuracy  config_trf.cfg\n \u2139 Generated template specific for your use case\n - Language: en\n - Pipeline: textcat\n - Optimize for: accuracy\n - Hardware: GPU\n - Transformer: roberta-base\n \u2718 Config validation error\n textcat.model.tok2vec -> pooling   field required\n </denchmark-code>\n \n <denchmark-code>Environment\n spaCy version: 3.0.0rc2\n Platform: Darwin-19.6.0-x86_64-i386-64bit\n Python version: 3.6.11\n Pipelines: en_core_web_sm (3.0.0a0), en_core_web_lg (3.0.0a0), en_core_web_trf (3.0.0a0)\n </denchmark-code>\n \n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "ahalterman", "commentT": "2020-11-10T10:42:13Z", "comment_text": "\n \t\tThanks for the report! This is definitely a bug - we're fixing it :-)\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "ahalterman", "commentT": "2020-11-10T12:18:01Z", "comment_text": "\n \t\tThis should hopefully be fixed in PR <denchmark-link:https://github.com/explosion/spaCy/pull/6371>#6371</denchmark-link>\n , but let us know if you run into new issues!\n \t\t"}}}, "commit": {"commit_id": "a0c899a0fff08e09f7ebabb8e0e50baa4f4b0897", "commit_author": "Sofie Van Landeghem", "commitT": "2020-11-10 20:14:47+08:00", "commit_complexity": {"commit_NLOC": "None", "commit_CCN": "None", "commit_Nprams": "None"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "spacy\\cli\\templates\\quickstart_training.jinja", "file_new_name": "spacy\\cli\\templates\\quickstart_training.jinja", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "146,147,148", "deleted_lines": null}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 4, "file_old_name": "spacy\\ml\\models\\textcat.py", "file_new_name": "spacy\\ml\\models\\textcat.py", "file_complexity": {"file_NLOC": "194", "file_CCN": "5", "file_NToken": "1373"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "64", "deleted_lines": "64", "method_info": {"method_name": "build_text_classifier", "method_params": "None", "method_startline": "64", "method_endline": "67", "method_complexity": {"method_NLOC": "4", "method_CCN": "1", "method_NToken": "38", "method_nesting_level": "0"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "97", "deleted_lines": "97", "method_info": {"method_name": "build_text_classifier", "method_params": "int,int,bool,int,int,int,None", "method_startline": "97", "method_endline": "106", "method_complexity": {"method_NLOC": "10", "method_CCN": "1", "method_NToken": "49", "method_nesting_level": "0"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "64", "deleted_lines": "64", "method_info": {"method_name": "build_text_classifier_v2", "method_params": "None", "method_startline": "64", "method_endline": "67", "method_complexity": {"method_NLOC": "4", "method_CCN": "1", "method_NToken": "38", "method_nesting_level": "0"}}}, "hunk_3": {"Ismethod": 1, "added_lines": "97", "deleted_lines": "97", "method_info": {"method_name": "build_text_classifier_v1", "method_params": "int,int,bool,int,int,int,None", "method_startline": "97", "method_endline": "106", "method_complexity": {"method_NLOC": "10", "method_CCN": "1", "method_NToken": "49", "method_nesting_level": "0"}}}}}}}}