{"BR": {"BR_id": "4463", "BR_author": "jessecoleman", "BRopenT": "2019-10-18T00:33:29Z", "BRcloseT": "2019-10-18T09:00:03Z", "BR_text": {"BRsummary": "GoldParse.__init__ arguments different from GoldParse.from_annot_tuples", "BRdescription": "\n <denchmark-h:h2>How to reproduce the behaviour</denchmark-h>\n \n in <denchmark-link:https://github.com/explosion/spaCy/blob/master/spacy/gold.pyx#L539>gold.pyx#L539</denchmark-link>\n  it appears as if the static  function unpacks a tuple of length 7, but in the constructor <denchmark-link:https://github.com/explosion/spaCy/blob/master/spacy/gold.pyx#L635>gold.pyx#L635</denchmark-link>\n ,  is populated with a length 6 tuple (discarding the cat annotation). This is creating a bug in the  <denchmark-link:https://github.com/explosion/spaCy/blob/master/spacy/scorer.py#L222>score function</denchmark-link>\n  where the gold object is reconstructed with  function. I discovered this bug when trying to override the cli train function.\n <denchmark-h:h2>Your Environment</denchmark-h>\n \n \n Operating System: Ubuntu 16.04.6 LTS\n Python Version Used: 3.6.8\n spaCy Version Used: 2.2.1\n Environment Information: N/A\n \n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "jessecoleman", "commentT": "2019-10-18T06:16:13Z", "comment_text": "\n \t\tThanks for the report! I must have missed this spot when adding cats in 2.2 and I'll look into it...\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "jessecoleman", "commentT": "2019-12-10T20:51:10Z", "comment_text": "\n \t\tThis thread has been automatically locked since there has not been any recent activity after it was closed. Please open a new issue for related bugs.\n \t\t"}}}, "commit": {"commit_id": "29e3da64930434c178fba30cfbbc2f0b7a29e3c7", "commit_author": "adrianeboyd", "commitT": "2019-10-18 11:00:02+02:00", "commit_complexity": {"commit_NLOC": "None", "commit_CCN": "None", "commit_Nprams": "None"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "spacy\\scorer.py", "file_new_name": "spacy\\scorer.py", "file_complexity": {"file_NLOC": "302", "file_CCN": "90", "file_NToken": "2385"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "222", "deleted_lines": "222", "method_info": {"method_name": "score", "method_params": "self,doc,gold,verbose,punct_labels", "method_startline": "209", "method_endline": "316", "method_complexity": {"method_NLOC": "101", "method_CCN": "41", "method_NToken": "907", "method_nesting_level": "1"}}}}}}}}