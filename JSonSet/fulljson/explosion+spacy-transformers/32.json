{"BR": {"BR_id": "32", "BR_author": "igormis", "BRopenT": "2019-08-12T10:46:28Z", "BRcloseT": "2019-08-12T11:19:48Z", "BR_text": {"BRsummary": "AttributeError: 'SerializableXLNetTokenizer' object has no attribute 'vocab_file'", "BRdescription": "\n After testing the script train_textcat.py  on the branch feature/textpair  everything with the training seems ok now. However, the model cannot be saved at the end, here is the traceback:\n <denchmark-code>Traceback (most recent call last):\n   File \"train_textcat.py\", line 237, in <module>\n     plac.call(main)\n   File \"/usr/local/lib/python3.6/dist-packages/plac_core.py\", line 328, in call\n     cmd, result = parser.consume(arglist)\n   File \"/usr/local/lib/python3.6/dist-packages/plac_core.py\", line 207, in consume\n     return cmd, self.func(*(args + varargs + extraopts), **kwargs)\n   File \"train_textcat.py\", line 121, in main\n     nlp.to_disk(output_dir)\n   File \"/usr/local/lib/python3.6/dist-packages/spacy/language.py\", line 796, in to_disk\n     util.to_disk(path, serializers, exclude)\n   File \"/usr/local/lib/python3.6/dist-packages/spacy/util.py\", line 627, in to_disk\n     writer(path / key)\n   File \"/usr/local/lib/python3.6/dist-packages/spacy/language.py\", line 794, in <lambda>\n     serializers[name] = lambda p, proc=proc: proc.to_disk(p, exclude=[\"vocab\"])\n   File \"pipes.pyx\", line 201, in spacy.pipeline.pipes.Pipe.to_disk\n   File \"/usr/local/lib/python3.6/dist-packages/spacy/util.py\", line 627, in to_disk\n     writer(path / key)\n   File \"pipes.pyx\", line 199, in spacy.pipeline.pipes.Pipe.to_disk.lambda6\n   File \"/content/spacy-pytorch-transformers/spacy_pytorch_transformers/_tokenizers.py\", line 60, in to_bytes\n     self.prepare_for_serialization()\n   File \"/content/spacy-pytorch-transformers/spacy_pytorch_transformers/_tokenizers.py\", line 313, in prepare_for_serialization\n     vocab_path = Path(self.vocab_file)\n AttributeError: 'SerializableXLNetTokenizer' object has no attribute 'vocab_file'\n </denchmark-code>\n \n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "igormis", "commentT": "2019-08-12T10:49:48Z", "comment_text": "\n \t\tCould you run pip list and double-check that you have the latest version of the model XLNet model package installed?\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "igormis", "commentT": "2019-08-12T10:52:49Z", "comment_text": "\n \t\tI have:\n spacy-pytorch-transformers 0.1.1\n and install xlnet model using\n python -m spacy download en_pytt_xlnetbasecased_lg\n \t\t"}, "comments_2": {"comment_id": 3, "comment_author": "igormis", "commentT": "2019-08-12T10:53:51Z", "comment_text": "\n \t\ten_pytt_xlnetbasecased_lg==2.1.1 from <denchmark-link:https://github.com/explosion/spacy-models/releases/download/en_pytt_xlnetbasecased_lg-2.1.1/en_pytt_xlnetbasecased_lg-2.1.1.tar.gz#egg=en_pytt_xlnetbasecased_lg==2.1.1>https://github.com/explosion/spacy-models/releases/download/en_pytt_xlnetbasecased_lg-2.1.1/en_pytt_xlnetbasecased_lg-2.1.1.tar.gz#egg=en_pytt_xlnetbasecased_lg==2.1.1</denchmark-link>\n  in /usr/local/lib/python3.6/dist-packages (2.1.1)\n \t\t"}}}, "commit": {"commit_id": "77a2f2d5e7a296f1a800d3d761ad64705c4fa7ea", "commit_author": "Matthew Honnibal", "commitT": "2019-08-12 11:19:26+00:00", "commit_complexity": {"commit_NLOC": "1.0", "commit_CCN": "1.0", "commit_Nprams": "1.0"}, "changed_files": {"file_0": {"file_change_type": "DELETE", "file_Nmethod": 0, "file_old_name": "examples\\tasks\\__init__.py", "file_new_name": "examples\\tasks\\__init__.py", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "spacy_pytorch_transformers\\_tokenizers.py", "file_new_name": "spacy_pytorch_transformers\\_tokenizers.py", "file_complexity": {"file_NLOC": "328", "file_CCN": "97", "file_NToken": "2031"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "313,314,315,316", "deleted_lines": "313,314,315", "method_info": {"method_name": "prepare_for_serialization", "method_params": "self", "method_startline": "312", "method_endline": "316", "method_complexity": {"method_NLOC": "5", "method_CCN": "2", "method_NToken": "40", "method_nesting_level": "1"}}}}}}}}