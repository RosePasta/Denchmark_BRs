{"BR": {"BR_id": "1087", "BR_author": "bojiang", "BRopenT": "2020-09-13T09:16:00Z", "BRcloseT": "2020-09-21T15:06:05Z", "BR_text": {"BRsummary": "Configurable max request body size", "BRdescription": "\n Is your feature request related to a problem? Please describe.\n How to reproduce:\n \n enable microbatching\n post a large file (for example, 2MB) to the API\n \n got:\n aiohttp.web_exceptions.HTTPRequestEntityTooLarge: Request Entity Too Large\n Describe the solution you'd like\n <denchmark-link:https://docs.aiohttp.org/en/stable/web_reference.html#aiohttp.web.Application>https://docs.aiohttp.org/en/stable/web_reference.html#aiohttp.web.Application</denchmark-link>\n \n \n enlarge the default client_max_size\n make it configurable\n do the same for flask\n \n Describe alternatives you've considered\n Additional context\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "bojiang", "commentT": "2020-11-24T20:46:13Z", "comment_text": "\n \t\tHi, I'm running into this issue of aiohttp.web_exceptions.HTTPRequestEntityTooLarge when testing out some micro-batching on an image model (e.g. batching 5 images will do this).\n I noticed there is a PR that was merged but I don't actually see how it can be configured. Looking at <denchmark-link:https://github.com/bojiang/BentoML/blob/ea44748e14a4d208bbb437c9d7d0b7f5c4dd027c/bentoml/server/gunicorn_server.py#L66>https://github.com/bojiang/BentoML/blob/ea44748e14a4d208bbb437c9d7d0b7f5c4dd027c/bentoml/server/gunicorn_server.py#L66</denchmark-link>\n  it seems that it is reading the config file. Is changing that config file the only way to change this value?\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "bojiang", "commentT": "2020-11-25T00:40:19Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/gregd33>@gregd33</denchmark-link>\n  You can also pass the value as an envvar, \n \t\t"}}}, "commit": {"commit_id": "a7f3e582f51a1ba71390add3f346140d743c73fd", "commit_author": "bojiang", "commitT": "2020-09-21 08:06:04-07:00", "commit_complexity": {"commit_NLOC": "None", "commit_CCN": "None", "commit_Nprams": "None"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "bentoml\\configuration\\default_bentoml.cfg", "file_new_name": "bentoml\\configuration\\default_bentoml.cfg", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "69", "deleted_lines": null}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "bentoml\\marshal\\marshal.py", "file_new_name": "bentoml\\marshal\\marshal.py", "file_complexity": {"file_NLOC": "248", "file_CCN": "29", "file_NToken": "1553"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "302", "deleted_lines": "301", "method_info": {"method_name": "make_app", "method_params": "self", "method_startline": "301", "method_endline": "306", "method_complexity": {"method_NLOC": "6", "method_CCN": "1", "method_NToken": "57", "method_nesting_level": "1"}}}}}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "bentoml\\server\\gunicorn_server.py", "file_new_name": "bentoml\\server\\gunicorn_server.py", "file_complexity": {"file_NLOC": "70", "file_CCN": "9", "file_NToken": "366"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "16,66,70", "deleted_lines": null}}}, "file_3": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "bentoml\\server\\marshal_server.py", "file_new_name": "bentoml\\server\\marshal_server.py", "file_complexity": {"file_NLOC": "66", "file_CCN": "9", "file_NToken": "392"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "54,58", "deleted_lines": "25"}}}}}}