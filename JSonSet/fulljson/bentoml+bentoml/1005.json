{"BR": {"BR_id": "1005", "BR_author": "jiyer2016", "BRopenT": "2020-08-21T06:34:52Z", "BRcloseT": "2020-09-13T08:15:07Z", "BR_text": {"BRsummary": "autogenerated requirements.txt is missing version numbers of select dependencies", "BRdescription": "\n Describe the bug\n I use the auto_pip_dependencies on the env_decorator for my Service\n @bentoml.env(auto_pip_dependencies=True)\n After I save the Service - as expected the BentoML autogenerates a requirements.txt with the correct list of dependent packages.\n However I notice that the version number of scikit-learn is left unspecified. Why is this the case ?\n The versions of the other two libraries match that of the training environment.\n Shouldn't I expect the same of scikit-learn as well ?\n ** Contents of autogenerated requirements.txt**\n <denchmark-code>scikit-learn\n bentoml==0.8.4\n numpy==1.19.1\n </denchmark-code>\n \n Environment:\n <denchmark-code> - OS: Windows 10\n  - Python 3.8.3\n  - bentoml, version 0.8.4\n \n </denchmark-code>\n \n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "jiyer2016", "commentT": "2020-08-21T17:08:08Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/jiyer2016>@jiyer2016</denchmark-link>\n  thanks for reporting this!\n Here's the existing feature request ticket tracking this issue: <denchmark-link:https://github.com/bentoml/BentoML/issues/695>#695</denchmark-link>\n  - this is a top priority for us.\n When artifact class is adding the pip dependency(<denchmark-link:https://github.com/bentoml/BentoML/blob/v0.8.5/bentoml/artifact/sklearn_model_artifact.py#L107>here</denchmark-link>\n  for example), it should grab the current version number from <denchmark-link:https://github.com/bentoml/BentoML/blob/v0.8.5/bentoml/saved_bundle/pip_pkg.py#L52>here</denchmark-link>\n  and save it to the generated requirements.txt file.\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "jiyer2016", "commentT": "2020-09-13T08:15:49Z", "comment_text": "\n \t\tThis is fixed in <denchmark-link:https://github.com/bentoml/BentoML/pull/1086>#1086</denchmark-link>\n , will be available in next release 0.9.0\n \t\t"}}}, "commit": {"commit_id": "eb66a72b785c721979bd66f286766dd12c7e6fd6", "commit_author": "Chaoyu", "commitT": "2020-09-13 01:15:06-07:00", "commit_complexity": {"commit_NLOC": "0.2535211267605634", "commit_CCN": "0.49295774647887325", "commit_Nprams": "1.0"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "README.md", "file_new_name": "README.md", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "123", "deleted_lines": "123"}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "bentoml\\adapters\\file_input.py", "file_new_name": "bentoml\\adapters\\file_input.py", "file_complexity": {"file_NLOC": "105", "file_CCN": "9", "file_NToken": "404"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "52", "deleted_lines": "52"}}}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "bentoml\\adapters\\multi_file_input.py", "file_new_name": "bentoml\\adapters\\multi_file_input.py", "file_complexity": {"file_NLOC": "113", "file_CCN": "18", "file_NToken": "546"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "46", "deleted_lines": "46"}}}, "file_3": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "bentoml\\frameworks\\coreml.py", "file_new_name": "bentoml\\frameworks\\coreml.py", "file_complexity": {"file_NLOC": "97", "file_CCN": "11", "file_NToken": "268"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "107", "deleted_lines": "107", "method_info": {"method_name": "set_dependencies", "method_params": "self,BentoServiceEnv", "method_startline": "106", "method_endline": "107", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "17", "method_nesting_level": "1"}}}}}, "file_4": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "bentoml\\frameworks\\fastai.py", "file_new_name": "bentoml\\frameworks\\fastai.py", "file_complexity": {"file_NLOC": "90", "file_CCN": "10", "file_NToken": "280"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "96,98", "deleted_lines": "96,98", "method_info": {"method_name": "set_dependencies", "method_params": "self,BentoServiceEnv", "method_startline": "90", "method_endline": "98", "method_complexity": {"method_NLOC": "9", "method_CCN": "1", "method_NToken": "29", "method_nesting_level": "1"}}}}}, "file_5": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "bentoml\\frameworks\\fastai2.py", "file_new_name": "bentoml\\frameworks\\fastai2.py", "file_complexity": {"file_NLOC": "61", "file_CCN": "10", "file_NToken": "284"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "67,69", "deleted_lines": "67,69", "method_info": {"method_name": "set_dependencies", "method_params": "self,BentoServiceEnv", "method_startline": "61", "method_endline": "69", "method_complexity": {"method_NLOC": "9", "method_CCN": "1", "method_NToken": "31", "method_nesting_level": "1"}}}}}, "file_6": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "bentoml\\frameworks\\fasttext.py", "file_new_name": "bentoml\\frameworks\\fasttext.py", "file_complexity": {"file_NLOC": "67", "file_CCN": "9", "file_NToken": "192"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "49", "deleted_lines": "49", "method_info": {"method_name": "set_dependencies", "method_params": "self,BentoServiceEnv", "method_startline": "48", "method_endline": "49", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "17", "method_nesting_level": "1"}}}}}, "file_7": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "bentoml\\frameworks\\h2o.py", "file_new_name": "bentoml\\frameworks\\h2o.py", "file_complexity": {"file_NLOC": "77", "file_CCN": "9", "file_NToken": "228"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "54", "deleted_lines": "54", "method_info": {"method_name": "set_dependencies", "method_params": "self,BentoServiceEnv", "method_startline": "53", "method_endline": "55", "method_complexity": {"method_NLOC": "3", "method_CCN": "1", "method_NToken": "25", "method_nesting_level": "1"}}}}}, "file_8": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "bentoml\\frameworks\\keras.py", "file_new_name": "bentoml\\frameworks\\keras.py", "file_complexity": {"file_NLOC": "214", "file_CCN": "32", "file_NToken": "1093"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "97", "deleted_lines": "97", "method_info": {"method_name": "set_dependencies", "method_params": "self,BentoServiceEnv", "method_startline": "90", "method_endline": "97", "method_complexity": {"method_NLOC": "5", "method_CCN": "2", "method_NToken": "33", "method_nesting_level": "1"}}}}}, "file_9": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "bentoml\\frameworks\\lightgbm.py", "file_new_name": "bentoml\\frameworks\\lightgbm.py", "file_complexity": {"file_NLOC": "75", "file_CCN": "10", "file_NToken": "230"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "82", "deleted_lines": "82", "method_info": {"method_name": "set_dependencies", "method_params": "self,BentoServiceEnv", "method_startline": "81", "method_endline": "82", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "17", "method_nesting_level": "1"}}}}}, "file_10": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "bentoml\\frameworks\\onnx.py", "file_new_name": "bentoml\\frameworks\\onnx.py", "file_complexity": {"file_NLOC": "172", "file_CCN": "26", "file_NToken": "496"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "140", "deleted_lines": "140", "method_info": {"method_name": "set_dependencies", "method_params": "self,BentoServiceEnv", "method_startline": "138", "method_endline": "140", "method_complexity": {"method_NLOC": "3", "method_CCN": "2", "method_NToken": "24", "method_nesting_level": "1"}}}}}, "file_11": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "bentoml\\frameworks\\pytorch.py", "file_new_name": "bentoml\\frameworks\\pytorch.py", "file_complexity": {"file_NLOC": "100", "file_CCN": "11", "file_NToken": "291"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "109,111", "deleted_lines": "109,111", "method_info": {"method_name": "set_dependencies", "method_params": "self,BentoServiceEnv", "method_startline": "103", "method_endline": "111", "method_complexity": {"method_NLOC": "9", "method_CCN": "1", "method_NToken": "27", "method_nesting_level": "1"}}}}}, "file_12": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "bentoml\\frameworks\\sklearn.py", "file_new_name": "bentoml\\frameworks\\sklearn.py", "file_complexity": {"file_NLOC": "75", "file_CCN": "12", "file_NToken": "234"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "93", "deleted_lines": "93", "method_info": {"method_name": "set_dependencies", "method_params": "self,env", "method_startline": "92", "method_endline": "93", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "15", "method_nesting_level": "1"}}}}}, "file_13": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "bentoml\\frameworks\\spacy.py", "file_new_name": "bentoml\\frameworks\\spacy.py", "file_complexity": {"file_NLOC": "90", "file_CCN": "11", "file_NToken": "255"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "100", "deleted_lines": "100", "method_info": {"method_name": "set_dependencies", "method_params": "self,BentoServiceEnv", "method_startline": "99", "method_endline": "100", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "17", "method_nesting_level": "1"}}}}}, "file_14": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "bentoml\\frameworks\\tensorflow.py", "file_new_name": "bentoml\\frameworks\\tensorflow.py", "file_complexity": {"file_NLOC": "228", "file_CCN": "41", "file_NToken": "947"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "192", "deleted_lines": "192", "method_info": {"method_name": "set_dependencies", "method_params": "self,BentoServiceEnv", "method_startline": "191", "method_endline": "192", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "17", "method_nesting_level": "1"}}}}}, "file_15": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "bentoml\\frameworks\\xgboost.py", "file_new_name": "bentoml\\frameworks\\xgboost.py", "file_complexity": {"file_NLOC": "79", "file_CCN": "10", "file_NToken": "235"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "55", "deleted_lines": "55", "method_info": {"method_name": "set_dependencies", "method_params": "self,BentoServiceEnv", "method_startline": "54", "method_endline": "55", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "17", "method_nesting_level": "1"}}}}}, "file_16": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "bentoml\\saved_bundle\\bundler.py", "file_new_name": "bentoml\\saved_bundle\\bundler.py", "file_complexity": {"file_NLOC": "148", "file_CCN": "15", "file_NToken": "907"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "104,105", "deleted_lines": "104", "method_info": {"method_name": "save_to_dir", "method_params": "bento_service,path,version,silent", "method_startline": "46", "method_endline": "196", "method_complexity": {"method_NLOC": "102", "method_CCN": "11", "method_NToken": "678", "method_nesting_level": "0"}}}}}, "file_17": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "bentoml\\saved_bundle\\config.py", "file_new_name": "bentoml\\saved_bundle\\config.py", "file_complexity": {"file_NLOC": "178", "file_CCN": "43", "file_NToken": "1137"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "150,151,152", "deleted_lines": "150,151,152,153", "method_info": {"method_name": "get_bento_service_metadata_pb", "method_params": "self", "method_startline": "131", "method_endline": "221", "method_complexity": {"method_NLOC": "75", "method_CCN": "26", "method_NToken": "514", "method_nesting_level": "1"}}}}}, "file_18": {"file_change_type": "MODIFY", "file_Nmethod": 9, "file_old_name": "bentoml\\saved_bundle\\pip_pkg.py", "file_new_name": "bentoml\\saved_bundle\\pip_pkg.py", "file_complexity": {"file_NLOC": "175", "file_CCN": "63", "file_NToken": "1156"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "53,54,55,56,57", "deleted_lines": null, "method_info": {"method_name": "get_pkg_version", "method_params": "pkg_name", "method_startline": "53", "method_endline": "57", "method_complexity": {"method_NLOC": "5", "method_CCN": "2", "method_NToken": "28", "method_nesting_level": "0"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "39,43", "deleted_lines": "42", "method_info": {"method_name": "verify_pkg", "method_params": "Requirement", "method_startline": "39", "method_endline": "43", "method_complexity": {"method_NLOC": "5", "method_CCN": "2", "method_NToken": "26", "method_nesting_level": "0"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "39", "deleted_lines": "38,42", "method_info": {"method_name": "verify_pkg", "method_params": "pkg_name,pkg_version", "method_startline": "38", "method_endline": "42", "method_complexity": {"method_NLOC": "5", "method_CCN": "2", "method_NToken": "28", "method_nesting_level": "0"}}}, "hunk_3": {"Ismethod": 1, "added_lines": "46", "deleted_lines": "45,49", "method_info": {"method_name": "seek_pip_dependencies", "method_params": "target_py_file_path", "method_startline": "45", "method_endline": "49", "method_complexity": {"method_NLOC": "5", "method_CCN": "2", "method_NToken": "24", "method_nesting_level": "0"}}}, "hunk_4": {"Ismethod": 1, "added_lines": "123,124,127,128,129,130,132", "deleted_lines": "125", "method_info": {"method_name": "verify_pkg", "method_params": "self,Requirement", "method_startline": "123", "method_endline": "133", "method_complexity": {"method_NLOC": "6", "method_CCN": "3", "method_NToken": "40", "method_nesting_level": "1"}}}, "hunk_5": {"Ismethod": 1, "added_lines": "46,50", "deleted_lines": "49", "method_info": {"method_name": "seek_pip_packages", "method_params": "target_py_file_path", "method_startline": "46", "method_endline": "50", "method_complexity": {"method_NLOC": "5", "method_CCN": "2", "method_NToken": "24", "method_nesting_level": "0"}}}, "hunk_6": {"Ismethod": 1, "added_lines": "127,128,129,130,132", "deleted_lines": "125", "method_info": {"method_name": "seek_pip_dependencies", "method_params": "self,target_py_file_path", "method_startline": "125", "method_endline": "133", "method_complexity": {"method_NLOC": "8", "method_CCN": "3", "method_NToken": "56", "method_nesting_level": "1"}}}, "hunk_7": {"Ismethod": 1, "added_lines": "135", "deleted_lines": null, "method_info": {"method_name": "seek_pip_packages", "method_params": "self,target_py_file_path", "method_startline": "135", "method_endline": "143", "method_complexity": {"method_NLOC": "8", "method_CCN": "3", "method_NToken": "56", "method_nesting_level": "1"}}}, "hunk_8": {"Ismethod": 1, "added_lines": "123", "deleted_lines": "115,116,119,120,121", "method_info": {"method_name": "verify_pkg", "method_params": "self,pkg_name,pkg_version", "method_startline": "115", "method_endline": "123", "method_complexity": {"method_NLOC": "6", "method_CCN": "4", "method_NToken": "35", "method_nesting_level": "1"}}}}}, "file_19": {"file_change_type": "MODIFY", "file_Nmethod": 4, "file_old_name": "bentoml\\service\\__init__.py", "file_new_name": "bentoml\\service\\__init__.py", "file_complexity": {"file_NLOC": "545", "file_CCN": "114", "file_NToken": "2851"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961", "deleted_lines": null, "method_info": {"method_name": "infer_pip_dependencies_map", "method_params": "self", "method_startline": "938", "method_endline": "961", "method_complexity": {"method_NLOC": "14", "method_CCN": "4", "method_NToken": "85", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "436,441", "deleted_lines": null, "method_info": {"method_name": "env_decorator", "method_params": "None,None,str,str,str,bool,bool,str,None,None,str,str,str", "method_startline": "434", "method_endline": "447", "method_complexity": {"method_NLOC": "14", "method_CCN": "1", "method_NToken": "92", "method_nesting_level": "0"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "476,480", "deleted_lines": "474", "method_info": {"method_name": "decorator", "method_params": "bento_service_cls", "method_startline": "474", "method_endline": "488", "method_complexity": {"method_NLOC": "15", "method_CCN": "3", "method_NToken": "62", "method_nesting_level": "1"}}}, "hunk_3": {"Ismethod": 1, "added_lines": "661,662", "deleted_lines": null, "method_info": {"method_name": "_config_environments", "method_params": "self", "method_startline": "657", "method_endline": "665", "method_complexity": {"method_NLOC": "7", "method_CCN": "4", "method_NToken": "68", "method_nesting_level": "1"}}}}}, "file_20": {"file_change_type": "MODIFY", "file_Nmethod": 12, "file_old_name": "bentoml\\service\\env.py", "file_new_name": "bentoml\\service\\env.py", "file_complexity": {"file_NLOC": "242", "file_CCN": "43", "file_NToken": "1269"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,289,290,291", "deleted_lines": "240,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295", "method_info": {"method_name": "save", "method_params": "self,path,bento_service", "method_startline": "240", "method_endline": "305", "method_complexity": {"method_NLOC": "47", "method_CCN": "11", "method_NToken": "343", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "212,213,214,215,216", "deleted_lines": "212,213,214,215,216", "method_info": {"method_name": "add_python_packages", "method_params": "self", "method_startline": "212", "method_endline": "216", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "21", "method_nesting_level": "1"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "272,289,290,291", "deleted_lines": "272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295", "method_info": {"method_name": "save", "method_params": "self,path", "method_startline": "272", "method_endline": "301", "method_complexity": {"method_NLOC": "25", "method_CCN": "6", "method_NToken": "223", "method_nesting_level": "1"}}}, "hunk_3": {"Ismethod": 1, "added_lines": "249,250,251,252,253,254,255,256", "deleted_lines": null, "method_info": {"method_name": "add_packages_from_requirements_txt_file", "method_params": "self,requirements_txt_path", "method_startline": "247", "method_endline": "256", "method_complexity": {"method_NLOC": "10", "method_CCN": "3", "method_NToken": "62", "method_nesting_level": "1"}}}, "hunk_4": {"Ismethod": 1, "added_lines": "189,190,191", "deleted_lines": "191", "method_info": {"method_name": "add_pip_packages", "method_params": "self", "method_startline": "189", "method_endline": "191", "method_complexity": {"method_NLOC": "3", "method_CCN": "2", "method_NToken": "23", "method_nesting_level": "1"}}}, "hunk_5": {"Ismethod": 1, "added_lines": "139,143", "deleted_lines": "139,143", "method_info": {"method_name": "__init__", "method_params": "self,None,str,str,str,bool,str,None,None,str,str,str", "method_startline": "137", "method_endline": "149", "method_complexity": {"method_NLOC": "13", "method_CCN": "1", "method_NToken": "79", "method_nesting_level": "1"}}}, "hunk_6": {"Ismethod": 1, "added_lines": "193,194,195,196,197", "deleted_lines": "193,194,195,196,197", "method_info": {"method_name": "add_pip_package", "method_params": "self,str", "method_startline": "193", "method_endline": "197", "method_complexity": {"method_NLOC": "3", "method_CCN": "1", "method_NToken": "21", "method_nesting_level": "1"}}}, "hunk_7": {"Ismethod": 1, "added_lines": "258,259,260,261,262,263,264,265,266,267,268,269,270", "deleted_lines": "258,259,260,261,262,263,264,265,266,267,268,269,270", "method_info": {"method_name": "infer_pip_packages", "method_params": "self,bento_service", "method_startline": "258", "method_endline": "270", "method_complexity": {"method_NLOC": "11", "method_CCN": "5", "method_NToken": "58", "method_nesting_level": "1"}}}, "hunk_8": {"Ismethod": 1, "added_lines": "309,310,311,312", "deleted_lines": "313,314", "method_info": {"method_name": "to_dict", "method_params": "self", "method_startline": "303", "method_endline": "319", "method_complexity": {"method_NLOC": "12", "method_CCN": "4", "method_NToken": "77", "method_nesting_level": "1"}}}, "hunk_9": {"Ismethod": 1, "added_lines": "199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231", "deleted_lines": "199,200,201,202,203,204,205,212,213,214,215,216", "method_info": {"method_name": "_add_pip_package_requirement", "method_params": "self,Requirement", "method_startline": "199", "method_endline": "231", "method_complexity": {"method_NLOC": "29", "method_CCN": "9", "method_NToken": "131", "method_nesting_level": "1"}}}, "hunk_10": {"Ismethod": 1, "added_lines": "192,193,194,195,196,197,198,199,200,201,202,203,204", "deleted_lines": "192,193,194,195,196,197,198,199,200,201,202,203,204", "method_info": {"method_name": "check_dependency", "method_params": "dependency", "method_startline": "192", "method_endline": "204", "method_complexity": {"method_NLOC": "13", "method_CCN": "3", "method_NToken": "50", "method_nesting_level": "1"}}}, "hunk_11": {"Ismethod": 1, "added_lines": "139,143", "deleted_lines": "139,143", "method_info": {"method_name": "__init__", "method_params": "self,None,str,str,str,bool,str,None,None,str,str,str", "method_startline": "137", "method_endline": "149", "method_complexity": {"method_NLOC": "13", "method_CCN": "1", "method_NToken": "79", "method_nesting_level": "1"}}}}}, "file_21": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "bentoml\\yatai\\proto\\repository_pb2.py", "file_new_name": "bentoml\\yatai\\proto\\repository_pb2.py", "file_complexity": {"file_NLOC": "1083", "file_CCN": "0", "file_NToken": "7460"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "25,98,99,120,121,221,222,223,224,225,226,227,241,277,278,356,357,393,394,466,524,525,562,563,600,601,653,654,705,706,736,737,774,775,805,806,843,844,881,882,948,949,986,987", "deleted_lines": "25,98,99,120,121,234,270,271,349,350,386,387,459,517,518,555,556,593,594,646,647,698,699,729,730,767,768,798,799,836,837,874,875,941,942,979,980"}}}, "file_22": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "bentoml\\yatai\\web\\src\\generated\\bentoml_grpc.d.ts", "file_new_name": "bentoml\\yatai\\web\\src\\generated\\bentoml_grpc.d.ts", "file_complexity": {"file_NLOC": "1071", "file_CCN": "12", "file_NToken": "13533"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "2528,2529,2530,2557,2558,2559", "deleted_lines": null}}}, "file_23": {"file_change_type": "MODIFY", "file_Nmethod": 8, "file_old_name": "bentoml\\yatai\\web\\src\\generated\\bentoml_grpc.js", "file_new_name": "bentoml\\yatai\\web\\src\\generated\\bentoml_grpc.js", "file_complexity": {"file_NLOC": "5844", "file_CCN": "2776", "file_NToken": "49907"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "6624,6625,6643,6644,6645,6646,6647", "deleted_lines": null, "method_info": {"method_name": "toObject", "method_params": "message,options", "method_startline": "6620", "method_endline": "6649", "method_complexity": {"method_NLOC": "30", "method_CCN": "18", "method_NToken": "249", "method_nesting_level": "0"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "6514,6515,6516,6517,6518", "deleted_lines": null, "method_info": {"method_name": "decode", "method_params": "reader,length", "method_startline": "6492", "method_endline": "6525", "method_complexity": {"method_NLOC": "34", "method_CCN": "12", "method_NToken": "215", "method_nesting_level": "0"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "6373", "deleted_lines": null, "method_info": {"method_name": "BentoServiceEnv", "method_params": "properties", "method_startline": "6372", "method_endline": "6378", "method_complexity": {"method_NLOC": "7", "method_CCN": "4", "method_NToken": "69", "method_nesting_level": "0"}}}, "hunk_3": {"Ismethod": 1, "added_lines": "6569,6570,6571,6572,6573,6574,6575", "deleted_lines": null, "method_info": {"method_name": "verify", "method_params": "message", "method_startline": "6551", "method_endline": "6577", "method_complexity": {"method_NLOC": "27", "method_CCN": "23", "method_NToken": "240", "method_nesting_level": "0"}}}, "hunk_4": {"Ismethod": 1, "added_lines": "6361,6373,6420,6421,6422,6423,6424,6425,6426,6427,6462,6463,6464,6514,6515,6516,6517,6518,6569,6570,6571,6572,6573,6574,6575,6601,6602,6603,6604,6605,6606,6607,6624,6625,6643,6644,6645,6646,6647", "deleted_lines": null, "method_info": {"method_name": "$root.bentoml.DeploymentSpec.SageMakerOperatorConfig.verify", "method_params": "sagemaker_operator_config", "method_startline": "278", "method_endline": "11147", "method_complexity": {"method_NLOC": "46", "method_CCN": "5", "method_NToken": "435", "method_nesting_level": "0"}}}, "hunk_5": {"Ismethod": 1, "added_lines": "6601,6602,6603,6604,6605,6606,6607", "deleted_lines": null, "method_info": {"method_name": "fromObject", "method_params": "object", "method_startline": "6587", "method_endline": "6609", "method_complexity": {"method_NLOC": "23", "method_CCN": "10", "method_NToken": "200", "method_nesting_level": "0"}}}, "hunk_6": {"Ismethod": 1, "added_lines": "6361,6373,6420,6421,6422,6423,6424,6425,6426,6427,6462,6463,6464,6514,6515,6516,6517,6518,6569,6570,6571,6572,6573,6574,6575,6601,6602,6603,6604,6605,6606,6607,6624,6625,6643,6644,6645,6646,6647", "deleted_lines": null, "method_info": {"method_name": "(anonymous)", "method_params": "", "method_startline": "6350", "method_endline": "6663", "method_complexity": {"method_NLOC": "19", "method_CCN": "1", "method_NToken": "134", "method_nesting_level": "0"}}}, "hunk_7": {"Ismethod": 1, "added_lines": "6462,6463,6464", "deleted_lines": null, "method_info": {"method_name": "encode", "method_params": "message,writer", "method_startline": "6449", "method_endline": "6466", "method_complexity": {"method_NLOC": "18", "method_CCN": "15", "method_NToken": "237", "method_nesting_level": "0"}}}}}, "file_24": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "docs\\source\\concepts.rst", "file_new_name": "docs\\source\\concepts.rst", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "24,161,165,173,180,204,259,277,284,327", "deleted_lines": "24,161,165,173,180,204,259,277,284,327"}}}, "file_25": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "docs\\source\\deployment\\clipper.rst", "file_new_name": "docs\\source\\deployment\\clipper.rst", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "57", "deleted_lines": "57"}}}, "file_26": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "docs\\source\\quickstart.rst", "file_new_name": "docs\\source\\quickstart.rst", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "85,117", "deleted_lines": "85,117"}}}, "file_27": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "e2e_tests\\iris_classifier_example.py", "file_new_name": "e2e_tests\\iris_classifier_example.py", "file_complexity": {"file_NLOC": "9", "file_CCN": "1", "file_NToken": "73"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "6", "deleted_lines": "6"}}}, "file_28": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "guides\\quick-start\\bentoml-quick-start-guide.ipynb", "file_new_name": "guides\\quick-start\\bentoml-quick-start-guide.ipynb", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "99", "deleted_lines": "99"}}}, "file_29": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "guides\\quick-start\\iris_classifier.py", "file_new_name": "guides\\quick-start\\iris_classifier.py", "file_complexity": {"file_NLOC": "10", "file_CCN": "1", "file_NToken": "83"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "7", "deleted_lines": "7"}}}, "file_30": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "protos\\repository.proto", "file_new_name": "protos\\repository.proto", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "31,34", "deleted_lines": "31"}}}, "file_31": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "tests\\bento_service_examples\\bento_service_with_modified_sys_path.py", "file_new_name": "tests\\bento_service_examples\\bento_service_with_modified_sys_path.py", "file_complexity": {"file_NLOC": "22", "file_CCN": "1", "file_NToken": "152"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "17", "deleted_lines": "17"}}}, "file_32": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "tests\\bento_service_examples\\coreml_classifier.py", "file_new_name": "tests\\bento_service_examples\\coreml_classifier.py", "file_complexity": {"file_NLOC": "15", "file_CCN": "1", "file_NToken": "133"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "11", "deleted_lines": "11"}}}, "file_33": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "tests\\bento_service_examples\\example_bento_service.py", "file_new_name": "tests\\bento_service_examples\\example_bento_service.py", "file_complexity": {"file_NLOC": "37", "file_CCN": "7", "file_NToken": "308"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "14", "deleted_lines": "14"}}}, "file_34": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "tests\\bento_service_examples\\h2o_service.py", "file_new_name": "tests\\bento_service_examples\\h2o_service.py", "file_complexity": {"file_NLOC": "13", "file_CCN": "1", "file_NToken": "102"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "8", "deleted_lines": "8"}}}, "file_35": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "tests\\bento_service_examples\\iris_classifier.py", "file_new_name": "tests\\bento_service_examples\\iris_classifier.py", "file_complexity": {"file_NLOC": "9", "file_CCN": "1", "file_NToken": "75"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "6", "deleted_lines": "6"}}}, "file_36": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "tests\\bento_service_examples\\local_dependencies\\my_test_bento_service.py", "file_new_name": "tests\\bento_service_examples\\local_dependencies\\my_test_bento_service.py", "file_complexity": {"file_NLOC": "25", "file_CCN": "1", "file_NToken": "153"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "16", "deleted_lines": "16"}}}, "file_37": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "tests\\bento_service_examples\\onnx_onnxruntime_iris_classifier.py", "file_new_name": "tests\\bento_service_examples\\onnx_onnxruntime_iris_classifier.py", "file_complexity": {"file_NLOC": "13", "file_CCN": "1", "file_NToken": "138"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "8", "deleted_lines": "8"}}}, "file_38": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "tests\\bento_service_examples\\pytorch_classifier.py", "file_new_name": "tests\\bento_service_examples\\pytorch_classifier.py", "file_complexity": {"file_NLOC": "14", "file_CCN": "1", "file_NToken": "113"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "9", "deleted_lines": "9"}}}, "file_39": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "tests\\bento_service_examples\\tensorflow_classifier.py", "file_new_name": "tests\\bento_service_examples\\tensorflow_classifier.py", "file_complexity": {"file_NLOC": "9", "file_CCN": "1", "file_NToken": "73"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "6", "deleted_lines": "6"}}}, "file_40": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "tests\\bento_service_examples\\xgboost_classifier.py", "file_new_name": "tests\\bento_service_examples\\xgboost_classifier.py", "file_complexity": {"file_NLOC": "14", "file_CCN": "2", "file_NToken": "113"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "8", "deleted_lines": "8"}}}, "file_41": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "tests\\integration\\api_server\\example_service.py", "file_new_name": "tests\\integration\\api_server\\example_service.py", "file_complexity": {"file_NLOC": "82", "file_CCN": "21", "file_NToken": "614"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "20", "deleted_lines": "21"}}}, "file_42": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "tests\\test_auto_pip_dependency.py", "file_new_name": "tests\\test_auto_pip_dependency.py", "file_complexity": {"file_NLOC": "35", "file_CCN": "5", "file_NToken": "259"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "48", "deleted_lines": "48", "method_info": {"method_name": "test_auto_artifact_dependencies", "method_params": "", "method_startline": "23", "method_endline": "55", "method_complexity": {"method_NLOC": "22", "method_CCN": "3", "method_NToken": "165", "method_nesting_level": "0"}}}}}, "file_43": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "tests\\test_service.py", "file_new_name": "tests\\test_service.py", "file_complexity": {"file_NLOC": "79", "file_CCN": "11", "file_NToken": "573"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "39,40", "deleted_lines": "39,40", "method_info": {"method_name": "test_fastai_image_input_pip_dependencies", "method_params": "", "method_startline": "31", "method_endline": "40", "method_complexity": {"method_NLOC": "7", "method_CCN": "1", "method_NToken": "46", "method_nesting_level": "0"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "93", "deleted_lines": "93", "method_info": {"method_name": "test_image_input_pip_dependencies", "method_params": "", "method_startline": "86", "method_endline": "93", "method_complexity": {"method_NLOC": "6", "method_CCN": "1", "method_NToken": "38", "method_nesting_level": "0"}}}}}, "file_44": {"file_change_type": "MODIFY", "file_Nmethod": 8, "file_old_name": "tests\\test_service_env.py", "file_new_name": "tests\\test_service_env.py", "file_complexity": {"file_NLOC": "176", "file_CCN": "20", "file_NToken": "1223"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "84,85,86,89,91", "deleted_lines": "84,86", "method_info": {"method_name": "test_artifact_pip_dependencies", "method_params": "tmpdir", "method_startline": "84", "method_endline": "99", "method_complexity": {"method_NLOC": "13", "method_CCN": "1", "method_NToken": "112", "method_nesting_level": "0"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "34,35,38,39", "deleted_lines": "34,35,47,48,49,50", "method_info": {"method_name": "test_service_env_pip_dependencies", "method_params": "tmpdir", "method_startline": "34", "method_endline": "50", "method_complexity": {"method_NLOC": "14", "method_CCN": "1", "method_NToken": "112", "method_nesting_level": "0"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "38,39,51,52,53,54", "deleted_lines": "47,48,49,50", "method_info": {"method_name": "test_service_env_pip_packages", "method_params": "tmpdir", "method_startline": "38", "method_endline": "54", "method_complexity": {"method_NLOC": "14", "method_CCN": "1", "method_NToken": "107", "method_nesting_level": "0"}}}, "hunk_3": {"Ismethod": 1, "added_lines": "25,26,33,34,35", "deleted_lines": "29,30,31,34,35", "method_info": {"method_name": "test_pip_packages_env", "method_params": "", "method_startline": "25", "method_endline": "35", "method_complexity": {"method_NLOC": "9", "method_CCN": "1", "method_NToken": "69", "method_nesting_level": "0"}}}, "hunk_4": {"Ismethod": 1, "added_lines": "12,13,14,19,20,21,22,24,25,26", "deleted_lines": "12,13,14,19,20,22,29,30,31", "method_info": {"method_name": "test_pip_dependencies_env", "method_params": "", "method_startline": "12", "method_endline": "31", "method_complexity": {"method_NLOC": "15", "method_CCN": "1", "method_NToken": "114", "method_nesting_level": "0"}}}, "hunk_5": {"Ismethod": 1, "added_lines": "89,91", "deleted_lines": null, "method_info": {"method_name": "test_artifact_pip_packages", "method_params": "tmpdir", "method_startline": "89", "method_endline": "104", "method_complexity": {"method_NLOC": "13", "method_CCN": "1", "method_NToken": "112", "method_nesting_level": "0"}}}, "hunk_6": {"Ismethod": 1, "added_lines": "12,13,14,19,20,21,22", "deleted_lines": "12,13,14,19,20,22", "method_info": {"method_name": "test_pip_packages_env_with_legacy_api", "method_params": "", "method_startline": "12", "method_endline": "22", "method_complexity": {"method_NLOC": "9", "method_CCN": "1", "method_NToken": "69", "method_nesting_level": "0"}}}, "hunk_7": {"Ismethod": 1, "added_lines": "63,79,83,84,85,86", "deleted_lines": "59,75,79,80,81,84,86", "method_info": {"method_name": "test_service_env_pip_install_options", "method_params": "tmpdir", "method_startline": "57", "method_endline": "86", "method_complexity": {"method_NLOC": "26", "method_CCN": "1", "method_NToken": "152", "method_nesting_level": "0"}}}}}}}}