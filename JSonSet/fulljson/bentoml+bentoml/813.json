{"BR": {"BR_id": "813", "BR_author": "alexnsfx", "BRopenT": "2020-06-17T18:07:24Z", "BRcloseT": "2020-06-24T03:34:20Z", "BR_text": {"BRsummary": "TfTensorOutput casts floats as ints", "BRdescription": "\n Describe the bug\n TfTensorOutput casts floats as ints in tensor output because of bentoml.adapters.utils.tf_tensor_2_serializable().\n To Reproduce\n Steps to reproduce the behavior:\n \n Define a Tensorflow 2.0 model that returns float output\n Define a BentoService that uses TfTensorOutput. TfTensorOutput is implicitly used by DefaultOutput when no output adapter is defined like below:\n \n @bentoml.env(pip_dependencies=[\"tensorflow==2.0\", \"numpy>=1.18.2\", \"pandas>=1.0.3\"])\n @bentoml.artifacts([TensorflowSavedModelArtifact(\"model\")])\n class MyModelService(bentoml.BentoService):\n \n     @bentoml.api(input=TfTensorInput())\n     def predict(self, inputs):\n         return self.artifacts.model(inputs)\n \n pack() your model with the service\n Serve it with bentoml serve MyModelService:latest\n Send a request\n \n curl -X POST 'http://127.0.0.1:5000/predict' \\\n --header 'Content-Type: application/json' \\\n --data-raw '{\"instances\": [an-input-for-your-model]}'\n \n Observe output: [[0, 0, 0, 0]]\n \n Expected behavior\n Output should be floats.\n E.g. [[-0.05740901082754135, 0.012774493545293808, 0.021846788004040718, -0.07579610496759415]]\n Environment:\n \n OS: Ubuntu 18.04.4\n Python 3.7.7\n bentoml, version 0.8.1\n \n Additional context\n This is caused by the cast happening <denchmark-link:https://github.com/bentoml/BentoML/blob/a134e3a/bentoml/adapters/utils.py#L41-L48>here</denchmark-link>\n .\n int-cast is tried first and will succeed on float data.\n Relying on <denchmark-link:https://numpy.org/devdocs/reference/generated/numpy.ndarray.dtype.html>numpy.ndarray.dtype</denchmark-link>\n  to know the cast destination is probably safer.\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "alexnsfx", "commentT": "2020-06-17T20:04:10Z", "comment_text": "\n \t\tcc <denchmark-link:https://github.com/bojiang>@bojiang</denchmark-link>\n \n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "alexnsfx", "commentT": "2020-06-24T03:34:20Z", "comment_text": "\n \t\tAddressed in <denchmark-link:https://github.com/bentoml/BentoML/pull/823>#823</denchmark-link>\n , will be available in release 0.8.2\n \t\t"}}}, "commit": {"commit_id": "818f648b2c36548a7731d4f01cf6f4b9040517fa", "commit_author": "bojiang", "commitT": "2020-06-23 11:41:16-07:00", "commit_complexity": {"commit_NLOC": "1.0", "commit_CCN": "1.0", "commit_Nprams": "1.0"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "bentoml\\adapters\\base_input.py", "file_new_name": "bentoml\\adapters\\base_input.py", "file_complexity": {"file_NLOC": "51", "file_CCN": "13", "file_NToken": "264"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "46,47,48,49", "deleted_lines": null, "method_info": {"method_name": "is_batch_request", "method_params": "self,request", "method_startline": "46", "method_endline": "49", "method_complexity": {"method_NLOC": "4", "method_CCN": "2", "method_NToken": "42", "method_nesting_level": "1"}}}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "bentoml\\adapters\\base_output.py", "file_new_name": "bentoml\\adapters\\base_output.py", "file_complexity": {"file_NLOC": "39", "file_CCN": "7", "file_NToken": "178"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "41,43", "deleted_lines": "41,43", "method_info": {"method_name": "to_response", "method_params": "self,result,Request", "method_startline": "35", "method_endline": "43", "method_complexity": {"method_NLOC": "9", "method_CCN": "1", "method_NToken": "53", "method_nesting_level": "1"}}}}}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "bentoml\\adapters\\dataframe_input.py", "file_new_name": "bentoml\\adapters\\dataframe_input.py", "file_complexity": {"file_NLOC": "200", "file_CCN": "34", "file_NToken": "1005"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "147,149,155", "deleted_lines": "146,148,154", "method_info": {"method_name": "handle_request", "method_params": "self,request,func", "method_startline": "146", "method_endline": "169", "method_complexity": {"method_NLOC": "21", "method_CCN": "5", "method_NToken": "121", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "147,149,155", "deleted_lines": "148,154", "method_info": {"method_name": "handle_request", "method_params": "self,Request,func", "method_startline": "147", "method_endline": "170", "method_complexity": {"method_NLOC": "21", "method_CCN": "5", "method_NToken": "129", "method_nesting_level": "1"}}}}}, "file_3": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "bentoml\\adapters\\default_output.py", "file_new_name": "bentoml\\adapters\\default_output.py", "file_complexity": {"file_NLOC": "65", "file_CCN": "15", "file_NToken": "315"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "42,43,44,45,46,47,48", "deleted_lines": "22,23,24,25,26,27,28", "method_info": {"method_name": "detect_suitable_adapter", "method_params": "result,slices", "method_startline": "21", "method_endline": "51", "method_complexity": {"method_NLOC": "23", "method_CCN": "9", "method_NToken": "118", "method_nesting_level": "0"}}}}}, "file_4": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "bentoml\\adapters\\image_input.py", "file_new_name": "bentoml\\adapters\\image_input.py", "file_complexity": {"file_NLOC": "181", "file_CCN": "26", "file_NToken": "913"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "99", "deleted_lines": "99"}}}, "file_5": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "bentoml\\adapters\\json_input.py", "file_new_name": "bentoml\\adapters\\json_input.py", "file_complexity": {"file_NLOC": "75", "file_CCN": "8", "file_NToken": "486"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "39,41", "deleted_lines": "37,39", "method_info": {"method_name": "handle_request", "method_params": "self,request,func", "method_startline": "37", "method_endline": "47", "method_complexity": {"method_NLOC": "10", "method_CCN": "2", "method_NToken": "56", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "39,41", "deleted_lines": "39", "method_info": {"method_name": "handle_request", "method_params": "self,Request,func", "method_startline": "39", "method_endline": "49", "method_complexity": {"method_NLOC": "10", "method_CCN": "2", "method_NToken": "62", "method_nesting_level": "1"}}}}}, "file_6": {"file_change_type": "MODIFY", "file_Nmethod": 4, "file_old_name": "bentoml\\adapters\\json_output.py", "file_new_name": "bentoml\\adapters\\json_output.py", "file_complexity": {"file_NLOC": "60", "file_CCN": "5", "file_NToken": "366"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": null, "deleted_lines": "38,39,40,41,42,43", "method_info": {"method_name": "jsonize", "method_params": "result", "method_startline": "38", "method_endline": "43", "method_complexity": {"method_NLOC": "5", "method_CCN": "2", "method_NToken": "39", "method_nesting_level": "0"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "80", "deleted_lines": "79", "method_info": {"method_name": "to_cli", "method_params": "self,result,args", "method_startline": "68", "method_endline": "83", "method_complexity": {"method_NLOC": "9", "method_CCN": "2", "method_NToken": "76", "method_nesting_level": "1"}}}, "hunk_2": {"Ismethod": 1, "added_lines": null, "deleted_lines": "28,29,30,31,32,33,34,35", "method_info": {"method_name": "default", "method_params": "self,o", "method_startline": "28", "method_endline": "35", "method_complexity": {"method_NLOC": "6", "method_CCN": "3", "method_NToken": "50", "method_nesting_level": "1"}}}, "hunk_3": {"Ismethod": 1, "added_lines": "87", "deleted_lines": null, "method_info": {"method_name": "to_aws_lambda_event", "method_params": "self,result,event", "method_startline": "85", "method_endline": "97", "method_complexity": {"method_NLOC": "9", "method_CCN": "2", "method_NToken": "57", "method_nesting_level": "1"}}}}}, "file_7": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "bentoml\\adapters\\multi_image_input.py", "file_new_name": "bentoml\\adapters\\multi_image_input.py", "file_complexity": {"file_NLOC": "58", "file_CCN": "4", "file_NToken": "136"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "62,63,64", "deleted_lines": "62"}}}, "file_8": {"file_change_type": "MODIFY", "file_Nmethod": 3, "file_old_name": "bentoml\\adapters\\tensorflow_tensor_input.py", "file_new_name": "bentoml\\adapters\\tensorflow_tensor_input.py", "file_complexity": {"file_NLOC": "127", "file_CCN": "15", "file_NToken": "740"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "88", "deleted_lines": "89,92", "method_info": {"method_name": "_handle_raw_str", "method_params": "self,raw_str,func", "method_startline": "85", "method_endline": "96", "method_complexity": {"method_NLOC": "9", "method_CCN": "3", "method_NToken": "70", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "27,28,29,30", "deleted_lines": "30", "method_info": {"method_name": "b64_hook", "method_params": "o", "method_startline": "27", "method_endline": "30", "method_complexity": {"method_NLOC": "4", "method_CCN": "3", "method_NToken": "29", "method_nesting_level": "0"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "154,155,156", "deleted_lines": "147,149", "method_info": {"method_name": "handle_request", "method_params": "self,request,func", "method_startline": "144", "method_endline": "156", "method_complexity": {"method_NLOC": "4", "method_CCN": "1", "method_NToken": "39", "method_nesting_level": "1"}}}}}, "file_9": {"file_change_type": "MODIFY", "file_Nmethod": 3, "file_old_name": "bentoml\\adapters\\tensorflow_tensor_output.py", "file_new_name": "bentoml\\adapters\\tensorflow_tensor_output.py", "file_complexity": {"file_NLOC": "71", "file_CCN": "11", "file_NToken": "447"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "83,84,91,94", "deleted_lines": "83,89,90,91,92", "method_info": {"method_name": "to_cli", "method_params": "self,result,args", "method_startline": "82", "method_endline": "97", "method_complexity": {"method_NLOC": "9", "method_CCN": "2", "method_NToken": "80", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "27,28,29,30,31,32,33,34,35,36,37,38,39,40,41", "deleted_lines": null, "method_info": {"method_name": "tf_to_numpy", "method_params": "tensor", "method_startline": "27", "method_endline": "41", "method_complexity": {"method_NLOC": "9", "method_CCN": "4", "method_NToken": "69", "method_nesting_level": "0"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "100", "deleted_lines": "100", "method_info": {"method_name": "to_aws_lambda_event", "method_params": "self,result,event", "method_startline": "99", "method_endline": "108", "method_complexity": {"method_NLOC": "9", "method_CCN": "2", "method_NToken": "57", "method_nesting_level": "1"}}}}}, "file_10": {"file_change_type": "MODIFY", "file_Nmethod": 7, "file_old_name": "bentoml\\adapters\\utils.py", "file_new_name": "bentoml\\adapters\\utils.py", "file_complexity": {"file_NLOC": "54", "file_CCN": "16", "file_NToken": "353"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "7,8,10", "deleted_lines": "4,5,7,8,9,10", "method_info": {"method_name": "tf_b64_2_bytes", "method_params": "obj", "method_startline": "4", "method_endline": "10", "method_complexity": {"method_NLOC": "6", "method_CCN": "3", "method_NToken": "33", "method_nesting_level": "0"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "83", "deleted_lines": "57,58,59,60,61,62,63,65,68,69,70,71,72,74,75,77,78,79,80,82,83,84,85", "method_info": {"method_name": "concat_list", "method_params": "lst,batch_flags", "method_startline": "57", "method_endline": "85", "method_complexity": {"method_NLOC": "19", "method_CCN": "6", "method_NToken": "123", "method_nesting_level": "0"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "83", "deleted_lines": "77,78,79,80,82,83,84,85,86,87", "method_info": {"method_name": "__call__", "method_params": "self,obj", "method_startline": "77", "method_endline": "87", "method_complexity": {"method_NLOC": "10", "method_CCN": "7", "method_NToken": "81", "method_nesting_level": "1"}}}, "hunk_3": {"Ismethod": 1, "added_lines": "10,11,13,14,15,16,17,19,20,21,22", "deleted_lines": "10,13,14,16,17,18,19,22", "method_info": {"method_name": "default", "method_params": "self,o", "method_startline": "10", "method_endline": "22", "method_complexity": {"method_NLOC": "11", "method_CCN": "4", "method_NToken": "75", "method_nesting_level": "1"}}}, "hunk_4": {"Ismethod": 1, "added_lines": "13,14,15,16,17,19", "deleted_lines": "13,14,16,17,18,19", "method_info": {"method_name": "bytes_2_tf_b64", "method_params": "obj", "method_startline": "13", "method_endline": "19", "method_complexity": {"method_NLOC": "6", "method_CCN": "2", "method_NToken": "35", "method_nesting_level": "0"}}}, "hunk_5": {"Ismethod": 1, "added_lines": "22,25,26,28,29,31,32,34,35,37,40,41,43,44,45,46,47,48,49,50,51,52,53,54", "deleted_lines": "22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,65", "method_info": {"method_name": "tf_tensor_2_serializable", "method_params": "obj", "method_startline": "22", "method_endline": "65", "method_complexity": {"method_NLOC": "29", "method_CCN": "9", "method_NToken": "161", "method_nesting_level": "0"}}}, "hunk_6": {"Ismethod": 1, "added_lines": null, "deleted_lines": "74,75", "method_info": {"method_name": "__init__", "method_params": "self,converter", "method_startline": "74", "method_endline": "75", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "12", "method_nesting_level": "1"}}}}}, "file_11": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "bentoml\\marshal\\marshal.py", "file_new_name": "bentoml\\marshal\\marshal.py", "file_complexity": {"file_NLOC": "235", "file_CCN": "27", "file_NToken": "1476"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "205", "deleted_lines": "205", "method_info": {"method_name": "request_dispatcher", "method_params": "self,request", "method_startline": "194", "method_endline": "221", "method_complexity": {"method_NLOC": "27", "method_CCN": "4", "method_NToken": "162", "method_nesting_level": "1"}}}}}, "file_12": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "bentoml\\marshal\\utils.py", "file_new_name": "bentoml\\marshal\\utils.py", "file_complexity": {"file_NLOC": "86", "file_CCN": "17", "file_NToken": "536"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "25,26", "deleted_lines": null, "method_info": {"method_name": "from_flask_request", "method_params": "cls,request", "method_startline": "25", "method_endline": "26", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "23", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "34,35,36,37,38,39", "deleted_lines": null, "method_info": {"method_name": "to_flask_response", "method_params": "self", "method_startline": "34", "method_endline": "39", "method_complexity": {"method_NLOC": "5", "method_CCN": "1", "method_NToken": "30", "method_nesting_level": "1"}}}}}, "file_13": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "bentoml\\server\\bento_api_server.py", "file_new_name": "bentoml\\server\\bento_api_server.py", "file_complexity": {"file_NLOC": "211", "file_CCN": "37", "file_NToken": "1243"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "149", "deleted_lines": "149", "method_info": {"method_name": "feedback_view_func", "method_params": "bento_service", "method_startline": "139", "method_endline": "161", "method_complexity": {"method_NLOC": "14", "method_CCN": "4", "method_NToken": "118", "method_nesting_level": "1"}}}}}, "file_14": {"file_change_type": "MODIFY", "file_Nmethod": 4, "file_old_name": "bentoml\\service.py", "file_new_name": "bentoml\\service.py", "file_complexity": {"file_NLOC": "430", "file_CCN": "93", "file_NToken": "2163"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "128,129", "deleted_lines": "126,127", "method_info": {"method_name": "handle_batch_request", "method_params": "self,request", "method_startline": "126", "method_endline": "134", "method_complexity": {"method_NLOC": "9", "method_CCN": "1", "method_NToken": "58", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": null, "deleted_lines": "123", "method_info": {"method_name": "handle_request", "method_params": "self,request", "method_startline": "123", "method_endline": "124", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "20", "method_nesting_level": "1"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "128,129", "deleted_lines": null, "method_info": {"method_name": "handle_batch_request", "method_params": "self,Request", "method_startline": "128", "method_endline": "136", "method_complexity": {"method_NLOC": "9", "method_CCN": "1", "method_NToken": "64", "method_nesting_level": "1"}}}, "hunk_3": {"Ismethod": 1, "added_lines": "125", "deleted_lines": "126", "method_info": {"method_name": "handle_request", "method_params": "self,Request", "method_startline": "125", "method_endline": "126", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "24", "method_nesting_level": "1"}}}}}, "file_15": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "tests\\handlers\\test_dataframe_handler.py", "file_new_name": "tests\\handlers\\test_dataframe_handler.py", "file_complexity": {"file_NLOC": "203", "file_CCN": "31", "file_NToken": "1552"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "119,122", "deleted_lines": "117,120", "method_info": {"method_name": "test_dataframe_handle_request_csv", "method_params": "", "method_startline": "113", "method_endline": "125", "method_complexity": {"method_NLOC": "10", "method_CCN": "1", "method_NToken": "73", "method_nesting_level": "0"}}}}}, "file_16": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "tests\\handlers\\test_image_handler.py", "file_new_name": "tests\\handlers\\test_image_handler.py", "file_complexity": {"file_NLOC": "107", "file_CCN": "12", "file_NToken": "768"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "69", "deleted_lines": "69", "method_info": {"method_name": "test_image_input_http_request_post_binary", "method_params": "img_file", "method_startline": "56", "method_endline": "73", "method_complexity": {"method_NLOC": "14", "method_CCN": "1", "method_NToken": "124", "method_nesting_level": "0"}}}}}, "file_17": {"file_change_type": "MODIFY", "file_Nmethod": 5, "file_old_name": "tests\\handlers\\test_tf_tensor_handler.py", "file_new_name": "tests\\handlers\\test_tf_tensor_handler.py", "file_complexity": {"file_NLOC": "97", "file_CCN": "14", "file_NToken": "769"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "88,89,90,91,92", "deleted_lines": "77,83,89,90,91,93,94", "method_info": {"method_name": "test_tf_tensor_handle_request", "method_params": "", "method_startline": "77", "method_endline": "94", "method_complexity": {"method_NLOC": "11", "method_CCN": "2", "method_NToken": "90", "method_nesting_level": "0"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "89,90", "deleted_lines": "89,90", "method_info": {"method_name": "test_cases", "method_params": "request", "method_startline": "89", "method_endline": "90", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "9", "method_nesting_level": "0"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "100,106,107,113,114,115,116,118,119", "deleted_lines": "104,106,107,108,110,111,112", "method_info": {"method_name": "test_tf_tensor_handle_request", "method_params": "test_cases", "method_startline": "100", "method_endline": "119", "method_complexity": {"method_NLOC": "12", "method_CCN": "1", "method_NToken": "98", "method_nesting_level": "0"}}}, "hunk_3": {"Ismethod": 1, "added_lines": "100,106,107", "deleted_lines": "97,104,106,107,108,110,111,112", "method_info": {"method_name": "test_tf_tensor_handle_batch_request", "method_params": "", "method_startline": "97", "method_endline": "112", "method_complexity": {"method_NLOC": "10", "method_CCN": "3", "method_NToken": "86", "method_nesting_level": "0"}}}, "hunk_4": {"Ismethod": 1, "added_lines": "122,127,130,132,133,134,135,136,137,139,140,141", "deleted_lines": null, "method_info": {"method_name": "test_tf_tensor_handle_batch_request", "method_params": "test_cases", "method_startline": "122", "method_endline": "141", "method_complexity": {"method_NLOC": "14", "method_CCN": "2", "method_NToken": "107", "method_nesting_level": "0"}}}}}, "file_18": {"file_change_type": "MODIFY", "file_Nmethod": 3, "file_old_name": "tests\\handlers\\test_utils.py", "file_new_name": "tests\\handlers\\test_utils.py", "file_complexity": {"file_NLOC": "59", "file_CCN": "9", "file_NToken": "263"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64", "deleted_lines": null, "method_info": {"method_name": "test_concat_lists_with_flags", "method_params": "", "method_startline": "45", "method_endline": "70", "method_complexity": {"method_NLOC": "24", "method_CCN": "3", "method_NToken": "105", "method_nesting_level": "0"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "6,7", "deleted_lines": "8,10", "method_info": {"method_name": "test_concat", "method_params": "", "method_startline": "4", "method_endline": "18", "method_complexity": {"method_NLOC": "14", "method_CCN": "3", "method_NToken": "69", "method_nesting_level": "0"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "21,36,37,38,39,40,41,42", "deleted_lines": null, "method_info": {"method_name": "test_concat_with_flags", "method_params": "", "method_startline": "21", "method_endline": "42", "method_complexity": {"method_NLOC": "20", "method_CCN": "3", "method_NToken": "78", "method_nesting_level": "0"}}}}}}}}