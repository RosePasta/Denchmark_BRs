{"BR": {"BR_id": "48", "BR_author": "Z-zhe", "BRopenT": "2020-04-08T09:15:23Z", "BRcloseT": "2020-04-19T02:10:07Z", "BR_text": {"BRsummary": "A little bug\uff01", "BRdescription": "\n Hi, I think there is a little bug at numpy-ml/numpy_ml/neural_nets/activations/activations.py  Line 64.\n your code\n <denchmark-code>fn_x = self.fn_x\n </denchmark-code>\n \n but\n self.fn_x Never defined\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "Z-zhe", "commentT": "2020-04-09T07:23:52Z", "comment_text": "\n \t\tAnd numpy-ml/numpy_ml/neural_nets/wrappers/wrappers.py Line 207:\n your code\n <denchmark-code>def backward(self, dLdy, retain_grads):\n \"\"\"\n retain_grads: Default is True\n \"\"\"\n </denchmark-code>\n \n Your code is missing the default value, resulting in an error at  numpy-ml/numpy_ml/neural_nets/layers/layers.py Line 332.\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "Z-zhe", "commentT": "2020-04-09T09:06:04Z", "comment_text": "\n \t\tAnd numpy-ml/numpy_ml/neural_nets/layers/layers.py Line 2116:\n your code\n <denchmark-code>def backward(self, dLdy):\n \"\"\"\n retain_grads: Default is True\n \"\"\"\n </denchmark-code>\n \n The function in your code is missing an argument retain_grads, resulting in an error at numpy-ml/numpy_ml/neural_nets/wrappers/wrappers.py Line 227.\n \t\t"}, "comments_2": {"comment_id": 3, "comment_author": "Z-zhe", "commentT": "2020-04-09T09:16:46Z", "comment_text": "\n \t\tMaybe I should fork and create pull request \ud83d\ude03\n \t\t"}, "comments_3": {"comment_id": 4, "comment_author": "Z-zhe", "commentT": "2020-04-09T12:18:33Z", "comment_text": "\n \t\tAnd numpy-ml/numpy_ml/neural_nets/tests/tests.py line 510:\n your code\n <denchmark-code>from ..activations import Softmax\n </denchmark-code>\n \n but\n Softmax is not implemented in ..activations, but in ..layers.\n right code\n \n line 510:\n \n <denchmark-code>from ..layers import Softmax\n </denchmark-code>\n \n \n \n line 527:\n \n <denchmark-code>y_pred = sm.forward(z)\n </denchmark-code>\n \n \t\t"}, "comments_4": {"comment_id": 5, "comment_author": "Z-zhe", "commentT": "2020-04-09T12:35:22Z", "comment_text": "\n \t\tAnd numpy-ml/numpy_ml/neural_nets/tests/tests.py line 771:\n your code\n <denchmark-code>from ..activations import SoftSign\n </denchmark-code>\n \n but SoftSign is not implemented in ..activations.\n maybe you should delete function test_softsign_grad and test_softsign_activation.\n \t\t"}, "comments_5": {"comment_id": 6, "comment_author": "Z-zhe", "commentT": "2020-04-09T15:11:55Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/Z-zhe>@Z-zhe</denchmark-link>\n  - Wow, thanks so much for all these! I haven't had a chance to take a look yet, but should have some time this weekend. In the meantime if you feel like submitting a PR with fixes I'd be happy to review it, otherwise I can try to address these shortly.\n \t\t"}, "comments_6": {"comment_id": 7, "comment_author": "Z-zhe", "commentT": "2020-04-10T09:05:15Z", "comment_text": "\n \t\tPR is complicated, it is easier for you to modify. \ud83d\ude03\n \t\t"}, "comments_7": {"comment_id": 8, "comment_author": "Z-zhe", "commentT": "2020-04-17T09:30:04Z", "comment_text": "\n \t\tnumpy-ml/numpy_ml/neural_nets/layers/layers.py line 2341:\n your code\n <denchmark-code>dX = dZ @ W.T\n </denchmark-code>\n \n I don't think it should be W it should be W_sparse. So I think right code should be:\n <denchmark-code>dX = dZ @ W_sparse.T\n </denchmark-code>\n \n Please reconsider\uff0cthanks.\n \t\t"}}}, "commit": {"commit_id": "be8ae238d4d5340e7fc7dd27f008275ee03267d5", "commit_author": "ddbourgin", "commitT": "2020-04-18 22:09:52-04:00", "commit_complexity": {"commit_NLOC": "0.203125", "commit_CCN": "1.0", "commit_Nprams": "0.4270833333333333"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 9, "file_old_name": "numpy_ml\\neural_nets\\activations\\activations.py", "file_new_name": "numpy_ml\\neural_nets\\activations\\activations.py", "file_complexity": {"file_NLOC": "495", "file_CCN": "57", "file_NToken": "1312"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "10", "deleted_lines": null, "method_info": {"method_name": "__init__", "method_params": "self,kwargs", "method_startline": "9", "method_endline": "11", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "16", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "320,329", "deleted_lines": "321,340,348", "method_info": {"method_name": "__init__", "method_params": "self,alpha", "method_startline": "319", "method_endline": "349", "method_complexity": {"method_NLOC": "31", "method_CCN": "1", "method_NToken": "25", "method_nesting_level": "1"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "32", "deleted_lines": null, "method_info": {"method_name": "__init__", "method_params": "self", "method_startline": "31", "method_endline": "33", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "13", "method_nesting_level": "1"}}}, "hunk_3": {"Ismethod": 1, "added_lines": "26", "deleted_lines": "26,27", "method_info": {"method_name": "grad", "method_params": "self,x,kwargs", "method_startline": "25", "method_endline": "27", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "13", "method_nesting_level": "1"}}}, "hunk_4": {"Ismethod": 1, "added_lines": "50,55", "deleted_lines": "50,56", "method_info": {"method_name": "grad", "method_params": "self,x", "method_startline": "49", "method_endline": "58", "method_complexity": {"method_NLOC": "10", "method_CCN": "1", "method_NToken": "25", "method_nesting_level": "1"}}}, "hunk_5": {"Ismethod": 1, "added_lines": "14", "deleted_lines": null, "method_info": {"method_name": "__call__", "method_params": "self,z", "method_startline": "13", "method_endline": "17", "method_complexity": {"method_NLOC": "4", "method_CCN": "2", "method_NToken": "33", "method_nesting_level": "1"}}}, "hunk_6": {"Ismethod": 1, "added_lines": "61,66,67,69", "deleted_lines": "61,62,64", "method_info": {"method_name": "grad2", "method_params": "self,x", "method_startline": "60", "method_endline": "70", "method_complexity": {"method_NLOC": "11", "method_CCN": "1", "method_NToken": "33", "method_nesting_level": "1"}}}, "hunk_7": {"Ismethod": 1, "added_lines": "21", "deleted_lines": null, "method_info": {"method_name": "fn", "method_params": "self,z", "method_startline": "20", "method_endline": "22", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "10", "method_nesting_level": "1"}}}, "hunk_8": {"Ismethod": 1, "added_lines": "36", "deleted_lines": "35", "method_info": {"method_name": "__str__", "method_params": "self", "method_startline": "35", "method_endline": "37", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "8", "method_nesting_level": "1"}}}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 30, "file_old_name": "numpy_ml\\neural_nets\\layers\\layers.py", "file_new_name": "numpy_ml\\neural_nets\\layers\\layers.py", "file_complexity": {"file_NLOC": "2247", "file_CCN": "354", "file_NToken": "16184"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "3987,3988,3989,3990", "deleted_lines": null, "method_info": {"method_name": "gradients", "method_params": "self", "method_startline": "3986", "method_endline": "3991", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "12", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "203,204,205,206", "deleted_lines": "208", "method_info": {"method_name": "freeze", "method_params": "self", "method_startline": "202", "method_endline": "208", "method_complexity": {"method_NLOC": "3", "method_CCN": "1", "method_NToken": "18", "method_nesting_level": "1"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "52", "deleted_lines": null, "method_info": {"method_name": "backward", "method_params": "self,out,kwargs", "method_startline": "51", "method_endline": "53", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "13", "method_nesting_level": "1"}}}, "hunk_3": {"Ismethod": 1, "added_lines": "619", "deleted_lines": "609", "method_info": {"method_name": "__init__", "method_params": "self,act_fn,optimizer", "method_startline": "603", "method_endline": "622", "method_complexity": {"method_NLOC": "4", "method_CCN": "1", "method_NToken": "37", "method_nesting_level": "1"}}}, "hunk_4": {"Ismethod": 1, "added_lines": "4146", "deleted_lines": null, "method_info": {"method_name": "backward", "method_params": "self,dLdA", "method_startline": "4131", "method_endline": "4154", "method_complexity": {"method_NLOC": "9", "method_CCN": "2", "method_NToken": "77", "method_nesting_level": "1"}}}, "hunk_5": {"Ismethod": 1, "added_lines": "812", "deleted_lines": "802", "method_info": {"method_name": "__init__", "method_params": "self,keep_dim,optimizer", "method_startline": "797", "method_endline": "816", "method_complexity": {"method_NLOC": "4", "method_CCN": "1", "method_NToken": "32", "method_nesting_level": "1"}}}, "hunk_6": {"Ismethod": 1, "added_lines": "4034,4035,4036,4037", "deleted_lines": null, "method_info": {"method_name": "update", "method_params": "self", "method_startline": "4033", "method_endline": "4039", "method_complexity": {"method_NLOC": "3", "method_CCN": "1", "method_NToken": "18", "method_nesting_level": "1"}}}, "hunk_7": {"Ismethod": 1, "added_lines": "3552", "deleted_lines": null, "method_info": {"method_name": "flush_gradients", "method_params": "self", "method_startline": "3551", "method_endline": "3564", "method_complexity": {"method_NLOC": "9", "method_CCN": "3", "method_NToken": "82", "method_nesting_level": "1"}}}, "hunk_8": {"Ismethod": 1, "added_lines": "1681", "deleted_lines": null, "method_info": {"method_name": "__init__", "method_params": "self,n_out,vocab_size,pool,init,optimizer", "method_startline": "1680", "method_endline": "1681", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "20", "method_nesting_level": "1"}}}, "hunk_9": {"Ismethod": 1, "added_lines": "1855,1858", "deleted_lines": "1848,1856", "method_info": {"method_name": "_bwd", "method_params": "self,dLdy,X", "method_startline": "1847", "method_endline": "1861", "method_complexity": {"method_NLOC": "13", "method_CCN": "7", "method_NToken": "125", "method_nesting_level": "1"}}}, "hunk_10": {"Ismethod": 1, "added_lines": "3995", "deleted_lines": null, "method_info": {"method_name": "parameters", "method_params": "self", "method_startline": "3994", "method_endline": "3996", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "12", "method_nesting_level": "1"}}}, "hunk_11": {"Ismethod": 1, "added_lines": "3363,3374,3400", "deleted_lines": "3364,3390", "method_info": {"method_name": "__init__", "method_params": "self,n_out,act_fn,init,optimizer", "method_startline": "3362", "method_endline": "3409", "method_complexity": {"method_NLOC": "47", "method_CCN": "1", "method_NToken": "85", "method_nesting_level": "1"}}}, "hunk_12": {"Ismethod": 1, "added_lines": "2126,2143", "deleted_lines": "2116,2133", "method_info": {"method_name": "backward", "method_params": "self,dLdy", "method_startline": "2116", "method_endline": "2144", "method_complexity": {"method_NLOC": "10", "method_CCN": "4", "method_NToken": "79", "method_nesting_level": "1"}}}, "hunk_13": {"Ismethod": 1, "added_lines": "946", "deleted_lines": "936", "method_info": {"method_name": "__init__", "method_params": "self,momentum,epsilon,optimizer", "method_startline": "894", "method_endline": "959", "method_complexity": {"method_NLOC": "13", "method_CCN": "1", "method_NToken": "77", "method_nesting_level": "1"}}}, "hunk_14": {"Ismethod": 1, "added_lines": "3999,4000,4001,4002,4003,4004,4005,4006,4007,4008,4009,4010,4011,4012,4013,4014", "deleted_lines": null, "method_info": {"method_name": "set_params", "method_params": "self,summary_dict", "method_startline": "3998", "method_endline": "4016", "method_complexity": {"method_NLOC": "3", "method_CCN": "1", "method_NToken": "27", "method_nesting_level": "1"}}}, "hunk_15": {"Ismethod": 1, "added_lines": "141,150,151,152,172", "deleted_lines": "147,148,149,169", "method_info": {"method_name": "__init__", "method_params": "self,scale,dropout_p,init,optimizer", "method_startline": "140", "method_endline": "178", "method_complexity": {"method_NLOC": "38", "method_CCN": "1", "method_NToken": "51", "method_nesting_level": "1"}}}, "hunk_16": {"Ismethod": 1, "added_lines": "1371", "deleted_lines": "1361", "method_info": {"method_name": "__init__", "method_params": "self,epsilon,optimizer", "method_startline": "1341", "method_endline": "1378", "method_complexity": {"method_NLOC": "7", "method_CCN": "1", "method_NToken": "57", "method_nesting_level": "1"}}}, "hunk_17": {"Ismethod": 1, "added_lines": "211", "deleted_lines": null, "method_info": {"method_name": "unfreeze", "method_params": "self", "method_startline": "210", "method_endline": "213", "method_complexity": {"method_NLOC": "3", "method_CCN": "1", "method_NToken": "18", "method_nesting_level": "1"}}}, "hunk_18": {"Ismethod": 1, "added_lines": "367", "deleted_lines": "357", "method_info": {"method_name": "__init__", "method_params": "self,n_out,K,init,optimizer", "method_startline": "349", "method_endline": "379", "method_complexity": {"method_NLOC": "11", "method_CCN": "1", "method_NToken": "95", "method_nesting_level": "1"}}}, "hunk_19": {"Ismethod": 1, "added_lines": "216,245,251,252,253,257,261,265,277", "deleted_lines": "237,243,247,251,255,267", "method_info": {"method_name": "forward", "method_params": "self,Q,K,V,retain_derived", "method_startline": "215", "method_endline": "286", "method_complexity": {"method_NLOC": "70", "method_CCN": "2", "method_NToken": "61", "method_nesting_level": "1"}}}, "hunk_20": {"Ismethod": 1, "added_lines": "2034,2049,2063", "deleted_lines": "2039,2053", "method_info": {"method_name": "__init__", "method_params": "self,dim,optimizer", "method_startline": "2033", "method_endline": "2068", "method_complexity": {"method_NLOC": "35", "method_CCN": "1", "method_NToken": "39", "method_nesting_level": "1"}}}, "hunk_21": {"Ismethod": 1, "added_lines": "2649", "deleted_lines": "2639", "method_info": {"method_name": "_backward_naive", "method_params": "self,dLdy,retain_grads", "method_startline": "2631", "method_endline": "2690", "method_complexity": {"method_NLOC": "32", "method_CCN": "9", "method_NToken": "357", "method_nesting_level": "1"}}}, "hunk_22": {"Ismethod": 1, "added_lines": "2987", "deleted_lines": "2977", "method_info": {"method_name": "__init__", "method_params": "self,kernel_shape,stride,pad,mode,optimizer", "method_startline": "2967", "method_endline": "2996", "method_complexity": {"method_NLOC": "9", "method_CCN": "1", "method_NToken": "67", "method_nesting_level": "1"}}}, "hunk_23": {"Ismethod": 1, "added_lines": "640,655", "deleted_lines": "645,657,662", "method_info": {"method_name": "forward", "method_params": "self,X,retain_derived", "method_startline": "639", "method_endline": "664", "method_complexity": {"method_NLOC": "26", "method_CCN": "3", "method_NToken": "71", "method_nesting_level": "1"}}}, "hunk_24": {"Ismethod": 1, "added_lines": "47", "deleted_lines": null, "method_info": {"method_name": "forward", "method_params": "self,z,kwargs", "method_startline": "46", "method_endline": "48", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "13", "method_nesting_level": "1"}}}, "hunk_25": {"Ismethod": 1, "added_lines": "3979,3980,3981,3982", "deleted_lines": null, "method_info": {"method_name": "derived_variables", "method_params": "self", "method_startline": "3978", "method_endline": "3983", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "12", "method_nesting_level": "1"}}}, "hunk_26": {"Ismethod": 1, "added_lines": "1866,1894", "deleted_lines": "1884", "method_info": {"method_name": "__init__", "method_params": "self,n_out,act_fn,init,optimizer", "method_startline": "1865", "method_endline": "1902", "method_complexity": {"method_NLOC": "37", "method_CCN": "1", "method_NToken": "72", "method_nesting_level": "1"}}}, "hunk_27": {"Ismethod": 1, "added_lines": "297,302,311,313,315,317", "deleted_lines": "301,303,305,307", "method_info": {"method_name": "backward", "method_params": "self,dLdy,retain_grads", "method_startline": "296", "method_endline": "333", "method_complexity": {"method_NLOC": "35", "method_CCN": "4", "method_NToken": "153", "method_nesting_level": "1"}}}, "hunk_28": {"Ismethod": 1, "added_lines": "667,672", "deleted_lines": null, "method_info": {"method_name": "backward", "method_params": "self,dLdY,retain_grads", "method_startline": "666", "method_endline": "690", "method_complexity": {"method_NLOC": "24", "method_CCN": "4", "method_NToken": "83", "method_nesting_level": "1"}}}, "hunk_29": {"Ismethod": 1, "added_lines": null, "deleted_lines": "1671", "method_info": {"method_name": "__init__", "method_params": "self,n_out,vocab_size,pool,init,optimizer", "method_startline": "1670", "method_endline": "1671", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "19", "method_nesting_level": "1"}}}}}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 3, "file_old_name": "numpy_ml\\neural_nets\\tests\\tests.py", "file_new_name": "numpy_ml\\neural_nets\\tests\\tests.py", "file_complexity": {"file_NLOC": "1901", "file_CCN": "191", "file_NToken": "16562"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": null, "deleted_lines": "627,628,629,630,631,632,633,634,635,636,637,638,639,640,641", "method_info": {"method_name": "test_softsign_activation", "method_params": "N", "method_startline": "627", "method_endline": "641", "method_complexity": {"method_NLOC": "12", "method_CCN": "3", "method_NToken": "98", "method_nesting_level": "0"}}}, "hunk_1": {"Ismethod": 1, "added_lines": null, "deleted_lines": "770,771,772,773,774,775,776,777,778,779,780,781,782,783,784,785", "method_info": {"method_name": "test_softsign_grad", "method_params": "N", "method_startline": "770", "method_endline": "785", "method_complexity": {"method_NLOC": "13", "method_CCN": "3", "method_NToken": "104", "method_nesting_level": "0"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "511,528", "deleted_lines": "510,527", "method_info": {"method_name": "test_cross_entropy_grad", "method_params": "N", "method_startline": "509", "method_endline": "532", "method_complexity": {"method_NLOC": "17", "method_CCN": "3", "method_NToken": "130", "method_nesting_level": "0"}}}}}, "file_3": {"file_change_type": "MODIFY", "file_Nmethod": 3, "file_old_name": "numpy_ml\\neural_nets\\wrappers\\wrappers.py", "file_new_name": "numpy_ml\\neural_nets\\wrappers\\wrappers.py", "file_complexity": {"file_NLOC": "115", "file_CCN": "36", "file_NToken": "787"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "212", "deleted_lines": "207,224", "method_info": {"method_name": "backward", "method_params": "self,dLdy,retain_grads", "method_startline": "207", "method_endline": "227", "method_complexity": {"method_NLOC": "4", "method_CCN": "1", "method_NToken": "43", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "212,229", "deleted_lines": "224", "method_info": {"method_name": "backward", "method_params": "self,dLdy,retain_grads", "method_startline": "212", "method_endline": "232", "method_complexity": {"method_NLOC": "4", "method_CCN": "1", "method_NToken": "45", "method_nesting_level": "1"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252", "deleted_lines": null, "method_info": {"method_name": "init_wrappers", "method_params": "layer,wrappers_list", "method_startline": "235", "method_endline": "258", "method_complexity": {"method_NLOC": "7", "method_CCN": "3", "method_NToken": "51", "method_nesting_level": "0"}}}}}}}}