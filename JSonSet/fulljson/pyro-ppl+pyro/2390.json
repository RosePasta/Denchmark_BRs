{"BR": {"BR_id": "2390", "BR_author": "fritzo", "BRopenT": "2020-03-29T16:49:43Z", "BRcloseT": "2020-03-30T17:04:28Z", "BR_text": {"BRsummary": "PyroModule incompatible with torch.nn.RNN", "BRdescription": "\n As pointed out <denchmark-link:https://forum.pyro.ai/t/pyromodule-pyrosample-pyroparam-and-gru/1731>on the forum</denchmark-link>\n ,   is incompatible with  due to <denchmark-link:https://github.com/pytorch/pytorch/blob/e90c32f11fc54d017609e68fb80e19350e199864/torch/nn/modules/rnn.py#L88>internal caching logic</denchmark-link>\n .\n I believe a workaround is to call my_rnn._apply(lambda t: t) inside a supermodule's .forward() method. There may be a more general fix.\n \t"}, "comments": {}}, "commit": {"commit_id": "726b1abb6ce0d7bd13c8a709d93398dfbba7f33b", "commit_author": "Fritz Obermeyer", "commitT": "2020-03-30 10:04:27-07:00", "commit_complexity": {"commit_NLOC": "0.0", "commit_CCN": "0.4074074074074074", "commit_Nprams": "0.7777777777777778"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 3, "file_old_name": "pyro\\nn\\module.py", "file_new_name": "pyro\\nn\\module.py", "file_complexity": {"file_NLOC": "420", "file_CCN": "98", "file_NToken": "2057"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "554,555,556,557", "deleted_lines": null, "method_info": {"method_name": "__get__", "method_params": "self,obj,obj_type", "method_startline": "554", "method_endline": "557", "method_complexity": {"method_NLOC": "4", "method_CCN": "3", "method_NToken": "33", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "100,101,103", "deleted_lines": "101", "method_info": {"method_name": "__getitem__", "method_params": "cls,Module", "method_startline": "91", "method_endline": "111", "method_complexity": {"method_NLOC": "16", "method_CCN": "6", "method_NToken": "115", "method_nesting_level": "1"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "559,560", "deleted_lines": null, "method_info": {"method_name": "__set__", "method_params": "self,obj,value", "method_startline": "559", "method_endline": "560", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "10", "method_nesting_level": "1"}}}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "tests\\nn\\test_module.py", "file_new_name": "tests\\nn\\test_module.py", "file_complexity": {"file_NLOC": "418", "file_CCN": "64", "file_NToken": "4071"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "509,510,511,512,513,514,515,516,517,518,519,520,521,522,523,524,525,526,527,528,529,530,531", "deleted_lines": null, "method_info": {"method_name": "test_bayesian_gru", "method_params": "", "method_startline": "509", "method_endline": "531", "method_complexity": {"method_NLOC": "19", "method_CCN": "2", "method_NToken": "173", "method_nesting_level": "0"}}}}}}}}