{"BR": {"BR_id": "3665", "BR_author": "AlexDBlack", "BRopenT": "2017-07-12T07:59:07Z", "BRcloseT": "2017-07-13T09:17:56Z", "BR_text": {"BRsummary": "PrecisionRecallCurve.getConfusionMatrixAtPoint() returning incorrect values", "BRdescription": "\n <denchmark-code>-- Point at precision 0.85 --\n PrecisionRecallCurve.Point(idx=245974, threshold=0.6900250911712646, precision=0.8501374125480652, recall=0.09870869666337967)\n PrecisionRecallCurve.Confusion(point=PrecisionRecallCurve.Point(idx=245974, threshold=0.6900250911712646, precision=0.8501374125480652, recall=0.09870869666337967), tpCount=154448, fpCount=1503650, fnCount=2215, tnCount=243758)\n </denchmark-code>\n \n Note that precision = tp / (tp + fp) = 154448 / (154448+1503650) = 0.0931 != 0.85\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "AlexDBlack", "commentT": "2017-07-12T11:40:58Z", "comment_text": "\n \t\tFixed here: will merge soon.\n <denchmark-link:https://github.com/deeplearning4j/deeplearning4j/pull/3653>https://github.com/deeplearning4j/deeplearning4j/pull/3653</denchmark-link>\n \n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "AlexDBlack", "commentT": "2018-09-26T02:57:35Z", "comment_text": "\n \t\tThis thread has been automatically locked since there has not been any recent activity after it was closed. Please open a new issue for related bugs.\n \t\t"}}}, "commit": {"commit_id": "7fb405a0117947b19c99ab9b5c7e99e896546506", "commit_author": "Alex Black", "commitT": "2017-07-13 10:15:55+10:00", "commit_complexity": {"commit_NLOC": "0.0", "commit_CCN": "0.49019607843137253", "commit_Nprams": "0.5882352941176471"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "deeplearning4j-core\\src\\test\\java\\org\\deeplearning4j\\eval\\ROCTest.java", "file_new_name": "deeplearning4j-core\\src\\test\\java\\org\\deeplearning4j\\eval\\ROCTest.java", "file_complexity": {"file_NLOC": "559", "file_CCN": "52", "file_NToken": "7131"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "827,828,829,830,831,832,833,834,835,836,837,838,839,840,841,842,843,844,845,846,847,848,849,850,851,852,853,854,855,856,857,858,859,860,861", "deleted_lines": null, "method_info": {"method_name": "ROCTest::testPrecisionRecallCurveConfusion", "method_params": "", "method_startline": "827", "method_endline": "861", "method_complexity": {"method_NLOC": "24", "method_CCN": "5", "method_NToken": "243", "method_nesting_level": "1"}}}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 4, "file_old_name": "deeplearning4j-nn\\src\\main\\java\\org\\deeplearning4j\\eval\\ROC.java", "file_new_name": "deeplearning4j-nn\\src\\main\\java\\org\\deeplearning4j\\eval\\ROC.java", "file_complexity": {"file_NLOC": "489", "file_CCN": "75", "file_NToken": "4197"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "513,514", "deleted_lines": "507,534", "method_info": {"method_name": "ROC::getRocCurve", "method_params": "", "method_startline": "469", "method_endline": "539", "method_complexity": {"method_NLOC": "52", "method_CCN": "5", "method_NToken": "613", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "541,545,546,547,548,549,550,551,552,553,554,572,573,574,575,576,584,585,586,587,588,591,592", "deleted_lines": "564", "method_info": {"method_name": "ROC::removeRedundant", "method_params": "threshold,x,y,tpCount,fpCount,fnCount", "method_startline": "541", "method_endline": "593", "method_complexity": {"method_NLOC": "49", "method_CCN": "13", "method_NToken": "475", "method_nesting_level": "1"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "395,396,397,398,407,408,409,413,414,415", "deleted_lines": "374,375,376,377,406", "method_info": {"method_name": "ROC::getPrecisionRecallCurve", "method_params": "", "method_startline": "320", "method_endline": "462", "method_complexity": {"method_NLOC": "101", "method_CCN": "9", "method_NToken": "998", "method_nesting_level": "1"}}}, "hunk_3": {"Ismethod": 1, "added_lines": "541,545,546,547,548,549,550,551,552,553,554", "deleted_lines": "534,564", "method_info": {"method_name": "ROC::removeRedundant", "method_params": "threshold,x,y", "method_startline": "534", "method_endline": "565", "method_complexity": {"method_NLOC": "28", "method_CCN": "9", "method_NToken": "281", "method_nesting_level": "1"}}}}}}}}