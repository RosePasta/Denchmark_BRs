{"BR": {"BR_id": "7541", "BR_author": "AlexDBlack", "BRopenT": "2019-04-13T09:24:22Z", "BRcloseT": "2019-04-18T05:42:37Z", "BR_text": {"BRsummary": "DL4J: LocallyConnected1D & 2D issues", "BRdescription": "\n As far as I can tell, the test here is valid - but both layers throw exceptions in the following test:\n <denchmark-link:https://gist.github.com/AlexDBlack/3c7e15c06b071b74c1b13d4c7dc52bae>https://gist.github.com/AlexDBlack/3c7e15c06b071b74c1b13d4c7dc52bae</denchmark-link>\n \n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "AlexDBlack", "commentT": "2019-04-18T02:18:24Z", "comment_text": "\n \t\tThis looks like a bug in the layer implementation (Java level) - not taking into account padding.\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "AlexDBlack", "commentT": "2019-05-18T06:14:17Z", "comment_text": "\n \t\tThis thread has been automatically locked since there has not been any recent activity after it was closed. Please open a new issue for related bugs.\n \t\t"}}}, "commit": {"commit_id": "a8fe5d7da615adf5b416705ae38567b3a3ef02c5", "commit_author": "Alex Black", "commitT": "2019-04-18 15:42:36+10:00", "commit_complexity": {"commit_NLOC": "0.2647058823529412", "commit_CCN": "0.0", "commit_Nprams": "0.6372549019607843"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "deeplearning4j\\deeplearning4j-core\\src\\test\\java\\org\\deeplearning4j\\nn\\layers\\convolution\\LocallyConnectedLayerTest.java", "file_new_name": "deeplearning4j\\deeplearning4j-core\\src\\test\\java\\org\\deeplearning4j\\nn\\layers\\convolution\\LocallyConnectedLayerTest.java", "file_complexity": {"file_NLOC": "151", "file_CCN": "12", "file_NToken": "1601"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191", "deleted_lines": null, "method_info": {"method_name": "LocallyConnectedLayerTest::testLocallyConnected", "method_params": "", "method_startline": "125", "method_endline": "191", "method_complexity": {"method_NLOC": "60", "method_CCN": "8", "method_NToken": "652", "method_nesting_level": "1"}}}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "deeplearning4j\\deeplearning4j-nn\\src\\main\\java\\org\\deeplearning4j\\nn\\conf\\layers\\LocallyConnected1D.java", "file_new_name": "deeplearning4j\\deeplearning4j-nn\\src\\main\\java\\org\\deeplearning4j\\nn\\conf\\layers\\LocallyConnected1D.java", "file_complexity": {"file_NLOC": "233", "file_CCN": "40", "file_NToken": "1786"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "101,102", "deleted_lines": "103,104", "method_info": {"method_name": "LocallyConnected1D::computeOutputSize", "method_params": "", "method_startline": "90", "method_endline": "107", "method_complexity": {"method_NLOC": "17", "method_CCN": "3", "method_NToken": "150", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "177,178,179,180,181,182,183,184,185,186", "deleted_lines": null, "method_info": {"method_name": "LocallyConnected1D::defineLayer", "method_params": "sameDiff,layerInput,paramTable,mask", "method_startline": "170", "method_endline": "209", "method_complexity": {"method_NLOC": "31", "method_CCN": "7", "method_NToken": "345", "method_nesting_level": "1"}}}}}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "deeplearning4j\\deeplearning4j-nn\\src\\main\\java\\org\\deeplearning4j\\nn\\conf\\layers\\LocallyConnected2D.java", "file_new_name": "deeplearning4j\\deeplearning4j-nn\\src\\main\\java\\org\\deeplearning4j\\nn\\conf\\layers\\LocallyConnected2D.java", "file_complexity": {"file_NLOC": "255", "file_CCN": "45", "file_NToken": "2199"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "106", "deleted_lines": null, "method_info": {"method_name": "LocallyConnected2D::computeOutputSize", "method_params": "", "method_startline": "92", "method_endline": "111", "method_complexity": {"method_NLOC": "17", "method_CCN": "3", "method_NToken": "158", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "183,184,185,186,187,188,189,190,191,192", "deleted_lines": null, "method_info": {"method_name": "LocallyConnected2D::defineLayer", "method_params": "sameDiff,layerInput,paramTable,mask", "method_startline": "170", "method_endline": "220", "method_complexity": {"method_NLOC": "40", "method_CCN": "10", "method_NToken": "511", "method_nesting_level": "1"}}}}}, "file_3": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "deeplearning4j\\deeplearning4j-nn\\src\\main\\java\\org\\deeplearning4j\\util\\Convolution1DUtils.java", "file_new_name": "deeplearning4j\\deeplearning4j-nn\\src\\main\\java\\org\\deeplearning4j\\util\\Convolution1DUtils.java", "file_complexity": {"file_NLOC": "143", "file_CCN": "29", "file_NToken": "1299"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "211,212,213,214,215,216,217,218,219,220", "deleted_lines": null, "method_info": {"method_name": "Convolution1DUtils::getSameModeBottomRightPadding", "method_params": "outSize,inSize,kernel,strides,dilation", "method_startline": "211", "method_endline": "220", "method_complexity": {"method_NLOC": "10", "method_CCN": "1", "method_NToken": "90", "method_nesting_level": "1"}}}}}, "file_4": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "nd4j\\nd4j-backends\\nd4j-api-parent\\nd4j-api\\src\\main\\java\\org\\nd4j\\autodiff\\functions\\DifferentialFunctionFactory.java", "file_new_name": "nd4j\\nd4j-backends\\nd4j-api-parent\\nd4j-api\\src\\main\\java\\org\\nd4j\\autodiff\\functions\\DifferentialFunctionFactory.java", "file_complexity": {"file_NLOC": "1558", "file_CCN": "428", "file_NToken": "16579"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "2154,2155,2156", "deleted_lines": null, "method_info": {"method_name": "DifferentialFunctionFactory::slice", "method_params": "input,begin,size", "method_startline": "2154", "method_endline": "2156", "method_complexity": {"method_NLOC": "3", "method_CCN": "1", "method_NToken": "32", "method_nesting_level": "1"}}}}}, "file_5": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "nd4j\\nd4j-backends\\nd4j-api-parent\\nd4j-api\\src\\main\\java\\org\\nd4j\\autodiff\\samediff\\ops\\SDBaseOps.java", "file_new_name": "nd4j\\nd4j-backends\\nd4j-api-parent\\nd4j-api\\src\\main\\java\\org\\nd4j\\autodiff\\samediff\\ops\\SDBaseOps.java", "file_complexity": {"file_NLOC": "922", "file_CCN": "239", "file_NToken": "8752"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "2480,2481,2482,2483", "deleted_lines": null, "method_info": {"method_name": "SDBaseOps::slice", "method_params": "name,input,begin,size", "method_startline": "2480", "method_endline": "2483", "method_complexity": {"method_NLOC": "4", "method_CCN": "1", "method_NToken": "44", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "2454,2455,2456", "deleted_lines": null, "method_info": {"method_name": "SDBaseOps::slice", "method_params": "input,begin,size", "method_startline": "2454", "method_endline": "2456", "method_complexity": {"method_NLOC": "3", "method_CCN": "1", "method_NToken": "25", "method_nesting_level": "1"}}}}}, "file_6": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "nd4j\\nd4j-backends\\nd4j-api-parent\\nd4j-api\\src\\main\\java\\org\\nd4j\\linalg\\api\\ops\\impl\\shape\\Slice.java", "file_new_name": "nd4j\\nd4j-backends\\nd4j-api-parent\\nd4j-api\\src\\main\\java\\org\\nd4j\\linalg\\api\\ops\\impl\\shape\\Slice.java", "file_complexity": {"file_NLOC": "55", "file_CCN": "9", "file_NToken": "458"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "58,59,60", "deleted_lines": null, "method_info": {"method_name": "Slice::Slice", "method_params": "sameDiff,input,begin,end", "method_startline": "58", "method_endline": "60", "method_complexity": {"method_NLOC": "3", "method_CCN": "1", "method_NToken": "41", "method_nesting_level": "1"}}}}}, "file_7": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "nd4j\\nd4j-backends\\nd4j-api-parent\\nd4j-api\\src\\main\\java\\org\\nd4j\\linalg\\api\\ops\\impl\\transforms\\Pad.java", "file_new_name": "nd4j\\nd4j-backends\\nd4j-api-parent\\nd4j-api\\src\\main\\java\\org\\nd4j\\linalg\\api\\ops\\impl\\transforms\\Pad.java", "file_complexity": {"file_NLOC": "66", "file_CCN": "11", "file_NToken": "582"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "89,90,91,92,93,94,95,96,97,98,99", "deleted_lines": null, "method_info": {"method_name": "Pad::doDiff", "method_params": "i_v", "method_startline": "88", "method_endline": "100", "method_complexity": {"method_NLOC": "7", "method_CCN": "1", "method_NToken": "87", "method_nesting_level": "1"}}}}}}}}