{"BR": {"BR_id": "7480", "BR_author": "AlexDBlack", "BRopenT": "2019-04-09T01:46:53Z", "BRcloseT": "2019-04-09T07:04:45Z", "BR_text": {"BRsummary": "DL4J: Test failures in deeplearning4j-zoo", "BRdescription": "\n TestImageNet.testImageNetLabels:\n <denchmark-code>java.lang.IllegalStateException: Number of indices (got 2) must be same as array rank (1) - indices [0, 0]\n </denchmark-code>\n \n TestInstantiation.testMultipleCnnTraining\n <denchmark-code>java.lang.NullPointerException: array is marked @NonNull but is null\n \tat org.nd4j.linalg.cpu.nativecpu.ops.CpuOpContext.setInputArray(CpuOpContext.java:66)\n \tat org.deeplearning4j.nn.layers.mkldnn.MKLDNNConvHelper.backpropGradient(MKLDNNConvHelper.java:91)\n \tat org.deeplearning4j.nn.layers.convolution.ConvolutionLayer.backpropGradient(ConvolutionLayer.java:168)\n </denchmark-code>\n \n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "AlexDBlack", "commentT": "2019-05-09T07:37:27Z", "comment_text": "\n \t\tThis thread has been automatically locked since there has not been any recent activity after it was closed. Please open a new issue for related bugs.\n \t\t"}}}, "commit": {"commit_id": "015fd10bddbc59416595f706af6be1d0d23f573f", "commit_author": "Alex Black", "commitT": "2019-04-09 17:04:44+10:00", "commit_complexity": {"commit_NLOC": "0.13861386138613863", "commit_CCN": "0.9108910891089109", "commit_Nprams": "0.9801980198019802"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "arbiter\\arbiter-core\\src\\main\\java\\org\\deeplearning4j\\arbiter\\optimize\\generator\\genetic\\population\\PopulationModel.java", "file_new_name": "arbiter\\arbiter-core\\src\\main\\java\\org\\deeplearning4j\\arbiter\\optimize\\generator\\genetic\\population\\PopulationModel.java", "file_complexity": {"file_NLOC": "89", "file_CCN": "17", "file_NToken": "566"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": null, "deleted_lines": "132,133,134,135", "method_info": {"method_name": "PopulationModel::PopulationModel", "method_params": "builder", "method_startline": "121", "method_endline": "136", "method_complexity": {"method_NLOC": "13", "method_CCN": "2", "method_NToken": "103", "method_nesting_level": "1"}}}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 6, "file_old_name": "arbiter\\arbiter-core\\src\\test\\java\\org\\deeplearning4j\\arbiter\\optimize\\genetic\\population\\PopulationModelTests.java", "file_new_name": "arbiter\\arbiter-core\\src\\test\\java\\org\\deeplearning4j\\arbiter\\optimize\\genetic\\population\\PopulationModelTests.java", "file_complexity": {"file_NLOC": "128", "file_CCN": "12", "file_NToken": "1273"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "126", "deleted_lines": "127", "method_info": {"method_name": "PopulationModelTests::PopulationModel_Add_ShouldTriggerPopulationListeners", "method_params": "", "method_startline": "122", "method_endline": "136", "method_complexity": {"method_NLOC": "10", "method_CCN": "1", "method_NToken": "102", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "104", "deleted_lines": "105", "method_info": {"method_name": "PopulationModelTests::PopulationModel_Add_MinimizeScore_ShouldOrderAscendingPopulation", "method_params": "", "method_startline": "100", "method_endline": "119", "method_complexity": {"method_NLOC": "16", "method_CCN": "1", "method_NToken": "214", "method_nesting_level": "1"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "82", "deleted_lines": "83", "method_info": {"method_name": "PopulationModelTests::PopulationModel_Add_MaximizeScore_ShouldOrderDescendingPopulation", "method_params": "", "method_startline": "78", "method_endline": "97", "method_complexity": {"method_NLOC": "16", "method_CCN": "1", "method_NToken": "214", "method_nesting_level": "1"}}}, "hunk_3": {"Ismethod": 1, "added_lines": null, "deleted_lines": "181,182,183,184,185,186,187,188,189,190", "method_info": {"method_name": "PopulationModelTests::PopulationModel_ctor_culledSizeLessThanTwo_ShouldThrow", "method_params": "", "method_startline": "181", "method_endline": "190", "method_complexity": {"method_NLOC": "7", "method_CCN": "1", "method_NToken": "58", "method_nesting_level": "1"}}}, "hunk_4": {"Ismethod": 1, "added_lines": null, "deleted_lines": "22", "method_info": {"method_name": "PopulationModelTests::TestCullOperator::TestCullOperator", "method_params": "culledSize", "method_startline": "21", "method_endline": "24", "method_complexity": {"method_NLOC": "3", "method_CCN": "1", "method_NToken": "13", "method_nesting_level": "2"}}}, "hunk_5": {"Ismethod": 1, "added_lines": "56", "deleted_lines": "57", "method_info": {"method_name": "PopulationModelTests::PopulationModel_IsReadyToBreed_NotReadyToBreed_ShouldReturnFalse", "method_params": "", "method_startline": "52", "method_endline": "61", "method_complexity": {"method_NLOC": "7", "method_CCN": "1", "method_NToken": "62", "method_nesting_level": "1"}}}}}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "arbiter\\arbiter-core\\src\\test\\java\\org\\deeplearning4j\\arbiter\\optimize\\genetic\\selection\\GeneticSelectionOperatorTests.java", "file_new_name": "arbiter\\arbiter-core\\src\\test\\java\\org\\deeplearning4j\\arbiter\\optimize\\genetic\\selection\\GeneticSelectionOperatorTests.java", "file_complexity": {"file_NLOC": "165", "file_CCN": "14", "file_NToken": "1555"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "191,194", "deleted_lines": "189,192", "method_info": {"method_name": "GeneticSelectionOperatorTests::GeneticSelectionOperator_ShouldNotBuildDuplicates", "method_params": "", "method_startline": "164", "method_endline": "195", "method_complexity": {"method_NLOC": "23", "method_CCN": "1", "method_NToken": "283", "method_nesting_level": "1"}}}}}, "file_3": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "arbiter\\arbiter-deeplearning4j\\src\\test\\java\\org\\deeplearning4j\\arbiter\\computationgraph\\TestGraphLocalExecution.java", "file_new_name": "arbiter\\arbiter-deeplearning4j\\src\\test\\java\\org\\deeplearning4j\\arbiter\\computationgraph\\TestGraphLocalExecution.java", "file_complexity": {"file_NLOC": "293", "file_CCN": "24", "file_NToken": "2794"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "308", "deleted_lines": "308", "method_info": {"method_name": "TestGraphLocalExecution::testLocalExecutionEarlyStopping", "method_params": "", "method_startline": "306", "method_endline": "361", "method_complexity": {"method_NLOC": "44", "method_CCN": "3", "method_NToken": "446", "method_nesting_level": "1"}}}}}, "file_4": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "arbiter\\arbiter-deeplearning4j\\src\\test\\java\\org\\deeplearning4j\\arbiter\\multilayernetwork\\TestScoreFunctions.java", "file_new_name": "arbiter\\arbiter-deeplearning4j\\src\\test\\java\\org\\deeplearning4j\\arbiter\\multilayernetwork\\TestScoreFunctions.java", "file_complexity": {"file_NLOC": "168", "file_CCN": "26", "file_NToken": "1449"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "199", "deleted_lines": "199", "method_info": {"method_name": "TestScoreFunctions::PreProc::preProcess", "method_params": "toPreProcess", "method_startline": "191", "method_endline": "211", "method_complexity": {"method_NLOC": "19", "method_CCN": "6", "method_NToken": "133", "method_nesting_level": "2"}}}}}, "file_5": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "datavec\\datavec-local\\src\\main\\java\\org\\datavec\\local\\transforms\\misc\\WritablesToNDArrayFunction.java", "file_new_name": "datavec\\datavec-local\\src\\main\\java\\org\\datavec\\local\\transforms\\misc\\WritablesToNDArrayFunction.java", "file_complexity": {"file_NLOC": "42", "file_CCN": "6", "file_NToken": "314"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "56", "deleted_lines": "56", "method_info": {"method_name": "WritablesToNDArrayFunction::apply", "method_params": "c", "method_startline": "39", "method_endline": "70", "method_complexity": {"method_NLOC": "30", "method_CCN": "6", "method_NToken": "202", "method_nesting_level": "1"}}}}}, "file_6": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "datavec\\datavec-local\\src\\test\\java\\org\\datavec\\local\\transforms\\functions\\TestWritablesToNDArrayFunction.java", "file_new_name": "datavec\\datavec-local\\src\\test\\java\\org\\datavec\\local\\transforms\\functions\\TestWritablesToNDArrayFunction.java", "file_complexity": {"file_NLOC": "38", "file_CCN": "3", "file_NToken": "402"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "52,55", "deleted_lines": "52,55", "method_info": {"method_name": "TestWritablesToNDArrayFunction::testWritablesToNDArrayMixed", "method_params": "", "method_startline": "47", "method_endline": "61", "method_complexity": {"method_NLOC": "14", "method_CCN": "1", "method_NToken": "171", "method_nesting_level": "1"}}}}}, "file_7": {"file_change_type": "ADD", "file_Nmethod": 0, "file_old_name": "None", "file_new_name": "deeplearning4j\\deeplearning4j-core\\src\\test\\java\\org\\deeplearning4j\\regressiontest\\RegressionTest100b3.java", "file_complexity": {"file_NLOC": "163", "file_CCN": "8", "file_NToken": "1836"}}, "file_8": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "deeplearning4j\\deeplearning4j-nn\\src\\main\\java\\org\\deeplearning4j\\nn\\graph\\ComputationGraph.java", "file_new_name": "deeplearning4j\\deeplearning4j-nn\\src\\main\\java\\org\\deeplearning4j\\nn\\graph\\ComputationGraph.java", "file_complexity": {"file_NLOC": "2842", "file_CCN": "721", "file_NToken": "23380"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "760", "deleted_lines": "760", "method_info": {"method_name": "ComputationGraph::initGradientsView", "method_params": "", "method_startline": "737", "method_endline": "777", "method_complexity": {"method_NLOC": "35", "method_CCN": "7", "method_NToken": "281", "method_nesting_level": "1"}}}}}, "file_9": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "deeplearning4j\\deeplearning4j-nn\\src\\main\\java\\org\\deeplearning4j\\nn\\layers\\convolution\\ConvolutionLayer.java", "file_new_name": "deeplearning4j\\deeplearning4j-nn\\src\\main\\java\\org\\deeplearning4j\\nn\\layers\\convolution\\ConvolutionLayer.java", "file_complexity": {"file_NLOC": "345", "file_CCN": "75", "file_NToken": "3256"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "368,369,370,371,372", "deleted_lines": "363", "method_info": {"method_name": "ConvolutionLayer::preOutput", "method_params": "training,forBackprop,workspaceMgr", "method_startline": "304", "method_endline": "424", "method_complexity": {"method_NLOC": "86", "method_CCN": "24", "method_NToken": "912", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "157,158,181,182,183,184,185,187", "deleted_lines": "157,180,182", "method_info": {"method_name": "ConvolutionLayer::backpropGradient", "method_params": "epsilon,workspaceMgr", "method_startline": "110", "method_endline": "254", "method_complexity": {"method_NLOC": "99", "method_CCN": "15", "method_NToken": "1113", "method_nesting_level": "1"}}}}}, "file_10": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "deeplearning4j\\deeplearning4j-nn\\src\\main\\java\\org\\deeplearning4j\\nn\\layers\\convolution\\subsampling\\SubsamplingLayer.java", "file_new_name": "deeplearning4j\\deeplearning4j-nn\\src\\main\\java\\org\\deeplearning4j\\nn\\layers\\convolution\\subsampling\\SubsamplingLayer.java", "file_complexity": {"file_NLOC": "336", "file_CCN": "64", "file_NToken": "2867"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "156,157,158,159,160", "deleted_lines": "156", "method_info": {"method_name": "SubsamplingLayer::backpropGradient", "method_params": "epsilon,workspaceMgr", "method_startline": "117", "method_endline": "287", "method_complexity": {"method_NLOC": "119", "method_CCN": "21", "method_NToken": "1276", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "346,347,348,349,350", "deleted_lines": "342", "method_info": {"method_name": "SubsamplingLayer::activate", "method_params": "training,workspaceMgr", "method_startline": "304", "method_endline": "387", "method_complexity": {"method_NLOC": "70", "method_CCN": "13", "method_NToken": "595", "method_nesting_level": "1"}}}}}, "file_11": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "deeplearning4j\\deeplearning4j-nn\\src\\main\\java\\org\\deeplearning4j\\nn\\multilayer\\MultiLayerNetwork.java", "file_new_name": "deeplearning4j\\deeplearning4j-nn\\src\\main\\java\\org\\deeplearning4j\\nn\\multilayer\\MultiLayerNetwork.java", "file_complexity": {"file_NLOC": "2335", "file_CCN": "580", "file_NToken": "18428"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "773", "deleted_lines": "773", "method_info": {"method_name": "MultiLayerNetwork::initGradientsView", "method_params": "", "method_startline": "756", "method_endline": "786", "method_complexity": {"method_NLOC": "26", "method_CCN": "6", "method_NToken": "219", "method_nesting_level": "1"}}}}}, "file_12": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "deeplearning4j\\deeplearning4j-nn\\src\\main\\java\\org\\deeplearning4j\\nn\\updater\\BaseMultiLayerUpdater.java", "file_new_name": "deeplearning4j\\deeplearning4j-nn\\src\\main\\java\\org\\deeplearning4j\\nn\\updater\\BaseMultiLayerUpdater.java", "file_complexity": {"file_NLOC": "320", "file_CCN": "73", "file_NToken": "2506"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "152", "deleted_lines": "152", "method_info": {"method_name": "BaseMultiLayerUpdater<T::BaseMultiLayerUpdater", "method_params": "network,updaterState", "method_startline": "72", "method_endline": "183", "method_complexity": {"method_NLOC": "86", "method_CCN": "12", "method_NToken": "751", "method_nesting_level": "1"}}}}}, "file_13": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "deeplearning4j\\deeplearning4j-zoo\\src\\main\\java\\org\\deeplearning4j\\zoo\\util\\imagenet\\ImageNetLabels.java", "file_new_name": "deeplearning4j\\deeplearning4j-zoo\\src\\main\\java\\org\\deeplearning4j\\zoo\\util\\imagenet\\ImageNetLabels.java", "file_complexity": {"file_NLOC": "76", "file_CCN": "13", "file_NToken": "583"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "113", "deleted_lines": "113", "method_info": {"method_name": "ImageNetLabels::decodePredictions", "method_params": "predictions", "method_startline": "95", "method_endline": "122", "method_complexity": {"method_NLOC": "25", "method_CCN": "4", "method_NToken": "232", "method_nesting_level": "1"}}}}}, "file_14": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "deeplearning4j\\deeplearning4j-zoo\\src\\test\\java\\org\\deeplearning4j\\zoo\\TestDownload.java", "file_new_name": "deeplearning4j\\deeplearning4j-zoo\\src\\test\\java\\org\\deeplearning4j\\zoo\\TestDownload.java", "file_complexity": {"file_NLOC": "63", "file_CCN": "7", "file_NToken": "497"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "29", "deleted_lines": "29,30,31,32"}}}, "file_15": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "deeplearning4j\\deeplearning4j-zoo\\src\\test\\java\\org\\deeplearning4j\\zoo\\TestImageNet.java", "file_new_name": "deeplearning4j\\deeplearning4j-zoo\\src\\test\\java\\org\\deeplearning4j\\zoo\\TestImageNet.java", "file_complexity": {"file_NLOC": "96", "file_CCN": "4", "file_NToken": "1093"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "45", "deleted_lines": "45"}}}, "file_16": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "deeplearning4j\\deeplearning4j-zoo\\src\\test\\java\\org\\deeplearning4j\\zoo\\TestInstantiation.java", "file_new_name": "deeplearning4j\\deeplearning4j-zoo\\src\\test\\java\\org\\deeplearning4j\\zoo\\TestInstantiation.java", "file_complexity": {"file_NLOC": "237", "file_CCN": "14", "file_NToken": "2815"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "92,93", "deleted_lines": null, "method_info": {"method_name": "TestInstantiation::testMultipleCnnTraining", "method_params": "", "method_startline": "53", "method_endline": "98", "method_complexity": {"method_NLOC": "40", "method_CCN": "7", "method_NToken": "346", "method_nesting_level": "1"}}}}}, "file_17": {"file_change_type": "MODIFY", "file_Nmethod": 3, "file_old_name": "nd4j\\nd4j-backends\\nd4j-tests\\src\\test\\java\\org\\nd4j\\autodiff\\opvalidation\\MiscOpValidation.java", "file_new_name": "nd4j\\nd4j-backends\\nd4j-tests\\src\\test\\java\\org\\nd4j\\autodiff\\opvalidation\\MiscOpValidation.java", "file_complexity": {"file_NLOC": "1208", "file_CCN": "168", "file_NToken": "12227"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "1592,1593,1594,1595,1596,1597,1598,1599,1600,1601,1602,1603,1604,1605,1606,1607", "deleted_lines": null, "method_info": {"method_name": "MiscOpValidation::testTensorMmulShape", "method_params": "", "method_startline": "1592", "method_endline": "1607", "method_complexity": {"method_NLOC": "14", "method_CCN": "1", "method_NToken": "173", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "1570,1571,1572,1573,1574,1575,1576,1577,1578,1579,1580,1581,1582,1583,1584,1585,1586,1587,1588,1589", "deleted_lines": null, "method_info": {"method_name": "MiscOpValidation::testNthElementRank1", "method_params": "", "method_startline": "1570", "method_endline": "1589", "method_complexity": {"method_NLOC": "17", "method_CCN": "1", "method_NToken": "178", "method_nesting_level": "1"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "1610,1611,1612,1613,1614,1615", "deleted_lines": null, "method_info": {"method_name": "MiscOpValidation::testTensorMmulShape2", "method_params": "", "method_startline": "1610", "method_endline": "1615", "method_complexity": {"method_NLOC": "6", "method_CCN": "1", "method_NToken": "112", "method_nesting_level": "1"}}}}}, "file_18": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "nd4j\\nd4j-backends\\nd4j-tests\\src\\test\\java\\org\\nd4j\\autodiff\\opvalidation\\ShapeOpValidation.java", "file_new_name": "nd4j\\nd4j-backends\\nd4j-tests\\src\\test\\java\\org\\nd4j\\autodiff\\opvalidation\\ShapeOpValidation.java", "file_complexity": {"file_NLOC": "1632", "file_CCN": "216", "file_NToken": "19080"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "2133,2134,2135,2136,2137,2138,2139,2140,2141,2142,2143,2144,2145,2146,2147,2148,2149,2150,2151", "deleted_lines": null, "method_info": {"method_name": "ShapeOpValidation::testBroadcastDynamicShape1", "method_params": "", "method_startline": "2133", "method_endline": "2151", "method_complexity": {"method_NLOC": "15", "method_CCN": "1", "method_NToken": "180", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "2154,2155,2156,2157,2158,2159,2160,2161,2162,2163,2164,2165,2166,2167,2168,2169,2170,2171,2172,2173", "deleted_lines": null, "method_info": {"method_name": "ShapeOpValidation::testBroadcastDynamicShape2", "method_params": "", "method_startline": "2154", "method_endline": "2173", "method_complexity": {"method_NLOC": "16", "method_CCN": "1", "method_NToken": "209", "method_nesting_level": "1"}}}}}, "file_19": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "nd4j\\nd4j-backends\\nd4j-tests\\src\\test\\java\\org\\nd4j\\imports\\TFGraphs\\TFGraphTestAllSameDiff.java", "file_new_name": "nd4j\\nd4j-backends\\nd4j-tests\\src\\test\\java\\org\\nd4j\\imports\\TFGraphs\\TFGraphTestAllSameDiff.java", "file_complexity": {"file_NLOC": "110", "file_CCN": "14", "file_NToken": "751"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "68,69,70,72,75,78,81,84,87,90,97,100,108,114", "deleted_lines": "68,69,71,74,77,80,83,84,85,86,87,90,93,100,103,111,117,118,119,120"}}}}}}