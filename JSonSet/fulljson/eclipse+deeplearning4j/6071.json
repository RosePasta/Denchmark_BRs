{"BR": {"BR_id": "6071", "BR_author": "AlexDBlack", "BRopenT": "2018-08-03T12:17:53Z", "BRcloseT": "2018-08-04T00:21:38Z", "BR_text": {"BRsummary": "libnd4j: edge case shape issue with broadcastable ops", "BRdescription": "\n First arg is a true scalar. Second arg is a rank 1 or 2 scalar.\n It expects a true scalar out - but actually it should be the same shape as the second arg.\n If the second op is not a scalar, it seems to work fine\n <denchmark-code>    @Test\n     public void testMulEdgeCase(){\n \n         INDArray in1 = Nd4j.trueScalar(1.0);\n         INDArray in2 = Nd4j.valueArrayOf(new long[]{1}, 2.0);\n         INDArray out = Nd4j.create(new long[]{1});\n         DynamicCustomOp d = DynamicCustomOp.builder(\"multiply\")\n                 .addInputs(in1, in2)\n                 .addOutputs(out)\n                 .build();\n \n         Nd4j.getExecutioner().exec(d);\n         assertEquals(Nd4j.valueArrayOf(new long[]{1}, 2.0), out);\n     }\n \n     @Test\n     public void testAddEdgeCase(){\n \n         INDArray in1 = Nd4j.trueScalar(1.0);\n         INDArray in2 = Nd4j.valueArrayOf(new long[]{1}, 2.0);\n         INDArray out = Nd4j.create(new long[]{1});\n         DynamicCustomOp d = DynamicCustomOp.builder(\"add\")\n                 .addInputs(in1, in2)\n                 .addOutputs(out)\n                 .build();\n \n         Nd4j.getExecutioner().exec(d);\n         assertEquals(Nd4j.valueArrayOf(new long[]{1}, 3.0), out);\n     }\n \n     @Test\n     public void testMulEdgeCase2(){\n \n         INDArray in1 = Nd4j.trueScalar(1.0);\n         INDArray in2 = Nd4j.valueArrayOf(new long[]{1,1}, 2.0);\n         INDArray out = Nd4j.create(new long[]{1,1});\n         DynamicCustomOp d = DynamicCustomOp.builder(\"multiply\")\n                 .addInputs(in1, in2)\n                 .addOutputs(out)\n                 .build();\n \n         Nd4j.getExecutioner().exec(d);\n         assertEquals(Nd4j.valueArrayOf(new long[]{1,1}, 2.0), out);\n     }\n </denchmark-code>\n \n <denchmark-code>Expected vs provided shapes mismatch: [] vs [1]\n o.n.l.c.n.o.NativeOpExecutioner - Failed to execute op multiply. Attempted to execute with 2 inputs, 1 outputs, 0 targs and 0 iargs. Please see above message (printed out from c++) for a possible cause of error.\n \n java.lang.RuntimeException: Expected vs provided shapes mismatch\n \n \tat org.nd4j.nativeblas.Nd4jCpu$NativeOps.execCustomOpDouble(Native Method)\n \tat org.nd4j.linalg.cpu.nativecpu.ops.NativeOpExecutioner.exec(NativeOpExecutioner.java:1729)\n \tat org.nd4j.autodiff.opvalidation.ShapeOpValidation.testMulEdgeCase(ShapeOpValidation.java:1213)\n </denchmark-code>\n \n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "AlexDBlack", "commentT": "2018-08-03T17:41:15Z", "comment_text": "\n \t\tI wouldn't call that a bug, it's more like one of ancient agreements \ud83d\ude04\n I've changed behaviour now, so issue should be fixed.\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "AlexDBlack", "commentT": "2018-08-04T00:21:38Z", "comment_text": "\n \t\tConfirmed fixed. Thanks!\n \t\t"}, "comments_2": {"comment_id": 3, "comment_author": "AlexDBlack", "commentT": "2018-09-21T10:58:49Z", "comment_text": "\n \t\tThis thread has been automatically locked since there has not been any recent activity after it was closed. Please open a new issue for related bugs.\n \t\t"}}}, "commit": {"commit_id": "01b01851ad699c96a101b1bc00aec8fbf87296bb", "commit_author": "raver119", "commitT": "2018-08-03 20:39:51+03:00", "commit_complexity": {"commit_NLOC": "1.0", "commit_CCN": "0.9820359281437125", "commit_Nprams": "0.0"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 7, "file_old_name": "libnd4j\\blas\\cpu\\NDArray.cpp", "file_new_name": "libnd4j\\blas\\cpu\\NDArray.cpp", "file_complexity": {"file_NLOC": "2589", "file_CCN": "676", "file_NToken": "27139"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "3227", "deleted_lines": "3227", "method_info": {"method_name": "nd4j::NDArray<T>::operator *", "method_params": "other", "method_startline": "3225", "method_endline": "3234", "method_complexity": {"method_NLOC": "8", "method_CCN": "3", "method_NToken": "127", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "3157", "deleted_lines": "3157", "method_info": {"method_name": "nd4j::NDArray<T>::operator -=", "method_params": "other", "method_startline": "3155", "method_endline": "3169", "method_complexity": {"method_NLOC": "13", "method_CCN": "4", "method_NToken": "187", "method_nesting_level": "1"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "3281", "deleted_lines": "3281", "method_info": {"method_name": "nd4j::NDArray<T>::operator /", "method_params": "other", "method_startline": "3279", "method_endline": "3288", "method_complexity": {"method_NLOC": "8", "method_CCN": "3", "method_NToken": "127", "method_nesting_level": "1"}}}, "hunk_3": {"Ismethod": 1, "added_lines": "3192", "deleted_lines": "3192", "method_info": {"method_name": "nd4j::NDArray<T>::operator -", "method_params": "other", "method_startline": "3190", "method_endline": "3199", "method_complexity": {"method_NLOC": "8", "method_CCN": "3", "method_NToken": "123", "method_nesting_level": "1"}}}, "hunk_4": {"Ismethod": 1, "added_lines": "3140", "deleted_lines": "3140", "method_info": {"method_name": "nd4j::NDArray<T>::operator +=", "method_params": "other", "method_startline": "3137", "method_endline": "3152", "method_complexity": {"method_NLOC": "15", "method_CCN": "6", "method_NToken": "251", "method_nesting_level": "1"}}}, "hunk_5": {"Ismethod": 1, "added_lines": "3311", "deleted_lines": "3311", "method_info": {"method_name": "nd4j::NDArray<T>::operator / =", "method_params": "other", "method_startline": "3307", "method_endline": "3323", "method_complexity": {"method_NLOC": "15", "method_CCN": "6", "method_NToken": "252", "method_nesting_level": "1"}}}, "hunk_6": {"Ismethod": 1, "added_lines": "3066", "deleted_lines": "3066", "method_info": {"method_name": "nd4j::NDArray<T>::operator +", "method_params": "other", "method_startline": "3064", "method_endline": "3074", "method_complexity": {"method_NLOC": "8", "method_CCN": "3", "method_NToken": "127", "method_nesting_level": "1"}}}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "libnd4j\\include\\helpers\\impl\\ShapeUtils.cpp", "file_new_name": "libnd4j\\include\\helpers\\impl\\ShapeUtils.cpp", "file_complexity": {"file_NLOC": "712", "file_CCN": "216", "file_NToken": "7049"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "428,429,430,431,432,433,434,435,436,446", "deleted_lines": "428,438", "method_info": {"method_name": "nd4j::ShapeUtils<T>::evalBroadcastShapeInfo", "method_params": "max,min,evalMinMax,resultShapeInfo,workspace", "method_startline": "426", "method_endline": "472", "method_complexity": {"method_NLOC": "33", "method_CCN": "12", "method_NToken": "312", "method_nesting_level": "1"}}}}}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 3, "file_old_name": "libnd4j\\include\\ops\\declarable\\generic\\broadcastable\\assign.cpp", "file_new_name": "libnd4j\\include\\ops\\declarable\\generic\\broadcastable\\assign.cpp", "file_complexity": {"file_NLOC": "55", "file_CCN": "8", "file_NToken": "401"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": null, "deleted_lines": "44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78", "method_info": {"method_name": "nd4j::ops::DECLARE_SHAPE_FN", "method_params": "assign", "method_startline": "44", "method_endline": "78", "method_complexity": {"method_NLOC": "27", "method_CCN": "7", "method_NToken": "216", "method_nesting_level": "2"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "29", "deleted_lines": "29", "method_info": {"method_name": "nd4j::ops::CUSTOM_OP_IMPL", "method_params": "assign,2,1,true,0,0", "method_startline": "29", "method_endline": "42", "method_complexity": {"method_NLOC": "12", "method_CCN": "3", "method_NToken": "104", "method_nesting_level": "2"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "29", "deleted_lines": "29", "method_info": {"method_name": "nd4j::ops::BROADCASTABLE_OP_IMPL", "method_params": "assign,0,0", "method_startline": "29", "method_endline": "42", "method_complexity": {"method_NLOC": "12", "method_CCN": "3", "method_NToken": "98", "method_nesting_level": "2"}}}}}, "file_3": {"file_change_type": "MODIFY", "file_Nmethod": 3, "file_old_name": "libnd4j\\include\\ops\\declarable\\generic\\broadcastable\\divide.cpp", "file_new_name": "libnd4j\\include\\ops\\declarable\\generic\\broadcastable\\divide.cpp", "file_complexity": {"file_NLOC": "77", "file_CCN": "9", "file_NToken": "635"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "29", "deleted_lines": "29", "method_info": {"method_name": "nd4j::ops::CUSTOM_OP_IMPL", "method_params": "divide,2,1,true,0,0", "method_startline": "29", "method_endline": "42", "method_complexity": {"method_NLOC": "12", "method_CCN": "3", "method_NToken": "106", "method_nesting_level": "2"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "29", "deleted_lines": "29", "method_info": {"method_name": "nd4j::ops::BROADCASTABLE_OP_IMPL", "method_params": "divide,0,0", "method_startline": "29", "method_endline": "42", "method_complexity": {"method_NLOC": "12", "method_CCN": "3", "method_NToken": "100", "method_nesting_level": "2"}}}, "hunk_2": {"Ismethod": 1, "added_lines": null, "deleted_lines": "45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79", "method_info": {"method_name": "nd4j::ops::DECLARE_SHAPE_FN", "method_params": "divide", "method_startline": "45", "method_endline": "79", "method_complexity": {"method_NLOC": "27", "method_CCN": "7", "method_NToken": "216", "method_nesting_level": "2"}}}}}, "file_4": {"file_change_type": "MODIFY", "file_Nmethod": 3, "file_old_name": "libnd4j\\include\\ops\\declarable\\generic\\broadcastable\\equals.cpp", "file_new_name": "libnd4j\\include\\ops\\declarable\\generic\\broadcastable\\equals.cpp", "file_complexity": {"file_NLOC": "18", "file_CCN": "3", "file_NToken": "119"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "25", "deleted_lines": "25", "method_info": {"method_name": "nd4j::ops::CUSTOM_OP_IMPL", "method_params": "equals,2,1,true,0,0", "method_startline": "25", "method_endline": "38", "method_complexity": {"method_NLOC": "12", "method_CCN": "3", "method_NToken": "108", "method_nesting_level": "2"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "25", "deleted_lines": "25", "method_info": {"method_name": "nd4j::ops::BROADCASTABLE_OP_IMPL", "method_params": "equals,0,0", "method_startline": "25", "method_endline": "38", "method_complexity": {"method_NLOC": "12", "method_CCN": "3", "method_NToken": "102", "method_nesting_level": "2"}}}, "hunk_2": {"Ismethod": 1, "added_lines": null, "deleted_lines": "41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,65,66,67,68,69,70,71,72,73,74,75", "method_info": {"method_name": "nd4j::ops::DECLARE_SHAPE_FN", "method_params": "equals", "method_startline": "41", "method_endline": "75", "method_complexity": {"method_NLOC": "27", "method_CCN": "7", "method_NToken": "216", "method_nesting_level": "2"}}}}}, "file_5": {"file_change_type": "MODIFY", "file_Nmethod": 3, "file_old_name": "libnd4j\\include\\ops\\declarable\\generic\\broadcastable\\floordiv.cpp", "file_new_name": "libnd4j\\include\\ops\\declarable\\generic\\broadcastable\\floordiv.cpp", "file_complexity": {"file_NLOC": "40", "file_CCN": "5", "file_NToken": "270"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "29", "deleted_lines": "29,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65", "method_info": {"method_name": "nd4j::ops::CUSTOM_OP_IMPL", "method_params": "floordiv,2,1,true,0,0", "method_startline": "29", "method_endline": "67", "method_complexity": {"method_NLOC": "12", "method_CCN": "3", "method_NToken": "104", "method_nesting_level": "2"}}}, "hunk_1": {"Ismethod": 1, "added_lines": null, "deleted_lines": "69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103", "method_info": {"method_name": "nd4j::ops::DECLARE_SHAPE_FN", "method_params": "floordiv", "method_startline": "69", "method_endline": "103", "method_complexity": {"method_NLOC": "27", "method_CCN": "7", "method_NToken": "216", "method_nesting_level": "2"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "29", "deleted_lines": "29,41,42", "method_info": {"method_name": "nd4j::ops::BROADCASTABLE_OP_IMPL", "method_params": "floordiv,0,0", "method_startline": "29", "method_endline": "42", "method_complexity": {"method_NLOC": "12", "method_CCN": "3", "method_NToken": "98", "method_nesting_level": "2"}}}}}, "file_6": {"file_change_type": "MODIFY", "file_Nmethod": 3, "file_old_name": "libnd4j\\include\\ops\\declarable\\generic\\broadcastable\\floormod.cpp", "file_new_name": "libnd4j\\include\\ops\\declarable\\generic\\broadcastable\\floormod.cpp", "file_complexity": {"file_NLOC": "40", "file_CCN": "5", "file_NToken": "260"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": null, "deleted_lines": "44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78", "method_info": {"method_name": "nd4j::ops::DECLARE_SHAPE_FN", "method_params": "floormod", "method_startline": "44", "method_endline": "78", "method_complexity": {"method_NLOC": "27", "method_CCN": "7", "method_NToken": "216", "method_nesting_level": "2"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "29,30,31,32", "deleted_lines": "29,30,31,32", "method_info": {"method_name": "nd4j::ops::CUSTOM_OP_IMPL", "method_params": "floormod,2,1,true,0,0", "method_startline": "29", "method_endline": "42", "method_complexity": {"method_NLOC": "12", "method_CCN": "3", "method_NToken": "106", "method_nesting_level": "2"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "29,30,31,32", "deleted_lines": "29,30,31,32", "method_info": {"method_name": "nd4j::ops::BROADCASTABLE_OP_IMPL", "method_params": "floormod,0,0", "method_startline": "29", "method_endline": "42", "method_complexity": {"method_NLOC": "12", "method_CCN": "3", "method_NToken": "88", "method_nesting_level": "2"}}}}}, "file_7": {"file_change_type": "MODIFY", "file_Nmethod": 3, "file_old_name": "libnd4j\\include\\ops\\declarable\\generic\\broadcastable\\greater.cpp", "file_new_name": "libnd4j\\include\\ops\\declarable\\generic\\broadcastable\\greater.cpp", "file_complexity": {"file_NLOC": "18", "file_CCN": "3", "file_NToken": "114"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": null, "deleted_lines": "41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75", "method_info": {"method_name": "nd4j::ops::DECLARE_SHAPE_FN", "method_params": "greater", "method_startline": "41", "method_endline": "75", "method_complexity": {"method_NLOC": "27", "method_CCN": "7", "method_NToken": "216", "method_nesting_level": "2"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "26", "deleted_lines": "26", "method_info": {"method_name": "nd4j::ops::CUSTOM_OP_IMPL", "method_params": "greater,2,1,true,0,0", "method_startline": "26", "method_endline": "39", "method_complexity": {"method_NLOC": "12", "method_CCN": "3", "method_NToken": "108", "method_nesting_level": "2"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "26", "deleted_lines": "26", "method_info": {"method_name": "nd4j::ops::BROADCASTABLE_OP_IMPL", "method_params": "greater,0,0", "method_startline": "26", "method_endline": "39", "method_complexity": {"method_NLOC": "12", "method_CCN": "3", "method_NToken": "102", "method_nesting_level": "2"}}}}}, "file_8": {"file_change_type": "MODIFY", "file_Nmethod": 3, "file_old_name": "libnd4j\\include\\ops\\declarable\\generic\\broadcastable\\greater_equal.cpp", "file_new_name": "libnd4j\\include\\ops\\declarable\\generic\\broadcastable\\greater_equal.cpp", "file_complexity": {"file_NLOC": "17", "file_CCN": "3", "file_NToken": "112"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "25", "deleted_lines": "25", "method_info": {"method_name": "nd4j::ops::CUSTOM_OP_IMPL", "method_params": "greater_equal,2,1,true,0,0", "method_startline": "25", "method_endline": "38", "method_complexity": {"method_NLOC": "12", "method_CCN": "3", "method_NToken": "108", "method_nesting_level": "2"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "25", "deleted_lines": "25", "method_info": {"method_name": "nd4j::ops::BROADCASTABLE_OP_IMPL", "method_params": "greater_equal,0,0", "method_startline": "25", "method_endline": "38", "method_complexity": {"method_NLOC": "12", "method_CCN": "3", "method_NToken": "102", "method_nesting_level": "2"}}}, "hunk_2": {"Ismethod": 1, "added_lines": null, "deleted_lines": "41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75", "method_info": {"method_name": "nd4j::ops::DECLARE_SHAPE_FN", "method_params": "greater_equal", "method_startline": "41", "method_endline": "75", "method_complexity": {"method_NLOC": "27", "method_CCN": "7", "method_NToken": "216", "method_nesting_level": "2"}}}}}, "file_9": {"file_change_type": "MODIFY", "file_Nmethod": 3, "file_old_name": "libnd4j\\include\\ops\\declarable\\generic\\broadcastable\\less.cpp", "file_new_name": "libnd4j\\include\\ops\\declarable\\generic\\broadcastable\\less.cpp", "file_complexity": {"file_NLOC": "17", "file_CCN": "3", "file_NToken": "112"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "25", "deleted_lines": "25", "method_info": {"method_name": "nd4j::ops::CUSTOM_OP_IMPL", "method_params": "less,2,1,true,0,0", "method_startline": "25", "method_endline": "38", "method_complexity": {"method_NLOC": "12", "method_CCN": "3", "method_NToken": "108", "method_nesting_level": "2"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "25", "deleted_lines": "25", "method_info": {"method_name": "nd4j::ops::BROADCASTABLE_OP_IMPL", "method_params": "less,0,0", "method_startline": "25", "method_endline": "38", "method_complexity": {"method_NLOC": "12", "method_CCN": "3", "method_NToken": "102", "method_nesting_level": "2"}}}, "hunk_2": {"Ismethod": 1, "added_lines": null, "deleted_lines": "40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74", "method_info": {"method_name": "nd4j::ops::DECLARE_SHAPE_FN", "method_params": "less", "method_startline": "40", "method_endline": "74", "method_complexity": {"method_NLOC": "27", "method_CCN": "7", "method_NToken": "216", "method_nesting_level": "2"}}}}}, "file_10": {"file_change_type": "MODIFY", "file_Nmethod": 3, "file_old_name": "libnd4j\\include\\ops\\declarable\\generic\\broadcastable\\less_equal.cpp", "file_new_name": "libnd4j\\include\\ops\\declarable\\generic\\broadcastable\\less_equal.cpp", "file_complexity": {"file_NLOC": "17", "file_CCN": "3", "file_NToken": "112"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "25", "deleted_lines": "25", "method_info": {"method_name": "nd4j::ops::CUSTOM_OP_IMPL", "method_params": "less_equal,2,1,true,0,0", "method_startline": "25", "method_endline": "38", "method_complexity": {"method_NLOC": "12", "method_CCN": "3", "method_NToken": "108", "method_nesting_level": "2"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "25", "deleted_lines": "25", "method_info": {"method_name": "nd4j::ops::BROADCASTABLE_OP_IMPL", "method_params": "less_equal,0,0", "method_startline": "25", "method_endline": "38", "method_complexity": {"method_NLOC": "12", "method_CCN": "3", "method_NToken": "102", "method_nesting_level": "2"}}}, "hunk_2": {"Ismethod": 1, "added_lines": null, "deleted_lines": "40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74", "method_info": {"method_name": "nd4j::ops::DECLARE_SHAPE_FN", "method_params": "less_equal", "method_startline": "40", "method_endline": "74", "method_complexity": {"method_NLOC": "27", "method_CCN": "7", "method_NToken": "216", "method_nesting_level": "2"}}}}}, "file_11": {"file_change_type": "MODIFY", "file_Nmethod": 3, "file_old_name": "libnd4j\\include\\ops\\declarable\\generic\\broadcastable\\maximum.cpp", "file_new_name": "libnd4j\\include\\ops\\declarable\\generic\\broadcastable\\maximum.cpp", "file_complexity": {"file_NLOC": "80", "file_CCN": "13", "file_NToken": "640"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "29", "deleted_lines": "29", "method_info": {"method_name": "nd4j::ops::CUSTOM_OP_IMPL", "method_params": "maximum,2,1,true,0,0", "method_startline": "29", "method_endline": "43", "method_complexity": {"method_NLOC": "12", "method_CCN": "3", "method_NToken": "92", "method_nesting_level": "2"}}}, "hunk_1": {"Ismethod": 1, "added_lines": null, "deleted_lines": "45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79", "method_info": {"method_name": "nd4j::ops::DECLARE_SHAPE_FN", "method_params": "maximum", "method_startline": "45", "method_endline": "79", "method_complexity": {"method_NLOC": "27", "method_CCN": "7", "method_NToken": "216", "method_nesting_level": "2"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "29", "deleted_lines": "29", "method_info": {"method_name": "nd4j::ops::BROADCASTABLE_OP_IMPL", "method_params": "maximum,0,0", "method_startline": "29", "method_endline": "43", "method_complexity": {"method_NLOC": "12", "method_CCN": "3", "method_NToken": "86", "method_nesting_level": "2"}}}}}, "file_12": {"file_change_type": "MODIFY", "file_Nmethod": 3, "file_old_name": "libnd4j\\include\\ops\\declarable\\generic\\broadcastable\\minimum.cpp", "file_new_name": "libnd4j\\include\\ops\\declarable\\generic\\broadcastable\\minimum.cpp", "file_complexity": {"file_NLOC": "80", "file_CCN": "13", "file_NToken": "640"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "29", "deleted_lines": "29", "method_info": {"method_name": "nd4j::ops::CUSTOM_OP_IMPL", "method_params": "minimum,2,1,true,0,0", "method_startline": "29", "method_endline": "43", "method_complexity": {"method_NLOC": "12", "method_CCN": "3", "method_NToken": "92", "method_nesting_level": "2"}}}, "hunk_1": {"Ismethod": 1, "added_lines": null, "deleted_lines": "45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79", "method_info": {"method_name": "nd4j::ops::DECLARE_SHAPE_FN", "method_params": "minimum", "method_startline": "45", "method_endline": "79", "method_complexity": {"method_NLOC": "27", "method_CCN": "7", "method_NToken": "216", "method_nesting_level": "2"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "29", "deleted_lines": "29", "method_info": {"method_name": "nd4j::ops::BROADCASTABLE_OP_IMPL", "method_params": "minimum,0,0", "method_startline": "29", "method_endline": "43", "method_complexity": {"method_NLOC": "12", "method_CCN": "3", "method_NToken": "86", "method_nesting_level": "2"}}}}}, "file_13": {"file_change_type": "MODIFY", "file_Nmethod": 3, "file_old_name": "libnd4j\\include\\ops\\declarable\\generic\\broadcastable\\mod.cpp", "file_new_name": "libnd4j\\include\\ops\\declarable\\generic\\broadcastable\\mod.cpp", "file_complexity": {"file_NLOC": "40", "file_CCN": "5", "file_NToken": "272"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": null, "deleted_lines": "44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78", "method_info": {"method_name": "nd4j::ops::DECLARE_SHAPE_FN", "method_params": "mod", "method_startline": "44", "method_endline": "78", "method_complexity": {"method_NLOC": "27", "method_CCN": "7", "method_NToken": "216", "method_nesting_level": "2"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "29", "deleted_lines": "29", "method_info": {"method_name": "nd4j::ops::BROADCASTABLE_OP_IMPL", "method_params": "mod,0,0", "method_startline": "29", "method_endline": "42", "method_complexity": {"method_NLOC": "12", "method_CCN": "3", "method_NToken": "100", "method_nesting_level": "2"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "29", "deleted_lines": "29", "method_info": {"method_name": "nd4j::ops::CUSTOM_OP_IMPL", "method_params": "mod,2,1,true,0,0", "method_startline": "29", "method_endline": "42", "method_complexity": {"method_NLOC": "12", "method_CCN": "3", "method_NToken": "106", "method_nesting_level": "2"}}}}}, "file_14": {"file_change_type": "MODIFY", "file_Nmethod": 3, "file_old_name": "libnd4j\\include\\ops\\declarable\\generic\\broadcastable\\multiply.cpp", "file_new_name": "libnd4j\\include\\ops\\declarable\\generic\\broadcastable\\multiply.cpp", "file_complexity": {"file_NLOC": "82", "file_CCN": "10", "file_NToken": "1071"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "30,31,32,33,35,36,37,38,40,41,42,43,44,45", "deleted_lines": "30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45", "method_info": {"method_name": "nd4j::ops::BROADCASTABLE_OP_IMPL", "method_params": "multiply,0,0", "method_startline": "30", "method_endline": "45", "method_complexity": {"method_NLOC": "11", "method_CCN": "1", "method_NToken": "149", "method_nesting_level": "2"}}}, "hunk_1": {"Ismethod": 1, "added_lines": null, "deleted_lines": "50,51,52,53,54,55,56,57,59,60", "method_info": {"method_name": "nd4j::ops::DECLARE_SHAPE_FN", "method_params": "multiply", "method_startline": "50", "method_endline": "60", "method_complexity": {"method_NLOC": "8", "method_CCN": "1", "method_NToken": "103", "method_nesting_level": "2"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "30,31,32,33,35,36,37,38,40,41,42,43,44,45,46", "deleted_lines": "30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46", "method_info": {"method_name": "nd4j::ops::CUSTOM_OP_IMPL", "method_params": "multiply,2,1,true,0,0", "method_startline": "30", "method_endline": "46", "method_complexity": {"method_NLOC": "11", "method_CCN": "1", "method_NToken": "167", "method_nesting_level": "2"}}}}}, "file_15": {"file_change_type": "MODIFY", "file_Nmethod": 3, "file_old_name": "libnd4j\\include\\ops\\declarable\\generic\\broadcastable\\not_equals.cpp", "file_new_name": "libnd4j\\include\\ops\\declarable\\generic\\broadcastable\\not_equals.cpp", "file_complexity": {"file_NLOC": "17", "file_CCN": "3", "file_NToken": "100"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "25,26,27,28", "deleted_lines": "25,26,27,28", "method_info": {"method_name": "nd4j::ops::BROADCASTABLE_OP_IMPL", "method_params": "not_equals,0,0", "method_startline": "25", "method_endline": "38", "method_complexity": {"method_NLOC": "12", "method_CCN": "3", "method_NToken": "90", "method_nesting_level": "2"}}}, "hunk_1": {"Ismethod": 1, "added_lines": null, "deleted_lines": "40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74", "method_info": {"method_name": "nd4j::ops::DECLARE_SHAPE_FN", "method_params": "not_equals", "method_startline": "40", "method_endline": "74", "method_complexity": {"method_NLOC": "27", "method_CCN": "7", "method_NToken": "216", "method_nesting_level": "2"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "25,26,27,28", "deleted_lines": "25,26,27,28", "method_info": {"method_name": "nd4j::ops::CUSTOM_OP_IMPL", "method_params": "not_equals,2,1,true,0,0", "method_startline": "25", "method_endline": "38", "method_complexity": {"method_NLOC": "12", "method_CCN": "3", "method_NToken": "108", "method_nesting_level": "2"}}}}}, "file_16": {"file_change_type": "MODIFY", "file_Nmethod": 3, "file_old_name": "libnd4j\\include\\ops\\declarable\\generic\\broadcastable\\realdiv.cpp", "file_new_name": "libnd4j\\include\\ops\\declarable\\generic\\broadcastable\\realdiv.cpp", "file_complexity": {"file_NLOC": "77", "file_CCN": "9", "file_NToken": "623"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": null, "deleted_lines": "46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80", "method_info": {"method_name": "nd4j::ops::DECLARE_SHAPE_FN", "method_params": "realdiv", "method_startline": "46", "method_endline": "80", "method_complexity": {"method_NLOC": "27", "method_CCN": "7", "method_NToken": "216", "method_nesting_level": "2"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "29,30,31,32", "deleted_lines": "29,30,31,32,33", "method_info": {"method_name": "nd4j::ops::BROADCASTABLE_OP_IMPL", "method_params": "realdiv,0,0", "method_startline": "29", "method_endline": "42", "method_complexity": {"method_NLOC": "12", "method_CCN": "3", "method_NToken": "88", "method_nesting_level": "2"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "29,30,31,32", "deleted_lines": "29,30,31,32,33", "method_info": {"method_name": "nd4j::ops::CUSTOM_OP_IMPL", "method_params": "realdiv,2,1,true,0,0", "method_startline": "29", "method_endline": "43", "method_complexity": {"method_NLOC": "12", "method_CCN": "3", "method_NToken": "106", "method_nesting_level": "2"}}}}}, "file_17": {"file_change_type": "MODIFY", "file_Nmethod": 3, "file_old_name": "libnd4j\\include\\ops\\declarable\\generic\\broadcastable\\reverse_divide.cpp", "file_new_name": "libnd4j\\include\\ops\\declarable\\generic\\broadcastable\\reverse_divide.cpp", "file_complexity": {"file_NLOC": "77", "file_CCN": "9", "file_NToken": "631"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": null, "deleted_lines": "45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79", "method_info": {"method_name": "nd4j::ops::DECLARE_SHAPE_FN", "method_params": "reversedivide", "method_startline": "45", "method_endline": "79", "method_complexity": {"method_NLOC": "27", "method_CCN": "7", "method_NToken": "216", "method_nesting_level": "2"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "29,30,31,32", "deleted_lines": "29,30,31,32", "method_info": {"method_name": "nd4j::ops::CUSTOM_OP_IMPL", "method_params": "reversedivide,2,1,true,0,0", "method_startline": "29", "method_endline": "42", "method_complexity": {"method_NLOC": "12", "method_CCN": "3", "method_NToken": "106", "method_nesting_level": "2"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "29,30,31,32", "deleted_lines": "29,30,31,32", "method_info": {"method_name": "nd4j::ops::BROADCASTABLE_OP_IMPL", "method_params": "reversedivide,0,0", "method_startline": "29", "method_endline": "42", "method_complexity": {"method_NLOC": "12", "method_CCN": "3", "method_NToken": "88", "method_nesting_level": "2"}}}}}, "file_18": {"file_change_type": "MODIFY", "file_Nmethod": 3, "file_old_name": "libnd4j\\include\\ops\\declarable\\generic\\broadcastable\\reverse_mod.cpp", "file_new_name": "libnd4j\\include\\ops\\declarable\\generic\\broadcastable\\reverse_mod.cpp", "file_complexity": {"file_NLOC": "40", "file_CCN": "5", "file_NToken": "260"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "29,30,31,32", "deleted_lines": "29,30,31,32", "method_info": {"method_name": "nd4j::ops::BROADCASTABLE_OP_IMPL", "method_params": "reversemod,0,0", "method_startline": "29", "method_endline": "42", "method_complexity": {"method_NLOC": "12", "method_CCN": "3", "method_NToken": "88", "method_nesting_level": "2"}}}, "hunk_1": {"Ismethod": 1, "added_lines": null, "deleted_lines": "44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78", "method_info": {"method_name": "nd4j::ops::DECLARE_SHAPE_FN", "method_params": "reversemod", "method_startline": "44", "method_endline": "78", "method_complexity": {"method_NLOC": "27", "method_CCN": "7", "method_NToken": "216", "method_nesting_level": "2"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "29,30,31,32", "deleted_lines": "29,30,31,32", "method_info": {"method_name": "nd4j::ops::CUSTOM_OP_IMPL", "method_params": "reversemod,2,1,true,0,0", "method_startline": "29", "method_endline": "42", "method_complexity": {"method_NLOC": "12", "method_CCN": "3", "method_NToken": "106", "method_nesting_level": "2"}}}}}, "file_19": {"file_change_type": "MODIFY", "file_Nmethod": 3, "file_old_name": "libnd4j\\include\\ops\\declarable\\generic\\broadcastable\\reverse_subtract.cpp", "file_new_name": "libnd4j\\include\\ops\\declarable\\generic\\broadcastable\\reverse_subtract.cpp", "file_complexity": {"file_NLOC": "64", "file_CCN": "9", "file_NToken": "516"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": null, "deleted_lines": "45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79", "method_info": {"method_name": "nd4j::ops::DECLARE_SHAPE_FN", "method_params": "reversesubtract", "method_startline": "45", "method_endline": "79", "method_complexity": {"method_NLOC": "27", "method_CCN": "7", "method_NToken": "216", "method_nesting_level": "2"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "29", "deleted_lines": "29", "method_info": {"method_name": "nd4j::ops::BROADCASTABLE_OP_IMPL", "method_params": "reversesubtract,0,0", "method_startline": "29", "method_endline": "42", "method_complexity": {"method_NLOC": "12", "method_CCN": "3", "method_NToken": "100", "method_nesting_level": "2"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "29", "deleted_lines": "29", "method_info": {"method_name": "nd4j::ops::CUSTOM_OP_IMPL", "method_params": "reversesubtract,2,1,true,0,0", "method_startline": "29", "method_endline": "42", "method_complexity": {"method_NLOC": "12", "method_CCN": "3", "method_NToken": "106", "method_nesting_level": "2"}}}}}, "file_20": {"file_change_type": "MODIFY", "file_Nmethod": 3, "file_old_name": "libnd4j\\include\\ops\\declarable\\generic\\broadcastable\\squared_subtract.cpp", "file_new_name": "libnd4j\\include\\ops\\declarable\\generic\\broadcastable\\squared_subtract.cpp", "file_complexity": {"file_NLOC": "81", "file_CCN": "9", "file_NToken": "657"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "29", "deleted_lines": "29", "method_info": {"method_name": "nd4j::ops::CUSTOM_OP_IMPL", "method_params": "squaredsubtract,2,1,true,0,0", "method_startline": "29", "method_endline": "43", "method_complexity": {"method_NLOC": "12", "method_CCN": "3", "method_NToken": "104", "method_nesting_level": "2"}}}, "hunk_1": {"Ismethod": 1, "added_lines": null, "deleted_lines": "46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80", "method_info": {"method_name": "nd4j::ops::DECLARE_SHAPE_FN", "method_params": "squaredsubtract", "method_startline": "46", "method_endline": "80", "method_complexity": {"method_NLOC": "27", "method_CCN": "7", "method_NToken": "216", "method_nesting_level": "2"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "29", "deleted_lines": "29", "method_info": {"method_name": "nd4j::ops::BROADCASTABLE_OP_IMPL", "method_params": "squaredsubtract,0,0", "method_startline": "29", "method_endline": "43", "method_complexity": {"method_NLOC": "12", "method_CCN": "3", "method_NToken": "98", "method_nesting_level": "2"}}}}}, "file_21": {"file_change_type": "MODIFY", "file_Nmethod": 3, "file_old_name": "libnd4j\\include\\ops\\declarable\\generic\\broadcastable\\subtract.cpp", "file_new_name": "libnd4j\\include\\ops\\declarable\\generic\\broadcastable\\subtract.cpp", "file_complexity": {"file_NLOC": "64", "file_CCN": "9", "file_NToken": "507"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "29", "deleted_lines": "29", "method_info": {"method_name": "nd4j::ops::CUSTOM_OP_IMPL", "method_params": "subtract,2,1,true,0,0", "method_startline": "29", "method_endline": "42", "method_complexity": {"method_NLOC": "12", "method_CCN": "3", "method_NToken": "104", "method_nesting_level": "2"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "29", "deleted_lines": "29", "method_info": {"method_name": "nd4j::ops::BROADCASTABLE_OP_IMPL", "method_params": "subtract,0,0", "method_startline": "29", "method_endline": "42", "method_complexity": {"method_NLOC": "12", "method_CCN": "3", "method_NToken": "98", "method_nesting_level": "2"}}}, "hunk_2": {"Ismethod": 1, "added_lines": null, "deleted_lines": "47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80", "method_info": {"method_name": "nd4j::ops::DECLARE_SHAPE_FN", "method_params": "subtract", "method_startline": "47", "method_endline": "80", "method_complexity": {"method_NLOC": "27", "method_CCN": "7", "method_NToken": "216", "method_nesting_level": "2"}}}}}, "file_22": {"file_change_type": "MODIFY", "file_Nmethod": 3, "file_old_name": "libnd4j\\include\\ops\\declarable\\generic\\broadcastable\\truncatediv.cpp", "file_new_name": "libnd4j\\include\\ops\\declarable\\generic\\broadcastable\\truncatediv.cpp", "file_complexity": {"file_NLOC": "18", "file_CCN": "3", "file_NToken": "98"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "26,27,28,29", "deleted_lines": "26,27,28,29", "method_info": {"method_name": "nd4j::ops::CUSTOM_OP_IMPL", "method_params": "truncatediv,2,1,true,0,0", "method_startline": "26", "method_endline": "39", "method_complexity": {"method_NLOC": "12", "method_CCN": "3", "method_NToken": "104", "method_nesting_level": "2"}}}, "hunk_1": {"Ismethod": 1, "added_lines": null, "deleted_lines": "41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75", "method_info": {"method_name": "nd4j::ops::DECLARE_SHAPE_FN", "method_params": "truncatediv", "method_startline": "41", "method_endline": "75", "method_complexity": {"method_NLOC": "27", "method_CCN": "7", "method_NToken": "216", "method_nesting_level": "2"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "26,27,28,29", "deleted_lines": "26,27,28,29", "method_info": {"method_name": "nd4j::ops::BROADCASTABLE_OP_IMPL", "method_params": "truncatediv,0,0", "method_startline": "26", "method_endline": "39", "method_complexity": {"method_NLOC": "12", "method_CCN": "3", "method_NToken": "86", "method_nesting_level": "2"}}}}}, "file_23": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "libnd4j\\include\\ops\\declarable\\headers\\broadcastable.h", "file_new_name": "libnd4j\\include\\ops\\declarable\\headers\\broadcastable.h", "file_complexity": {"file_NLOC": "48", "file_CCN": "0", "file_NToken": "485"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "42,56,84,98,112,127,141,155,169,183,188,202,216,226,238,252,260,268,276,284,292", "deleted_lines": "42,56,84,98,112,127,141,155,169,183,188,202,216,226,238,252,260,268,276,284,292"}}}, "file_24": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "libnd4j\\include\\ops\\declarable\\impl\\BroadcastableOp.cpp", "file_new_name": "libnd4j\\include\\ops\\declarable\\impl\\BroadcastableOp.cpp", "file_complexity": {"file_NLOC": "55", "file_CCN": "12", "file_NToken": "417"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "44,45,46,47,48,49,50,51,52,53,54,55,56", "deleted_lines": "44", "method_info": {"method_name": "nd4j::ops::BroadcastableOp<T>::calculateOutputShape", "method_params": "inputShape,block", "method_startline": "39", "method_endline": "85", "method_complexity": {"method_NLOC": "37", "method_CCN": "10", "method_NToken": "310", "method_nesting_level": "2"}}}}}, "file_25": {"file_change_type": "MODIFY", "file_Nmethod": 3, "file_old_name": "libnd4j\\tests_cpu\\layers_tests\\BroadcastableOpsTests.cpp", "file_new_name": "libnd4j\\tests_cpu\\layers_tests\\BroadcastableOpsTests.cpp", "file_complexity": {"file_NLOC": "340", "file_CCN": "31", "file_NToken": "3769"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "507,508,509,510,511,512,513,514,515,516,517,518,519,520,521", "deleted_lines": null, "method_info": {"method_name": "TEST_F.TEST_F", "method_params": "BroadcastableOpsTests,Test_Multiply_7", "method_startline": "507", "method_endline": "521", "method_complexity": {"method_NLOC": "11", "method_CCN": "1", "method_NToken": "127", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "497,498,499,500,501,502,503,504,505", "deleted_lines": null, "method_info": {"method_name": "TEST_F.TEST_F", "method_params": "BroadcastableOpsTests,Test_Multiply_6", "method_startline": "497", "method_endline": "505", "method_complexity": {"method_NLOC": "7", "method_CCN": "1", "method_NToken": "74", "method_nesting_level": "1"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "523,524,525,526,527,528,529,530,531,532,533,534,535,536,537", "deleted_lines": null, "method_info": {"method_name": "TEST_F.TEST_F", "method_params": "BroadcastableOpsTests,Test_Multiply_8", "method_startline": "523", "method_endline": "537", "method_complexity": {"method_NLOC": "11", "method_CCN": "1", "method_NToken": "131", "method_nesting_level": "1"}}}}}}}}