{"BR": {"BR_id": "397", "BR_author": "yj20005237", "BRopenT": "2019-09-17T10:37:41Z", "BRcloseT": "2019-09-28T15:37:52Z", "BR_text": {"BRsummary": "tf.assign does not work with tensor to tensor assignment.", "BRdescription": "\n I want to change value of a variable with some operations\n Here's a simple example.\n <denchmark-code>            W = tf.Variable(-1, name: \"weight_\" + 1, dtype: tf.float32);\n             var init = tf.global_variables_initializer();\n             sess.run(init);\n             var reluEval = tf.nn.relu(W);\n             var nonZero = tf.assign(W, reluEval);\n </denchmark-code>\n \n As in the code above, W is initialized with -1 and after initialization, the 'nonZero' operation is defined shown in the code.\n I expected that after using sess.run(nonZero), W will be changed to 0 because of the relu operation. But in the line of var nonZero = tf.assign(W, reluEval);, I've got an exception message : System.Exception: 'Input 'resource' passed float expected resource while building NodeDef 'AssignVariableOp' using Op<name=AssignVariableOp; signature=resource:resource, value:dtype -> ; attr=dtype:type; is_stateful=true>'\n Does anyone have an idea?\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "yj20005237", "commentT": "2019-09-28T15:37:49Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/yj20005237>@yj20005237</denchmark-link>\n  , this issue has been fixed, will be available for v0.11.5 two weeks later.\n \t\t"}}}, "commit": {"commit_id": "acf189fbfbf64d2a523ca728a1fd6d5895c60f70", "commit_author": "Oceania2018", "commitT": "2019-09-28 10:34:35-05:00", "commit_complexity": {"commit_NLOC": "1.0", "commit_CCN": "1.0", "commit_Nprams": "1.0"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "src\\TensorFlowNET.Core\\APIs\\tf.ops.cs", "file_new_name": "src\\TensorFlowNET.Core\\APIs\\tf.ops.cs", "file_complexity": {"file_NLOC": "26", "file_CCN": "0", "file_NToken": "263"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "32,33,34", "deleted_lines": null}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "test\\TensorFlowNET.UnitTest\\Basics\\AssignTests.cs", "file_new_name": "test\\TensorFlowNET.UnitTest\\Basics\\AssignTests.cs", "file_complexity": {"file_NLOC": "48", "file_CCN": "3", "file_NToken": "351"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "38,39,40,41,42,43,44,45,46,47,48,49,50,51,52", "deleted_lines": null, "method_info": {"method_name": "TensorFlowNET.UnitTest.Basics::AssignTests::Bug397", "method_params": "", "method_startline": "38", "method_endline": "52", "method_complexity": {"method_NLOC": "13", "method_CCN": "1", "method_NToken": "99", "method_nesting_level": "2"}}}}}}}}