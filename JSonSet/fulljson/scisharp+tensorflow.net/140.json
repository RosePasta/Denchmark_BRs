{"BR": {"BR_id": "140", "BR_author": "Oceania2018", "BRopenT": "2019-01-26T13:49:25Z", "BRcloseT": "2019-01-27T16:28:56Z", "BR_text": {"BRsummary": "Attempting to use uninitialized value x", "BRdescription": "\n         [TestMethod]\n         public void Add()\n         {\n             var x = tf.Variable(10, name: \"x\");\n \n             var model = tf.global_variables_initializer();\n \n             using (var session = tf.Session())\n             {\n                 var sm = session.run(model);\n                 for(int i = 0; i < 5; i++)\n                 {\n                     var x1 = x + 1;\n                     var result = session.run(x1);\n                     print(result);\n                 }\n             }\n         }\n The unit test above throws exception:\n Attempting to use uninitialized value x [[{{node x/read}}]]\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "Oceania2018", "commentT": "2019-01-26T14:05:08Z", "comment_text": "\n \t\tCheck the doc <denchmark-link:https://www.tensorflow.org/guide/variables>https://www.tensorflow.org/guide/variables</denchmark-link>\n  \n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "Oceania2018", "commentT": "2019-01-26T14:36:35Z", "comment_text": "\n \t\tI've added another test VariableTest, it works. continue to investigate.\n         public void Initializer()\n         {\n             var x = tf.Variable(10, name: \"x\");\n             \n             using (var session = tf.Session())\n             {\n                 session.run(x.initializer);\n                 var result = session.run(x);\n                 Assert.AreEqual(10, (int)result);\n             }\n         }\n \t\t"}, "comments_2": {"comment_id": 3, "comment_author": "Oceania2018", "commentT": "2019-01-26T16:20:02Z", "comment_text": "\n \t\tThe Add is passing a Tensor, Initializer is passing a RefVariable.\n \t\t"}, "comments_3": {"comment_id": 4, "comment_author": "Oceania2018", "commentT": "2019-01-26T16:29:19Z", "comment_text": "\n \t\tWhen I add , the  got the expected value, so there must be  and  didn't initialize the variable.\n <denchmark-link:https://user-images.githubusercontent.com/1705364/51789990-0fa63b80-2155-11e9-983f-82e4e71ac297.png></denchmark-link>\n \n \t\t"}, "comments_4": {"comment_id": 5, "comment_author": "Oceania2018", "commentT": "2019-01-26T16:32:28Z", "comment_text": "\n \t\tOr another assumption is that the model isn't referenced to the right x.initializer.\n The root cause is we didn't do an Assign operation before the variable is used.\n We have to make sure model contains control_inputs.\n <denchmark-link:https://user-images.githubusercontent.com/1705364/51790120-d40c7100-2156-11e9-9e24-e9a37e79e763.png></denchmark-link>\n \n \t\t"}, "comments_5": {"comment_id": 6, "comment_author": "Oceania2018", "commentT": "2019-01-26T16:46:54Z", "comment_text": "\n \t\tCreate a new issue <denchmark-link:https://github.com/SciSharp/TensorFlow.NET/issues/141>#141</denchmark-link>\n  to do .\n \t\t"}}}, "commit": {"commit_id": "c56e2c89a3da2705426707ec8a2dbab378542ba1", "commit_author": "Oceania2018", "commitT": "2019-01-27 10:49:54-06:00", "commit_complexity": {"commit_NLOC": "0.0", "commit_CCN": "1.0", "commit_Nprams": "1.0"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "src\\TensorFlowNET.Core\\Operations\\Operation.cs", "file_new_name": "src\\TensorFlowNET.Core\\Operations\\Operation.cs", "file_complexity": {"file_NLOC": "136", "file_CCN": "24", "file_NToken": "804"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": null, "deleted_lines": "102", "method_info": {"method_name": "Tensorflow::Operation::Operation", "method_params": "node_def,g,inputs,output_types,control_inputs,input_types,original_op,op_def", "method_startline": "71", "method_endline": "114", "method_complexity": {"method_NLOC": "32", "method_CCN": "7", "method_NToken": "245", "method_nesting_level": "2"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "41,42,43,44", "deleted_lines": null, "method_info": {"method_name": "Tensorflow::Operation::Operation", "method_params": "handle", "method_startline": "35", "method_endline": "45", "method_complexity": {"method_NLOC": "9", "method_CCN": "3", "method_NToken": "61", "method_nesting_level": "2"}}}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "src\\TensorFlowNET.Core\\Tensors\\Tensor.Implicit.cs", "file_new_name": "src\\TensorFlowNET.Core\\Tensors\\Tensor.Implicit.cs", "file_complexity": {"file_NLOC": "29", "file_CCN": "5", "file_NToken": "122"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "19,20,21,22", "deleted_lines": null, "method_info": {"method_name": "Tensorflow::Tensor::operator int", "method_params": "tensor", "method_startline": "19", "method_endline": "22", "method_complexity": {"method_NLOC": "4", "method_CCN": "1", "method_NToken": "21", "method_nesting_level": "2"}}}}}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "src\\TensorFlowNET.Core\\Variables\\RefVariable.Implicit.cs", "file_new_name": "src\\TensorFlowNET.Core\\Variables\\RefVariable.Implicit.cs", "file_complexity": {"file_NLOC": "25", "file_CCN": "4", "file_NToken": "86"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": null, "deleted_lines": "26,27,28,29,30,31", "method_info": {"method_name": "Tensorflow::RefVariable::operator RefVariable", "method_params": "var", "method_startline": "24", "method_endline": "33", "method_complexity": {"method_NLOC": "9", "method_CCN": "2", "method_NToken": "42", "method_nesting_level": "2"}}}}}, "file_3": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "test\\TensorFlowNET.UnitTest\\VariableTest.cs", "file_new_name": "test\\TensorFlowNET.UnitTest\\VariableTest.cs", "file_complexity": {"file_NLOC": "54", "file_CCN": "5", "file_NToken": "286"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "46,47,56,60,61", "deleted_lines": "46,55", "method_info": {"method_name": "TensorFlowNET.UnitTest::VariableTest::Add", "method_params": "", "method_startline": "44", "method_endline": "62", "method_complexity": {"method_NLOC": "17", "method_CCN": "2", "method_NToken": "98", "method_nesting_level": "2"}}}}}}}}