{"BR": {"BR_id": "303", "BR_author": "moloneymb", "BRopenT": "2019-07-23T12:04:26Z", "BRcloseT": "2019-07-24T15:30:28Z", "BR_text": {"BRsummary": "tf.gradients producing unexpected results", "BRdescription": "\n It appears that the tf.gradients function has a bug in it.\n For the example x^3 * 0.1 should be 3x^2 * 0.1 but it appears to be x^2 * 0.1.\n In TF.Net\n <denchmark-code>let x = tf.constant(7.0)\n let y = x*x*x*tf.constant(0.1)\n sess.run(tf.gradients(y,x)).[0].Data<double>()\n //[|4.9|]\n </denchmark-code>\n \n In Python\n <denchmark-code>x = tf.constant(7.0)\n y = x*x*x*tf.constant(0.1)\n sess.run(tf.gradients(y,x))\n #[14.7]\n </denchmark-code>\n \n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "moloneymb", "commentT": "2019-07-24T00:57:12Z", "comment_text": "\n \t\t<denchmark-link:https://user-images.githubusercontent.com/1705364/61756937-06a0ca80-ad84-11e9-85fb-71cad04500f5.png></denchmark-link>\n \n \t\t"}}}, "commit": {"commit_id": "99bd08b1da3f8ea34d15e46c8329d9c967625009", "commit_author": "Oceania2018", "commitT": "2019-07-23 23:01:18-05:00", "commit_complexity": {"commit_NLOC": "1.0", "commit_CCN": "1.0", "commit_Nprams": "1.0"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "src\\TensorFlowHub\\TensorFlowHub.csproj", "file_new_name": "src\\TensorFlowHub\\TensorFlowHub.csproj", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "1,11", "deleted_lines": "1,11"}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 3, "file_old_name": "src\\TensorFlowNET.Core\\Gradients\\gradients_util.cs", "file_new_name": "src\\TensorFlowNET.Core\\Gradients\\gradients_util.cs", "file_complexity": {"file_NLOC": "373", "file_CCN": "72", "file_NToken": "2720"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "140,149", "deleted_lines": "140,149", "method_info": {"method_name": "Tensorflow::gradients_util::_GradientsHelper", "method_params": "ys,xs,grad_ys,name,colocate_gradients_with_ops,gate_gradients,aggregation_method,stop_gradients,src_graph", "method_startline": "26", "method_endline": "188", "method_complexity": {"method_NLOC": "112", "method_CCN": "21", "method_NToken": "831", "method_nesting_level": "2"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "364,372,375", "deleted_lines": "365,373,376", "method_info": {"method_name": "Tensorflow::gradients_util::_MultiDeviceAddN", "method_params": "tensor_list,gradient_uid", "method_startline": "359", "method_endline": "383", "method_complexity": {"method_NLOC": "18", "method_CCN": "2", "method_NToken": "152", "method_nesting_level": "2"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "313,336,341,346,350", "deleted_lines": "313,316,337,342,347,351", "method_info": {"method_name": "Tensorflow::gradients_util::_AggregatedGrads", "method_params": "grads,op,gradient_uid,loop_state,aggregation_method", "method_startline": "313", "method_endline": "351", "method_complexity": {"method_NLOC": "33", "method_CCN": "5", "method_NToken": "162", "method_nesting_level": "2"}}}}}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "test\\TensorFlowNET.Examples\\ImageProcessing\\DigitRecognitionRNN.cs", "file_new_name": "test\\TensorFlowNET.Examples\\ImageProcessing\\DigitRecognitionRNN.cs", "file_complexity": {"file_NLOC": "108", "file_CCN": "7", "file_NToken": "818"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "31", "deleted_lines": "31"}}}, "file_3": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "test\\TensorFlowNET.UnitTest\\GradientTest.cs", "file_new_name": "test\\TensorFlowNET.UnitTest\\GradientTest.cs", "file_complexity": {"file_NLOC": "85", "file_CCN": "4", "file_NToken": "750"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "49,50,51,52,53,54,55,56,57,58,59,60,61,62", "deleted_lines": null, "method_info": {"method_name": "TensorFlowNET.UnitTest::GradientTest::Gradient3x", "method_params": "", "method_startline": "49", "method_endline": "62", "method_complexity": {"method_NLOC": "12", "method_CCN": "1", "method_NToken": "113", "method_nesting_level": "2"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "33,34,35,36,37,38,39,40,41,42,43,44,45,46", "deleted_lines": null, "method_info": {"method_name": "TensorFlowNET.UnitTest::GradientTest::Gradient2x", "method_params": "", "method_startline": "33", "method_endline": "46", "method_complexity": {"method_NLOC": "12", "method_CCN": "1", "method_NToken": "111", "method_nesting_level": "2"}}}}}}}}