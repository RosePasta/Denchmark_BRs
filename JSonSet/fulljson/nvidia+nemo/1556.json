{"BR": {"BR_id": "1556", "BR_author": "ctlaltdefeat", "BRopenT": "2020-12-14T16:26:23Z", "BRcloseT": "2020-12-14T19:50:37Z", "BR_text": {"BRsummary": "Tacotron2 bug when batch dimension is 1", "BRdescription": "\n Describe the bug\n Training (or just passing input with ground-truth spectrogram) Tacotron2 with a batch dimension of 1 does not work due to a dimension problem when aggregating the gate outputs.\n The line here\n \n \n \n NeMo/nemo/collections/tts/modules/tacotron2.py\n \n \n          Line 256\n       in\n       d01b7bb\n \n \n \n \n \n \n  gate_outputs = torch.stack(gate_outputs).squeeze(-1).transpose(0, 1) \n \n \n \n \n \n should have unsqueeze instead of squeeze when the batch dimension is 1.\n (I didn't want to submit a pull request as I'm not familiar with the conventions of the project)\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "ctlaltdefeat", "commentT": "2020-12-14T19:50:55Z", "comment_text": "\n \t\tThanks for catching this bug. It should be fixed now\n \t\t"}}}, "commit": {"commit_id": "9da1d27ddd7f1d5d9b6cd75f7308787976680dd8", "commit_author": "Jason", "commitT": "2020-12-14 14:50:36-05:00", "commit_complexity": {"commit_NLOC": "None", "commit_CCN": "None", "commit_Nprams": "None"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "nemo\\collections\\tts\\modules\\tacotron2.py", "file_new_name": "nemo\\collections\\tts\\modules\\tacotron2.py", "file_complexity": {"file_NLOC": "325", "file_CCN": "35", "file_NToken": "2497"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "324", "deleted_lines": "324", "method_info": {"method_name": "train_forward", "method_params": "self,memory,decoder_inputs,memory_lengths", "method_startline": "310", "method_endline": "328", "method_complexity": {"method_NLOC": "15", "method_CCN": "2", "method_NToken": "164", "method_nesting_level": "1"}}}}}}}}