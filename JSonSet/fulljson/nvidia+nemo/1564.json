{"BR": {"BR_id": "1564", "BR_author": "danainschool", "BRopenT": "2020-12-15T23:38:35Z", "BRcloseT": "2020-12-16T19:37:15Z", "BR_text": {"BRsummary": "Token_Classification_Named_Entity_Recognition.ipynb specifies specific gpu instead of a single gpu", "BRdescription": "\n Describe the bug\n In the notebook <denchmark-link:https://github.com/NVIDIA/NeMo/blob/main/tutorials/nlp/Token_Classification_Named_Entity_Recognition.ipynb>Token_Classification_Named_Entity_Recognition.ipynb</denchmark-link>\n , the last cell specifies a specific gpu, which happens to be the second gpu, when it most likely was meant to specify a single gpu.  This causes an error if only one gpu is present on the system.\n The error is:\n <denchmark-code>MisconfigurationException: \n                 You requested GPUs: [1]\n                 But your machine only has: [0]\n </denchmark-code>\n \n Steps/Code to reproduce bug\n Set up a single-GPU box with the v1.0.0b3 version of NeMo running in a container\n Upload the <denchmark-link:https://github.com/NVIDIA/NeMo/blob/main/tutorials/nlp/Token_Classification_Named_Entity_Recognition.ipynb>notebook</denchmark-link>\n \n Run all the cells.\n Expected behavior\n no error when running a single GPU\n Proposed fix for the bug\n In the final cell of the <denchmark-link:https://github.com/NVIDIA/NeMo/blob/main/tutorials/nlp/Token_Classification_Named_Entity_Recognition.ipynb>notebook</denchmark-link>\n , we see the following:\n \n I believe the intent was to run on a only one GPU, but instead we are saying GPU No. 1, which is generally the second GPU in a system where the first GPU is GPU No. 0.  We get an error when there is only one GPU.  To run on a single GPU, the line should be:\n \n This is explained in the <denchmark-link:https://pytorch-lightning.readthedocs.io/en/latest/trainer.html#gpus>PyTorch Lighnting gpus documentation</denchmark-link>\n .\n Environment overview (please complete the following information)\n \n Environment location: Docker on AWS V100\n Method of NeMo install: Docker\n If method of install is [Docker], provide docker pull & docker run commands used\n pulled from nvcr.io/nvidian/nemo/nemo:1.0.0b3\n \n \t"}, "comments": {}}, "commit": {"commit_id": "a138f2e038b691ad3573b431fe70d00b13c5d2bd", "commit_author": "Evelina", "commitT": "2020-12-16 11:37:14-08:00", "commit_complexity": {"commit_NLOC": "None", "commit_CCN": "None", "commit_Nprams": "None"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "tutorials\\nlp\\Punctuation_and_Capitalization.ipynb", "file_new_name": "tutorials\\nlp\\Punctuation_and_Capitalization.ipynb", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "49,706", "deleted_lines": "49,706"}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "tutorials\\nlp\\Token_Classification_Named_Entity_Recognition.ipynb", "file_new_name": "tutorials\\nlp\\Token_Classification_Named_Entity_Recognition.ipynb", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "47,824", "deleted_lines": "47,824"}}}}}}