{"BR": {"BR_id": "1554", "BR_author": "avikpal00", "BRopenT": "2020-12-14T13:09:42Z", "BRcloseT": "2020-12-15T17:30:24Z", "BR_text": {"BRsummary": "NLP Tutorial notebooks for Biomegatron-bert", "BRdescription": "\n Describe the bug\n Not able to download and initialize the pretrained biomegatron bert model.\n config.model.language_model.pretrained_model_name = \"biomegatron-bert-345m-cased\"\n Error Line: nemo_nlp.models.TokenClassificationModel(cfg=config.model, trainer=trainer)\n Error: 'OSError: Distant resource does not have an ETag, we won't be able to reliably ensure reproducibility.'\n But, I don't get any error if I replace the pre-trained model to a Megatron model (\"megatron-bert-345m-cased\").\n Since the architecture of both models are same I would only assume there is some sort of error in packaging of the biomegatron model.\n Expected behavior\n The notebook to run without any error.\n Environment overview (please complete the following information)\n \n Environment location: Google Colab\n Tutorial Notebook - https://colab.research.google.com/github/NVIDIA/NeMo/blob/main/tutorials/nlp/Token_Classification-BioMegatron.ipynb\n Changed transformers version from 4.0.0 to 3.5.0. (I downgraded the version as it seems that the notebook was built on an older version of transformers and I kept getting ModuleNotFoundError because of module name changes in the newer version)\n \n Environment details\n \n Python version = 3.6.9\n Transformers version = 3.5.0\n \n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "avikpal00", "commentT": "2020-12-15T16:37:52Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/avikpal00>@avikpal00</denchmark-link>\n  thank you for reporting the issue. PR <denchmark-link:https://github.com/NVIDIA/NeMo/pull/1558>#1558</denchmark-link>\n  should fix it, no need to change the transformers version.\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "avikpal00", "commentT": "2021-01-06T00:10:23Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/ekmb>@ekmb</denchmark-link>\n  I am still getting this error for the tutorial notebook <denchmark-link:https://colab.research.google.com/github/NVIDIA/NeMo/blob/r1.0.0b3/tutorials/nlp/Token_Classification-BioMegatron.ipynb>Token_Classification-BioMegatron.ipynb</denchmark-link>\n  when I try to use \"biomegatron-bert-345m-cased\".\n <denchmark-link:https://user-images.githubusercontent.com/7240751/103713149-9f7fd180-4f89-11eb-9ec5-b4170ab1773a.png></denchmark-link>\n \n \t\t"}}}, "commit": {"commit_id": "9aa4ada92b2e6ddd418704dc392e8576d44e5f41", "commit_author": "Evelina", "commitT": "2020-12-15 09:30:23-08:00", "commit_complexity": {"commit_NLOC": "1.0", "commit_CCN": "0.0", "commit_Nprams": "0.0"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "nemo\\collections\\nlp\\models\\glue_benchmark\\glue_benchmark_model.py", "file_new_name": "nemo\\collections\\nlp\\models\\glue_benchmark\\glue_benchmark_model.py", "file_complexity": {"file_NLOC": "208", "file_CCN": "37", "file_NToken": "1538"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": null, "deleted_lines": "31"}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "nemo\\collections\\nlp\\models\\information_retrieval\\base_ir_model.py", "file_new_name": "nemo\\collections\\nlp\\models\\information_retrieval\\base_ir_model.py", "file_complexity": {"file_NLOC": "138", "file_CCN": "28", "file_NToken": "1172"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": null, "deleted_lines": "26,28"}}}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "nemo\\collections\\nlp\\models\\intent_slot_classification\\intent_slot_classification_model.py", "file_new_name": "nemo\\collections\\nlp\\models\\intent_slot_classification\\intent_slot_classification_model.py", "file_complexity": {"file_NLOC": "404", "file_CCN": "44", "file_NToken": "2731"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": null, "deleted_lines": "34"}}}, "file_3": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "nemo\\collections\\nlp\\models\\question_answering\\qa_model.py", "file_new_name": "nemo\\collections\\nlp\\models\\question_answering\\qa_model.py", "file_complexity": {"file_NLOC": "347", "file_CCN": "38", "file_NToken": "2286"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "17", "deleted_lines": "17,35"}}}, "file_4": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "nemo\\collections\\nlp\\models\\token_classification\\punctuation_capitalization_model.py", "file_new_name": "nemo\\collections\\nlp\\models\\token_classification\\punctuation_capitalization_model.py", "file_complexity": {"file_NLOC": "423", "file_CCN": "49", "file_NToken": "3004"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": null, "deleted_lines": "32,36"}}}, "file_5": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "nemo\\collections\\nlp\\models\\token_classification\\token_classification_model.py", "file_new_name": "nemo\\collections\\nlp\\models\\token_classification\\token_classification_model.py", "file_complexity": {"file_NLOC": "458", "file_CCN": "41", "file_NToken": "3018"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": null, "deleted_lines": "35"}}}, "file_6": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "nemo\\collections\\nlp\\modules\\common\\megatron\\megatron_utils.py", "file_new_name": "nemo\\collections\\nlp\\modules\\common\\megatron\\megatron_utils.py", "file_complexity": {"file_NLOC": "188", "file_CCN": "16", "file_NToken": "821"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "198,199", "deleted_lines": "197,199,200", "method_info": {"method_name": "get_megatron_vocab_file", "method_params": "str", "method_startline": "185", "method_endline": "200", "method_complexity": {"method_NLOC": "15", "method_CCN": "1", "method_NToken": "47", "method_nesting_level": "0"}}}}}, "file_7": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "tutorials\\asr\\01_ASR_with_NeMo.ipynb", "file_new_name": "tutorials\\asr\\01_ASR_with_NeMo.ipynb", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "30", "deleted_lines": "30"}}}, "file_8": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "tutorials\\asr\\02_Online_ASR_Microphone_Demo.ipynb", "file_new_name": "tutorials\\asr\\02_Online_ASR_Microphone_Demo.ipynb", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "29", "deleted_lines": "29"}}}, "file_9": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "tutorials\\asr\\03_Speech_Commands.ipynb", "file_new_name": "tutorials\\asr\\03_Speech_Commands.ipynb", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "54", "deleted_lines": "54"}}}, "file_10": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "tutorials\\asr\\04_Online_Offline_Speech_Commands_Demo.ipynb", "file_new_name": "tutorials\\asr\\04_Online_Offline_Speech_Commands_Demo.ipynb", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "29", "deleted_lines": "29"}}}, "file_11": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "tutorials\\asr\\05_Online_Noise_Augmentation.ipynb", "file_new_name": "tutorials\\asr\\05_Online_Noise_Augmentation.ipynb", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "34", "deleted_lines": "34"}}}, "file_12": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "tutorials\\asr\\06_Voice_Activiy_Detection.ipynb", "file_new_name": "tutorials\\asr\\06_Voice_Activiy_Detection.ipynb", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "30", "deleted_lines": "30"}}}, "file_13": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "tutorials\\asr\\07_Online_Offline_Microphone_VAD_Demo.ipynb", "file_new_name": "tutorials\\asr\\07_Online_Offline_Microphone_VAD_Demo.ipynb", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "29", "deleted_lines": "29"}}}, "file_14": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "tutorials\\asr\\Offline_ASR.ipynb", "file_new_name": "tutorials\\asr\\Offline_ASR.ipynb", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "54", "deleted_lines": "54"}}}, "file_15": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "tutorials\\nlp\\01_Pretrained_Language_Models_for_Downstream_Tasks.ipynb", "file_new_name": "tutorials\\nlp\\01_Pretrained_Language_Models_for_Downstream_Tasks.ipynb", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "29", "deleted_lines": "29"}}}, "file_16": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "tutorials\\nlp\\02_NLP_Tokenizers.ipynb", "file_new_name": "tutorials\\nlp\\02_NLP_Tokenizers.ipynb", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "38", "deleted_lines": "38"}}}, "file_17": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "tutorials\\nlp\\GLUE_Benchmark.ipynb", "file_new_name": "tutorials\\nlp\\GLUE_Benchmark.ipynb", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "47", "deleted_lines": "47"}}}, "file_18": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "tutorials\\nlp\\Neural_Machine_Translation-Text2Sparql.ipynb", "file_new_name": "tutorials\\nlp\\Neural_Machine_Translation-Text2Sparql.ipynb", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "23", "deleted_lines": "23"}}}, "file_19": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "tutorials\\nlp\\Punctuation_and_Capitalization.ipynb", "file_new_name": "tutorials\\nlp\\Punctuation_and_Capitalization.ipynb", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "49", "deleted_lines": "49"}}}, "file_20": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "tutorials\\nlp\\Question_Answering_Squad.ipynb", "file_new_name": "tutorials\\nlp\\Question_Answering_Squad.ipynb", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "49", "deleted_lines": "49"}}}, "file_21": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "tutorials\\nlp\\Relation_Extraction-BioMegatron.ipynb", "file_new_name": "tutorials\\nlp\\Relation_Extraction-BioMegatron.ipynb", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "25", "deleted_lines": "25"}}}, "file_22": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "tutorials\\nlp\\Text_Classification_Sentiment_Analysis.ipynb", "file_new_name": "tutorials\\nlp\\Text_Classification_Sentiment_Analysis.ipynb", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "23", "deleted_lines": "23"}}}, "file_23": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "tutorials\\nlp\\Token_Classification-BioMegatron.ipynb", "file_new_name": "tutorials\\nlp\\Token_Classification-BioMegatron.ipynb", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "21", "deleted_lines": "21"}}}, "file_24": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "tutorials\\nlp\\Token_Classification_Named_Entity_Recognition.ipynb", "file_new_name": "tutorials\\nlp\\Token_Classification_Named_Entity_Recognition.ipynb", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "47", "deleted_lines": "47"}}}, "file_25": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "tutorials\\speaker_recognition\\Speaker_Recognition_Verification.ipynb", "file_new_name": "tutorials\\speaker_recognition\\Speaker_Recognition_Verification.ipynb", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "30", "deleted_lines": "30"}}}, "file_26": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "tutorials\\tts\\1_TTS_inference.ipynb", "file_new_name": "tutorials\\tts\\1_TTS_inference.ipynb", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "63", "deleted_lines": "63"}}}}}}