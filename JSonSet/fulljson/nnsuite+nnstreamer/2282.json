{"BR": {"BR_id": "2282", "BR_author": "ndufresne", "BRopenT": "2020-04-17T14:09:33Z", "BRcloseT": "2020-04-20T04:37:34Z", "BR_text": {"BRsummary": "Do not make important calls inside g_assert()", "BRdescription": "\n Hi there, this is a quick recommendation to improve your code quality. First thing that struck me when I inspected this is code is this type of usage:\n <denchmark-code>g_assert (gst_buffer_map (srcbuf, &src_info, GST_MAP_READ));\n </denchmark-code>\n \n It is common on embedded devices to compile out run-time checks. It's actually a GLib feature. If you construct your code the way you do, the call to gst_buffer_map() will be removed, and your code will crash badly. It is also usually recommended to cleanly handle map failure.\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "ndufresne", "commentT": "2020-04-17T14:09:34Z", "comment_text": "\n \t\t : Thank you for posting issue <denchmark-link:https://github.com/nnstreamer/nnstreamer/issues/2282>#2282</denchmark-link>\n . The person in charge will reply soon.\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "ndufresne", "commentT": "2020-04-18T02:58:17Z", "comment_text": "\n \t\tThank you for pointing it out!\n And I agree that map-errors should be handled property without assert.\n \t\t"}}}, "commit": {"commit_id": "bd3b71b4b03c3bafb461df987677326a7c64c41f", "commit_author": "MyungJoo Ham", "commitT": "2020-04-20 13:37:32+09:00", "commit_complexity": {"commit_NLOC": "0.0", "commit_CCN": "0.23255813953488372", "commit_Nprams": "0.11627906976744186"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "ext\\nnstreamer\\tensor_decoder\\tensordec-boundingbox.c", "file_new_name": "ext\\nnstreamer\\tensor_decoder\\tensordec-boundingbox.c", "file_complexity": {"file_NLOC": "617", "file_CCN": "111", "file_NToken": "3852"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "925,937,938", "deleted_lines": "936", "method_info": {"method_name": "bb_decode", "method_params": "pdata,config,input,outbuf", "method_startline": "916", "method_endline": "1014", "method_complexity": {"method_NLOC": "79", "method_CCN": "7", "method_NToken": "545", "method_nesting_level": "0"}}}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "ext\\nnstreamer\\tensor_decoder\\tensordec-directvideo.c", "file_new_name": "ext\\nnstreamer\\tensor_decoder\\tensordec-directvideo.c", "file_complexity": {"file_NLOC": "139", "file_CCN": "24", "file_NToken": "868"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "153,167,168", "deleted_lines": "166", "method_info": {"method_name": "dv_decode", "method_params": "pdata,config,input,outbuf", "method_startline": "145", "method_endline": "194", "method_complexity": {"method_NLOC": "38", "method_CCN": "7", "method_NToken": "327", "method_nesting_level": "0"}}}}}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "ext\\nnstreamer\\tensor_decoder\\tensordec-imagelabel.c", "file_new_name": "ext\\nnstreamer\\tensor_decoder\\tensordec-imagelabel.c", "file_complexity": {"file_NLOC": "197", "file_CCN": "28", "file_NToken": "1101"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "236,283,284", "deleted_lines": "282", "method_info": {"method_name": "il_decode", "method_params": "pdata,config,input,outbuf", "method_startline": "230", "method_endline": "296", "method_complexity": {"method_NLOC": "52", "method_CCN": "4", "method_NToken": "343", "method_nesting_level": "0"}}}}}, "file_3": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "ext\\nnstreamer\\tensor_decoder\\tensordec-imagesegment.c", "file_new_name": "ext\\nnstreamer\\tensor_decoder\\tensordec-imagesegment.c", "file_complexity": {"file_NLOC": "236", "file_CCN": "43", "file_NToken": "1401"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "317,334,335", "deleted_lines": "333", "method_info": {"method_name": "is_decode", "method_params": "pdata,config,input,outbuf", "method_startline": "310", "method_endline": "353", "method_complexity": {"method_NLOC": "35", "method_CCN": "7", "method_NToken": "246", "method_nesting_level": "0"}}}}}, "file_4": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "ext\\nnstreamer\\tensor_decoder\\tensordec-pose.c", "file_new_name": "ext\\nnstreamer\\tensor_decoder\\tensordec-pose.c", "file_complexity": {"file_NLOC": "384", "file_CCN": "93", "file_NToken": "3081"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "459,471,472", "deleted_lines": "470", "method_info": {"method_name": "pose_decode", "method_params": "pdata,config,input,outbuf", "method_startline": "448", "method_endline": "507", "method_complexity": {"method_NLOC": "55", "method_CCN": "8", "method_NToken": "374", "method_nesting_level": "0"}}}}}, "file_5": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "gst\\nnstreamer\\tensor_aggregator\\tensor_aggregator.c", "file_new_name": "gst\\nnstreamer\\tensor_aggregator\\tensor_aggregator.c", "file_complexity": {"file_NLOC": "513", "file_CCN": "64", "file_NToken": "2786"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "570,578,579,580,581", "deleted_lines": "577,578", "method_info": {"method_name": "gst_tensor_aggregator_concat", "method_params": "self,outbuf,info", "method_startline": "561", "method_endline": "783", "method_complexity": {"method_NLOC": "37", "method_CCN": "4", "method_NToken": "242", "method_nesting_level": "0"}}}}}, "file_6": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "gst\\nnstreamer\\tensor_converter\\tensor_converter.c", "file_new_name": "gst\\nnstreamer\\tensor_converter\\tensor_converter.c", "file_complexity": {"file_NLOC": "1072", "file_CCN": "177", "file_NToken": "5750"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "731,736,737,738,739,780,787,788,789,790", "deleted_lines": "735,736,783,784", "method_info": {"method_name": "gst_tensor_converter_chain", "method_params": "pad,parent,buf", "method_startline": "683", "method_endline": "900", "method_complexity": {"method_NLOC": "154", "method_CCN": "22", "method_NToken": "1002", "method_nesting_level": "0"}}}}}, "file_7": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "gst\\nnstreamer\\tensor_decoder\\tensordec.c", "file_new_name": "gst\\nnstreamer\\tensor_decoder\\tensordec.c", "file_complexity": {"file_NLOC": "523", "file_CCN": "69", "file_NToken": "2870"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "662,682,683", "deleted_lines": "678", "method_info": {"method_name": "gst_tensordec_transform", "method_params": "trans,inbuf,outbuf", "method_startline": "657", "method_endline": "715", "method_complexity": {"method_NLOC": "49", "method_CCN": "6", "method_NToken": "355", "method_nesting_level": "0"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "463,483,484,485", "deleted_lines": "482", "method_info": {"method_name": "gst_tensordec_set_property", "method_params": "object,prop_id,value,pspec", "method_startline": "447", "method_endline": "514", "method_complexity": {"method_NLOC": "56", "method_CCN": "7", "method_NToken": "273", "method_nesting_level": "0"}}}}}, "file_8": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "gst\\nnstreamer\\tensor_filter\\tensor_filter.c", "file_new_name": "gst\\nnstreamer\\tensor_filter\\tensor_filter.c", "file_complexity": {"file_NLOC": "530", "file_CCN": "72", "file_NToken": "3309"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "378,380,381,382,394,402,403", "deleted_lines": "379,398", "method_info": {"method_name": "gst_tensor_filter_transform", "method_params": "trans,inbuf,outbuf", "method_startline": "336", "method_endline": "472", "method_complexity": {"method_NLOC": "102", "method_CCN": "19", "method_NToken": "803", "method_nesting_level": "0"}}}}}, "file_9": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "gst\\nnstreamer\\tensor_merge\\gsttensormerge.c", "file_new_name": "gst\\nnstreamer\\tensor_merge\\gsttensormerge.c", "file_complexity": {"file_NLOC": "601", "file_CCN": "84", "file_NToken": "3420"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "660", "deleted_lines": null, "method_info": {"method_name": "gst_tensor_merge_collected", "method_params": "pads,tensor_merge", "method_startline": "616", "method_endline": "714", "method_complexity": {"method_NLOC": "83", "method_CCN": "11", "method_NToken": "445", "method_nesting_level": "0"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "482,491,492,497,498", "deleted_lines": "490,495", "method_info": {"method_name": "gst_tensor_merge_generate_mem", "method_params": "tensor_merge,tensors_buf,tensor_buf", "method_startline": "467", "method_endline": "607", "method_complexity": {"method_NLOC": "122", "method_CCN": "21", "method_NToken": "836", "method_nesting_level": "0"}}}}}, "file_10": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "gst\\nnstreamer\\tensor_mux\\gsttensormux.c", "file_new_name": "gst\\nnstreamer\\tensor_mux\\gsttensormux.c", "file_complexity": {"file_NLOC": "359", "file_CCN": "43", "file_NToken": "1895"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "375,412,413,414,415", "deleted_lines": "411", "method_info": {"method_name": "gst_tensor_mux_collected", "method_params": "pads,tensor_mux", "method_startline": "367", "method_endline": "462", "method_complexity": {"method_NLOC": "79", "method_CCN": "12", "method_NToken": "429", "method_nesting_level": "0"}}}}}, "file_11": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "gst\\nnstreamer\\tensor_repo\\tensor_reposrc.c", "file_new_name": "gst\\nnstreamer\\tensor_repo\\tensor_reposrc.c", "file_complexity": {"file_NLOC": "256", "file_CCN": "39", "file_NToken": "1461"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "313,317,318", "deleted_lines": "316", "method_info": {"method_name": "gst_tensor_reposrc_gen_dummy_buffer", "method_params": "self", "method_startline": "301", "method_endline": "326", "method_complexity": {"method_NLOC": "21", "method_CCN": "2", "method_NToken": "139", "method_nesting_level": "0"}}}}}, "file_12": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "gst\\nnstreamer\\tensor_source\\tensor_src_iio.c", "file_new_name": "gst\\nnstreamer\\tensor_source\\tensor_src_iio.c", "file_complexity": {"file_NLOC": "1753", "file_CCN": "267", "file_NToken": "9913"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "1214,1234,1235,1236", "deleted_lines": "1233,1234", "method_info": {"method_name": "gst_tensor_src_iio_set_property", "method_params": "object,prop_id,value,pspec", "method_startline": "1111", "method_endline": "1264", "method_complexity": {"method_NLOC": "126", "method_CCN": "30", "method_NToken": "659", "method_nesting_level": "0"}}}}}, "file_13": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "gst\\nnstreamer\\tensor_split\\gsttensorsplit.c", "file_new_name": "gst\\nnstreamer\\tensor_split\\gsttensorsplit.c", "file_complexity": {"file_NLOC": "480", "file_CCN": "64", "file_NToken": "2776"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "415,424,425,426,427", "deleted_lines": "423,424", "method_info": {"method_name": "gst_tensor_split_get_splited", "method_params": "split,buffer,nth", "method_startline": "407", "method_endline": "439", "method_complexity": {"method_NLOC": "28", "method_CCN": "2", "method_NToken": "196", "method_nesting_level": "0"}}}}}, "file_14": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "gst\\nnstreamer\\tensor_transform\\tensor_transform.c", "file_new_name": "gst\\nnstreamer\\tensor_transform\\tensor_transform.c", "file_complexity": {"file_NLOC": "1063", "file_CCN": "207", "file_NToken": "6121"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "1391,1398,1399,1400,1401", "deleted_lines": "1397,1398", "method_info": {"method_name": "gst_tensor_transform_transform", "method_params": "trans,inbuf,outbuf", "method_startline": "1386", "method_endline": "1431", "method_complexity": {"method_NLOC": "39", "method_CCN": "6", "method_NToken": "213", "method_nesting_level": "0"}}}}}}}}