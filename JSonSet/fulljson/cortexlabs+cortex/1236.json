{"BR": {"BR_id": "1236", "BR_author": "rcammisola", "BRopenT": "2020-07-24T00:07:59Z", "BRcloseT": "2020-08-18T18:11:09Z", "BR_text": {"BRsummary": "Image download shown as successful but see error: \"No such image: cortexlabs/python-predictor-cpu:0.18.1\"", "BRdescription": "\n <denchmark-h:h4>Version</denchmark-h>\n \n 0.18.1\n <denchmark-h:h4>Description</denchmark-h>\n \n On Mac OS (High Sierra) docker pull silently fails when downloading the python-predictor-cpu image:\n <denchmark-code>\uffee downloading docker image cortexlabs/python-predictor-cpu:0.18.1 .................................................................... \u2713\n /Users/rocco.cammisola/Documents/[PROJECT DIR]/cortex.yaml: [API ENDPOINT NAME]: Error response from daemon: No such image: cortexlabs/python-predictor-cpu:0.18.1\n </denchmark-code>\n \n The output suggests that the download was successful but when I performed docker pull cortexlabs/python-predictor-cpu:0.18.1 I found out that my docker VM had run out of space.\n Performing docker system prune (or similar) to clear the VM resolved the issue.\n <denchmark-h:h4>Steps to reproduce</denchmark-h>\n \n \n Set docker VM size on Mac to be smaller than the cortexlabs python predictor image\n cortex deploy\n \n <denchmark-h:h4>Expected behavior</denchmark-h>\n \n The download is not marked as successful (tick not shown) and the error about being out of space is reported.\n <denchmark-h:h4>Actual behavior</denchmark-h>\n \n Download marked as successful, no error directly related to not being able to pull the image.\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "rcammisola", "commentT": "2020-07-24T12:52:36Z", "comment_text": "\n \t\tThanks for filing the issue with the reproduction steps and so much detail. We will look into it and try to surface a meaningful error when image download fails.\n \t\t"}}}, "commit": {"commit_id": "54ca78857bc21df8401a2dd90e237f65fb481cd6", "commit_author": "Zou Nengren", "commitT": "2020-08-18 14:11:08-04:00", "commit_complexity": {"commit_NLOC": "0.30434782608695654", "commit_CCN": "0.30434782608695654", "commit_Nprams": "0.30434782608695654"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "pkg\\lib\\docker\\docker.go", "file_new_name": "pkg\\lib\\docker\\docker.go", "file_complexity": {"file_NLOC": "222", "file_CCN": "47", "file_NToken": "1144"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "164,166,167,168,169,170,171,172,173,174,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191", "deleted_lines": "165,168,169", "method_info": {"method_name": "PullImage", "method_params": "string,string,PullVerbosity", "method_startline": "140", "method_endline": "202", "method_complexity": {"method_NLOC": "51", "method_CCN": "12", "method_NToken": "284", "method_nesting_level": "0"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "166,167,168,169,170,171,172", "deleted_lines": "168,169", "method_info": {"method_name": "", "method_params": "", "method_startline": "166", "method_endline": "172", "method_complexity": {"method_NLOC": "7", "method_CCN": "2", "method_NToken": "26", "method_nesting_level": "0"}}}}}}}}