{"BR": {"BR_id": "48", "BR_author": "cepera-ang", "BRopenT": "2018-05-21T13:49:41Z", "BRcloseT": "2018-05-22T23:37:59Z", "BR_text": {"BRsummary": "Incorrect error message while converting model to onnx format", "BRdescription": "\n Latest version of onnxmltools has targeted_onnx = '1.1.2' and if installed version is 1.1.1 then error message appears 'ONNX version conflict found. The installed version is 1.1.2 while the targeted version is 1.1.1' which is inverse of actual situation.\n \n \n \n onnxmltools/onnxmltools/convert/common/_topology.py\n \n \n          Line 607\n       in\n       5f41a2b\n \n \n \n \n \n \n  if targeted_onnx != onnx.__version__: \n \n \n \n \n \n Also, onnx version in master is 1.1.1 and in pip is 1.1.2 but master is definitely more up to date.\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "cepera-ang", "commentT": "2018-05-21T21:53:27Z", "comment_text": "\n \t\tOk. I will extract onnx version from the installed onnx package.\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "cepera-ang", "commentT": "2018-05-22T05:59:43Z", "comment_text": "\n \t\tAs far as I can see, it is already happens, you just need to swap the\n variables in line 610 and message will become correct.\n <denchmark-link:#>\u2026</denchmark-link>\n \n \n On Tue, May 22, 2018, 00:53 Wei-Sheng Chin ***@***.***> wrote:\n  Ok. I will extract onnx version from the installed onnx package.\n \n  \u2014\n  You are receiving this because you authored the thread.\n  Reply to this email directly, view it on GitHub\n  <#48 (comment)>,\n  or mute the thread\n  <https://github.com/notifications/unsubscribe-auth/AKL_O9ArgRtAX_9s-aoOEEuMeRWBbS6rks5t0zdYgaJpZM4UHBPy>\n  .\n \n \n \n \t\t"}, "comments_2": {"comment_id": 3, "comment_author": "cepera-ang", "commentT": "2018-05-22T17:10:32Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/cepera-ang>@cepera-ang</denchmark-link>\n  , You're right. I also changed the default version because I guess it's better to use the installed onnx version as the default version. What do you  think?\n \t\t"}, "comments_3": {"comment_id": 4, "comment_author": "cepera-ang", "commentT": "2018-05-23T03:34:21Z", "comment_text": "\n \t\tSounds good to me.\n \t\t"}}}, "commit": {"commit_id": "25d6bbdfa906ad6c7d2087703867fc17cc5837f2", "commit_author": "Wei-Sheng Chin", "commitT": "2018-05-22 16:37:58-07:00", "commit_complexity": {"commit_NLOC": "None", "commit_CCN": "None", "commit_Nprams": "None"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "onnxmltools\\convert\\common\\_topology.py", "file_new_name": "onnxmltools\\convert\\common\\_topology.py", "file_complexity": {"file_NLOC": "374", "file_CCN": "165", "file_NToken": "2927"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "610", "deleted_lines": "610", "method_info": {"method_name": "convert_topology", "method_params": "topology,model_name,doc_string,targeted_onnx", "method_startline": "596", "method_endline": "701", "method_complexity": {"method_NLOC": "64", "method_CCN": "25", "method_NToken": "500", "method_nesting_level": "0"}}}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "onnxmltools\\convert\\coreml\\convert.py", "file_new_name": "onnxmltools\\convert\\coreml\\convert.py", "file_complexity": {"file_NLOC": "37", "file_CCN": "9", "file_NToken": "242"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "21", "deleted_lines": null, "method_info": {"method_name": "convert", "method_params": "model,name,initial_types,doc_string,targeted_onnx", "method_startline": "21", "method_endline": "76", "method_complexity": {"method_NLOC": "27", "method_CCN": "9", "method_NToken": "190", "method_nesting_level": "0"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "21", "deleted_lines": "20", "method_info": {"method_name": "convert", "method_params": "model,name,initial_types,doc_string,targeted_onnx", "method_startline": "20", "method_endline": "75", "method_complexity": {"method_NLOC": "27", "method_CCN": "9", "method_NToken": "188", "method_nesting_level": "0"}}}}}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "onnxmltools\\convert\\keras\\convert.py", "file_new_name": "onnxmltools\\convert\\keras\\convert.py", "file_complexity": {"file_NLOC": "13", "file_CCN": "2", "file_NToken": "99"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "17", "deleted_lines": "16", "method_info": {"method_name": "convert", "method_params": "model,name,initial_types,doc_string,targeted_onnx", "method_startline": "16", "method_endline": "42", "method_complexity": {"method_NLOC": "7", "method_CCN": "2", "method_NToken": "66", "method_nesting_level": "0"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "17", "deleted_lines": null, "method_info": {"method_name": "convert", "method_params": "model,name,initial_types,doc_string,targeted_onnx", "method_startline": "17", "method_endline": "43", "method_complexity": {"method_NLOC": "7", "method_CCN": "2", "method_NToken": "68", "method_nesting_level": "0"}}}}}, "file_3": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "onnxmltools\\convert\\sklearn\\convert.py", "file_new_name": "onnxmltools\\convert\\sklearn\\convert.py", "file_complexity": {"file_NLOC": "15", "file_CCN": "3", "file_NToken": "109"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "17", "deleted_lines": null, "method_info": {"method_name": "convert", "method_params": "model,name,initial_types,doc_string,targeted_onnx", "method_startline": "17", "method_endline": "87", "method_complexity": {"method_NLOC": "9", "method_CCN": "3", "method_NToken": "78", "method_nesting_level": "0"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "17", "deleted_lines": "16", "method_info": {"method_name": "convert", "method_params": "model,name,initial_types,doc_string,targeted_onnx", "method_startline": "16", "method_endline": "86", "method_complexity": {"method_NLOC": "9", "method_CCN": "3", "method_NToken": "76", "method_nesting_level": "0"}}}}}}}}