{"BR": {"BR_id": "9761", "BR_author": "wuisawesome", "BRopenT": "2020-07-28T21:55:08Z", "BRcloseT": "2020-07-30T17:20:11Z", "BR_text": {"BRsummary": "test_output is failling", "BRdescription": "\n <denchmark-h:h3>What is the problem?</denchmark-h>\n \n Ray version and other system information (Python version, TensorFlow version, OS):\n On ubuntu:\n These socket connection errors (a) shouldn't happen (b) if they should happen and are normal, they should generate error logs on startup.\n <denchmark-h:h3>Reproduction (REQUIRED)</denchmark-h>\n \n Please provide a script that can be run to reproduce the issue. The script should have no external library dependencies (i.e., use fake or mock data / environments):\n <denchmark-code>import ray\n ray.init()\n </denchmark-code>\n \n prints\n <denchmark-code>E0728 21:47:24.296782 18264 18264 client_connection.cc:51] Retrying to connect to socket for endpoint /tmp/ray/session_2020-07-28_21-47-22_806574_18264/sockets/raylet (num_attempts = 1, num_retries = 10)\n </denchmark-code>\n \n If we cannot run your script, we cannot fix your issue.\n \n  I have verified my script runs in a clean environment and reproduces the issue.\n  I have verified the issue also occurs with the latest wheels.\n \n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "wuisawesome", "commentT": "2020-07-28T22:33:30Z", "comment_text": "\n \t\tI'm pretty sure this is a race condition around the creation of the raylet socket: session_latest/sockets/raylet. We should probably just create the socket before initializing the core worker or raylet\n \t\t"}}}, "commit": {"commit_id": "72297dc46f74484cf2394c939b02abd2e55d5274", "commit_author": "Alex Wu", "commitT": "2020-07-29 13:17:46-07:00", "commit_complexity": {"commit_NLOC": "None", "commit_CCN": "None", "commit_Nprams": "None"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "src\\ray\\common\\client_connection.cc", "file_new_name": "src\\ray\\common\\client_connection.cc", "file_complexity": {"file_NLOC": "325", "file_CCN": "56", "file_NToken": "2354"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "51,52,53,54,55", "deleted_lines": "51,52,53", "method_info": {"method_name": "ray::ConnectSocketRetry", "method_params": "socket,endpoint,num_retries,timeout_in_ms", "method_startline": "32", "method_endline": "61", "method_complexity": {"method_NLOC": "24", "method_CCN": "6", "method_NToken": "168", "method_nesting_level": "1"}}}}}}}}