{"BR": {"BR_id": "9698", "BR_author": "rkooo567", "BRopenT": "2020-07-24T21:34:29Z", "BRcloseT": "2020-07-30T17:20:17Z", "BR_text": {"BRsummary": "[GCS Actor Management] `test_dead_actors` release test is flaky. GCS fails with check failures.", "BRdescription": "\n <denchmark-h:h3>What is the problem?</denchmark-h>\n \n \n <denchmark-link:https://user-images.githubusercontent.com/18510752/88437114-9d9acb00-cdba-11ea-9318-8336fdb40462.png></denchmark-link>\n \n Tests occasionally failed with check failures. There must be a hidden race condition here. Could be related to flaky test_multi_node.\n <denchmark-h:h3>Reproduction (REQUIRED)</denchmark-h>\n \n Please provide a script that can be run to reproduce the issue. The script should have no external library dependencies (i.e., use fake or mock data / environments):\n Run test_dead_actors.py with the specified cluster configuration.\n \n  I have verified my script runs in a clean environment and reproduces the issue.\n  I have verified the issue also occurs with the latest wheels.\n \n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "rkooo567", "commentT": "2020-07-24T21:35:49Z", "comment_text": "\n \t\tcc <denchmark-link:https://github.com/ffbin>@ffbin</denchmark-link>\n  <denchmark-link:https://github.com/stephanie-wang>@stephanie-wang</denchmark-link>\n  Maybe just removing check there is sufficient? I remember I saw the same race condition in the past I couldn't reproduce after a certain point. Probably the same thing.\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "rkooo567", "commentT": "2020-07-25T14:08:01Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/rkooo567>@rkooo567</denchmark-link>\n  You can assign this issue to me. I have encountered it before.\n \t\t"}}}, "commit": {"commit_id": "d1b37ca7e4827d8e5a0f521d8d73faf2155ab352", "commit_author": "SangBin Cho", "commitT": "2020-07-29 10:54:18-07:00", "commit_complexity": {"commit_NLOC": "0.0", "commit_CCN": "0.90625", "commit_Nprams": "1.0"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "src\\ray\\gcs\\gcs_server\\gcs_actor_manager.cc", "file_new_name": "src\\ray\\gcs\\gcs_server\\gcs_actor_manager.cc", "file_complexity": {"file_NLOC": "836", "file_CCN": "155", "file_NToken": "6999"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "795,796,797,798,799,800", "deleted_lines": "795", "method_info": {"method_name": "ray::gcs::GcsActorManager::ReconstructActor", "method_params": "actor_id,need_reschedule", "method_startline": "793", "method_endline": "864", "method_complexity": {"method_NLOC": "56", "method_CCN": "8", "method_NToken": "442", "method_nesting_level": "2"}}}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "src\\ray\\gcs\\gcs_server\\test\\gcs_actor_manager_test.cc", "file_new_name": "src\\ray\\gcs\\gcs_server\\test\\gcs_actor_manager_test.cc", "file_complexity": {"file_NLOC": "645", "file_CCN": "38", "file_NToken": "5981"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "806,807,808,809,810,811,812,813,814,815,816,817,818,819,820,821,822,823,824,825,826,827,828,829,830,831,832,833,834,835,836,837,838,839", "deleted_lines": null, "method_info": {"method_name": "ray::TEST_F", "method_params": "GcsActorManagerTest,TestOwnerAndChildDiedAtTheSameTimeRaceCondition", "method_startline": "806", "method_endline": "839", "method_complexity": {"method_NLOC": "29", "method_CCN": "1", "method_NToken": "257", "method_nesting_level": "1"}}}}}}}}