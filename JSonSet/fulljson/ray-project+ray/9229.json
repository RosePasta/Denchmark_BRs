{"BR": {"BR_id": "9229", "BR_author": "rkooo567", "BRopenT": "2020-07-01T01:03:38Z", "BRcloseT": "2020-08-08T03:46:07Z", "BR_text": {"BRsummary": "[Dashboard] Logical view broken when I create / delete actors.", "BRdescription": "\n <denchmark-h:h3>What is the problem?</denchmark-h>\n \n Dashboard logical view shows more than required number of actors when I keep creating / deleting actors.\n <denchmark-h:h3>Reproduction (REQUIRED)</denchmark-h>\n \n Please provide a script that can be run to reproduce the issue. The script should have no external library dependencies (i.e., use fake or mock data / environments):\n Open the logical view and don't renew the page. After the script is done, you can see there are more than 10 actors (which we created) from the logical view. Once you renew the page, it shows the correct number.\n import ray\n import time\n \n ray.init()\n time.sleep(5) # open your dashboard\n \n @ray.remote\n class A:\n     pass\n \n for _ in range(5):\n     a = A.remote()\n     b = A.remote()\n     del a\n     del b\n \n time.sleep(50)\n \n  I have verified my script runs in a clean environment and reproduces the issue.\n  I have verified the issue also occurs with the latest wheels.\n \n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "rkooo567", "commentT": "2020-07-01T01:03:54Z", "comment_text": "\n \t\tcc <denchmark-link:https://github.com/mfitton>@mfitton</denchmark-link>\n \n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "rkooo567", "commentT": "2020-08-07T21:26:24Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/rkooo567>@rkooo567</denchmark-link>\n  when I run your example, it shows 10 dead actor entries. Is that what it shows for you?\n For some reason, when I refresh the page, it then only shows 6 dead actor entries.\n \t\t"}, "comments_2": {"comment_id": 3, "comment_author": "rkooo567", "commentT": "2020-08-07T21:26:40Z", "comment_text": "\n \t\tI'm going to try again and see if I can recreate the case where there are more than 10 entries.\n \t\t"}, "comments_3": {"comment_id": 4, "comment_author": "rkooo567", "commentT": "2020-08-07T21:27:56Z", "comment_text": "\n \t\tI'm able to reproduce the 10 dead actor entries -> refresh -> 6 dead actor entries every time actually.\n \t\t"}, "comments_4": {"comment_id": 5, "comment_author": "rkooo567", "commentT": "2020-08-07T21:36:24Z", "comment_text": "\n \t\tSang helped me reproduce. Looking into the root cause.\n \t\t"}, "comments_5": {"comment_id": 6, "comment_author": "rkooo567", "commentT": "2020-08-07T22:33:31Z", "comment_text": "\n \t\tPlease see explanation and fix here: <denchmark-link:https://github.com/ray-project/ray/pull/9959>#9959</denchmark-link>\n \n \t\t"}}}, "commit": {"commit_id": "d9822e04d4e67f9ae01e76c57517b0d695f4be3c", "commit_author": "Max Fitton", "commitT": "2020-08-07 20:46:06-07:00", "commit_complexity": {"commit_NLOC": "None", "commit_CCN": "None", "commit_Nprams": "None"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "python\\ray\\dashboard\\client\\src\\pages\\dashboard\\logical-view\\Actors.tsx", "file_new_name": "python\\ray\\dashboard\\client\\src\\pages\\dashboard\\logical-view\\Actors.tsx", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "11,12,24", "deleted_lines": "11,12,24"}}}}}}