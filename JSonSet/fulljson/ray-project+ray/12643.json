{"BR": {"BR_id": "12643", "BR_author": "edoakes", "BRopenT": "2020-12-07T02:08:44Z", "BRcloseT": "2020-12-08T05:29:50Z", "BR_text": {"BRsummary": "Irrelevant error message when reporting error in Ray programs", "BRdescription": "\n <denchmark-h:h3>What is the problem?</denchmark-h>\n \n Exception tracebacks printed in the driver always include an irrelevant error message from our excepthook.\n import ray\n ray.init()\n \n raise Exception(\"foobar\")\n Output:\n <denchmark-code>>>> raise Exception(\"hello\")\n Error in sys.excepthook:\n Traceback (most recent call last):\n   File \"/Users/eoakes/code/ray/python/ray/worker.py\", line 836, in custom_excepthook\n     ray.state.state.add_worker(worker_id, worker_type, worker_info)\n   File \"/Users/eoakes/code/ray/python/ray/state.py\", line 733, in add_worker\n     return self.global_state_accessor.add_worker_info(\n AttributeError: 'NoneType' object has no attribute 'add_worker_info'\n \n Original exception was:\n Traceback (most recent call last):\n   File \"<stdin>\", line 1, in <module>\n Exception: hello\n </denchmark-code>\n \n If we cannot run your script, we cannot fix your issue.\n \n  I have verified my script runs in a clean environment and reproduces the issue.\n  I have verified the issue also occurs with the latest wheels.\n \n \t"}, "comments": {}}, "commit": {"commit_id": "b1f2b142d58aafbf16dc3e5cc71451ea325bf18b", "commit_author": "SangBin Cho", "commitT": "2020-12-07 18:28:32-08:00", "commit_complexity": {"commit_NLOC": "1.0", "commit_CCN": "1.0", "commit_Nprams": "0.0"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "python\\ray\\worker.py", "file_new_name": "python\\ray\\worker.py", "file_complexity": {"file_NLOC": "962", "file_CCN": "176", "file_NToken": "5197"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "856", "deleted_lines": null, "method_info": {"method_name": "custom_excepthook", "method_params": "type,value,tb", "method_startline": "848", "method_endline": "859", "method_complexity": {"method_NLOC": "9", "method_CCN": "2", "method_NToken": "79", "method_nesting_level": "0"}}}}}}}}