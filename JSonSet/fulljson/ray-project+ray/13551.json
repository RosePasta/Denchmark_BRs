{"BR": {"BR_id": "13551", "BR_author": "Sangboom", "BRopenT": "2021-01-19T12:04:19Z", "BRcloseT": "2021-01-21T15:30:27Z", "BR_text": {"BRsummary": "[rllilb] No module named 'ray.rllib.models.torch.modules.reshape' Error when I try to import 'DREAMERTrainer'", "BRdescription": "\n <denchmark-h:h3>What is the problem?</denchmark-h>\n \n Ray version: 1.1.0\n Python version: 3.8.5\n OS: Ubuntu 20.04\n I have a problem with importing DREAMERTrainer.\n It says there is no module named Reshape on 'ray.rllib.models.torch.modules.reshape'.\n So I try to find the Reshape function, and I found that one on 'ray.rllib.models.torch.misc'.\n Thus, I change 'ray.rllib.models.torch.modules.reshape' into 'ray.rllib.models.torch.misc'.\n However, it still didn't work (problem on torch_policy.py).\n In addition, Dreamer works properly on ray 1.0.0 which has 'Reshape' function on the dreamer_model python file.\n But it didn't work well when I include the same Reshape function on ray 1.1.0's dreamer_model.\n Thank you\n <denchmark-h:h3>Reproduction (REQUIRED)</denchmark-h>\n \n I've tried this on the new Anaconda environment just install ray and python only (+ other things that ray needs).\n Python 3.8.5 (default, Sep  4 2020, 07:30:14)\n [GCC 7.3.0] :: Anaconda, Inc. on linux\n Type \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n \n \n \n from ray.rllib.agents.dreamer import DREAMERTrainer\n Traceback (most recent call last):\n File \"\", line 1, in \n File \"/home/sangbeom/anaconda3/envs/dreamerTest/lib/python3.8/site-packages/ray/rllib/agents/dreamer/init.py\", line 1, in \n from ray.rllib.agents.dreamer.dreamer import DREAMERTrainer, DEFAULT_CONFIG\n File \"/home/sangbeom/anaconda3/envs/dreamerTest/lib/python3.8/site-packages/ray/rllib/agents/dreamer/dreamer.py\", line 14, in \n from ray.rllib.agents.dreamer.dreamer_model import DreamerModel\n File \"/home/sangbeom/anaconda3/envs/dreamerTest/lib/python3.8/site-packages/ray/rllib/agents/dreamer/dreamer_model.py\", line 3, in \n from ray.rllib.models.torch.modules.reshape import Reshape\n ModuleNotFoundError: No module named 'ray.rllib.models.torch.modules.reshape'\n \n \n \n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "Sangboom", "commentT": "2021-01-25T13:01:51Z", "comment_text": "\n \t\tThanks for filing this. This is indeed broken. We should also add a simple \"compilation\" test case, so something like this cannot happen anymore in the future.\n This issue has been fixed in master now.\n \t\t"}}}, "commit": {"commit_id": "daf0bef2858441e3d2da953d9a76400b6ce7a77d", "commit_author": "Sven Mika", "commitT": "2021-01-21 16:30:26+01:00", "commit_complexity": {"commit_NLOC": "None", "commit_CCN": "None", "commit_Nprams": "None"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "rllib\\BUILD", "file_new_name": "rllib\\BUILD", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "439,440,441,442,443,444,445,485,486,487,488,489,490,491,492,493", "deleted_lines": "439,440,441,442,443,444,445"}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "rllib\\agents\\dreamer\\dreamer.py", "file_new_name": "rllib\\agents\\dreamer\\dreamer.py", "file_complexity": {"file_NLOC": "166", "file_CCN": "27", "file_NToken": "1247"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "34,35", "deleted_lines": null}}}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "rllib\\agents\\dreamer\\dreamer_model.py", "file_new_name": "rllib\\agents\\dreamer\\dreamer_model.py", "file_complexity": {"file_NLOC": "427", "file_CCN": "27", "file_NToken": "3049"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "3", "deleted_lines": "3"}}}, "file_3": {"file_change_type": "ADD", "file_Nmethod": 0, "file_old_name": "None", "file_new_name": "rllib\\agents\\dreamer\\tests\\test_dreamer.py", "file_complexity": {"file_NLOC": "29", "file_CCN": "6", "file_NToken": "191"}}, "file_4": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "rllib\\env\\wrappers\\dm_control_wrapper.py", "file_new_name": "rllib\\env\\wrappers\\dm_control_wrapper.py", "file_complexity": {"file_NLOC": "177", "file_CCN": "28", "file_NToken": "1068"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "34", "deleted_lines": "34"}}}}}}