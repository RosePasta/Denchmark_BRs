{"BR": {"BR_id": "10562", "BR_author": "wuisawesome", "BRopenT": "2020-09-04T04:15:07Z", "BRcloseT": "2020-09-07T03:56:49Z", "BR_text": {"BRsummary": "[Core] `ray.options(memory=)` not overriding default.", "BRdescription": "\n <denchmark-h:h3>What is the problem?</denchmark-h>\n \n Ray version and other system information (Python version, TensorFlow version, OS):\n <denchmark-h:h3>Reproduction (REQUIRED)</denchmark-h>\n \n Please provide a script that can be run to reproduce the issue. The script should have no external library dependencies (i.e., use fake or mock data / environments):\n <denchmark-code>>>> @ray.remote(memory=2**30)\n ... def foo():\n ...  print(f\"cluster memory: {ray.cluster_resources()['memory']}\")\n ...  print(f\"available memory: {ray.available_resources()['memory']}\")\n ... \n >>> ray.get(foo.remote())\n (pid=41181) cluster memory: 103.0\n (pid=41181) available memory: 82.0\n \n >>> ray.get(foo.options(memory=2**31).remote())\n (pid=41181) cluster memory: 103.0\n (pid=41181) available memory: 82.0\n </denchmark-code>\n \n If we cannot run your script, we cannot fix your issue.\n \n  I have verified my script runs in a clean environment and reproduces the issue.\n  I have verified the issue also occurs with the latest wheels.\n \n \t"}, "comments": {}}, "commit": {"commit_id": "a699f6a4d82a7103a3c78f56ceb1ec0027e25e9a", "commit_author": "Alex Wu", "commitT": "2020-09-06 20:56:48-07:00", "commit_complexity": {"commit_NLOC": "0.1", "commit_CCN": "1.0", "commit_Nprams": "1.0"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "python\\ray\\tests\\test_basic.py", "file_new_name": "python\\ray\\tests\\test_basic.py", "file_complexity": {"file_NLOC": "525", "file_CCN": "103", "file_NToken": "4349"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "347,348", "deleted_lines": null, "method_info": {"method_name": "test_ray_options.foo", "method_params": "", "method_startline": "347", "method_endline": "348", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "10", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365", "deleted_lines": null, "method_info": {"method_name": "test_ray_options", "method_params": "shutdown_only", "method_startline": "344", "method_endline": "365", "method_complexity": {"method_NLOC": "18", "method_CCN": "2", "method_NToken": "139", "method_nesting_level": "0"}}}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "python\\ray\\utils.py", "file_new_name": "python\\ray\\utils.py", "file_complexity": {"file_NLOC": "410", "file_CCN": "109", "file_NToken": "2540"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "368,369,370,371", "deleted_lines": "368,369,370"}}}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "rllib\\evaluation\\worker_set.py", "file_new_name": "rllib\\evaluation\\worker_set.py", "file_complexity": {"file_NLOC": "257", "file_CCN": "23", "file_NToken": "1611"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "101,102,103,104", "deleted_lines": "101,102,103", "method_info": {"method_name": "add_workers", "method_params": "self,int", "method_startline": "91", "method_endline": "112", "method_complexity": {"method_NLOC": "21", "method_CCN": "4", "method_NToken": "114", "method_nesting_level": "1"}}}}}}}}