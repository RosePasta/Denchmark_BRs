{"BR": {"BR_id": "9982", "BR_author": "raphaelavalos", "BRopenT": "2020-08-07T16:13:00Z", "BRcloseT": "2020-09-05T00:17:54Z", "BR_text": {"BRsummary": "[RLlib] Seeding issues", "BRdescription": "\n Hello,\n Currently, it is not possible to set the seed for numpy and torch if the env doesn't have a seed method.\n \n \n \n ray/rllib/evaluation/rollout_worker.py\n \n \n         Lines 379 to 391\n       in\n       5d5643e\n \n \n \n \n \n \n  # set numpy and python seed \n \n \n \n  if seed is not None: \n \n \n \n  np.random.seed(seed) \n \n \n \n  random.seed(seed) \n \n \n \n  if not hasattr(self.env, \"seed\"): \n \n \n \n  raise ValueError(\"Env doesn't support env.seed(): {}\".format( \n \n \n \n  self.env)) \n \n \n \n  self.env.seed(seed) \n \n \n \n  try: \n \n \n \n  assert torch is not None \n \n \n \n  torch.manual_seed(seed) \n \n \n \n  except AssertionError: \n \n \n \n  logger.info(\"Could not seed torch\") \n \n \n \n \n \n (This issue doesn't affect tensorflow.)\n Also, why is the seed method not part of the BaseEnvs like in gym?\n Thanks\n \t"}, "comments": {}}, "commit": {"commit_id": "6ae9e76b81d0802ef45c4309d820cd8d9aedadb8", "commit_author": "architkulkarni", "commitT": "2020-09-04 17:17:53-07:00", "commit_complexity": {"commit_NLOC": "1.0", "commit_CCN": "1.0", "commit_Nprams": "1.0"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "rllib\\evaluation\\rollout_worker.py", "file_new_name": "rllib\\evaluation\\rollout_worker.py", "file_complexity": {"file_NLOC": "984", "file_CCN": "93", "file_NToken": "5049"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "391,393,394", "deleted_lines": "391,393"}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "rllib\\tests\\test_rollout_worker.py", "file_new_name": "rllib\\tests\\test_rollout_worker.py", "file_complexity": {"file_NLOC": "559", "file_CCN": "65", "file_NToken": "4235"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "629,630,631,632,633,634,635", "deleted_lines": null, "method_info": {"method_name": "test_no_env_seed", "method_params": "self", "method_startline": "629", "method_endline": "635", "method_complexity": {"method_NLOC": "7", "method_CCN": "1", "method_NToken": "48", "method_nesting_level": "1"}}}}}}}}