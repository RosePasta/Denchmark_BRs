{"BR": {"BR_id": "13330", "BR_author": "sven1977", "BRopenT": "2021-01-11T07:40:10Z", "BRcloseT": "2021-01-11T12:19:46Z", "BR_text": {"BRsummary": "[RLlib] Error when calling `rllib/models/catalog.py::get_action_shape()` and tf is not installed.", "BRdescription": "\n When framework=torch and rllib/models/catalog.py::get_action_shape() is called, e.g. from within Policy::_create_dummy_batch_from_view_requirements(), rllib crashes.\n Ray version and other system information (Python version, TensorFlow version, OS):\n <denchmark-h:h3>Reproduction (REQUIRED)</denchmark-h>\n \n Please provide a short code snippet (less than 50 lines if possible) that can be copy-pasted to reproduce the issue. The snippet should have no external library dependencies (i.e., use fake or mock data / environments):\n If the code snippet cannot be run by itself, the issue will be closed with \"needs-repro-script\".\n \n  I have verified my script runs in a clean environment and reproduces the issue.\n  I have verified the issue also occurs with the latest wheels.\n \n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "sven1977", "commentT": "2021-01-11T08:04:41Z", "comment_text": "\n \t\tThis PR will close the issue:\n <denchmark-link:https://github.com/ray-project/ray/pull/13332>#13332</denchmark-link>\n \n \t\t"}}}, "commit": {"commit_id": "5d50d37f45ae30913dd28fafbee11cb5025f497f", "commit_author": "Sven Mika", "commitT": "2021-01-11 13:19:46+01:00", "commit_complexity": {"commit_NLOC": "None", "commit_CCN": "None", "commit_Nprams": "None"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "rllib\\models\\catalog.py", "file_new_name": "rllib\\models\\catalog.py", "file_complexity": {"file_NLOC": "559", "file_CCN": "21", "file_NToken": "2649"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "255,256,261,262,266,269,271,273", "deleted_lines": "254,264,266,268,269,281", "method_info": {"method_name": "get_action_shape", "method_params": "Space", "method_startline": "254", "method_endline": "284", "method_complexity": {"method_NLOC": "30", "method_CCN": "8", "method_NToken": "222", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "255,256", "deleted_lines": null, "method_info": {"method_name": "get_action_shape", "method_params": "Space,str", "method_startline": "255", "method_endline": "256", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "26", "method_nesting_level": "1"}}}}}}}}