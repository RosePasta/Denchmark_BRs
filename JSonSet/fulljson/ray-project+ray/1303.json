{"BR": {"BR_id": "1303", "BR_author": "pschafhalter", "BRopenT": "2017-12-08T07:38:51Z", "BRcloseT": "2017-12-31T04:21:28Z", "BR_text": {"BRsummary": "[rllib] Training using A3C results in IndexError", "BRdescription": "\n <denchmark-h:h3>System information</denchmark-h>\n \n \n OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Linux Ubuntu 17.04\n Ray installed from (source or binary): source\n Ray version: 0.3.0\n Python version: 3.5.3\n Exact command to reproduce: python3 ./python/ray/rllib/train.py --run A3C --env CartPole-v0\n \n <denchmark-h:h3>Describe the problem</denchmark-h>\n \n The training script fails due to IndexError. The issue appears to be on line 22 of rllib/models/misc.py. The conv2d() function calls x.get_shape()[3], but x.get_shape() returns (?, 4).\n <denchmark-h:h3>Source code / logs</denchmark-h>\n \n <denchmark-link:https://github.com/ray-project/ray/files/1541838/out.txt>console_output.txt</denchmark-link>\n \n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "pschafhalter", "commentT": "2017-12-13T23:31:31Z", "comment_text": "\n \t\tThis seems to be fixed if you pass \"use_lstm\": false in the config. It looks like we should turn that off by default except for atari?\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "pschafhalter", "commentT": "2017-12-31T04:21:28Z", "comment_text": "\n \t\tShould be fixed.\n \t\t"}}}, "commit": {"commit_id": "3304099cc4bbc4b243220261014e5c24c7e0ae93", "commit_author": "Richard Liaw", "commitT": "2017-12-30 00:24:54-08:00", "commit_complexity": {"commit_NLOC": "0.8333333333333334", "commit_CCN": "0.9629629629629629", "commit_Nprams": "1.0"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": ".travis.yml", "file_new_name": ".travis.yml", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "130,131", "deleted_lines": null}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "python\\ray\\rllib\\a3c\\a3c.py", "file_new_name": "python\\ray\\rllib\\a3c\\a3c.py", "file_complexity": {"file_NLOC": "96", "file_CCN": "15", "file_NToken": "622"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "80,81", "deleted_lines": null, "method_info": {"method_name": "_train", "method_params": "self", "method_startline": "78", "method_endline": "83", "method_complexity": {"method_NLOC": "6", "method_CCN": "1", "method_NToken": "35", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": null, "deleted_lines": "108", "method_info": {"method_name": "_save", "method_params": "self", "method_startline": "105", "method_endline": "115", "method_complexity": {"method_NLOC": "10", "method_CCN": "2", "method_NToken": "82", "method_nesting_level": "1"}}}}}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 6, "file_old_name": "python\\ray\\rllib\\a3c\\a3c_evaluator.py", "file_new_name": "python\\ray\\rllib\\a3c\\a3c_evaluator.py", "file_complexity": {"file_NLOC": "82", "file_CCN": "15", "file_NToken": "543"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": null, "deleted_lines": "50,51,52", "method_info": {"method_name": "sample", "method_params": "self", "method_startline": "49", "method_endline": "57", "method_complexity": {"method_NLOC": "6", "method_CCN": "1", "method_NToken": "49", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "91,92,93,94,95,96,97,98,99", "deleted_lines": null, "method_info": {"method_name": "sync_filters", "method_params": "self,new_filters", "method_startline": "91", "method_endline": "99", "method_complexity": {"method_NLOC": "4", "method_CCN": "3", "method_NToken": "42", "method_nesting_level": "1"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "88", "deleted_lines": "88", "method_info": {"method_name": "restore", "method_params": "self,objs", "method_startline": "86", "method_endline": "89", "method_complexity": {"method_NLOC": "4", "method_CCN": "1", "method_NToken": "33", "method_nesting_level": "1"}}}, "hunk_3": {"Ismethod": 1, "added_lines": "80,82,83,84", "deleted_lines": "79,80,81,82,83,84", "method_info": {"method_name": "update_filters", "method_params": "self,obs_filter,rew_filter", "method_startline": "79", "method_endline": "84", "method_complexity": {"method_NLOC": "5", "method_CCN": "3", "method_NToken": "36", "method_nesting_level": "1"}}}, "hunk_4": {"Ismethod": 1, "added_lines": "101,102,103,104,105,106,107,108,109,110,111,112,113,114,115", "deleted_lines": null, "method_info": {"method_name": "get_filters", "method_params": "self,flush_after", "method_startline": "101", "method_endline": "115", "method_complexity": {"method_NLOC": "7", "method_CCN": "3", "method_NToken": "47", "method_nesting_level": "1"}}}, "hunk_5": {"Ismethod": 1, "added_lines": "80,82,83,84", "deleted_lines": "79,80,81,82,83,84", "method_info": {"method_name": "save", "method_params": "self", "method_startline": "79", "method_endline": "84", "method_complexity": {"method_NLOC": "6", "method_CCN": "1", "method_NToken": "37", "method_nesting_level": "1"}}}}}, "file_3": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "python\\ray\\rllib\\a3c\\policy.py", "file_new_name": "python\\ray\\rllib\\a3c\\policy.py", "file_complexity": {"file_NLOC": "19", "file_CCN": "7", "file_NToken": "97"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "20", "deleted_lines": "20", "method_info": {"method_name": "compute_gradients", "method_params": "self,batch", "method_startline": "20", "method_endline": "21", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "9", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "20", "deleted_lines": "20", "method_info": {"method_name": "compute_gradients", "method_params": "self,samples", "method_startline": "20", "method_endline": "21", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "9", "method_nesting_level": "1"}}}}}, "file_4": {"file_change_type": "MODIFY", "file_Nmethod": 3, "file_old_name": "python\\ray\\rllib\\a3c\\shared_model.py", "file_new_name": "python\\ray\\rllib\\a3c\\shared_model.py", "file_complexity": {"file_NLOC": "53", "file_CCN": "8", "file_NToken": "515"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "38", "deleted_lines": "27,28", "method_info": {"method_name": "_setup_graph", "method_params": "self,ob_space,ac_space", "method_startline": "20", "method_endline": "38", "method_complexity": {"method_NLOC": "16", "method_CCN": "1", "method_NToken": "190", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "38,41,42,43,44", "deleted_lines": "40,43,44,45,46", "method_info": {"method_name": "compute_gradients", "method_params": "self,samples", "method_startline": "38", "method_endline": "54", "method_complexity": {"method_NLOC": "17", "method_CCN": "4", "method_NToken": "131", "method_nesting_level": "1"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "41,42,43,44", "deleted_lines": "40,43,44,45,46", "method_info": {"method_name": "compute_gradients", "method_params": "self,trajectory", "method_startline": "40", "method_endline": "56", "method_complexity": {"method_NLOC": "17", "method_CCN": "4", "method_NToken": "131", "method_nesting_level": "1"}}}}}, "file_5": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "python\\ray\\rllib\\a3c\\shared_model_lstm.py", "file_new_name": "python\\ray\\rllib\\a3c\\shared_model_lstm.py", "file_complexity": {"file_NLOC": "70", "file_CCN": "8", "file_NToken": "632"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "52,58,60,61,62,63", "deleted_lines": "52,58,60,61,62,63", "method_info": {"method_name": "compute_gradients", "method_params": "self,samples", "method_startline": "52", "method_endline": "75", "method_complexity": {"method_NLOC": "19", "method_CCN": "3", "method_NToken": "154", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "52,58,60,61,62,63", "deleted_lines": "52,58,60,61,62,63", "method_info": {"method_name": "compute_gradients", "method_params": "self,trajectory", "method_startline": "52", "method_endline": "75", "method_complexity": {"method_NLOC": "19", "method_CCN": "3", "method_NToken": "154", "method_nesting_level": "1"}}}}}, "file_6": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "python\\ray\\rllib\\a3c\\tfpolicy.py", "file_new_name": "python\\ray\\rllib\\a3c\\tfpolicy.py", "file_complexity": {"file_NLOC": "83", "file_CCN": "15", "file_NToken": "780"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "98", "deleted_lines": "98", "method_info": {"method_name": "compute_gradients", "method_params": "self,batch", "method_startline": "98", "method_endline": "99", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "9", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "98", "deleted_lines": "98", "method_info": {"method_name": "compute_gradients", "method_params": "self,samples", "method_startline": "98", "method_endline": "99", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "9", "method_nesting_level": "1"}}}}}, "file_7": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "python\\ray\\rllib\\a3c\\torchpolicy.py", "file_new_name": "python\\ray\\rllib\\a3c\\torchpolicy.py", "file_complexity": {"file_NLOC": "43", "file_CCN": "10", "file_NToken": "285"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "42,47,53", "deleted_lines": "42,47,53", "method_info": {"method_name": "compute_gradients", "method_params": "self,batch", "method_startline": "42", "method_endline": "56", "method_complexity": {"method_NLOC": "4", "method_CCN": "2", "method_NToken": "44", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "42,47,53", "deleted_lines": "42,47,53", "method_info": {"method_name": "compute_gradients", "method_params": "self,samples", "method_startline": "42", "method_endline": "56", "method_complexity": {"method_NLOC": "4", "method_CCN": "2", "method_NToken": "44", "method_nesting_level": "1"}}}}}, "file_8": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "python\\ray\\rllib\\dqn\\dqn.py", "file_new_name": "python\\ray\\rllib\\dqn\\dqn.py", "file_complexity": {"file_NLOC": "162", "file_CCN": "23", "file_NToken": "1063"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "119", "deleted_lines": "119", "method_info": {"method_name": "_init", "method_params": "self", "method_startline": "113", "method_endline": "148", "method_complexity": {"method_NLOC": "29", "method_CCN": "4", "method_NToken": "204", "method_nesting_level": "1"}}}}}, "file_9": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "python\\ray\\rllib\\dqn\\dqn_evaluator.py", "file_new_name": "python\\ray\\rllib\\dqn\\dqn_evaluator.py", "file_complexity": {"file_NLOC": "109", "file_CCN": "16", "file_NToken": "883"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "51", "deleted_lines": null, "method_info": {"method_name": "__init__", "method_params": "self,registry,env_creator,config,logdir", "method_startline": "20", "method_endline": "52", "method_complexity": {"method_NLOC": "24", "method_CCN": "1", "method_NToken": "212", "method_nesting_level": "1"}}}}}, "file_10": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "python\\ray\\rllib\\dqn\\dqn_replay_evaluator.py", "file_new_name": "python\\ray\\rllib\\dqn\\dqn_replay_evaluator.py", "file_complexity": {"file_NLOC": "118", "file_CCN": "24", "file_NToken": "869"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "73", "deleted_lines": "73", "method_info": {"method_name": "sample", "method_params": "self,no_replay", "method_startline": "56", "method_endline": "94", "method_complexity": {"method_NLOC": "34", "method_CCN": "8", "method_NToken": "287", "method_nesting_level": "1"}}}}}, "file_11": {"file_change_type": "MODIFY", "file_Nmethod": 5, "file_old_name": "python\\ray\\rllib\\optimizers\\sample_batch.py", "file_new_name": "python\\ray\\rllib\\optimizers\\sample_batch.py", "file_complexity": {"file_NLOC": "49", "file_CCN": "15", "file_NToken": "378"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "92", "deleted_lines": null, "method_info": {"method_name": "__repr__", "method_params": "self", "method_startline": "91", "method_endline": "92", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "17", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "60", "deleted_lines": "59,60", "method_info": {"method_name": "rows", "method_params": "self", "method_startline": "48", "method_endline": "64", "method_complexity": {"method_NLOC": "6", "method_CCN": "3", "method_NToken": "45", "method_nesting_level": "1"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "26", "deleted_lines": null, "method_info": {"method_name": "__init__", "method_params": "self,args,kwargs", "method_startline": "17", "method_endline": "26", "method_complexity": {"method_NLOC": "8", "method_CCN": "2", "method_NToken": "83", "method_nesting_level": "1"}}}, "hunk_3": {"Ismethod": 1, "added_lines": "89", "deleted_lines": null, "method_info": {"method_name": "__str__", "method_params": "self", "method_startline": "88", "method_endline": "89", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "17", "method_nesting_level": "1"}}}, "hunk_4": {"Ismethod": 1, "added_lines": "80,81,82,83", "deleted_lines": null, "method_info": {"method_name": "shuffle", "method_params": "self", "method_startline": "80", "method_endline": "83", "method_complexity": {"method_NLOC": "4", "method_CCN": "2", "method_NToken": "41", "method_nesting_level": "1"}}}}}, "file_12": {"file_change_type": "DELETE", "file_Nmethod": 0, "file_old_name": "python\\ray\\rllib\\optimizers\\util.py", "file_new_name": "None", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}}, "file_13": {"file_change_type": "MODIFY", "file_Nmethod": 6, "file_old_name": "python\\ray\\rllib\\ppo\\ppo.py", "file_new_name": "python\\ray\\rllib\\ppo\\ppo.py", "file_complexity": {"file_NLOC": "213", "file_CCN": "28", "file_NToken": "1489"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "267,268,269", "deleted_lines": "267,269", "method_info": {"method_name": "compute_action", "method_params": "self,observation", "method_startline": "266", "method_endline": "269", "method_complexity": {"method_NLOC": "4", "method_CCN": "1", "method_NToken": "35", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "219,220,221,222,223,224,225,226,227,228,229,230,231,232,235,236,237", "deleted_lines": "231,234,235,236,237,238,239", "method_info": {"method_name": "_fetch_metrics_from_remote_evaluators", "method_params": "self", "method_startline": "219", "method_endline": "239", "method_complexity": {"method_NLOC": "19", "method_CCN": "7", "method_NToken": "125", "method_nesting_level": "1"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "257,259,264", "deleted_lines": "256,258,261,262", "method_info": {"method_name": "_restore", "method_params": "self,checkpoint_path", "method_startline": "256", "method_endline": "264", "method_complexity": {"method_NLOC": "9", "method_CCN": "2", "method_NToken": "96", "method_nesting_level": "1"}}}, "hunk_3": {"Ismethod": 1, "added_lines": "92,94,95,102", "deleted_lines": "96,98,99", "method_info": {"method_name": "_init", "method_params": "self", "method_startline": "89", "method_endline": "105", "method_complexity": {"method_NLOC": "17", "method_CCN": "3", "method_NToken": "144", "method_nesting_level": "1"}}}, "hunk_4": {"Ismethod": 1, "added_lines": "243,246,247,249,252", "deleted_lines": "241,244,245,246,247,253", "method_info": {"method_name": "_save", "method_params": "self", "method_startline": "241", "method_endline": "254", "method_complexity": {"method_NLOC": "14", "method_CCN": "2", "method_NToken": "98", "method_nesting_level": "1"}}}, "hunk_5": {"Ismethod": 1, "added_lines": "108,110,116,117,124,132,135,209,212,213,214,215,216,217", "deleted_lines": "110,111,112,115,117,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,146,154,157", "method_info": {"method_name": "_train", "method_params": "self", "method_startline": "107", "method_endline": "217", "method_complexity": {"method_NLOC": "98", "method_CCN": "12", "method_NToken": "699", "method_nesting_level": "1"}}}}}, "file_14": {"file_change_type": "RENAME", "file_Nmethod": 0, "file_old_name": "python\\ray\\rllib\\ppo\\runner.py", "file_new_name": "python\\ray\\rllib\\ppo\\ppo_evaluator.py", "file_complexity": {"file_NLOC": "180", "file_CCN": "33", "file_NToken": "1420"}}, "file_15": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "python\\ray\\rllib\\ppo\\rollout.py", "file_new_name": "python\\ray\\rllib\\ppo\\rollout.py", "file_complexity": {"file_NLOC": "21", "file_CCN": "3", "file_NToken": "135"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": null, "deleted_lines": "11,12,13,14", "method_info": {"method_name": "collect_samples", "method_params": "agents,config,observation_filter,reward_filter", "method_startline": "11", "method_endline": "14", "method_complexity": {"method_NLOC": "4", "method_CCN": "1", "method_NToken": "11", "method_nesting_level": "0"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "9,15,16,17,18,19,20,21,25,26,28,29,30,31,32,33,34", "deleted_lines": "11,12,13,14,17,18,22,23,24,28,29,31,32,33,34", "method_info": {"method_name": "collect_samples", "method_params": "agents,config,local_evaluator", "method_startline": "9", "method_endline": "34", "method_complexity": {"method_NLOC": "16", "method_CCN": "3", "method_NToken": "112", "method_nesting_level": "0"}}}}}, "file_16": {"file_change_type": "ADD", "file_Nmethod": 0, "file_old_name": "python\\ray\\rllib\\test\\__init__.py", "file_new_name": "python\\ray\\rllib\\test\\__init__.py", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}}, "file_17": {"file_change_type": "ADD", "file_Nmethod": 0, "file_old_name": "None", "file_new_name": "python\\ray\\rllib\\test\\mock_evaluator.py", "file_complexity": {"file_NLOC": "41", "file_CCN": "12", "file_NToken": "356"}}, "file_18": {"file_change_type": "ADD", "file_Nmethod": 0, "file_old_name": "None", "file_new_name": "python\\ray\\rllib\\test\\test_evaluators.py", "file_complexity": {"file_NLOC": "64", "file_CCN": "5", "file_NToken": "459"}}, "file_19": {"file_change_type": "ADD", "file_Nmethod": 0, "file_old_name": "None", "file_new_name": "python\\ray\\rllib\\test\\test_filters.py", "file_complexity": {"file_NLOC": "87", "file_CCN": "15", "file_NToken": "783"}}, "file_20": {"file_change_type": "ADD", "file_Nmethod": 0, "file_old_name": "None", "file_new_name": "python\\ray\\rllib\\test\\test_optimizers.py", "file_complexity": {"file_NLOC": "21", "file_CCN": "3", "file_NToken": "145"}}, "file_21": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "python\\ray\\rllib\\tuned_examples\\pong-a3c-pytorch.yaml", "file_new_name": "python\\ray\\rllib\\tuned_examples\\pong-a3c-pytorch.yaml", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "12,13,14,15,16,17,18,19,20,21,22", "deleted_lines": "12,15,16"}}}, "file_22": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "python\\ray\\rllib\\tuned_examples\\pong-a3c.yaml", "file_new_name": "python\\ray\\rllib\\tuned_examples\\pong-a3c.yaml", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "12,13,14,15,16,17,18,19,20,21,22,23,24", "deleted_lines": "14,15,16"}}}, "file_23": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "python\\ray\\rllib\\utils\\__init__.py", "file_new_name": "python\\ray\\rllib\\utils\\__init__.py", "file_complexity": {"file_NLOC": "2", "file_CCN": "0", "file_NToken": "15"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "1,2,3", "deleted_lines": null}}}, "file_24": {"file_change_type": "MODIFY", "file_Nmethod": 16, "file_old_name": "python\\ray\\rllib\\utils\\filter.py", "file_new_name": "python\\ray\\rllib\\utils\\filter.py", "file_complexity": {"file_NLOC": "170", "file_CCN": "50", "file_NToken": "1200"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "12", "deleted_lines": null, "method_info": {"method_name": "apply_changes", "method_params": "self,other,args,kwargs", "method_startline": "12", "method_endline": "14", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "16", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "261,262,263,264", "deleted_lines": null, "method_info": {"method_name": "__repr__", "method_params": "self", "method_startline": "261", "method_endline": "264", "method_complexity": {"method_NLOC": "4", "method_CCN": "1", "method_NToken": "34", "method_nesting_level": "1"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "27,28,29", "deleted_lines": null, "method_info": {"method_name": "clear_buffer", "method_params": "self", "method_startline": "27", "method_endline": "29", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "8", "method_nesting_level": "1"}}}, "hunk_3": {"Ismethod": 1, "added_lines": "187,188,189,190,191,192,193,194,195,196,197,198,199", "deleted_lines": "200,201,202,203,204,205,206", "method_info": {"method_name": "sync", "method_params": "self,other", "method_startline": "184", "method_endline": "206", "method_complexity": {"method_NLOC": "7", "method_CCN": "1", "method_NToken": "61", "method_nesting_level": "1"}}}, "hunk_4": {"Ismethod": 1, "added_lines": null, "deleted_lines": "216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233", "method_info": {"method_name": "test_combining_stat", "method_params": "", "method_startline": "216", "method_endline": "233", "method_complexity": {"method_NLOC": "18", "method_CCN": "4", "method_NToken": "140", "method_nesting_level": "0"}}}, "hunk_5": {"Ismethod": 1, "added_lines": "31,32", "deleted_lines": null, "method_info": {"method_name": "as_serializable", "method_params": "self", "method_startline": "31", "method_endline": "32", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "7", "method_nesting_level": "1"}}}, "hunk_6": {"Ismethod": 1, "added_lines": "131", "deleted_lines": "128,129,130,131,132,133,134,135,136,139", "method_info": {"method_name": "update", "method_params": "self,other,copy_buffer", "method_startline": "128", "method_endline": "140", "method_complexity": {"method_NLOC": "4", "method_CCN": "2", "method_NToken": "36", "method_nesting_level": "1"}}}, "hunk_7": {"Ismethod": 1, "added_lines": "12", "deleted_lines": "11", "method_info": {"method_name": "update", "method_params": "self,other,args,kwargs", "method_startline": "11", "method_endline": "13", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "16", "method_nesting_level": "1"}}}, "hunk_8": {"Ismethod": 1, "added_lines": "148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,172", "deleted_lines": "148,149,155,156,157", "method_info": {"method_name": "apply_changes", "method_params": "self,other,with_buffer", "method_startline": "148", "method_endline": "173", "method_complexity": {"method_NLOC": "4", "method_CCN": "2", "method_NToken": "36", "method_nesting_level": "1"}}}, "hunk_9": {"Ismethod": 1, "added_lines": "178", "deleted_lines": null, "method_info": {"method_name": "copy", "method_params": "self", "method_startline": "175", "method_endline": "179", "method_complexity": {"method_NLOC": "4", "method_CCN": "1", "method_NToken": "22", "method_nesting_level": "1"}}}, "hunk_10": {"Ismethod": 1, "added_lines": "241,242,243,244,245", "deleted_lines": null, "method_info": {"method_name": "__init__.lock_wrap", "method_params": "func", "method_startline": "241", "method_endline": "245", "method_complexity": {"method_NLOC": "3", "method_CCN": "1", "method_NToken": "9", "method_nesting_level": "2"}}}, "hunk_11": {"Ismethod": 1, "added_lines": "268,271,272", "deleted_lines": null, "method_info": {"method_name": "get_filter", "method_params": "filter_config,shape", "method_startline": "267", "method_endline": "277", "method_complexity": {"method_NLOC": "10", "method_CCN": "4", "method_NToken": "56", "method_nesting_level": "0"}}}, "hunk_12": {"Ismethod": 1, "added_lines": null, "deleted_lines": "202,203,204,205,206,207,208,209,210,211,212,213", "method_info": {"method_name": "test_running_stat", "method_params": "", "method_startline": "202", "method_endline": "213", "method_complexity": {"method_NLOC": "12", "method_CCN": "4", "method_NToken": "130", "method_nesting_level": "0"}}}, "hunk_13": {"Ismethod": 1, "added_lines": "93,94,95", "deleted_lines": null, "method_info": {"method_name": "update", "method_params": "self,other", "method_startline": "89", "method_endline": "102", "method_complexity": {"method_NLOC": "13", "method_CCN": "2", "method_NToken": "91", "method_nesting_level": "1"}}}, "hunk_14": {"Ismethod": 1, "added_lines": "242,243,244", "deleted_lines": null, "method_info": {"method_name": "__init__.__init__.lock_wrap.wrapper", "method_params": "args,kwargs", "method_startline": "242", "method_endline": "244", "method_complexity": {"method_NLOC": "3", "method_CCN": "1", "method_NToken": "23", "method_nesting_level": "3"}}}, "hunk_15": {"Ismethod": 1, "added_lines": "237,238,239,240,241,242,243,244,245,246,247", "deleted_lines": "237", "method_info": {"method_name": "__init__", "method_params": "self,args,kwargs", "method_startline": "237", "method_endline": "247", "method_complexity": {"method_NLOC": "5", "method_CCN": "1", "method_NToken": "47", "method_nesting_level": "1"}}}}}, "file_25": {"file_change_type": "ADD", "file_Nmethod": 0, "file_old_name": "None", "file_new_name": "python\\ray\\rllib\\utils\\filter_manager.py", "file_complexity": {"file_NLOC": "18", "file_CCN": "6", "file_NToken": "124"}}, "file_26": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "python\\ray\\rllib\\utils\\process_rollout.py", "file_new_name": "python\\ray\\rllib\\utils\\process_rollout.py", "file_complexity": {"file_NLOC": "30", "file_CCN": "6", "file_NToken": "337"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "19,20,21,22", "deleted_lines": "19", "method_info": {"method_name": "process_rollout", "method_params": "rollout,reward_filter,gamma,lambda_,use_gae", "method_startline": "14", "method_endline": "54", "method_complexity": {"method_NLOC": "22", "method_CCN": "5", "method_NToken": "266", "method_nesting_level": "0"}}}}}, "file_27": {"file_change_type": "MODIFY", "file_Nmethod": 7, "file_old_name": "python\\ray\\rllib\\utils\\sampler.py", "file_new_name": "python\\ray\\rllib\\utils\\sampler.py", "file_complexity": {"file_NLOC": "181", "file_CCN": "42", "file_NToken": "980"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": null, "deleted_lines": "221,222", "method_info": {"method_name": "_pull_batch_from_queue", "method_params": "self", "method_startline": "221", "method_endline": "234", "method_complexity": {"method_NLOC": "13", "method_CCN": "5", "method_NToken": "73", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "135", "deleted_lines": null, "method_info": {"method_name": "_run", "method_params": "self", "method_startline": "132", "method_endline": "144", "method_complexity": {"method_NLOC": "10", "method_CCN": "3", "method_NToken": "70", "method_nesting_level": "1"}}}, "hunk_2": {"Ismethod": 1, "added_lines": null, "deleted_lines": "11,12,13", "method_info": {"method_name": "lock_wrap.wrapper", "method_params": "args,kwargs", "method_startline": "11", "method_endline": "13", "method_complexity": {"method_NLOC": "3", "method_CCN": "1", "method_NToken": "21", "method_nesting_level": "1"}}}, "hunk_3": {"Ismethod": 1, "added_lines": null, "deleted_lines": "10,11,12,13,14", "method_info": {"method_name": "lock_wrap", "method_params": "func,lock", "method_startline": "10", "method_endline": "14", "method_complexity": {"method_NLOC": "3", "method_CCN": "1", "method_NToken": "11", "method_nesting_level": "0"}}}, "hunk_4": {"Ismethod": 1, "added_lines": "112,113", "deleted_lines": "107,108,109,110,111,112,113", "method_info": {"method_name": "update_obs_filter", "method_params": "self,other_filter", "method_startline": "107", "method_endline": "113", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "16", "method_nesting_level": "1"}}}, "hunk_5": {"Ismethod": 1, "added_lines": null, "deleted_lines": "218,219", "method_info": {"method_name": "get_data", "method_params": "self", "method_startline": "211", "method_endline": "219", "method_complexity": {"method_NLOC": "4", "method_CCN": "1", "method_NToken": "21", "method_nesting_level": "1"}}}, "hunk_6": {"Ismethod": 1, "added_lines": null, "deleted_lines": "92,93,94,95,96,97,98,99,100,101,102,103,104,105", "method_info": {"method_name": "get_obs_filter", "method_params": "self,flush", "method_startline": "92", "method_endline": "105", "method_complexity": {"method_NLOC": "5", "method_CCN": "3", "method_NToken": "40", "method_nesting_level": "1"}}}}}}}}