{"BR": {"BR_id": "3045", "BR_author": "pschafhalter", "BRopenT": "2018-10-10T20:43:34Z", "BRcloseT": "2018-10-18T23:28:48Z", "BR_text": {"BRsummary": "Tasks hang after restarting Ray", "BRdescription": "\n <denchmark-h:h3>System information</denchmark-h>\n \n \n OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Ubuntu 16.04, 18.04\n Ray installed from (source or binary): source\n Ray version: 0.5.3\n Python version: 3.5.2, 3.6.6\n Exact command to reproduce:\n \n import ray\n \n @ray.remote\n def f():\n    return 1\n \n ray.init()\n print(ray.get(f.remote()))\n \n ray.shutdown()\n ray.init()\n \n print(ray.get(f.remote()))   # Ray hangs here\n <denchmark-h:h3>Describe the problem</denchmark-h>\n \n Ray hangs when launching tasks after restarting Ray with ray.shutdown(); ray.init(). It appears that there's an issue with persisting remote functions/classes because the following code snippet works which re-defines f():\n import ray\n \n @ray.remote\n def f():\n    return 1\n \n ray.init()\n print(ray.get(f.remote()))\n \n ray.shutdown()\n ray.init()\n \n @ray.remote\n def f():\n    return 1\n \n print(ray.get(f.remote()))   # Ray does not hang here\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "pschafhalter", "commentT": "2018-10-16T04:46:07Z", "comment_text": "\n \t\tThis is a known issue, and I guess we haven't figured out the desired behavior yet. E.g., see <denchmark-link:https://github.com/ray-project/ray/issues/1798>#1798</denchmark-link>\n  or <denchmark-link:https://github.com/ray-project/ray/issues/1970>#1970</denchmark-link>\n .\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "pschafhalter", "commentT": "2018-10-18T23:28:48Z", "comment_text": "\n \t\tClosing, to consolidate with <denchmark-link:https://github.com/ray-project/ray/issues/1970>#1970</denchmark-link>\n .\n \t\t"}}}, "commit": {"commit_id": "a41bbc10ef5c3e0a8a3e8a36dbbe18171b556ada", "commit_author": "Peter Schafhalter", "commitT": "2018-10-16 22:48:30-07:00", "commit_complexity": {"commit_NLOC": "1.0", "commit_CCN": "1.0", "commit_Nprams": "1.0"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": ".travis.yml", "file_new_name": ".travis.yml", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "136,212", "deleted_lines": null}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "doc\\source\\index.rst", "file_new_name": "doc\\source\\index.rst", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "138", "deleted_lines": null}}}, "file_2": {"file_change_type": "ADD", "file_Nmethod": 0, "file_old_name": "None", "file_new_name": "doc\\source\\security.rst", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}}, "file_3": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "python\\ray\\experimental\\state.py", "file_new_name": "python\\ray\\experimental\\state.py", "file_complexity": {"file_NLOC": "1029", "file_CCN": "166", "file_NToken": "6562"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "81", "deleted_lines": null, "method_info": {"method_name": "_initialize_global_state", "method_params": "self,redis_ip_address,redis_port,redis_password,timeout", "method_startline": "78", "method_endline": "82", "method_complexity": {"method_NLOC": "5", "method_CCN": "1", "method_NToken": "17", "method_nesting_level": "1"}}}}}, "file_4": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "python\\ray\\log_monitor.py", "file_new_name": "python\\ray\\log_monitor.py", "file_complexity": {"file_NLOC": "135", "file_CCN": "15", "file_NToken": "634"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "38,39,40,41,42", "deleted_lines": "38,42", "method_info": {"method_name": "__init__", "method_params": "self,redis_ip_address,redis_port,node_ip_address,redis_password", "method_startline": "38", "method_endline": "42", "method_complexity": {"method_NLOC": "5", "method_CCN": "1", "method_NToken": "15", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "38,39,40,41,42", "deleted_lines": "38,42", "method_info": {"method_name": "__init__", "method_params": "self,redis_ip_address,redis_port,node_ip_address", "method_startline": "38", "method_endline": "45", "method_complexity": {"method_NLOC": "7", "method_CCN": "1", "method_NToken": "52", "method_nesting_level": "1"}}}}}, "file_5": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "python\\ray\\monitor.py", "file_new_name": "python\\ray\\monitor.py", "file_complexity": {"file_NLOC": "527", "file_CCN": "109", "file_NToken": "3384"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "73,74,75,76,77,80,81,84,126,127,128", "deleted_lines": "73,76,79,121", "method_info": {"method_name": "__init__", "method_params": "self,redis_address,redis_port,autoscaling_config", "method_startline": "73", "method_endline": "128", "method_complexity": {"method_NLOC": "45", "method_CCN": "7", "method_NToken": "307", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "73,74,75,76,77", "deleted_lines": "73,76", "method_info": {"method_name": "__init__", "method_params": "self,redis_address,redis_port,autoscaling_config,redis_password", "method_startline": "73", "method_endline": "77", "method_complexity": {"method_NLOC": "5", "method_CCN": "1", "method_NToken": "15", "method_nesting_level": "1"}}}}}, "file_6": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "python\\ray\\scripts\\scripts.py", "file_new_name": "python\\ray\\scripts\\scripts.py", "file_complexity": {"file_NLOC": "543", "file_CCN": "18", "file_NToken": "2566"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "198,199,200,201,202", "deleted_lines": null, "method_info": {"method_name": "start", "method_params": "node_ip_address,redis_address,redis_port,num_redis_shards,redis_max_clients,redis_password,redis_shard_ports,object_manager_port,object_store_memory,num_workers,num_cpus,num_gpus,resources,head,no_ui,block,plasma_directory,huge_pages,autoscaling_config,use_raylet,no_redirect_worker_output,no_redirect_output,plasma_store_socket_name,raylet_socket_name,temp_dir", "method_startline": "197", "method_endline": "203", "method_complexity": {"method_NLOC": "7", "method_CCN": "1", "method_NToken": "53", "method_nesting_level": "0"}}}, "hunk_1": {"Ismethod": 1, "added_lines": null, "deleted_lines": "193,194,195,196", "method_info": {"method_name": "start", "method_params": "node_ip_address,redis_address,redis_port,num_redis_shards,redis_max_clients,redis_shard_ports,object_manager_port,object_store_memory,num_workers,num_cpus,num_gpus,resources,head,no_ui,block,plasma_directory,huge_pages,autoscaling_config,use_raylet,no_redirect_worker_output,no_redirect_output,plasma_store_socket_name,raylet_socket_name,temp_dir", "method_startline": "192", "method_endline": "197", "method_complexity": {"method_NLOC": "6", "method_CCN": "1", "method_NToken": "51", "method_nesting_level": "0"}}}}}, "file_7": {"file_change_type": "MODIFY", "file_Nmethod": 25, "file_old_name": "python\\ray\\services.py", "file_new_name": "python\\ray\\services.py", "file_complexity": {"file_NLOC": "1071", "file_CCN": "73", "file_NToken": "5674"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "1021,1022", "deleted_lines": null, "method_info": {"method_name": "start_raylet", "method_params": "redis_address,node_ip_address,raylet_name,plasma_store_name,worker_path,resources,num_workers,use_valgrind,use_profiler,stdout_file,stderr_file,cleanup,redis_password", "method_startline": "1010", "method_endline": "1022", "method_complexity": {"method_NLOC": "13", "method_CCN": "1", "method_NToken": "45", "method_nesting_level": "0"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "1724", "deleted_lines": null, "method_info": {"method_name": "start_ray_node", "method_params": "node_ip_address,redis_address,object_manager_ports,num_workers,num_local_schedulers,object_store_memory,redis_password,worker_path,cleanup,redirect_worker_output,redirect_output,resources,plasma_directory,huge_pages,use_raylet,plasma_store_socket_name,raylet_socket_name,temp_dir", "method_startline": "1718", "method_endline": "1735", "method_complexity": {"method_NLOC": "18", "method_CCN": "1", "method_NToken": "71", "method_nesting_level": "0"}}}, "hunk_2": {"Ismethod": 1, "added_lines": null, "deleted_lines": "914", "method_info": {"method_name": "start_local_scheduler", "method_params": "redis_address,node_ip_address,plasma_store_name,plasma_manager_name,worker_path,plasma_address,stdout_file,stderr_file,cleanup,resources,num_workers", "method_startline": "904", "method_endline": "914", "method_complexity": {"method_NLOC": "11", "method_CCN": "1", "method_NToken": "37", "method_nesting_level": "0"}}}, "hunk_3": {"Ismethod": 1, "added_lines": "1136,1137", "deleted_lines": null, "method_info": {"method_name": "start_plasma_store", "method_params": "node_ip_address,redis_address,object_manager_port,store_stdout_file,store_stderr_file,manager_stdout_file,manager_stderr_file,objstore_memory,cleanup,plasma_directory,huge_pages,use_raylet,plasma_store_socket_name,redis_password", "method_startline": "1124", "method_endline": "1137", "method_complexity": {"method_NLOC": "14", "method_CCN": "1", "method_NToken": "55", "method_nesting_level": "0"}}}, "hunk_4": {"Ismethod": 1, "added_lines": "1382", "deleted_lines": null, "method_info": {"method_name": "start_ray_processes", "method_params": "address_info,node_ip_address,redis_port,redis_shard_ports,num_workers,num_local_schedulers,object_store_memory,num_redis_shards,redis_max_clients,redis_protected_mode,redis_password,worker_path,cleanup,redirect_worker_output,redirect_output,include_global_scheduler,include_log_monitor,include_webui,start_workers_from_local_scheduler,resources,plasma_directory,huge_pages,autoscaling_config,use_raylet,plasma_store_socket_name,raylet_socket_name,temp_dir", "method_startline": "1372", "method_endline": "1398", "method_complexity": {"method_NLOC": "27", "method_CCN": "1", "method_NToken": "111", "method_nesting_level": "0"}}}, "hunk_5": {"Ismethod": 1, "added_lines": "264,265,266,267,279,285", "deleted_lines": "264,281", "method_info": {"method_name": "record_log_files_in_redis", "method_params": "redis_address,node_ip_address,log_files", "method_startline": "264", "method_endline": "285", "method_complexity": {"method_NLOC": "8", "method_CCN": "3", "method_NToken": "63", "method_nesting_level": "0"}}}, "hunk_6": {"Ismethod": 1, "added_lines": "802,803", "deleted_lines": null, "method_info": {"method_name": "start_global_scheduler", "method_params": "redis_address,node_ip_address,stdout_file,stderr_file,cleanup,redis_password", "method_startline": "798", "method_endline": "803", "method_complexity": {"method_NLOC": "6", "method_CCN": "1", "method_NToken": "23", "method_nesting_level": "0"}}}, "hunk_7": {"Ismethod": 1, "added_lines": "264,265,266,267", "deleted_lines": "264", "method_info": {"method_name": "record_log_files_in_redis", "method_params": "redis_address,node_ip_address,log_files,password", "method_startline": "264", "method_endline": "267", "method_complexity": {"method_NLOC": "4", "method_CCN": "1", "method_NToken": "13", "method_nesting_level": "0"}}}, "hunk_8": {"Ismethod": 1, "added_lines": "438", "deleted_lines": null, "method_info": {"method_name": "start_redis", "method_params": "node_ip_address,port,redis_shard_ports,num_redis_shards,redis_max_clients,use_raylet,redirect_output,redirect_worker_output,cleanup,protected_mode,password,use_credis", "method_startline": "428", "method_endline": "439", "method_complexity": {"method_NLOC": "12", "method_CCN": "1", "method_NToken": "49", "method_nesting_level": "0"}}}, "hunk_9": {"Ismethod": 1, "added_lines": "620", "deleted_lines": null, "method_info": {"method_name": "_start_redis_instance", "method_params": "node_ip_address,port,redis_max_clients,num_retries,stdout_file,stderr_file,cleanup,protected_mode,password,executable,modules", "method_startline": "612", "method_endline": "622", "method_complexity": {"method_NLOC": "11", "method_CCN": "1", "method_NToken": "47", "method_nesting_level": "0"}}}, "hunk_10": {"Ismethod": 1, "added_lines": "292,296", "deleted_lines": "288,292,300", "method_info": {"method_name": "create_redis_client", "method_params": "redis_address", "method_startline": "288", "method_endline": "300", "method_complexity": {"method_NLOC": "3", "method_CCN": "1", "method_NToken": "32", "method_nesting_level": "0"}}}, "hunk_11": {"Ismethod": 1, "added_lines": "955,956", "deleted_lines": null, "method_info": {"method_name": "start_local_scheduler", "method_params": "redis_address,node_ip_address,plasma_store_name,plasma_manager_name,worker_path,plasma_address,stdout_file,stderr_file,cleanup,resources,num_workers,redis_password", "method_startline": "945", "method_endline": "956", "method_complexity": {"method_NLOC": "12", "method_CCN": "1", "method_NToken": "41", "method_nesting_level": "0"}}}, "hunk_12": {"Ismethod": 1, "added_lines": "304,305,308,309,310,311,320,327,328", "deleted_lines": "303,318", "method_info": {"method_name": "wait_for_redis_to_start", "method_params": "redis_ip_address,redis_port,num_retries", "method_startline": "303", "method_endline": "338", "method_complexity": {"method_NLOC": "19", "method_CCN": "4", "method_NToken": "91", "method_nesting_level": "0"}}}, "hunk_13": {"Ismethod": 1, "added_lines": "1307,1308", "deleted_lines": null, "method_info": {"method_name": "start_monitor", "method_params": "redis_address,node_ip_address,stdout_file,stderr_file,cleanup,autoscaling_config,redis_password", "method_startline": "1302", "method_endline": "1308", "method_complexity": {"method_NLOC": "7", "method_CCN": "1", "method_NToken": "27", "method_nesting_level": "0"}}}, "hunk_14": {"Ismethod": 1, "added_lines": "308,309,310,311", "deleted_lines": null, "method_info": {"method_name": "wait_for_redis_to_start", "method_params": "redis_ip_address,redis_port,password,num_retries", "method_startline": "308", "method_endline": "311", "method_complexity": {"method_NLOC": "4", "method_CCN": "1", "method_NToken": "15", "method_nesting_level": "0"}}}, "hunk_15": {"Ismethod": 1, "added_lines": null, "deleted_lines": "976", "method_info": {"method_name": "start_raylet", "method_params": "redis_address,node_ip_address,raylet_name,plasma_store_name,worker_path,resources,num_workers,use_valgrind,use_profiler,stdout_file,stderr_file,cleanup", "method_startline": "965", "method_endline": "976", "method_complexity": {"method_NLOC": "12", "method_CCN": "1", "method_NToken": "41", "method_nesting_level": "0"}}}, "hunk_16": {"Ismethod": 1, "added_lines": null, "deleted_lines": "731", "method_info": {"method_name": "start_log_monitor", "method_params": "redis_address,node_ip_address,stdout_file,stderr_file,cleanup", "method_startline": "727", "method_endline": "731", "method_complexity": {"method_NLOC": "5", "method_CCN": "1", "method_NToken": "19", "method_nesting_level": "0"}}}, "hunk_17": {"Ismethod": 1, "added_lines": "1824", "deleted_lines": null, "method_info": {"method_name": "start_ray_head", "method_params": "address_info,node_ip_address,redis_port,redis_shard_ports,num_workers,num_local_schedulers,object_store_memory,worker_path,cleanup,redirect_worker_output,redirect_output,start_workers_from_local_scheduler,resources,num_redis_shards,redis_max_clients,redis_protected_mode,redis_password,include_webui,plasma_directory,huge_pages,autoscaling_config,use_raylet,plasma_store_socket_name,raylet_socket_name,temp_dir", "method_startline": "1808", "method_endline": "1832", "method_complexity": {"method_NLOC": "25", "method_CCN": "1", "method_NToken": "103", "method_nesting_level": "0"}}}, "hunk_18": {"Ismethod": 1, "added_lines": null, "deleted_lines": "1286", "method_info": {"method_name": "start_raylet_monitor", "method_params": "redis_address,stdout_file,stderr_file,cleanup", "method_startline": "1283", "method_endline": "1286", "method_complexity": {"method_NLOC": "4", "method_CCN": "1", "method_NToken": "17", "method_nesting_level": "0"}}}, "hunk_19": {"Ismethod": 1, "added_lines": "1246", "deleted_lines": "1251", "method_info": {"method_name": "start_monitor", "method_params": "redis_address,node_ip_address,stdout_file,stderr_file,cleanup,autoscaling_config", "method_startline": "1246", "method_endline": "1251", "method_complexity": {"method_NLOC": "6", "method_CCN": "1", "method_NToken": "23", "method_nesting_level": "0"}}}, "hunk_20": {"Ismethod": 1, "added_lines": "764,765", "deleted_lines": "765", "method_info": {"method_name": "start_global_scheduler", "method_params": "redis_address,node_ip_address,stdout_file,stderr_file,cleanup", "method_startline": "761", "method_endline": "765", "method_complexity": {"method_NLOC": "5", "method_CCN": "1", "method_NToken": "19", "method_nesting_level": "0"}}}, "hunk_21": {"Ismethod": 1, "added_lines": "1348,1349", "deleted_lines": null, "method_info": {"method_name": "start_raylet_monitor", "method_params": "redis_address,stdout_file,stderr_file,cleanup,redis_password", "method_startline": "1345", "method_endline": "1349", "method_complexity": {"method_NLOC": "5", "method_CCN": "1", "method_NToken": "21", "method_nesting_level": "0"}}}, "hunk_22": {"Ismethod": 1, "added_lines": "764,765", "deleted_lines": "765", "method_info": {"method_name": "start_log_monitor", "method_params": "redis_address,node_ip_address,stdout_file,stderr_file,cleanup,redis_password", "method_startline": "760", "method_endline": "765", "method_complexity": {"method_NLOC": "6", "method_CCN": "1", "method_NToken": "23", "method_nesting_level": "0"}}}, "hunk_23": {"Ismethod": 1, "added_lines": "1079,1080", "deleted_lines": "1084", "method_info": {"method_name": "start_plasma_store", "method_params": "node_ip_address,redis_address,object_manager_port,store_stdout_file,store_stderr_file,manager_stdout_file,manager_stderr_file,objstore_memory,cleanup,plasma_directory,huge_pages,use_raylet,plasma_store_socket_name", "method_startline": "1072", "method_endline": "1084", "method_complexity": {"method_NLOC": "13", "method_CCN": "1", "method_NToken": "51", "method_nesting_level": "0"}}}, "hunk_24": {"Ismethod": 1, "added_lines": "292,296,304,305", "deleted_lines": "292,300,303", "method_info": {"method_name": "create_redis_client", "method_params": "redis_address,password", "method_startline": "292", "method_endline": "305", "method_complexity": {"method_NLOC": "4", "method_CCN": "1", "method_NToken": "40", "method_nesting_level": "0"}}}}}, "file_8": {"file_change_type": "ADD", "file_Nmethod": 0, "file_old_name": "None", "file_new_name": "python\\ray\\test\\test_ray_init.py", "file_complexity": {"file_NLOC": "47", "file_CCN": "6", "file_NToken": "297"}}, "file_9": {"file_change_type": "MODIFY", "file_Nmethod": 8, "file_old_name": "python\\ray\\worker.py", "file_new_name": "python\\ray\\worker.py", "file_complexity": {"file_NLOC": "1538", "file_CCN": "194", "file_NToken": "8639"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "1663", "deleted_lines": null, "method_info": {"method_name": "init", "method_params": "redis_address,num_cpus,num_gpus,resources,object_store_memory,node_ip_address,object_id_seed,num_workers,local_mode,driver_mode,redirect_worker_output,redirect_output,ignore_reinit_error,num_redis_shards,redis_max_clients,redis_password,plasma_directory,huge_pages,include_webui,use_raylet,configure_logging,logging_level,logging_format,plasma_store_socket_name,raylet_socket_name,temp_dir", "method_startline": "1648", "method_endline": "1673", "method_complexity": {"method_NLOC": "26", "method_CCN": "1", "method_NToken": "111", "method_nesting_level": "0"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "1413", "deleted_lines": null, "method_info": {"method_name": "_init", "method_params": "address_info,start_ray_local,object_id_seed,num_workers,num_local_schedulers,object_store_memory,local_mode,driver_mode,redirect_worker_output,redirect_output,start_workers_from_local_scheduler,num_cpus,num_gpus,resources,num_redis_shards,redis_max_clients,redis_password,plasma_directory,huge_pages,include_webui,use_raylet,plasma_store_socket_name,raylet_socket_name,temp_dir", "method_startline": "1397", "method_endline": "1420", "method_complexity": {"method_NLOC": "24", "method_CCN": "1", "method_NToken": "99", "method_nesting_level": "0"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "2000,2001", "deleted_lines": null, "method_info": {"method_name": "connect", "method_params": "info,object_id_seed,mode,worker,use_raylet,redis_password", "method_startline": "1996", "method_endline": "2001", "method_complexity": {"method_NLOC": "6", "method_CCN": "1", "method_NToken": "25", "method_nesting_level": "0"}}}, "hunk_3": {"Ismethod": 1, "added_lines": "1226", "deleted_lines": "1226", "method_info": {"method_name": "get_address_info_from_redis_helper", "method_params": "redis_address,node_ip_address,use_raylet", "method_startline": "1224", "method_endline": "1226", "method_complexity": {"method_NLOC": "3", "method_CCN": "1", "method_NToken": "11", "method_nesting_level": "0"}}}, "hunk_4": {"Ismethod": 1, "added_lines": "1336,1337", "deleted_lines": "1335", "method_info": {"method_name": "get_address_info_from_redis", "method_params": "redis_address,node_ip_address,num_retries,use_raylet,redis_password", "method_startline": "1333", "method_endline": "1337", "method_complexity": {"method_NLOC": "5", "method_CCN": "1", "method_NToken": "19", "method_nesting_level": "0"}}}, "hunk_5": {"Ismethod": 1, "added_lines": "1226,1227", "deleted_lines": "1226", "method_info": {"method_name": "get_address_info_from_redis_helper", "method_params": "redis_address,node_ip_address,use_raylet,redis_password", "method_startline": "1224", "method_endline": "1227", "method_complexity": {"method_NLOC": "4", "method_CCN": "1", "method_NToken": "15", "method_nesting_level": "0"}}}, "hunk_6": {"Ismethod": 1, "added_lines": null, "deleted_lines": "1978", "method_info": {"method_name": "connect", "method_params": "info,object_id_seed,mode,worker,use_raylet", "method_startline": "1974", "method_endline": "1978", "method_complexity": {"method_NLOC": "5", "method_CCN": "1", "method_NToken": "21", "method_nesting_level": "0"}}}, "hunk_7": {"Ismethod": 1, "added_lines": null, "deleted_lines": "1335", "method_info": {"method_name": "get_address_info_from_redis", "method_params": "redis_address,node_ip_address,num_retries,use_raylet", "method_startline": "1332", "method_endline": "1335", "method_complexity": {"method_NLOC": "4", "method_CCN": "1", "method_NToken": "15", "method_nesting_level": "0"}}}}}, "file_10": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "python\\ray\\workers\\default_worker.py", "file_new_name": "python\\ray\\workers\\default_worker.py", "file_complexity": {"file_NLOC": "99", "file_CCN": "0", "file_NToken": "428"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "27,28,29,30,31,32,76,91,92,93,94", "deleted_lines": "84"}}}, "file_11": {"file_change_type": "MODIFY", "file_Nmethod": 6, "file_old_name": "src\\ray\\gcs\\client.cc", "file_new_name": "src\\ray\\gcs\\client.cc", "file_complexity": {"file_NLOC": "148", "file_CCN": "34", "file_NToken": "1371"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": null, "deleted_lines": "146,147", "method_info": {"method_name": "ray::gcs::AsyncGcsClient::AsyncGcsClient", "method_params": "address,port", "method_startline": "146", "method_endline": "147", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "29", "method_nesting_level": "2"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "153,154,155", "deleted_lines": null, "method_info": {"method_name": "ray::gcs::AsyncGcsClient::AsyncGcsClient", "method_params": "address,port,password", "method_startline": "153", "method_endline": "155", "method_complexity": {"method_NLOC": "3", "method_CCN": "1", "method_NToken": "42", "method_nesting_level": "2"}}}, "hunk_2": {"Ismethod": 1, "added_lines": null, "deleted_lines": "129,130", "method_info": {"method_name": "ray::gcs::AsyncGcsClient::AsyncGcsClient", "method_params": "address,port,client_id,is_test_client", "method_startline": "128", "method_endline": "130", "method_complexity": {"method_NLOC": "3", "method_CCN": "1", "method_NToken": "41", "method_nesting_level": "2"}}}, "hunk_3": {"Ismethod": 1, "added_lines": "74,75,78,79,99,100,104,105", "deleted_lines": "74,77,97,98,102", "method_info": {"method_name": "ray::gcs::AsyncGcsClient::AsyncGcsClient", "method_params": "address,port,client_id,command_type,is_test_client", "method_startline": "72", "method_endline": "123", "method_complexity": {"method_NLOC": "38", "method_CCN": "6", "method_NToken": "415", "method_nesting_level": "2"}}}, "hunk_4": {"Ismethod": 1, "added_lines": "132,133,134,135", "deleted_lines": "133,134", "method_info": {"method_name": "ray::gcs::AsyncGcsClient::AsyncGcsClient", "method_params": "address,port,client_id,is_test_client,password", "method_startline": "131", "method_endline": "135", "method_complexity": {"method_NLOC": "5", "method_CCN": "1", "method_NToken": "52", "method_nesting_level": "2"}}}, "hunk_5": {"Ismethod": 1, "added_lines": "74,75,78,79,99,100,104,105", "deleted_lines": "74,77,97,98,102", "method_info": {"method_name": "ray::gcs::AsyncGcsClient::AsyncGcsClient", "method_params": "address,port,client_id,command_type,is_test_client,password", "method_startline": "72", "method_endline": "126", "method_complexity": {"method_NLOC": "41", "method_CCN": "6", "method_NToken": "430", "method_nesting_level": "2"}}}}}, "file_12": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "src\\ray\\gcs\\client.h", "file_new_name": "src\\ray\\gcs\\client.h", "file_complexity": {"file_NLOC": "81", "file_CCN": "2", "file_NToken": "688"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "34,35,37,41", "deleted_lines": "34,36,40"}}}, "file_13": {"file_change_type": "MODIFY", "file_Nmethod": 4, "file_old_name": "src\\ray\\gcs\\redis_context.cc", "file_new_name": "src\\ray\\gcs\\redis_context.cc", "file_complexity": {"file_NLOC": "251", "file_CCN": "54", "file_NToken": "1841"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "149,150,151,152,153,154,155,156,157,158", "deleted_lines": null, "method_info": {"method_name": "ray::gcs::AuthenticateRedis", "method_params": "context,password", "method_startline": "149", "method_endline": "158", "method_complexity": {"method_NLOC": "10", "method_CCN": "3", "method_NToken": "80", "method_nesting_level": "2"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "160,161,181,182,194,195,202,203", "deleted_lines": null, "method_info": {"method_name": "ray::gcs::RedisContext::Connect", "method_params": "address,port,sharding,password", "method_startline": "160", "method_endline": "205", "method_complexity": {"method_NLOC": "39", "method_CCN": "10", "method_NToken": "308", "method_nesting_level": "2"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "138,139,140,141,142,143,144,145,146,147", "deleted_lines": "138", "method_info": {"method_name": "ray::gcs::AuthenticateRedis", "method_params": "context,password", "method_startline": "138", "method_endline": "147", "method_complexity": {"method_NLOC": "10", "method_CCN": "2", "method_NToken": "73", "method_nesting_level": "2"}}}, "hunk_3": {"Ismethod": 1, "added_lines": "138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161", "deleted_lines": "138", "method_info": {"method_name": "ray::gcs::RedisContext::Connect", "method_params": "address,port,sharding", "method_startline": "138", "method_endline": "176", "method_complexity": {"method_NLOC": "35", "method_CCN": "10", "method_NToken": "269", "method_nesting_level": "2"}}}}}, "file_14": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "src\\ray\\gcs\\redis_context.h", "file_new_name": "src\\ray\\gcs\\redis_context.h", "file_complexity": {"file_NLOC": "53", "file_CCN": "7", "file_NToken": "314"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "54,55", "deleted_lines": "54"}}}, "file_15": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "src\\ray\\raylet\\main.cc", "file_new_name": "src\\ray\\raylet\\main.cc", "file_complexity": {"file_NLOC": "92", "file_CCN": "9", "file_NToken": "835"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "22,34,96,97,105,106", "deleted_lines": "22,95,103,104", "method_info": {"method_name": "main", "method_params": "argc", "method_startline": "17", "method_endline": "121", "method_complexity": {"method_NLOC": "82", "method_CCN": "8", "method_NToken": "763", "method_nesting_level": "0"}}}}}, "file_16": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "src\\ray\\raylet\\monitor.cc", "file_new_name": "src\\ray\\raylet\\monitor.cc", "file_complexity": {"file_NLOC": "55", "file_CCN": "7", "file_NToken": "407"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "18,19", "deleted_lines": "18,19", "method_info": {"method_name": "ray::raylet::Monitor::Monitor", "method_params": "io_service,redis_address,redis_port,redis_password", "method_startline": "17", "method_endline": "23", "method_complexity": {"method_NLOC": "7", "method_CCN": "1", "method_NToken": "68", "method_nesting_level": "2"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "18,19", "deleted_lines": "18,19", "method_info": {"method_name": "ray::raylet::Monitor::Monitor", "method_params": "io_service,redis_address,redis_port", "method_startline": "17", "method_endline": "23", "method_complexity": {"method_NLOC": "7", "method_CCN": "1", "method_NToken": "59", "method_nesting_level": "2"}}}}}, "file_17": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "src\\ray\\raylet\\monitor.h", "file_new_name": "src\\ray\\raylet\\monitor.h", "file_complexity": {"file_NLOC": "22", "file_CCN": "0", "file_NToken": "105"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "22", "deleted_lines": "22"}}}, "file_18": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "src\\ray\\raylet\\monitor_main.cc", "file_new_name": "src\\ray\\raylet\\monitor_main.cc", "file_complexity": {"file_NLOC": "17", "file_CCN": "3", "file_NToken": "152"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "11,15,19", "deleted_lines": "11,18", "method_info": {"method_name": "main", "method_params": "argc", "method_startline": "6", "method_endline": "22", "method_complexity": {"method_NLOC": "14", "method_CCN": "3", "method_NToken": "145", "method_nesting_level": "0"}}}}}, "file_19": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "src\\ray\\raylet\\object_manager_integration_test.cc", "file_new_name": "src\\ray\\raylet\\object_manager_integration_test.cc", "file_complexity": {"file_NLOC": "193", "file_CCN": "23", "file_NToken": "1585"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "63,73", "deleted_lines": "63,73", "method_info": {"method_name": "ray::raylet::TestObjectManagerBase::SetUp", "method_params": "", "method_startline": "51", "method_endline": "79", "method_complexity": {"method_NLOC": "22", "method_CCN": "1", "method_NToken": "207", "method_nesting_level": "3"}}}}}, "file_20": {"file_change_type": "MODIFY", "file_Nmethod": 3, "file_old_name": "src\\ray\\raylet\\raylet.cc", "file_new_name": "src\\ray\\raylet\\raylet.cc", "file_complexity": {"file_NLOC": "121", "file_CCN": "13", "file_NToken": "1010"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "56", "deleted_lines": null, "method_info": {"method_name": "ray::raylet::Raylet::RegisterGcs", "method_params": "node_ip_address,raylet_socket_name,object_store_socket_name,redis_address,redis_port,redis_password,io_service,node_manager_config", "method_startline": "52", "method_endline": "80", "method_complexity": {"method_NLOC": "24", "method_CCN": "2", "method_NToken": "216", "method_nesting_level": "2"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "16,17,37,38,39", "deleted_lines": "16,36,37,38", "method_info": {"method_name": "ray::raylet::Raylet::Raylet", "method_params": "main_service,socket_name,node_ip_address,redis_address,redis_port,node_manager_config,object_manager_config,gcs_client", "method_startline": "14", "method_endline": "41", "method_complexity": {"method_NLOC": "25", "method_CCN": "1", "method_NToken": "223", "method_nesting_level": "2"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "16,17,37,38,39", "deleted_lines": "16,36,37,38", "method_info": {"method_name": "ray::raylet::Raylet::Raylet", "method_params": "main_service,socket_name,node_ip_address,redis_address,redis_port,redis_password,node_manager_config,object_manager_config,gcs_client", "method_startline": "14", "method_endline": "42", "method_complexity": {"method_NLOC": "26", "method_CCN": "1", "method_NToken": "232", "method_nesting_level": "2"}}}}}, "file_21": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "src\\ray\\raylet\\raylet.h", "file_new_name": "src\\ray\\raylet\\raylet.h", "file_complexity": {"file_NLOC": "47", "file_CCN": "0", "file_NToken": "316"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "32,40,41,54", "deleted_lines": "39"}}}}}}