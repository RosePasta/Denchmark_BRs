{"BR": {"BR_id": "512", "BR_author": "robertnishihara", "BRopenT": "2017-05-04T06:27:11Z", "BRcloseT": "2017-10-03T02:25:40Z", "BR_text": {"BRsummary": "Ray serialization fails on subtypes of dictionaries.", "BRdescription": "\n If we serialize and deserialize a defaultdict, we will get back a regular dictionary.\n from collections import defaultdict\n import ray\n \n ray.init(num_cpus=0)\n \n d = defaultdict(lambda: 0)\n print(type(d))\n \n result = ray.get(ray.put(d))\n print(type(result))\n The output is\n <denchmark-code><class 'collections.defaultdict'>\n <class 'dict'>\n </denchmark-code>\n \n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "robertnishihara", "commentT": "2017-10-03T02:25:40Z", "comment_text": "\n \t\tFixed by <denchmark-link:https://github.com/ray-project/ray/pull/1035>#1035</denchmark-link>\n .\n \t\t"}}}, "commit": {"commit_id": "57bd1d6ff5a45dff2972e2fd4474007976393554", "commit_author": "Philipp Moritz", "commitT": "2017-10-02 17:33:10-07:00", "commit_complexity": {"commit_NLOC": "0.2857142857142857", "commit_CCN": "1.0", "commit_Nprams": "1.0"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 5, "file_old_name": "python\\ray\\worker.py", "file_new_name": "python\\ray\\worker.py", "file_complexity": {"file_NLOC": "1364", "file_CCN": "248", "file_NToken": "8645"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "1059,1060", "deleted_lines": null, "method_info": {"method_name": "_initialize_serialization.ordered_dict_custom_deserializer", "method_params": "obj", "method_startline": "1059", "method_endline": "1060", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "23", "method_nesting_level": "1"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077", "deleted_lines": null, "method_info": {"method_name": "_initialize_serialization", "method_params": "worker", "method_startline": "1023", "method_endline": "1087", "method_complexity": {"method_NLOC": "32", "method_CCN": "2", "method_NToken": "190", "method_nesting_level": "0"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "1070,1071", "deleted_lines": null, "method_info": {"method_name": "_initialize_serialization.default_dict_custom_deserializer", "method_params": "obj", "method_startline": "1070", "method_endline": "1071", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "28", "method_nesting_level": "1"}}}, "hunk_3": {"Ismethod": 1, "added_lines": "1056,1057", "deleted_lines": null, "method_info": {"method_name": "_initialize_serialization.ordered_dict_custom_serializer", "method_params": "obj", "method_startline": "1056", "method_endline": "1057", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "23", "method_nesting_level": "1"}}}, "hunk_4": {"Ismethod": 1, "added_lines": "1067,1068", "deleted_lines": null, "method_info": {"method_name": "_initialize_serialization.default_dict_custom_serializer", "method_params": "obj", "method_startline": "1067", "method_endline": "1068", "method_complexity": {"method_NLOC": "2", "method_CCN": "1", "method_NToken": "27", "method_nesting_level": "1"}}}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "src\\thirdparty\\download_thirdparty.sh", "file_new_name": "src\\thirdparty\\download_thirdparty.sh", "file_complexity": {"file_NLOC": "None", "file_CCN": "None", "file_NToken": "None"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "16", "deleted_lines": "16"}}}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "test\\runtest.py", "file_new_name": "test\\runtest.py", "file_complexity": {"file_NLOC": "1345", "file_CCN": "294", "file_NToken": "11290"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "357,358,359,360,361,362,363,364,365,366,367,368", "deleted_lines": "357,358,359,360", "method_info": {"method_name": "testRegisterClass", "method_params": "self", "method_startline": "347", "method_endline": "483", "method_complexity": {"method_NLOC": "61", "method_CCN": "5", "method_NToken": "572", "method_nesting_level": "1"}}}}}}}}