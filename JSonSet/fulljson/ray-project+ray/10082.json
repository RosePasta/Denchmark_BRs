{"BR": {"BR_id": "10082", "BR_author": "wuisawesome", "BRopenT": "2020-08-13T04:00:05Z", "BRcloseT": "2020-08-13T07:54:45Z", "BR_text": {"BRsummary": "[autoscaler] ray submit --start is broken", "BRdescription": "\n <denchmark-h:h3>What is the problem?</denchmark-h>\n \n ray submit --start  is broken on latest master (presumably this is due to recent logging changes)\n <denchmark-h:h3>Reproduction (REQUIRED)</denchmark-h>\n \n Please provide a script that can be run to reproduce the issue. The script should have no external library dependencies (i.e., use fake or mock data / environments):\n <denchmark-code>(base) Alexs-MacBook-Pro-2:ray alex$ ray submit --start multi.yaml test.py \n Traceback (most recent call last):\n   File \"/Users/alex/miniconda3/bin/ray\", line 11, in <module>\n     load_entry_point('ray', 'console_scripts', 'ray')()\n   File \"/Users/alex/anyscale/ray/python/ray/scripts/scripts.py\", line 1587, in main\n     return cli()\n   File \"/Users/alex/miniconda3/lib/python3.7/site-packages/click/core.py\", line 829, in __call__\n     return self.main(*args, **kwargs)\n   File \"/Users/alex/miniconda3/lib/python3.7/site-packages/click/core.py\", line 782, in main\n     rv = self.invoke(ctx)\n   File \"/Users/alex/miniconda3/lib/python3.7/site-packages/click/core.py\", line 1259, in invoke\n     return _process_result(sub_ctx.command.invoke(sub_ctx))\n   File \"/Users/alex/miniconda3/lib/python3.7/site-packages/click/core.py\", line 1066, in invoke\n     return ctx.invoke(self.callback, **ctx.params)\n   File \"/Users/alex/miniconda3/lib/python3.7/site-packages/click/core.py\", line 610, in invoke\n     return callback(*args, **kwargs)\n   File \"/Users/alex/anyscale/ray/python/ray/scripts/scripts.py\", line 1237, in submit\n     True, cluster_name, False)\n TypeError: create_or_update_cluster() missing 2 required positional arguments: 'dump_command_output' and 'use_login_shells'\n </denchmark-code>\n \n If we cannot run your script, we cannot fix your issue.\n \n  I have verified my script runs in a clean environment and reproduces the issue.\n  I have verified the issue also occurs with the latest wheels.\n \n \t"}, "comments": {}}, "commit": {"commit_id": "7a56c3b71a5653c7b257007cd764ffdfdb8ff672", "commit_author": "Richard Liaw", "commitT": "2020-08-13 00:54:45-07:00", "commit_complexity": {"commit_NLOC": "1.0", "commit_CCN": "1.0", "commit_Nprams": "0.0"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "python\\ray\\autoscaler\\commands.py", "file_new_name": "python\\ray\\autoscaler\\commands.py", "file_complexity": {"file_NLOC": "790", "file_CCN": "42", "file_NToken": "4413"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "97,98,99,100,101,102", "deleted_lines": "97,98,99,100,101,102", "method_info": {"method_name": "create_or_update_cluster", "method_params": "str,bool,bool,bool,bool,bool,bool", "method_startline": "97", "method_endline": "102", "method_complexity": {"method_NLOC": "6", "method_CCN": "1", "method_NToken": "54", "method_nesting_level": "0"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "97,98,99,100,101,102,103,104,105,106", "deleted_lines": "97,98,99,100,101,102", "method_info": {"method_name": "create_or_update_cluster", "method_params": "str,bool,bool,bool,bool,bool,bool", "method_startline": "97", "method_endline": "106", "method_complexity": {"method_NLOC": "10", "method_CCN": "1", "method_NToken": "58", "method_nesting_level": "0"}}}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "python\\ray\\scripts\\scripts.py", "file_new_name": "python\\ray\\scripts\\scripts.py", "file_complexity": {"file_NLOC": "1376", "file_CCN": "68", "file_NToken": "7027"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "1236,1237,1238,1239,1240,1241,1242,1243,1244,1245,1246", "deleted_lines": "1236,1237"}}}}}}