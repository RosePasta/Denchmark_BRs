{"BR": {"BR_id": "14291", "BR_author": "alalek", "BRopenT": "2019-04-10T16:48:26Z", "BRcloseT": "2019-04-13T21:43:30Z", "BR_text": {"BRsummary": "MacOSX: C++11 build is broken (OpenCV 3.4)", "BRdescription": "\n Error message (with CXX_FLAGS=--std=c++11):\n <denchmark-code>/build/precommit_opencl_macosx/3.4/opencv/modules/highgui/src/window_cocoa.mm:269:25: error: non-constant-expression cannot be narrowed from type 'int' to 'CGFloat' (aka 'double') in initializer list [-Wc++11-narrowing]\n         NSSize size = { width, height };\n                         ^~~~~\n /build/precommit_opencl_macosx/3.4/opencv/modules/highgui/src/window_cocoa.mm:269:25: note: insert an explicit cast to silence this issue\n         NSSize size = { width, height };\n                         ^~~~~\n                         static_cast<CGFloat>( )\n /build/precommit_opencl_macosx/3.4/opencv/modules/highgui/src/window_cocoa.mm:269:32: error: non-constant-expression cannot be narrowed from type 'int' to 'CGFloat' (aka 'double') in initializer list [-Wc++11-narrowing]\n         NSSize size = { width, height };\n                                ^~~~~~\n /build/precommit_opencl_macosx/3.4/opencv/modules/highgui/src/window_cocoa.mm:269:32: note: insert an explicit cast to silence this issue\n         NSSize size = { width, height };\n                                ^~~~~~\n                                static_cast<CGFloat>( )\n 2 errors generated.\n </denchmark-code>\n \n Warning:\n <denchmark-code>/build/precommit_macosx/3.4/opencv/modules/videoio/src/cap_avfoundation_mac.mm:184:14: warning: 'writeFrame' overrides a member function but is not marked 'override' [-Winconsistent-missing-override]\n         bool writeFrame(const IplImage* image);\n </denchmark-code>\n \n relates <denchmark-link:https://github.com/opencv/opencv/pull/13889>#13889</denchmark-link>\n \n relates <denchmark-link:https://github.com/opencv/opencv/pull/13920>#13920</denchmark-link>\n  (fix in master branch)\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "alalek", "commentT": "2019-06-25T03:25:44Z", "comment_text": "\n \t\there's a quick way:\n add -DCMAKE_CXX_FLAGS=\"-Wno-c++11-narrowing\"\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "alalek", "commentT": "2019-07-29T16:45:23Z", "comment_text": "\n \t\t\n here's a quick way:\n add -DCMAKE_CXX_FLAGS=\"-Wno-c++11-narrowing\"\n \n may I ask where to add -DCMAKE_CXX_FLAGS=\"-Wno-c++11-narrowing\" ?\n \t\t"}, "comments_2": {"comment_id": 3, "comment_author": "alalek", "commentT": "2019-08-18T06:03:19Z", "comment_text": "\n \t\t\n \n here's a quick way:\n add -DCMAKE_CXX_FLAGS=\"-Wno-c++11-narrowing\"\n \n may I ask where to add -DCMAKE_CXX_FLAGS=\"-Wno-c++11-narrowing\" ?\n \n when you build from source code by cmake like this\n cd build && cmake .. -DCMAKE_CXX_FLAGS=\"-Wno-c++11-narrowing\" etc...\n \t\t"}}}, "commit": {"commit_id": "7621b91769098359e893e68ad474040ca7940fa1", "commit_author": "Alexander Alekhin", "commitT": "2019-04-11 17:46:28+03:00", "commit_complexity": {"commit_NLOC": "None", "commit_CCN": "None", "commit_Nprams": "None"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "modules\\highgui\\src\\window_cocoa.mm", "file_new_name": "modules\\highgui\\src\\window_cocoa.mm", "file_complexity": {"file_NLOC": "803", "file_CCN": "149", "file_NToken": "5967"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "269", "deleted_lines": "269", "method_info": {"method_name": "cvResizeWindow", "method_params": "name,width,height", "method_startline": "261", "method_endline": "273", "method_complexity": {"method_NLOC": "11", "method_CCN": "3", "method_NToken": "84", "method_nesting_level": "0"}}}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "modules\\videoio\\src\\cap_avfoundation_mac.mm", "file_new_name": "modules\\videoio\\src\\cap_avfoundation_mac.mm", "file_complexity": {"file_NLOC": "926", "file_CCN": "155", "file_NToken": "5478"}, "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "184", "deleted_lines": "184"}}}}}}