{"BR": {"BR_id": "17572", "BR_author": "alexcohn", "BRopenT": "2020-06-17T16:09:11Z", "BRcloseT": "2020-06-19T09:40:59Z", "BR_text": {"BRsummary": "Build for Android failed: \"can't concat str to bytes\"", "BRdescription": "\n <denchmark-h:h5>System information (version)</denchmark-h>\n \n \n OpenCV => 4.3 (master)\n Operating System / Platform => Windows 10 64bit\n Compiler => Python 3.6.6\n \n <denchmark-h:h5>Detailed description</denchmark-h>\n \n While checking the system configuration, python displays an error:\n <denchmark-code>Check dir <whatever>\\opencv-build\\OpenCV-android-sdk\\sdk\\java\\javadoc (create: True, clean: True)\n Executing: ['cmake', '--version']\n Failed: [WinError 2] The system cannot find the file specified\n Executing: ['<whatever>\\\\Android\\\\Sdk\\\\cmake\\\\3.10.2.4988404\\\\bin\\\\cmake', '--version']\n Failed: can't concat str to bytes\n \n </denchmark-code>\n \n <denchmark-h:h5>Steps to reproduce</denchmark-h>\n \n python ../opencv/platforms/android/build_sdk.py --build_doc --extra_modules_path ../opencv_contrib/modules . ../opencv\n <denchmark-h:h5>Proposed fix</denchmark-h>\n \n <denchmark-code>Index: platforms/android/build_sdk.py\n IDEA additional info:\n Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP\n <+>UTF-8\n ===================================================================\n --- platforms/android/build_sdk.py\t(revision 9ba5581d176baf7c8fceb12b4dcef6c49c7a087d)\n +++ platforms/android/build_sdk.py\t(date 1592410122872)\n @@ -59,6 +59,7 @@\n      try:\n          log.debug(\"Executing: %s\" % cmd)\n          result = subprocess.check_output(cmd, stderr=subprocess.STDOUT)\n +        result = str(result)\n          log.debug(\"Result: %s\" % (result+'\\n').split('\\n')[0])\n          return True\n      except Exception as e:\n </denchmark-code>\n \n <denchmark-h:h5>Issue submission checklist</denchmark-h>\n \n \n  I report the issue, it's not a question\n \n \n  I checked the problem with documentation, FAQ, open issues,\n answers.opencv.org, Stack Overflow, etc and have not found solution\n \n \n  I updated to latest OpenCV version and the issue is still there\n \n \n  There is reproducer code and related data files: videos, images, onnx, etc\n \n \n \n \t"}, "comments": {}}, "commit": {"commit_id": "a7cc1159cdb9334041b0093393b3e49144dd0b26", "commit_author": "Alex Cohn", "commitT": "2020-06-18 10:40:43+03:00", "commit_complexity": {"commit_NLOC": "1.0", "commit_CCN": "1.0", "commit_Nprams": "1.0"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "platforms\\android\\build_sdk.py", "file_new_name": "platforms\\android\\build_sdk.py", "file_complexity": {"file_NLOC": "408", "file_CCN": "102", "file_NToken": "3746"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "62,63", "deleted_lines": null, "method_info": {"method_name": "check_executable", "method_params": "cmd", "method_startline": "58", "method_endline": "68", "method_complexity": {"method_NLOC": "11", "method_CCN": "3", "method_NToken": "83", "method_nesting_level": "0"}}}}}}}}