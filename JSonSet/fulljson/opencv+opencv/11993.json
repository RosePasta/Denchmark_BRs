{"BR": {"BR_id": "11993", "BR_author": "alalek", "BRopenT": "2018-07-17T10:38:27Z", "BRcloseT": "2018-09-28T13:16:01Z", "BR_text": {"BRsummary": "DNN: OpenCL FP16 test failures on Windows", "BRdescription": "\n Observed problem with OpenCL:\n <denchmark-code>    Name = Intel(R) HD Graphics 530\n     Version = OpenCL 2.1 NEO \n     Driver version = 23.20.16.4973\n </denchmark-code>\n \n Failed tests (test_dnn):\n <denchmark-code>[  FAILED  ] Layer_Test_Halide/Convolution.Accuracy/13, where GetParam() = ([6, 4, 1], 5x6, 3x1, 1x1, 0x1, 2x2, false, (DNN_BACKEND_OPENCV, DNN_TARGET_OPENCL_FP16))\n [  FAILED  ] Layer_Test_Halide/Convolution.Accuracy/15, where GetParam() = ([6, 4, 1], 5x6, 3x1, 1x1, 0x1, 2x2, true, (DNN_BACKEND_OPENCV, DNN_TARGET_OPENCL_FP16))\n [  FAILED  ] Layer_Test_Halide/Convolution.Accuracy/77, where GetParam() = ([6, 9, 1], 5x6, 3x1, 1x1, 0x1, 2x2, false, (DNN_BACKEND_OPENCV, DNN_TARGET_OPENCL_FP16))\n [  FAILED  ] Layer_Test_Halide/Convolution.Accuracy/79, where GetParam() = ([6, 9, 1], 5x6, 3x1, 1x1, 0x1, 2x2, true, (DNN_BACKEND_OPENCV, DNN_TARGET_OPENCL_FP16))\n </denchmark-code>\n \n No issues with OpenCL:\n <denchmark-code>    Name = Intel(R) HD Graphics 530\n     Version = OpenCL 2.1 NEO \n     Driver version = 24.20.100.6025\n </denchmark-code>\n \n \t"}, "comments": {}}, "commit": {"commit_id": "fae329a0ca6771f24a7e95c7f9a37062dbceca33", "commit_author": "Alexander Alekhin", "commitT": "2018-09-27 12:54:23+03:00", "commit_complexity": {"commit_NLOC": "0.21052631578947367", "commit_CCN": "0.0", "commit_Nprams": "0.12631578947368421"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 8, "file_old_name": "modules\\dnn\\src\\ocl4dnn\\src\\ocl4dnn_conv_spatial.cpp", "file_new_name": "modules\\dnn\\src\\ocl4dnn\\src\\ocl4dnn_conv_spatial.cpp", "file_complexity": {"file_NLOC": "1789", "file_CCN": "331", "file_NToken": "12588"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "1483,1484,1485,1486,1487,1488,1489,1490,1491,1492,1493", "deleted_lines": null, "method_info": {"method_name": "cv::dnn::ocl4dnn::OCL4DNNConvSpatial<float>::createIDLFKernel", "method_params": "blockWidth,blockHeight,simd_size", "method_startline": "1458", "method_endline": "1520", "method_complexity": {"method_NLOC": "55", "method_CCN": "9", "method_NToken": "359", "method_nesting_level": "3"}}}, "hunk_1": {"Ismethod": 1, "added_lines": "85,86,87,88,89", "deleted_lines": null, "method_info": {"method_name": "cv::dnn::ocl4dnn::testAllKernels", "method_params": "", "method_startline": "85", "method_endline": "89", "method_complexity": {"method_NLOC": "5", "method_CCN": "1", "method_NToken": "21", "method_nesting_level": "3"}}}, "hunk_2": {"Ismethod": 1, "added_lines": "79,80,81,82,83", "deleted_lines": null, "method_info": {"method_name": "cv::dnn::ocl4dnn::dumpFailedResult", "method_params": "", "method_startline": "79", "method_endline": "83", "method_complexity": {"method_NLOC": "5", "method_CCN": "1", "method_NToken": "21", "method_nesting_level": "3"}}}, "hunk_3": {"Ismethod": 1, "added_lines": "1709,1710,1714,1715,1717,1718,1719,1720,1721,1722,1723,1724,1725,1726,1727,1728,1729,1730,1731,1732,1733,1734,1735,1736,1737,1738,1739,1740", "deleted_lines": "1698,1699,1700,1701,1702,1703,1704,1705,1706,1707,1708,1709,1710,1711,1712,1713,1714,1715,1716,1717,1718,1719,1722,1742,1747", "method_info": {"method_name": "cv::dnn::ocl4dnn::OCL4DNNConvSpatial<float>::useFirstAvailable", "method_params": "bottom,top,weight,bias,numImages,verifyTop", "method_startline": "1698", "method_endline": "1757", "method_complexity": {"method_NLOC": "58", "method_CCN": "12", "method_NToken": "370", "method_nesting_level": "3"}}}, "hunk_4": {"Ismethod": 1, "added_lines": "1796,1797,1798,1799,1800,1801,1802,1803,1804,1805,1806,1807,1808,1809,1810,1811,1812,1813,1814,1815,1816,1817,1818,1819,1820,1821,1822,1823,1824,1825,1826,1827,1828,1829,1830,1831,1832,1833,1834,1835,1839", "deleted_lines": null, "method_info": {"method_name": "cv::dnn::ocl4dnn::OCL4DNNConvSpatial<float>::setupConvolution", "method_params": "bottom,top,weight,bias,numImages,verifyTop", "method_startline": "1780", "method_endline": "1904", "method_complexity": {"method_NLOC": "117", "method_CCN": "19", "method_NToken": "885", "method_nesting_level": "3"}}}, "hunk_5": {"Ismethod": 1, "added_lines": "73,74,75,76,77", "deleted_lines": null, "method_info": {"method_name": "cv::dnn::ocl4dnn::enableWorkaroundIDLF", "method_params": "", "method_startline": "73", "method_endline": "77", "method_complexity": {"method_NLOC": "5", "method_CCN": "1", "method_NToken": "21", "method_nesting_level": "3"}}}, "hunk_6": {"Ismethod": 1, "added_lines": "91,92,93,94,95", "deleted_lines": null, "method_info": {"method_name": "cv::dnn::ocl4dnn::raiseOnCheckError", "method_params": "", "method_startline": "91", "method_endline": "95", "method_complexity": {"method_NLOC": "5", "method_CCN": "1", "method_NToken": "21", "method_nesting_level": "3"}}}, "hunk_7": {"Ismethod": 1, "added_lines": "1262,1263,1282,1283,1284,1285,1286,1287,1288,1289,1290,1291,1292,1293,1294,1295,1296,1297,1298,1299,1300,1301,1302,1303,1304,1305,1306,1307,1308,1309,1310,1311,1312,1313,1314,1315,1316,1317,1318,1319,1320,1322,1325,1326,1327,1328,1329,1330,1331,1332,1333,1334,1335,1336,1337,1338,1339,1340,1341,1342,1343,1344,1345,1346,1347,1348,1349,1350,1351,1352,1353,1354,1355,1356,1358,1360,1361,1363", "deleted_lines": "1257,1258,1259,1260,1261,1262,1263,1264,1265,1266,1267,1268,1269,1270,1271,1272,1273,1274,1275,1276,1277,1278,1279,1280,1281,1282,1284,1287,1288", "method_info": {"method_name": "cv::dnn::ocl4dnn::OCL4DNNConvSpatial<float>::verifyResult", "method_params": "bottom,top,weight,bias,numImages,config,verifyTop", "method_startline": "1242", "method_endline": "1364", "method_complexity": {"method_NLOC": "113", "method_CCN": "21", "method_NToken": "939", "method_nesting_level": "3"}}}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "modules\\dnn\\test\\test_halide_layers.cpp", "file_new_name": "modules\\dnn\\test\\test_halide_layers.cpp", "file_complexity": {"file_NLOC": "626", "file_CCN": "56", "file_NToken": "6522"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": null, "deleted_lines": "102,103,104,105,106,107,108,109", "method_info": {"method_name": "opencv_test::TEST_P", "method_params": "Convolution,Accuracy", "method_startline": "82", "method_endline": "141", "method_complexity": {"method_NLOC": "54", "method_CCN": "16", "method_NToken": "556", "method_nesting_level": "2"}}}}}}}}