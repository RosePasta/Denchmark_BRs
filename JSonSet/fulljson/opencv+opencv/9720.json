{"BR": {"BR_id": "9720", "BR_author": "kauba", "BRopenT": "2017-09-26T19:46:39Z", "BRcloseT": "2018-04-04T15:36:03Z", "BR_text": {"BRsummary": "Problem with `MatExpr` division and multiplication", "BRdescription": "\n <denchmark-h:h5>System information (version)</denchmark-h>\n \n \n OpenCV => 3.3.0\n Operating System / Platform => Windows 64 Bit\n Compiler => Visual Studio 2015\n \n <denchmark-h:h5>Detailed description</denchmark-h>\n \n <denchmark-code>Mat m1(1, 1, CV_32FC1);\n m1.at<float>(0) = 1.f;\n \n const float a = 0.1f;\n \n cout << (Mat)(m1.mul((a / m1))) << endl;\n cout << (Mat)(m1.mul((Mat)(a / m1))) << endl;\n </denchmark-code>\n \n Both expressions m1.mul((a / m1)) and m1.mul((Mat)(a / m1)) are expected to give the same result (0.1), but only the second one works. the first gives 10.\n <denchmark-h:h5>Steps to reproduce</denchmark-h>\n \n \t"}, "comments": {}}, "commit": {"commit_id": "d57e5c31c088b193ca6d9ff2c3945a0ed9a63ef3", "commit_author": "yuki takehara", "commitT": "2018-04-04 18:36:02+03:00", "commit_complexity": {"commit_NLOC": "1.0", "commit_CCN": "1.0", "commit_Nprams": "1.0"}, "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "modules\\core\\src\\matrix_expressions.cpp", "file_new_name": "modules\\core\\src\\matrix_expressions.cpp", "file_complexity": {"file_NLOC": "1396", "file_CCN": "377", "file_NToken": "10729"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "423", "deleted_lines": "423", "method_info": {"method_name": "cv::MatOp::multiply", "method_params": "e1,e2,res,scale", "method_startline": "383", "method_endline": "433", "method_complexity": {"method_NLOC": "46", "method_CCN": "7", "method_NToken": "240", "method_nesting_level": "1"}}}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "modules\\core\\test\\test_mat.cpp", "file_new_name": "modules\\core\\test\\test_mat.cpp", "file_complexity": {"file_NLOC": "1462", "file_CCN": "307", "file_NToken": "14097"}, "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "1514,1515,1516,1517,1518,1519,1520,1521,1522,1523,1524,1525", "deleted_lines": null, "method_info": {"method_name": "opencv_test::TEST", "method_params": "Mat,regression_9720", "method_startline": "1514", "method_endline": "1525", "method_complexity": {"method_NLOC": "12", "method_CCN": "1", "method_NToken": "168", "method_nesting_level": "2"}}}}}}}}