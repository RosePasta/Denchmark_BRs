{"BR": {"BR_id": "623", "BR_author": "fritzo", "BRopenT": "2017-12-12T20:35:22Z", "BRcloseT": "2017-12-15T01:29:45Z", "BR_text": {"BRsummary": "Fix GPU placement when calling tensor.cuda()", "BRdescription": "\n Adam pointed out that when matching the .is_cuda property of a new tensor to an existing tensor, we should also take care to match the device:\n old_tensor = ...\n new_tensor = torch.arange(10)\n if old_tensor.is_cuda:\n     new_tensor = new_tensor.cuda(old_tensor.get_device())\n \t"}, "comments": {}}, "commit": {"commit_id": "87eb2a8df326148df6d704044952e49b598668e5", "commit_author": "Fritz Obermeyer", "commitT": "2017-12-14 17:29:45-08:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "pyro\\distributions\\bernoulli.py", "file_new_name": "pyro\\distributions\\bernoulli.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "109,110,111,112,113", "deleted_lines": "109", "method_info": {"method_name": "enumerate_support", "method_params": "self", "method_startline": "94", "method_endline": "113"}}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "pyro\\distributions\\binomial.py", "file_new_name": "pyro\\distributions\\binomial.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "29", "deleted_lines": "29", "method_info": {"method_name": "__init__", "method_params": "self,ps,n,batch_size,args,kwargs", "method_startline": "23", "method_endline": "36"}}}}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "pyro\\distributions\\categorical.py", "file_new_name": "pyro\\distributions\\categorical.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "134,143", "deleted_lines": "134,143", "method_info": {"method_name": "batch_log_pdf", "method_params": "self,x", "method_startline": "107", "method_endline": "150"}}, "hunk_1": {"Ismethod": 1, "added_lines": "177,178,179,180,181,182,183,184,185,186,187,188,189,190,191", "deleted_lines": "177,178,179,180,181,182,183,184", "method_info": {"method_name": "enumerate_support", "method_params": "self", "method_startline": "152", "method_endline": "191"}}}}, "file_3": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "pyro\\distributions\\delta.py", "file_new_name": "pyro\\distributions\\delta.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "78", "deleted_lines": "78", "method_info": {"method_name": "enumerate_support", "method_params": "self,v", "method_startline": "69", "method_endline": "78"}}}}, "file_4": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "pyro\\distributions\\multinomial.py", "file_new_name": "pyro\\distributions\\multinomial.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "77", "deleted_lines": "77", "method_info": {"method_name": "sample", "method_params": "self", "method_startline": "67", "method_endline": "78"}}, "hunk_1": {"Ismethod": 1, "added_lines": "33", "deleted_lines": "33", "method_info": {"method_name": "__init__", "method_params": "self,ps,n,batch_size,args,kwargs", "method_startline": "27", "method_endline": "40"}}}}, "file_5": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "pyro\\distributions\\one_hot_categorical.py", "file_new_name": "pyro\\distributions\\one_hot_categorical.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "112", "deleted_lines": "112", "method_info": {"method_name": "batch_log_pdf", "method_params": "self,x", "method_startline": "90", "method_endline": "117"}}, "hunk_1": {"Ismethod": 1, "added_lines": "140,141,142,143", "deleted_lines": "140", "method_info": {"method_name": "enumerate_support", "method_params": "self", "method_startline": "119", "method_endline": "143"}}}}, "file_6": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "pyro\\distributions\\util.py", "file_new_name": "pyro\\distributions\\util.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "92", "deleted_lines": "92", "method_info": {"method_name": "move_to_same_host_as", "method_params": "source,destin", "method_startline": "88", "method_endline": "92"}}}}, "file_7": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "tests\\distributions\\test_delta.py", "file_new_name": "tests\\distributions\\test_delta.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "22,23", "deleted_lines": "22,23", "method_info": {"method_name": "setUp", "method_params": "self", "method_startline": "14", "method_endline": "26"}}, "hunk_1": {"Ismethod": 1, "added_lines": "53,54", "deleted_lines": null, "method_info": {"method_name": "test_support", "method_params": "self", "method_startline": "50", "method_endline": "56"}}}}, "file_8": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "tests\\distributions\\test_util.py", "file_new_name": "tests\\distributions\\test_util.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "36", "deleted_lines": "36", "method_info": {"method_name": "test_broadcast_shape_error", "method_params": "shapes", "method_startline": "35", "method_endline": "37"}}}}}}}