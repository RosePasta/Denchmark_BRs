{"BR": {"BR_id": "2389", "BR_author": "wangkuiyi", "BRopenT": "2020-05-30T23:18:21Z", "BRcloseT": "2020-05-31T01:38:27Z", "BR_text": {"BRsummary": "iPython version error", "BRdescription": "\n <denchmark-link:https://travis-ci.com/github/sql-machine-learning/sqlflow/jobs/341724538#L720-L722>https://travis-ci.com/github/sql-machine-learning/sqlflow/jobs/341724538#L720-L722</denchmark-link>\n \n <denchmark-code>Step 9/17 : RUN /jupyter/install-jupyter.bash\n  ---> Running in 2124b7174cb8\n ERROR: ipython 7.9.0 has requirement prompt-toolkit<2.1.0,>=2.0.0, but you'll have prompt-toolkit 3.0.5 which is incompatible.\n </denchmark-code>\n \n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "wangkuiyi", "commentT": "2020-05-31T00:29:19Z", "comment_text": "\n \t\tThe bug is due to that the docker/jupyter/Dockerfile copies from build/tutorials.\n \n \n \n sqlflow/docker/jupyter/Dockerfile\n \n \n         Lines 20 to 21\n       in\n       03965b0\n \n \n \n \n \n \n  # Install IPythono Notebook tutorials \n \n \n \n  COPY build/tutorials /workspace \n \n \n \n \n \n However, the building process generates build/tutorial -- without s.\n \n \n \n sqlflow/docker/dev/build.sh\n \n \n         Lines 79 to 85\n       in\n       03965b0\n \n \n \n \n \n \n  echo \"Convert tutorials from Markdown to IPython notebooks ...\" \n \n \n \n  mkdir -p $SQLFLOW_BIN/tutorial \n \n \n \n  for file in $SQLFLOWPATH/doc/tutorial/*.md; do \n \n \n \n      base=$(basename -- \"$file\") \n \n \n \n      output=$SQLFLOW_BIN/tutorial/${base%.*}.\"ipynb\" \n \n \n \n      cat $file | markdown-to-ipynb --code-block-type=sql > $output \n \n \n \n  done \n \n \n \n \n \n \t\t"}}}, "commit": {"commit_id": "92752cc72902b22b4d5b68f23bc029d76aed38a1", "commit_author": "Yi Wang", "commitT": "2020-05-30 18:38:26-07:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "docker\\dev\\build.sh", "file_new_name": "docker\\dev\\build.sh", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "84", "deleted_lines": null}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "docker\\jupyter\\Dockerfile", "file_new_name": "docker\\jupyter\\Dockerfile", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "21", "deleted_lines": "21"}}}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "go.mod", "file_new_name": "go.mod", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "53", "deleted_lines": null}}}, "file_3": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "scripts\\travis\\build.sh", "file_new_name": "scripts\\travis\\build.sh", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "26,27,29,30,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59", "deleted_lines": "23,27,29,42,43"}}}, "file_4": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "scripts\\travis\\deploy_docker.sh", "file_new_name": "scripts\\travis\\deploy_docker.sh", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": null, "deleted_lines": "56,57,58,59,60,61"}}}}}}