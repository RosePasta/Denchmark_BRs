{"BR": {"BR_id": "7951", "BR_author": "mattmyne", "BRopenT": "2016-12-31T15:05:40Z", "BRcloseT": "2017-01-02T20:28:08Z", "BR_text": {"BRsummary": "Make FileStorage JSON float and double output meet JSON standard", "BRdescription": "\n <denchmark-h:h5>System information (version)</denchmark-h>\n \n \n OpenCV => 3.2\n Operating System / Platform => All\n Compiler => All\n \n <denchmark-h:h5>Detailed description</denchmark-h>\n \n FileStorage JSON output of float and double values leaves a trailing decimal place if no fractional part (i.e. value of 1.0 produces a \"1.\" output). JSON standard requires a zero after the decimal place (output \"1.0\").\n This was originally identified by <denchmark-link:https://github.com/wiryls>@wiryls</denchmark-link>\n  in comments on issue <denchmark-link:https://github.com/opencv/opencv/pull/7088>#7088</denchmark-link>\n \n <denchmark-h:h5>Steps to reproduce</denchmark-h>\n \n Create a JSON FileStorage and write a float or double (either native or a float/double matrix etc.) without a fractional part. Observe output file contents.\n \t"}, "comments": {}}, "commit": {"commit_id": "c3a8db6d6c7ab1abd78d9c1b5ba3de16842a65d1", "commit_author": "Matt Bennett", "commitT": "2017-01-02 20:28:07+00:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "modules\\core\\src\\persistence.cpp", "file_new_name": "modules\\core\\src\\persistence.cpp", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "4839,4840,4841,4842,4843,4844,4845,4846,4847,4848,4849", "deleted_lines": null, "method_info": {"method_name": "cvWriteRawData", "method_params": "fs,_data,len,dt", "method_startline": "4738", "method_endline": "4857"}}, "hunk_1": {"Ismethod": 1, "added_lines": "4028,4029,4030,4031,4032,4033,4034,4035", "deleted_lines": "4028", "method_info": {"method_name": "icvJSONWriteReal", "method_params": "fs,key,value", "method_startline": "4025", "method_endline": "4036"}}}}}}}