{"BR": {"BR_id": "16274", "BR_author": "andybrucenet", "BRopenT": "2019-12-31T18:32:09Z", "BRcloseT": "2020-01-03T16:09:41Z", "BR_text": {"BRsummary": "Compile errors on CentOS 7 / GCC 4.8.2", "BRdescription": "\n <denchmark-h:h5>System information (version)</denchmark-h>\n \n \n OpenCV => 4.2.0-dev\n Operating System / Platform => CentOS Linux release 7.6.1810 (Core)\n Compiler => gcc (GCC) 4.8.5 20150623 (Red Hat 4.8.5-39)\n \n <denchmark-h:h5>Detailed description</denchmark-h>\n \n Followed instructions adapted from <denchmark-link:https://linuxize.com/post/how-to-install-opencv-on-centos-7/>https://linuxize.com/post/how-to-install-opencv-on-centos-7/</denchmark-link>\n \n During build there are two files with syntax errors:\n opencv/samples/cpp/tutorial_code/gapi/face_beautification/face_beautification.cpp - std::vector insert call using const iterator\n Build fails.\n <denchmark-h:h5>Steps to reproduce</denchmark-h>\n \n \n \n Install base CentOS 7\n \n \n Packages:\n sudo yum group install \"Development Tools\"\n sudo yum install -y git gcc gcc-c++ cmake3 qt5-qtbase-devel python3 python3-devel python3-pip cmake\n sudo yum install -y numpy python34-numpy gtk2-devel libpng-devel jasper-devel openexr-devel libwebp-devel\n sudo yum install -y libjpeg-turbo-devel libtiff-devel  libdc1394-devel tbb-devel eigen3-devel gstreamer-plugins-base-devel\n sudo yum install -y freeglut-devel mesa-libGL mesa-libGL-devel  boost boost-thread boost-devel libv4l-devel\n \n \n \n Clone git repos (opencv and opencv_contrib).\n \n \n Create build environment:\n mkdir -p opencv/build && cd opencv/build\n cmake3 -D CMAKE_BUILD_TYPE=RELEASE \\\n   -D CMAKE_INSTALL_PREFIX=/usr/local \\\n   -D INSTALL_C_EXAMPLES=ON \\\n   -D INSTALL_PYTHON_EXAMPLES=ON \\\n   -D OPENCV_GENERATE_PKGCONFIG=ON \\\n   -D OPENCV_EXTRA_MODULES_PATH=~/proj/git/src/github.com/opencv/opencv_contrib/modules \\\n   -D BUILD_EXAMPLES=ON ..\n \n \n \n Perform build - the file listed above has syntax errors under my GCC compiler.\n make -j4\n \n \n \n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "andybrucenet", "commentT": "2019-12-31T18:32:39Z", "comment_text": "\n \t\tTo fix the problems, I simply updated the following files:\n dnn_superres_multioutput.cpp:\n <denchmark-code>  // ABr: std::stringstream operator= is private\n     std::stringstream ss_output_names(output_names_str);\n </denchmark-code>\n \n face_beautification.cpp: Changed references to cend() to simply end()\n Running through all tests and hopefully submit PR today.\n \t\t"}}}, "commit": {"commit_id": "ccfca869e5ed1bc92e4fb7a5d817f3dc10d66eff", "commit_author": "Andrew Bruce", "commitT": "2020-01-03 19:09:40+03:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "samples\\cpp\\tutorial_code\\gapi\\face_beautification\\face_beautification.cpp", "file_new_name": "samples\\cpp\\tutorial_code\\gapi\\face_beautification\\face_beautification.cpp", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "441,442,448,449,454,455,463", "deleted_lines": "441,442,448,449,454,455,463", "method_info": {"method_name": "custom::GAPI_OCV_KERNEL", "method_params": "GCPUGetContours,GGetContours", "method_startline": "412", "method_endline": "475"}}}}}}}