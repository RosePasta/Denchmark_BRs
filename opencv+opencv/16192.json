{"BR": {"BR_id": "16192", "BR_author": "alalek", "BRopenT": "2019-12-18T21:51:34Z", "BRcloseT": "2019-12-19T14:39:25Z", "BR_text": {"BRsummary": "imgproc: resize(INTER_LANCZOS4) may operate with invalid coefficients", "BRdescription": "\n With full zero / NaN rows or columns.\n Reproducer:\n <denchmark-code>Size src_size(11, 17);\n Size dst_size(11, 153);\n Mat src(src_size, CV_8UC3, Scalar::all(128));\n Mat dst(dst_size, CV_8UC3, Scalar::all(255));\n \n cv::resize(src, dst, dst_size, 0, 0, INTER_LANCZOS4);\n \n Mat expected(dst_size, CV_8UC3, Scalar::all(128));\n EXPECT_EQ(cvtest::norm(dst, expected, NORM_INF), 0) << dst(Rect(0,0,8,8));\n </denchmark-code>\n \n Error message:\n <denchmark-code>Expected equality of these values:\n   cvtest::norm(dst, expected, NORM_INF)\n     Which is: 128\n   0\n [128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128;\n  128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128;\n  128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128;\n  128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128;\n    0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0;\n  128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128;\n  128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128;\n  128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128]\n </denchmark-code>\n \n \t"}, "comments": {}}, "commit": {"commit_id": "4733a19babec760ba237b8c277bb1de664a641c1", "commit_author": "Alexander Alekhin", "commitT": "2019-12-19 13:20:42+03:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "modules\\imgproc\\src\\resize.cpp", "file_new_name": "modules\\imgproc\\src\\resize.cpp", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "927,928,929,930,931,932,933,934,935,936,937,938,939", "deleted_lines": "923,924,925,926,927,928,929,930,935,936", "method_info": {"method_name": "cv::interpolateLanczos4", "method_params": "x,coeffs", "method_startline": "917", "method_endline": "946"}}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "modules\\imgproc\\test\\test_imgwarp.cpp", "file_new_name": "modules\\imgproc\\test\\test_imgwarp.cpp", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "1711,1712,1713,1714,1715,1716,1717,1718,1719,1720,1721,1722", "deleted_lines": null, "method_info": {"method_name": "opencv_test::TEST", "method_params": "Resize,lanczos4_regression_16192", "method_startline": "1711", "method_endline": "1722"}}}}}}}