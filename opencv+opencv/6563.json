{"BR": {"BR_id": "6563", "BR_author": "jlguardi", "BRopenT": "2016-05-20T11:14:07Z", "BRcloseT": "2016-05-23T08:41:15Z", "BR_text": {"BRsummary": "ML model loading fail doesn't generate empty pointer, so undetectable", "BRdescription": "\n <denchmark-h:h3>Please state the information for your system</denchmark-h>\n \n \n OpenCV version: 3.1 and also dev version\n Host OS: Linux (Ubuntu 16.04-64 bits)\n Compiler & CMake: GCC 5.3.1 & CMake 3.5.1\n \n <denchmark-h:h3>In which part of the OpenCV library you got the issue?</denchmark-h>\n \n \n ML\n \n <denchmark-h:h3>Expected behaviour</denchmark-h>\n \n If file read fails while models loading, pointer should be empty().\n <denchmark-h:h3>Actual behaviour</denchmark-h>\n \n Pointer returns empty() == False\n <denchmark-h:h3>Code example to reproduce the issue / Steps to reproduce the issue</denchmark-h>\n \n Please try to give a full example which will compile as is.\n <denchmark-code>#include \"opencv2/core/core.hpp\"\n #include \"opencv2/ml/ml.hpp\"\n \n using namespace std;\n using namespace cv;\n using namespace cv::ml;\n \n int main( int argc, char *argv[] )\n {\n    Ptr<ANN_MLP> model = StatModel::load<ANN_MLP>(\"invalid_file\");\n    if( model.empty() )\n        return 1;\n    clog << \"Should not be reached!\" << endl;\n    return 0;\n }\n </denchmark-code>\n \n \t"}, "comments": {}}, "commit": {"commit_id": "a8129894369023d0e9367c6474929224aec06d7c", "commit_author": "Jose Luis Guardiola", "commitT": "2016-05-20 13:18:02+02:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "modules\\core\\include\\opencv2\\core.hpp", "file_new_name": "modules\\core\\include\\opencv2\\core.hpp", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "3039", "deleted_lines": null, "method_info": {"method_name": "cv::CV_EXPORTS_WAlgorithm::load", "method_params": "filename,objname", "method_startline": "3035", "method_endline": "3043"}}}}}}}