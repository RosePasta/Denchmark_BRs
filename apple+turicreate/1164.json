{"BR": {"BR_id": "1164", "BR_author": "TobyRoseman", "BRopenT": "2018-10-26T00:54:36Z", "BRcloseT": "2019-03-07T03:00:53Z", "BR_text": {"BRsummary": "Recommender Exclude Parameter Not Working", "BRdescription": "\n The exclude parameter for recommend does not seem to work:\n import turicreate\n sf = turicreate.SFrame({'user_id': [\"0\", \"0\", \"0\", \"1\", \"1\", \"2\", \"2\", \"2\"],\n                        'item_id': [\"a\", \"b\", \"c\", \"a\", \"b\", \"b\", \"c\", \"d\"],\n                        'rating': [1, 3, 2, 5, 4, 1, 4, 3]})\n m = turicreate.recommender.create(sf, target='rating')\n \n recs1 = m.recommend(users=[1])\n print(recs1) # correctly recommending 'c' to 1\n \n exclude = turicreate.SFrame({'item_id': ['c'], 'user_id': [1]})\n rec2 = m.recommend(users=[1], exclude=exclude)\n print(rec2)  # still recommending 'c' to 1\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "TobyRoseman", "commentT": "2018-10-26T20:22:49Z", "comment_text": "\n \t\tThis is because the user_id specified in the exclude frame is a numeric 1, whereas the one in the users column of the original data is a string.  It appears that some of the casting logic is inconsistent.\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "TobyRoseman", "commentT": "2019-02-14T19:09:45Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/hoytak>@hoytak</denchmark-link>\n  - could you share some more details about how you determined it's a casting logic inconsistency? Where in the code base is the relevant casting logic (i.e. is it in Cython or ML data)?\n \t\t"}}}, "commit": {"commit_id": "f54749b19dd4607099ad03f1b8b813f5e05ef177", "commit_author": "Shreya Jain", "commitT": "2019-03-06 19:00:52-08:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "src\\unity\\python\\turicreate\\test\\test_recommender.py", "file_new_name": "src\\unity\\python\\turicreate\\test\\test_recommender.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "1101,1102,1103,1104,1105,1106", "deleted_lines": null, "method_info": {"method_name": "test_exclude", "method_params": "self", "method_startline": "1101", "method_endline": "1106"}}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "src\\unity\\python\\turicreate\\toolkits\\recommender\\util.py", "file_new_name": "src\\unity\\python\\turicreate\\toolkits\\recommender\\util.py", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "1263,1268,1269,1270,1271", "deleted_lines": null}}}}}}