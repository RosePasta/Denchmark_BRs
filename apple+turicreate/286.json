{"BR": {"BR_id": "286", "BR_author": "Padalingam", "BRopenT": "2018-02-15T07:06:37Z", "BRcloseT": "2018-06-29T17:20:04Z", "BR_text": {"BRsummary": "IOError: [Errno 13] Permission denied: '/var/tmp/model_cache/resnet-50-symbol.json'", "BRdescription": "\n \n Done.\n Downloading <denchmark-link:https://docs-assets.developer.apple.com/turicreate/models/resnet-50-symbol.json>https://docs-assets.developer.apple.com/turicreate/models/resnet-50-symbol.json</denchmark-link>\n \n Traceback (most recent call last):\n File \"classifier.py\", line 9, in \n model = turi.image_classifier.create(trainingBuffers, target=\"chairType\", model=\"resnet-50\")\n File \"/Library/Python/2.7/site-packages/turicreate/toolkits/image_classifier/image_classifier.py\", line 116, in create\n ptModel = _pre_trained_models.MODELS<denchmark-link:>model</denchmark-link>\n \n File \"/Library/Python/2.7/site-packages/turicreate/toolkits/_pre_trained_models.py\", line 98, in \n ], path)\n File \"/Library/Python/2.7/site-packages/turicreate/toolkits/_pre_trained_models.py\", line 52, in _download_and_checksum_files\n with open(fn, 'wb') as f:\n IOError: [Errno 13] Permission denied: '/var/tmp/model_cache/resnet-50-symbol.json'\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "Padalingam", "commentT": "2018-02-15T17:02:34Z", "comment_text": "\n \t\tHi <denchmark-link:https://github.com/Padalingam>@Padalingam</denchmark-link>\n , thanks for trying out the image classifier! Before the classifier is used, it downloads a model file from the internet and it looks like Turi Create wanted to put the model in a location that you don't have access to. This should not happen and is a bug that we need to address. Thanks for bringing it to our attention!\n In the meantime, I think I have a work-around for you. The directory where the model gets saved can be manually specified using the environment variable TURI_CACHE_FILE_LOCATIONS. I see that you are on a Mac, so this typically involves adding the following line to the end of ~/.bash_profile (if you don't have this file, then create an empty one first):\n <denchmark-code>export TURI_CACHE_FILE_LOCATIONS=~/turicreate\n </denchmark-code>\n \n Of course, you can choose the location yourself, but I recommend placing it in your home directory under ~/... to ensure permissions to write to it.\n Please restart your terminal after making the change.\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "Padalingam", "commentT": "2018-02-16T05:00:59Z", "comment_text": "\n \t\tThis is working fine, when i tried to run as a root user.\n \t\t"}, "comments_2": {"comment_id": 3, "comment_author": "Padalingam", "commentT": "2018-06-19T18:21:02Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/gustavla>@gustavla</denchmark-link>\n  - I agree we need a better error message here (and everywhere else we download model assests) that tells users how to change the cache location. If you think any thing else needs to be done, please share details.\n \t\t"}}}, "commit": {"commit_id": "9293dcc5f5759e6372f63c738a739f1ca2672135", "commit_author": "Toby Roseman", "commitT": "2018-06-29 10:20:03-07:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "src\\unity\\python\\turicreate\\toolkits\\_image_feature_extractor.py", "file_new_name": "src\\unity\\python\\turicreate\\toolkits\\_image_feature_extractor.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": null, "deleted_lines": "27,28", "method_info": {"method_name": "_create_feature_extractor", "method_params": "model_name", "method_startline": "13", "method_endline": "41"}}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "src\\unity\\python\\turicreate\\toolkits\\_pre_trained_models.py", "file_new_name": "src\\unity\\python\\turicreate\\toolkits\\_pre_trained_models.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "20,21,23,24,25,26,27,28,29,30,31,32", "deleted_lines": "19,20,22,23,24", "method_info": {"method_name": "_get_model_cache_dir", "method_params": "", "method_startline": "19", "method_endline": "32"}}, "hunk_1": {"Ismethod": 1, "added_lines": "35", "deleted_lines": null, "method_info": {"method_name": "_download_and_checksum_files", "method_params": "urls,dirname,delete", "method_startline": "35", "method_endline": "80"}}}}}}}