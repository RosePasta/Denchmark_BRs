{"BR": {"BR_id": "1542", "BR_author": "shantanuchhabra", "BRopenT": "2019-03-07T22:30:08Z", "BRcloseT": "2019-05-09T17:36:47Z", "BR_text": {"BRsummary": "Error message for `.annotate` on a mistyped feature column should be more descriptive", "BRdescription": "\n I create an SFrame with two columns: \"bitmap\" (image column) and \"label\" (annotation column), but the annotation column had dtype float. When I tried to annotate the SFrame, I got the following error:\n <denchmark-code>        \n ---------------------------------------------------------------------------\n ToolkitError                              Traceback (most recent call last)\n <ipython-input-75-de3a8f04404e> in <module>\n ----> 1 annotated = tc.image_classifier.annotate(sf, annotation_column=\"ann\")\n \n ~/Desktop/test_fest/venv/lib/python3.6/site-packages/turicreate/toolkits/image_classifier/_annotate.py in annotate(data, image_column, annotation_column)\n     162                             data,\n     163                             [image_column],\n --> 164                             annotation_column\n     165                         )\n     166     annotation_window.annotate(_get_client_app_path())\n \n ~/Desktop/test_fest/venv/lib/python3.6/site-packages/turicreate/extensions.py in <lambda>(*args, **kwargs)\n     168 \n     169 def _make_injected_function(fn, arguments):\n --> 170     return lambda *args, **kwargs: _run_toolkit_function(fn, arguments, args, kwargs)\n     171 \n     172 def _class_instance_from_name(class_name, *arg, **kwarg):\n \n ~/Desktop/test_fest/venv/lib/python3.6/site-packages/turicreate/extensions.py in _run_toolkit_function(fnname, arguments, args, kwargs)\n     157     if not ret[0]:\n     158         if len(ret[1]) > 0:\n --> 159             raise _ToolkitError(ret[1])\n     160         else:\n     161             raise _ToolkitError(\"Toolkit failed with unknown error\")\n \n ToolkitError: Annotation column \"bitmap\" not of string or integer type.\n </denchmark-code>\n \n Two things:\n \n The column name in the error message is wrong.\n I think the error message can be more descriptive by stating what the dtype of the current annotations column is as well.\n \n \t"}, "comments": {}}, "commit": {"commit_id": "541e80424adcebb32056a6fb82f27975b78db251", "commit_author": "Abhishek", "commitT": "2019-05-07 10:49:35-07:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "src\\unity\\lib\\annotation\\annotation_base.cpp", "file_new_name": "src\\unity\\lib\\annotation\\annotation_base.cpp", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "146,149,150,151", "deleted_lines": "148", "method_info": {"method_name": "turi::annotate::AnnotationBase::_checkDataSet", "method_params": "", "method_startline": "130", "method_endline": "153"}}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "src\\unity\\lib\\annotation\\image_classification.hpp", "file_new_name": "src\\unity\\lib\\annotation\\image_classification.hpp", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "7,9", "deleted_lines": "6,7"}}}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "src\\unity\\lib\\annotation\\utils.cpp", "file_new_name": "src\\unity\\lib\\annotation\\utils.cpp", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "55,56,64", "deleted_lines": "55,63,64,65", "method_info": {"method_name": "turi::annotate::featurize_images", "method_params": "images,base_directory", "method_startline": "55", "method_endline": "69"}}}}, "file_3": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "src\\unity\\lib\\annotation\\utils.hpp", "file_new_name": "src\\unity\\lib\\annotation\\utils.hpp", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "48,49", "deleted_lines": "48"}}}, "file_4": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "src\\visualization\\Turi Create Visualization\\src\\user_interface\\src\\elements\\Annotate\\InfiniteScroll\\index.js", "file_new_name": "src\\visualization\\Turi Create Visualization\\src\\user_interface\\src\\elements\\Annotate\\InfiniteScroll\\index.js", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "134", "deleted_lines": "136", "method_info": {"method_name": "renderBoxes", "method_params": "", "method_startline": "114", "method_endline": "136"}}, "hunk_1": {"Ismethod": 1, "added_lines": null, "deleted_lines": "74,76", "method_info": {"method_name": "(anonymous)", "method_params": "", "method_startline": "69", "method_endline": "80"}}}}}}}