{"BR": {"BR_id": "3181", "BR_author": "hariharans29", "BRopenT": "2020-03-11T23:22:13Z", "BRcloseT": "2020-05-18T18:10:14Z", "BR_text": {"BRsummary": "C# DisposableOnnxValue seems to incorrectly accumulate tensors in a SequenceTensor", "BRdescription": "\n Describe the bug\n \n \n \n onnxruntime/csharp/src/Microsoft.ML.OnnxRuntime/DisposableNamedOnnxValue.cs\n \n \n          Line 167\n       in\n       6791ed0\n \n \n \n \n \n \n  NativeApiStatus.VerifySuccess(NativeMethods.OrtGetValue(nativeOnnxValue, 0, allocator, out nativeOnnxValueSeq)); \n \n \n \n \n \n According to the logic in the line, only the first tensor in the sequence will be part of the DisposableNamedOnnxValue. Needs to be the iteration variable - i.\n Keeping this issue as a placeholder. Needs to be fixed along with checking in tests for SequnceTensors.\n \t"}, "comments": {}}, "commit": {"commit_id": "1a183784a8d79c8b7fe19184f43e82945ae3084c", "commit_author": "Hariharan Seshadri", "commitT": "2020-05-18 11:10:13-07:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "csharp\\src\\Microsoft.ML.OnnxRuntime\\DisposableNamedOnnxValue.cs", "file_new_name": "csharp\\src\\Microsoft.ML.OnnxRuntime\\DisposableNamedOnnxValue.cs", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": null, "deleted_lines": "212", "method_info": {"method_name": "Microsoft.ML.OnnxRuntime::DisposableNamedOnnxValue::CreateFromOnnxValue", "method_params": "name,nativeOnnxValue,allocator", "method_startline": "191", "method_endline": "245"}}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "csharp\\test\\Microsoft.ML.OnnxRuntime.Tests\\InferenceTest.cs", "file_new_name": "csharp\\test\\Microsoft.ML.OnnxRuntime.Tests\\InferenceTest.cs", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "1434,1435,1436,1437,1438,1439,1440,1441,1442,1443,1444,1445,1446,1447,1448,1449,1450,1451,1452,1453,1454,1455,1456,1457,1458,1459,1460,1461,1462,1463,1464,1465,1466,1467,1468,1469,1470,1471,1472,1473,1474,1475,1476,1477,1478,1479,1480,1481,1482,1483,1484,1485,1486,1487", "deleted_lines": null, "method_info": {"method_name": "Microsoft.ML.OnnxRuntime.Tests::InferenceTest::TestModelSequenceOfTensors", "method_params": "", "method_startline": "1434", "method_endline": "1489"}}, "hunk_1": {"Ismethod": 1, "added_lines": "1429,1430,1431", "deleted_lines": null, "method_info": {"method_name": "Microsoft.ML.OnnxRuntime.Tests::InferenceTest::TestModelSequenceOfMapStringFloat", "method_params": "", "method_startline": "1381", "method_endline": "1431"}}}}, "file_2": {"file_change_type": "ADD", "file_Nmethod": 0, "file_old_name": "None", "file_new_name": "csharp\\testdata\\test_sequence_tensors.onnx"}}}}