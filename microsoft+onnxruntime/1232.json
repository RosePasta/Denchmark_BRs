{"BR": {"BR_id": "1232", "BR_author": "meynety", "BRopenT": "2019-06-15T09:52:15Z", "BRcloseT": "2019-06-24T17:12:03Z", "BR_text": {"BRsummary": "ARM build fail both on cross and native compile (requested alignment 128 is larger than 64)", "BRdescription": "\n \n Following instructions in <denchmark-link:https://github.com/microsoft/onnxruntime/blob/master/BUILD.md>Build ONNX Runtime</denchmark-link>\n , build fails using both the cross compiling with Docker method <denchmark-link:https://github.com/microsoft/onnxruntime/blob/master/BUILD.md#cross-compiling-for-arm-with-docker-linuxwindows---faster-recommended>(Cross compiling with Docker)</denchmark-link>\n  and with the native compiling on the device (a RaspberryPi 3 B+) <denchmark-link:https://github.com/microsoft/onnxruntime/blob/master/BUILD.md#native-compiling-on-linux-arm-device-slower>(Native compiling on Linux ARM)</denchmark-link>\n \n Both compilations seems to fail at , with the error \n System information\n \n OS Platform and Distribution (e.g., Linux Ubuntu 16.04):\n Linux Fedora 30 running Docker\n Linux Raspbian 9.9 (stretch)\n ONNX Runtime installed from (source or binary): not installed\n ONNX Runtime version: master ?\n Python version:\n Raspbian : 3.5.3\n GCC/Compiler version (if compiling from source):\n Raspbian : 6.3.0 20170516\n \n \n Docker : Follow the instructions on <denchmark-link:https://github.com/microsoft/onnxruntime/blob/master/BUILD.md#cross-compiling-for-arm-with-docker-linuxwindows---faster-recommended>Cross compiling with Docker</denchmark-link>\n , build fails\n Raspbian : Same but with <denchmark-link:https://github.com/microsoft/onnxruntime/blob/master/BUILD.md#native-compiling-on-linux-arm-device-slower>Native compiling on Linux ARM</denchmark-link>\n \n Expected behavior\n Build succeed and produce the onnx-runtime and python binding for ARM\n \n Attached are the two console ouput of the errors, being a noob I'm not quite sure where the error really is between warnings and errors.\n <denchmark-link:https://github.com/microsoft/onnxruntime/files/3292981/docker.log>docker.log</denchmark-link>\n \n <denchmark-link:https://github.com/microsoft/onnxruntime/files/3292982/raspbian.log>raspbian.log</denchmark-link>\n \n Additional context\n On Raspbian, I switched from cmake 3.12.3 to cmake 3.13.5 because during the build it was complaining about requiring cmake 3.13 min.\n Noobie question : Is there any pre-build ARM binaries that we can use ?\n Thank you for the help\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "meynety", "commentT": "2019-06-17T18:34:54Z", "comment_text": "\n \t\tAt this point we don't ship any pre-built ARM binaries.\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "meynety", "commentT": "2019-06-19T07:41:19Z", "comment_text": "\n \t\tAlright thank you, what about the build error then ?\n \t\t"}, "comments_2": {"comment_id": 3, "comment_author": "meynety", "commentT": "2019-06-19T08:01:19Z", "comment_text": "\n \t\tI\u2019ll look into it.\n \t\t"}, "comments_3": {"comment_id": 4, "comment_author": "meynety", "commentT": "2019-06-19T23:13:27Z", "comment_text": "\n \t\tLet's review a solution:\n <denchmark-link:https://github.com/microsoft/onnxruntime/pull/1261>#1261</denchmark-link>\n \n \t\t"}, "comments_4": {"comment_id": 5, "comment_author": "meynety", "commentT": "2019-06-20T22:46:31Z", "comment_text": "\n \t\tWe should fix the problem, instead of ignore the warning.\n \t\t"}, "comments_5": {"comment_id": 6, "comment_author": "meynety", "commentT": "2019-06-24T17:09:41Z", "comment_text": "\n \t\tIt is eigen code.\n Successfully build a image with the fix which is now in master branch.\n Close the issue.\n \t\t"}, "comments_6": {"comment_id": 7, "comment_author": "meynety", "commentT": "2020-04-21T19:24:08Z", "comment_text": "\n \t\tPlease see the discussion at : <denchmark-link:https://gcc.gnu.org/bugzilla/show_bug.cgi?id=89357>https://gcc.gnu.org/bugzilla/show_bug.cgi?id=89357</denchmark-link>\n \n I think that is a compiler bug, and it has been fixed in gcc 9 and 10.\n \t\t"}}}, "commit": {"commit_id": "671c15a56aaab6daf327c5b094c11a3547b16ab9", "commit_author": "RandySheriffH", "commitT": "2019-06-23 17:59:38-07:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "cmake\\CMakeLists.txt", "file_new_name": "cmake\\CMakeLists.txt", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "135,136,698", "deleted_lines": "696"}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "dockerfiles\\Dockerfile.arm32v7", "file_new_name": "dockerfiles\\Dockerfile.arm32v7", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "20,21", "deleted_lines": "20"}}}}}}