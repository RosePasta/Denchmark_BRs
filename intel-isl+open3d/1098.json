{"BR": {"BR_id": "1098", "BR_author": "mwil", "BRopenT": "2019-07-31T04:25:58Z", "BRcloseT": "2019-09-19T07:34:43Z", "BR_text": {"BRsummary": "Files with Unicode path are not read", "BRdescription": "\n Describe the bug\n (This may only apply to Windows 10) I'm trying to read a PCD file using open3d.io.read_point_cloud. The operation yields the correct result if the path to the file is in ASCII, but for paths that include Unicode characters the read operation returns an empty object.\n os.path.isfile() returns true for the file including Unicode, and I use the same path for other operations without issue. I think it must be related to how Open3D handles the path internally.\n To Reproduce\n \n Create a Unicode folder (\"\u51fa\u5178\u30c7\u30fc\u30bf\" for me)\n Try reading the file using read_point_cloud\n \n Expected behavior\n Read the file from any valid location.\n Environment (please complete the following information):\n \n OS: Win 10 Pro\n Python version: 3.7.3\n Open3D version: 0.7.0\n Is this remote workstation? no\n How did you install Open3D? conda\n \n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "mwil", "commentT": "2019-08-19T13:18:11Z", "comment_text": "\n \t\tYes, seems to be related to Windows and . Cf. <denchmark-link:https://stackoverflow.com/questions/396567/is-there-a-standard-way-to-do-an-fopen-with-a-unicode-string-file-path>https://stackoverflow.com/questions/396567/is-there-a-standard-way-to-do-an-fopen-with-a-unicode-string-file-path</denchmark-link>\n \n Not sure what the best way is to handle this. <denchmark-link:https://github.com/yxlao>@yxlao</denchmark-link>\n  <denchmark-link:https://github.com/qianyizh>@qianyizh</denchmark-link>\n  any suggestions?\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "mwil", "commentT": "2019-09-18T11:06:49Z", "comment_text": "\n \t\tCan you test PR <denchmark-link:https://github.com/intel-isl/Open3D/pull/1190>#1190</denchmark-link>\n  if it fixes your problem?\n \t\t"}, "comments_2": {"comment_id": 3, "comment_author": "mwil", "commentT": "2019-09-19T07:34:43Z", "comment_text": "\n \t\tFixed in <denchmark-link:https://github.com/intel-isl/Open3D/pull/1190>#1190</denchmark-link>\n .\n \t\t"}}}, "commit": {"commit_id": "ebc639913ff128060fd2def3446f6caa14d10859", "commit_author": "Gernot", "commitT": "2019-09-19 09:34:07+02:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 3, "file_old_name": "examples\\Cpp\\EvaluateFeatureMatch.cpp", "file_new_name": "examples\\Cpp\\EvaluateFeatureMatch.cpp", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "106", "deleted_lines": "106", "method_info": {"method_name": "ReadLogFile", "method_params": "filename,pair_ids,transformations", "method_startline": "100", "method_endline": "154"}}, "hunk_1": {"Ismethod": 1, "added_lines": "157", "deleted_lines": "157", "method_info": {"method_name": "WriteBinaryResult", "method_params": "filename,data", "method_startline": "156", "method_endline": "160"}}, "hunk_2": {"Ismethod": 1, "added_lines": "40", "deleted_lines": "40", "method_info": {"method_name": "KDTreeFlannFeature::LoadFromFile", "method_params": "filename", "method_startline": "39", "method_endline": "57"}}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "examples\\Cpp\\EvaluatePCDMatch.cpp", "file_new_name": "examples\\Cpp\\EvaluatePCDMatch.cpp", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "57", "deleted_lines": "57", "method_info": {"method_name": "ReadLogFile", "method_params": "filename,pair_ids,transformations", "method_startline": "51", "method_endline": "105"}}}}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "examples\\Cpp\\IntegrateRGBD.cpp", "file_new_name": "examples\\Cpp\\IntegrateRGBD.cpp", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "87", "deleted_lines": "87", "method_info": {"method_name": "main", "method_params": "argc", "method_startline": "55", "method_endline": "149"}}}}, "file_3": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "examples\\Cpp\\ViewDistances.cpp", "file_new_name": "examples\\Cpp\\ViewDistances.cpp", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "70,75,79", "deleted_lines": "70,75,79", "method_info": {"method_name": "main", "method_params": "argc", "method_startline": "48", "method_endline": "106"}}}}, "file_4": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "examples\\Cpp\\ViewPCDMatch.cpp", "file_new_name": "examples\\Cpp\\ViewPCDMatch.cpp", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "39", "deleted_lines": "39", "method_info": {"method_name": "ReadLogFile", "method_params": "filename,metadata,transformations", "method_startline": "33", "method_endline": "87"}}}}, "file_5": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "src\\Open3D\\IO\\FileFormat\\FileBIN.cpp", "file_new_name": "src\\Open3D\\IO\\FileFormat\\FileBIN.cpp", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "81", "deleted_lines": "80", "method_info": {"method_name": "open3d::io::ReadFeatureFromBIN", "method_params": "filename,feature", "method_startline": "79", "method_endline": "90"}}, "hunk_1": {"Ismethod": 1, "added_lines": "94", "deleted_lines": "93", "method_info": {"method_name": "open3d::io::WriteFeatureToBIN", "method_params": "filename,feature", "method_startline": "92", "method_endline": "103"}}}}, "file_6": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "src\\Open3D\\IO\\FileFormat\\FileJPG.cpp", "file_new_name": "src\\Open3D\\IO\\FileFormat\\FileJPG.cpp", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "115", "deleted_lines": "114", "method_info": {"method_name": "open3d::io::WriteImageToJPG", "method_params": "filename,image,quality", "method_startline": "98", "method_endline": "145"}}, "hunk_1": {"Ismethod": 1, "added_lines": "45", "deleted_lines": "44", "method_info": {"method_name": "open3d::io::ReadImageFromJPG", "method_params": "filename,image", "method_startline": "39", "method_endline": "96"}}}}, "file_7": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "src\\Open3D\\IO\\FileFormat\\FileLOG.cpp", "file_new_name": "src\\Open3D\\IO\\FileFormat\\FileLOG.cpp", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "114", "deleted_lines": "113", "method_info": {"method_name": "open3d::io::WritePinholeCameraTrajectoryToLOG", "method_params": "filename,trajectory", "method_startline": "111", "method_endline": "135"}}, "hunk_1": {"Ismethod": 1, "added_lines": "53", "deleted_lines": "52", "method_info": {"method_name": "open3d::io::ReadPinholeCameraTrajectoryFromLOG", "method_params": "filename,trajectory", "method_startline": "41", "method_endline": "109"}}}}, "file_8": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "src\\Open3D\\IO\\FileFormat\\FilePCD.cpp", "file_new_name": "src\\Open3D\\IO\\FileFormat\\FilePCD.cpp", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "718", "deleted_lines": "717", "method_info": {"method_name": "open3d::io::ReadPointCloudFromPCD", "method_params": "filename,pointcloud,print_progress", "method_startline": "714", "method_endline": "750"}}, "hunk_1": {"Ismethod": 1, "added_lines": "762", "deleted_lines": "761", "method_info": {"method_name": "open3d::io::WritePointCloudToPCD", "method_params": "filename,pointcloud,write_ascii,compressed,print_progress", "method_startline": "752", "method_endline": "779"}}}}, "file_9": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "src\\Open3D\\IO\\FileFormat\\FilePTS.cpp", "file_new_name": "src\\Open3D\\IO\\FileFormat\\FilePTS.cpp", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "40", "deleted_lines": "39", "method_info": {"method_name": "open3d::io::ReadPointCloudFromPTS", "method_params": "filename,pointcloud,print_progress", "method_startline": "37", "method_endline": "94"}}, "hunk_1": {"Ismethod": 1, "added_lines": "101", "deleted_lines": "100", "method_info": {"method_name": "open3d::io::WritePointCloudToPTS", "method_params": "filename,pointcloud,write_ascii,compressed,print_progress", "method_startline": "96", "method_endline": "125"}}}}, "file_10": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "src\\Open3D\\IO\\FileFormat\\FileSTL.cpp", "file_new_name": "src\\Open3D\\IO\\FileFormat\\FileSTL.cpp", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "40", "deleted_lines": "39", "method_info": {"method_name": "open3d::io::ReadTriangleMeshFromSTL", "method_params": "filename,mesh,print_progress", "method_startline": "37", "method_endline": "102"}}}}, "file_11": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "src\\Open3D\\IO\\FileFormat\\FileTUM.cpp", "file_new_name": "src\\Open3D\\IO\\FileFormat\\FileTUM.cpp", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "57", "deleted_lines": "56", "method_info": {"method_name": "open3d::io::ReadPinholeCameraTrajectoryFromTUM", "method_params": "filename,trajectory", "method_startline": "45", "method_endline": "87"}}, "hunk_1": {"Ismethod": 1, "added_lines": "92", "deleted_lines": "91", "method_info": {"method_name": "open3d::io::WritePinholeCameraTrajectoryToTUM", "method_params": "filename,trajectory", "method_startline": "89", "method_endline": "110"}}}}, "file_12": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "src\\Open3D\\IO\\FileFormat\\FileXYZ.cpp", "file_new_name": "src\\Open3D\\IO\\FileFormat\\FileXYZ.cpp", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "39", "deleted_lines": "38", "method_info": {"method_name": "open3d::io::ReadPointCloudFromXYZ", "method_params": "filename,pointcloud,print_progress", "method_startline": "36", "method_endline": "58"}}, "hunk_1": {"Ismethod": 1, "added_lines": "65", "deleted_lines": "64", "method_info": {"method_name": "open3d::io::WritePointCloudToXYZ", "method_params": "filename,pointcloud,write_ascii,compressed,print_progress", "method_startline": "60", "method_endline": "85"}}}}, "file_13": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "src\\Open3D\\IO\\FileFormat\\FileXYZN.cpp", "file_new_name": "src\\Open3D\\IO\\FileFormat\\FileXYZN.cpp", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "39", "deleted_lines": "38", "method_info": {"method_name": "open3d::io::ReadPointCloudFromXYZN", "method_params": "filename,pointcloud,print_progress", "method_startline": "36", "method_endline": "60"}}, "hunk_1": {"Ismethod": 1, "added_lines": "71", "deleted_lines": "70", "method_info": {"method_name": "open3d::io::WritePointCloudToXYZN", "method_params": "filename,pointcloud,write_ascii,compressed,print_progress", "method_startline": "62", "method_endline": "92"}}}}, "file_14": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "src\\Open3D\\IO\\FileFormat\\FileXYZRGB.cpp", "file_new_name": "src\\Open3D\\IO\\FileFormat\\FileXYZRGB.cpp", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "71", "deleted_lines": "70", "method_info": {"method_name": "open3d::io::WritePointCloudToXYZRGB", "method_params": "filename,pointcloud,write_ascii,compressed,print_progress", "method_startline": "62", "method_endline": "93"}}, "hunk_1": {"Ismethod": 1, "added_lines": "39", "deleted_lines": "38", "method_info": {"method_name": "open3d::io::ReadPointCloudFromXYZRGB", "method_params": "filename,pointcloud,print_progress", "method_startline": "36", "method_endline": "60"}}}}, "file_15": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "src\\Open3D\\Utility\\FileSystem.cpp", "file_new_name": "src\\Open3D\\Utility\\FileSystem.cpp", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218", "deleted_lines": null, "method_info": {"method_name": "open3d::utility::filesystem::FOpen", "method_params": "filename,mode", "method_startline": "203", "method_endline": "218"}}}}, "file_16": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "src\\Open3D\\Utility\\FileSystem.h", "file_new_name": "src\\Open3D\\Utility\\FileSystem.h", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "69,70,71", "deleted_lines": null}}}, "file_17": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "src\\Tools\\ManuallyAlignPointCloud\\ManuallyAlignPointCloud.cpp", "file_new_name": "src\\Tools\\ManuallyAlignPointCloud\\ManuallyAlignPointCloud.cpp", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "191,196", "deleted_lines": "191,196", "method_info": {"method_name": "main", "method_params": "argc,argv", "method_startline": "75", "method_endline": "232"}}}}, "file_18": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "src\\Tools\\ManuallyAlignPointCloud\\VisualizerForAlignment.cpp", "file_new_name": "src\\Tools\\ManuallyAlignPointCloud\\VisualizerForAlignment.cpp", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "345,351", "deleted_lines": "345,351", "method_info": {"method_name": "open3d::VisualizerForAlignment::EvaluateAlignmentAndSave", "method_params": "filename", "method_startline": "325", "method_endline": "354"}}}}, "file_19": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "src\\UnitTest\\Integration\\UniformTSDFVolume.cpp", "file_new_name": "src\\UnitTest\\Integration\\UniformTSDFVolume.cpp", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "42", "deleted_lines": "41", "method_info": {"method_name": "ReadPoses", "method_params": "trajectory_path,poses", "method_startline": "40", "method_endline": "76"}}}}}}}