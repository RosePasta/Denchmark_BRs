{"BR": {"BR_id": "1421", "BR_author": "david-alexander-white", "BRopenT": "2020-04-09T03:35:45Z", "BRcloseT": "2020-04-09T19:01:09Z", "BR_text": {"BRsummary": "run_training_batch breaks on None batch or -1 response from on_batch_start (in new 0.7.2 release)", "BRdescription": "\n <denchmark-h:h2>\ud83d\udc1b Bug</denchmark-h>\n \n run_training_batch now is supposed to return a 4-tuple in 0.7.2\n however, there are two places where it still returns a 3-tuple, which will cause the program to crash, saying \"ValueError: not enough values to unpack (expected 4, got 3)\"\n (training_loop.py:533)\n <denchmark-code>if batch is None:\n     return 0, grad_norm_dic, {}\n </denchmark-code>\n \n (training_loop.py:543)\n <denchmark-code>if response == -1:\n     return -1, grad_norm_dic, {}\n </denchmark-code>\n \n vs. the standard return\n return 0, grad_norm_dic, all_log_metrics, batch_output\n <denchmark-h:h3>To reproduce</denchmark-h>\n \n just return -1 from on_batch_start\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "david-alexander-white", "commentT": "2020-04-09T12:44:13Z", "comment_text": "\n \t\tgood catch. mind submitting a PR?\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "david-alexander-white", "commentT": "2020-04-09T19:35:36Z", "comment_text": "\n \t\tNice, beat me to it\n \t\t"}}}, "commit": {"commit_id": "b2707c9b2ebeac03f19a3939df9432ac8859d894", "commit_author": "Jirka Borovec", "commitT": "2020-04-09 15:01:08-04:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "CHANGELOG.md", "file_new_name": "CHANGELOG.md", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "17", "deleted_lines": null}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "pytorch_lightning\\trainer\\training_io.py", "file_new_name": "pytorch_lightning\\trainer\\training_io.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "325", "deleted_lines": "325", "method_info": {"method_name": "dump_checkpoint", "method_params": "self", "method_startline": "287", "method_endline": "331"}}}}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "pytorch_lightning\\trainer\\training_loop.py", "file_new_name": "pytorch_lightning\\trainer\\training_loop.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "535,545", "deleted_lines": "535,545", "method_info": {"method_name": "run_training_batch", "method_params": "self,batch,batch_idx", "method_startline": "524", "method_endline": "658"}}}}}}}