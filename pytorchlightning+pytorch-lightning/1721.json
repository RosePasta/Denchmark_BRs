{"BR": {"BR_id": "1721", "BR_author": "Borda", "BRopenT": "2020-05-03T21:50:02Z", "BRcloseT": "2020-05-04T11:13:13Z", "BR_text": {"BRsummary": "instable GitHub action cache", "BRdescription": "\n <denchmark-h:h2>\ud83d\udc1b Bug</denchmark-h>\n \n there is some issue with GH action and caching as it is randomly failing with using Horovod\n <denchmark-h:h3>To Reproduce</denchmark-h>\n \n <denchmark-link:https://github.com/PyTorchLightning/pytorch-lightning/pull/1709#issuecomment-623178716>#1709 (comment)</denchmark-link>\n \n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "Borda", "commentT": "2020-05-03T21:57:09Z", "comment_text": "\n \t\tIf the goal is to keep the cache to speed things up, my suggestion would be to add a couple checks in the \"Install dependencies\" step in the workflow:\n \n Check the version of torch before installing requirements.txt, save in Bash variable.\n Install requirements.txt\n Check the version of torch after, save in Bash variable.\n If torch version before != version after, then uninstall Horovod.\n Install requirements-extra.txt.\n \n This way, we should be able to leverage the cache to speed things up when nothing changes, without running into incompatibilities when the torch version is upgraded.\n I can put together a PR for this.\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "Borda", "commentT": "2020-05-03T22:01:44Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/tgaddair>@tgaddair</denchmark-link>\n  PR would be great!\n I am a bit suspicions as you mentioned that the cache is not loaded properly so thinking about opening an issue with <denchmark-link:https://github.com/actions/cache>https://github.com/actions/cache</denchmark-link>\n \n \t\t"}, "comments_2": {"comment_id": 3, "comment_author": "Borda", "commentT": "2020-05-04T06:35:31Z", "comment_text": "\n \t\tI see the issue now, the problem is that the min requirement of  is the actual one so the loaded cache even with  is satisfied\n <denchmark-link:https://github.com/PyTorchLightning/pytorch-lightning/pull/1709/checks?check_run_id=641571597>https://github.com/PyTorchLightning/pytorch-lightning/pull/1709/checks?check_run_id=641571597</denchmark-link>\n \n \t\t"}}}, "commit": {"commit_id": "281a73ccf7a22cdf004755f1f7b4aead40b12d84", "commit_author": "Jirka Borovec", "commitT": "2020-05-04 07:13:11-04:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": ".github\\workflows\\ci-testing.yml", "file_new_name": ".github\\workflows\\ci-testing.yml", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "74,76,102,108,109", "deleted_lines": "74,76,102,108,109"}}}}}}