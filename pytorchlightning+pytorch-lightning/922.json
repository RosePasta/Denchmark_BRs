{"BR": {"BR_id": "922", "BR_author": "srush", "BRopenT": "2020-02-23T20:09:13Z", "BRcloseT": "2020-02-25T03:23:26Z", "BR_text": {"BRsummary": "Init'ing Dataloader calls get_train_dataloader", "BRdescription": "\n It seems like the code of initializing the dataloader calls into getting the dataloader.\n \n \n \n pytorch-lightning/pytorch_lightning/trainer/data_loading.py\n \n \n          Line 69\n       in\n       c00a8a1\n \n \n \n \n \n \n  if EXIST_ITER_DATASET and isinstance(self.get_train_dataloader().dataset, IterableDataset): \n \n \n \n \n \n This means that all the effort for wrapping get_dataloader to sync through barriers for multi-gpu / tpu is not used on this first call (and results in a crash).\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "srush", "commentT": "2020-02-23T20:14:29Z", "comment_text": "\n \t\tummm good point. I think we need to simplify the get_XXX_dataloader() calls. The lazy loading decorator does make it harder for people to debug their data loading issues.\n <denchmark-link:https://github.com/neggert>@neggert</denchmark-link>\n  do you remember the original reason we added the decorator? maybe it's time to remove it and simplify this logic?\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "srush", "commentT": "2020-02-23T20:35:20Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/ethanwharris>@ethanwharris</denchmark-link>\n  <denchmark-link:https://github.com/jakubczakon>@jakubczakon</denchmark-link>\n  <denchmark-link:https://github.com/MattPainter01>@MattPainter01</denchmark-link>\n \n any thoughts?\n \t\t"}, "comments_2": {"comment_id": 3, "comment_author": "srush", "commentT": "2020-02-23T20:55:31Z", "comment_text": "\n \t\tI always assumed the decorator was to stop multiple instantiation - there was some old bug where data loading threads would hang around after each epoch because new data loaders were created and the old threads just carried on - having said that I can't find the issue anywhere\n The IterableDataset stuff at the moment is a bit fragile (mostly hard coded type checks), there might be better ways to deal with it that simplify the above\n If there's some way we can remove the decorator but still only create the dataloader once then that would be a big usability improvement :)\n \t\t"}, "comments_3": {"comment_id": 4, "comment_author": "srush", "commentT": "2020-02-23T21:13:36Z", "comment_text": "\n \t\tagreed. that was the original reason. basically we could refactor to make sure we only call it at time of the epoch beginning.\n i think we needed it before to determine length and some other reasons\n \t\t"}, "comments_4": {"comment_id": 5, "comment_author": "srush", "commentT": "2020-02-23T22:02:02Z", "comment_text": "\n \t\tI'm stuck on a couple issues here actually that I can't unwind.\n Main Issue: I don't really understand the semantics of train_dataloader in ddp / tpu training. Is it supposed to be called by only (a) with rank 0 or (b) with all ranks. I would prefer (a) but I need to know so I don't call barriers internally. If it is (b) then I do need to do that, but the semantics are more clear. My assumption had been (b) which works for DDP for me (TPU I'm still stuck).\n Side Issue: It's very difficult to determine ordering. I had been calling training_data() from configure_optimizer, but doing that seems to preempt everything and lead to strange behavior.\n A related issue to this is that loading the data set 8x times on TPU blows up the limited amount of RAM to Colab allows for. It would be nice to avoid this issue.\n \t\t"}}}, "commit": {"commit_id": "1015a0050621828c9e8af2c934e19c5c68d61a5e", "commit_author": "William Falcon", "commitT": "2020-02-24 22:23:25-05:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "CHANGELOG.md", "file_new_name": "CHANGELOG.md", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "11,12,13,28", "deleted_lines": null}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "docs\\source\\hooks.rst", "file_new_name": "docs\\source\\hooks.rst", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "11,12,13", "deleted_lines": "11,12,13"}}}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "pl_examples\\basic_examples\\lightning_module_template.py", "file_new_name": "pl_examples\\basic_examples\\lightning_module_template.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "208,209,210,211,212,213,214", "deleted_lines": "208,209", "method_info": {"method_name": "prepare_data", "method_params": "self", "method_startline": "208", "method_endline": "214"}}, "hunk_1": {"Ismethod": 1, "added_lines": "195", "deleted_lines": "195,198,201,202,203,204", "method_info": {"method_name": "__dataloader", "method_params": "self,train", "method_startline": "190", "method_endline": "206"}}}}, "file_3": {"file_change_type": "MODIFY", "file_Nmethod": 3, "file_old_name": "pytorch_lightning\\core\\decorators.py", "file_new_name": "pytorch_lightning\\core\\decorators.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "15,16,17", "deleted_lines": "14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32", "method_info": {"method_name": "data_loader._get_data_loader", "method_params": "self", "method_startline": "14", "method_endline": "32"}}, "hunk_1": {"Ismethod": 1, "added_lines": "15,16", "deleted_lines": "15,16", "method_info": {"method_name": "data_loader.inner_fx", "method_params": "self", "method_startline": "15", "method_endline": "16"}}, "hunk_2": {"Ismethod": 1, "added_lines": "12,13,15,16,17", "deleted_lines": "11,12,13,14,15,16,17", "method_info": {"method_name": "data_loader", "method_params": "fn", "method_startline": "6", "method_endline": "17"}}}}, "file_4": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "pytorch_lightning\\core\\lightning.py", "file_new_name": "pytorch_lightning\\core\\lightning.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "880,881,882,883,884,885,886,887,888,889,890,891,892,893,894,895,896,897,898,899,900,901,902,903,904,905", "deleted_lines": null, "method_info": {"method_name": "prepare_data", "method_params": "self", "method_startline": "880", "method_endline": "905"}}, "hunk_1": {"Ismethod": 1, "added_lines": "808,809,810", "deleted_lines": "801", "method_info": {"method_name": "optimizer_step", "method_params": "self,epoch,batch_idx,optimizer,optimizer_idx,second_order_closure", "method_startline": "751", "method_endline": "816"}}}}, "file_5": {"file_change_type": "MODIFY", "file_Nmethod": 11, "file_old_name": "pytorch_lightning\\trainer\\data_loading.py", "file_new_name": "pytorch_lightning\\trainer\\data_loading.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "215,220,221,223,224,225,226,227,228,229,230,231,232,235,238", "deleted_lines": "215,216,217,219,220,222,223,224,225,227,228,229,230,231,232,233,235,238,239,240", "method_info": {"method_name": "reset_test_dataloader", "method_params": "self,model", "method_startline": "215", "method_endline": "240"}}, "hunk_1": {"Ismethod": 1, "added_lines": "92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136", "deleted_lines": "93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,122,127,130,133,134,135,136", "method_info": {"method_name": "auto_add_sampler", "method_params": "self,dataloader,train", "method_startline": "92", "method_endline": "136"}}, "hunk_2": {"Ismethod": 1, "added_lines": "176,177,178,179,180,181,182,183,184,185,186,187,188,194,195,196,197,198,199,202,203,204,205", "deleted_lines": "161,167,170,173,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205", "method_info": {"method_name": "init_test_dataloader", "method_params": "self,model", "method_startline": "161", "method_endline": "205"}}, "hunk_3": {"Ismethod": 1, "added_lines": "138,144,145,146,147,148,149,152,157,176,177,178,179,180,181,182,183,184,185,186", "deleted_lines": "138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,167,170,173,177,178,179,180,181,182,183,184,185,186", "method_info": {"method_name": "reset_train_dataloader", "method_params": "self,model", "method_startline": "138", "method_endline": "186"}}, "hunk_4": {"Ismethod": 1, "added_lines": "209,212,215,220,221,223,224,225,226,227,228,229,230,231,232,235,238,242,244,245,246", "deleted_lines": "207,209,210,213,214,215,216,217,219,220,222,223,224,225,227,228,229,230,231,232,233,235,238,239,240,241,242,243,244,245,246,247", "method_info": {"method_name": "get_dataloaders", "method_params": "self,model", "method_startline": "207", "method_endline": "247"}}, "hunk_5": {"Ismethod": 1, "added_lines": "116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,144,145,146,147,148,149,152,157", "deleted_lines": "116,122,127,130,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159", "method_info": {"method_name": "init_val_dataloader", "method_params": "self,model", "method_startline": "116", "method_endline": "159"}}, "hunk_6": {"Ismethod": 1, "added_lines": "242,244,245,246,249,251,253,254,256,257,258,260,263,264,265,266,267", "deleted_lines": "242,243,244,245,246,247", "method_info": {"method_name": "request_data_loader", "method_params": "self,data_loader_fx", "method_startline": "242", "method_endline": "267"}}, "hunk_7": {"Ismethod": 1, "added_lines": "188,194,195,196,197,198,199,202,203,204,205,206,209,212", "deleted_lines": "188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,209,210,213", "method_info": {"method_name": "reset_val_dataloader", "method_params": "self,model", "method_startline": "188", "method_endline": "213"}}, "hunk_8": {"Ismethod": 1, "added_lines": "50,51,52,53,54,55,56", "deleted_lines": null, "method_info": {"method_name": "__init__", "method_params": "self", "method_startline": "40", "method_endline": "56"}}, "hunk_9": {"Ismethod": 1, "added_lines": "67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90", "deleted_lines": "69,74", "method_info": {"method_name": "call_prepare_data", "method_params": "self,model", "method_startline": "67", "method_endline": "90"}}, "hunk_10": {"Ismethod": 1, "added_lines": "67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114", "deleted_lines": "60,66,69,74,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114", "method_info": {"method_name": "init_train_dataloader", "method_params": "self,model", "method_startline": "60", "method_endline": "114"}}}}, "file_6": {"file_change_type": "MODIFY", "file_Nmethod": 6, "file_old_name": "pytorch_lightning\\trainer\\evaluation_loop.py", "file_new_name": "pytorch_lightning\\trainer\\evaluation_loop.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "215,216,217", "deleted_lines": null, "method_info": {"method_name": "reset_val_dataloader", "method_params": "self,model", "method_startline": "215", "method_endline": "217"}}, "hunk_1": {"Ismethod": 1, "added_lines": "273,274,275,276,277,278", "deleted_lines": "261,262,263,264,265,291,292", "method_info": {"method_name": "evaluate", "method_params": "self,model,dataloaders,max_batches,test", "method_startline": "219", "method_endline": "300"}}, "hunk_2": {"Ismethod": 1, "added_lines": "168,169,171,172", "deleted_lines": "168,169", "method_info": {"method_name": "__init__", "method_params": "self", "method_startline": "145", "method_endline": "172"}}, "hunk_3": {"Ismethod": 1, "added_lines": "379,382", "deleted_lines": null, "method_info": {"method_name": "evaluation_forward", "method_params": "self,model,batch,batch_idx,dataloader_idx,test", "method_startline": "375", "method_endline": "410"}}, "hunk_4": {"Ismethod": 1, "added_lines": "210,211,212", "deleted_lines": null, "method_info": {"method_name": "reset_test_dataloader", "method_params": "self,model", "method_startline": "210", "method_endline": "212"}}, "hunk_5": {"Ismethod": 1, "added_lines": "304,305,315,316,317,318,322,323,324,325", "deleted_lines": "302,306,360,363", "method_info": {"method_name": "run_evaluation", "method_params": "self,test", "method_startline": "302", "method_endline": "373"}}}}, "file_7": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "pytorch_lightning\\trainer\\model_hooks.py", "file_new_name": "pytorch_lightning\\trainer\\model_hooks.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "14,15,16", "deleted_lines": "14,15", "method_info": {"method_name": "is_overriden", "method_params": "self,f_name", "method_startline": "14", "method_endline": "20"}}, "hunk_1": {"Ismethod": 1, "added_lines": "14,15,16", "deleted_lines": "14,15", "method_info": {"method_name": "is_overriden", "method_params": "self,f_name,model", "method_startline": "14", "method_endline": "21"}}}}, "file_8": {"file_change_type": "MODIFY", "file_Nmethod": 9, "file_old_name": "pytorch_lightning\\trainer\\trainer.py", "file_new_name": "pytorch_lightning\\trainer\\trainer.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": null, "deleted_lines": "1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1120,1121,1122,1123,1124,1125,1126,1127,1128,1129,1130,1131,1132,1133,1134,1135,1136,1137,1138,1139,1140,1141,1142,1143,1144,1145,1146,1147,1148,1149,1150,1151,1152,1153", "method_info": {"method_name": "_set_dataloader", "method_params": "model,dataloader,attribute", "method_startline": "1110", "method_endline": "1153"}}, "hunk_1": {"Ismethod": 1, "added_lines": "950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,975,976,977,978,979,980,981", "deleted_lines": null, "method_info": {"method_name": "__set_fit_dataloaders", "method_params": "self,model,train_dataloader,val_dataloaders,test_dataloaders", "method_startline": "950", "method_endline": "981"}}, "hunk_2": {"Ismethod": 1, "added_lines": "978,979", "deleted_lines": null, "method_info": {"method_name": "__set_fit_dataloaders.patch_test_dataloader", "method_params": "", "method_startline": "978", "method_endline": "979"}}, "hunk_3": {"Ismethod": 1, "added_lines": "858,859", "deleted_lines": null, "method_info": {"method_name": "fit", "method_params": "self,LightningModule,None,None,None", "method_startline": "854", "method_endline": "859"}}, "hunk_4": {"Ismethod": 1, "added_lines": "1064,1065,1066,1069,1070,1074,1075,1076,1077,1090,1097", "deleted_lines": "1013,1014,1015,1048,1055,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119", "method_info": {"method_name": "run_pretrain_routine", "method_params": "self,LightningModule", "method_startline": "1009", "method_endline": "1119"}}, "hunk_5": {"Ismethod": 1, "added_lines": "968,969", "deleted_lines": null, "method_info": {"method_name": "__set_fit_dataloaders.patch_val_dataloader", "method_params": "", "method_startline": "968", "method_endline": "969"}}, "hunk_6": {"Ismethod": 1, "added_lines": "82,113", "deleted_lines": null, "method_info": {"method_name": "__init__", "method_params": "self,LightningLoggerBase,True,ModelCheckpoint,True,EarlyStopping,None,None,float,gradient_clip,int,nb_gpu_nodes,int,str,None,None,None,bool,int,float,int,int,bool,int,int,1,max_nb_epochs,min_nb_epochs,int,int,None,None,float,float,float,0,int,int,add_row_log_interval,None,use_amp,int,bool,str,None,str,nb_sanity_val_steps,int,None,None,None,bool", "method_startline": "67", "method_endline": "113"}}, "hunk_7": {"Ismethod": 1, "added_lines": null, "deleted_lines": "852,853", "method_info": {"method_name": "fit", "method_params": "self,LightningModule,None,None,None", "method_startline": "848", "method_endline": "853"}}, "hunk_8": {"Ismethod": 1, "added_lines": "958,959", "deleted_lines": null, "method_info": {"method_name": "__set_fit_dataloaders.patch_train_dataloader", "method_params": "", "method_startline": "958", "method_endline": "959"}}}}, "file_9": {"file_change_type": "MODIFY", "file_Nmethod": 5, "file_old_name": "pytorch_lightning\\trainer\\training_loop.py", "file_new_name": "pytorch_lightning\\trainer\\training_loop.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "227,228,229", "deleted_lines": "229", "method_info": {"method_name": "__init__", "method_params": "self", "method_startline": "183", "method_endline": "229"}}, "hunk_1": {"Ismethod": 1, "added_lines": "410,411,412,417,418,422", "deleted_lines": "408,409,414,415,419", "method_info": {"method_name": "run_training_epoch", "method_params": "self", "method_startline": "403", "method_endline": "488"}}, "hunk_2": {"Ismethod": 1, "added_lines": "597,598,612,613,614", "deleted_lines": "594,595,596,597,598,612,613", "method_info": {"method_name": "run_training_batch", "method_params": "self,batch,batch_idx", "method_startline": "490", "method_endline": "622"}}, "hunk_3": {"Ismethod": 1, "added_lines": "318,319,320,398", "deleted_lines": "317,318,319", "method_info": {"method_name": "train", "method_params": "self", "method_startline": "309", "method_endline": "401"}}, "hunk_4": {"Ismethod": 1, "added_lines": "305,306,307", "deleted_lines": null, "method_info": {"method_name": "reset_train_dataloader", "method_params": "self,model", "method_startline": "305", "method_endline": "307"}}}}, "file_10": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "tests\\models\\__init__.py", "file_new_name": "tests\\models\\__init__.py", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "15,16,17,18", "deleted_lines": null}}}, "file_11": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "tests\\models\\base.py", "file_new_name": "tests\\models\\base.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "153,154,155,156,157,158,159", "deleted_lines": "158", "method_info": {"method_name": "prepare_data", "method_params": "self", "method_startline": "153", "method_endline": "159"}}, "hunk_1": {"Ismethod": 1, "added_lines": "166", "deleted_lines": "161,164,165,166,167,168,169,170,171,175,176", "method_info": {"method_name": "_dataloader", "method_params": "self,train", "method_startline": "161", "method_endline": "176"}}}}, "file_12": {"file_change_type": "MODIFY", "file_Nmethod": 4, "file_old_name": "tests\\models\\mixins.py", "file_new_name": "tests\\models\\mixins.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "484,485,486,487,488,489,490,491,492,493,494,495,496,497,498,499,500,501,502,503,504,505,506,507,508,509,510,511,512,513,514,515,516,517,518,519,520,521,522,523,524,525,526,527,528,529,530,531", "deleted_lines": null, "method_info": {"method_name": "validation_step", "method_params": "self,batch,batch_idx,dataloader_idx", "method_startline": "484", "method_endline": "531"}}, "hunk_1": {"Ismethod": 1, "added_lines": "388,389,390,391,392,393,394,395,396,397,398,399,400,401,402,403,404,405,406,407,408,409,410,411,412,413,414,415,416,417,418,419,420,421,422,423,424,425,426,427,428,429,430,431,432,433,434,435", "deleted_lines": null, "method_info": {"method_name": "test_step", "method_params": "self,batch,batch_idx,dataloader_idx", "method_startline": "388", "method_endline": "435"}}, "hunk_2": {"Ismethod": 1, "added_lines": "343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,384", "deleted_lines": null, "method_info": {"method_name": "test_step", "method_params": "self,batch,batch_idx", "method_startline": "343", "method_endline": "384"}}, "hunk_3": {"Ismethod": 1, "added_lines": "439,440,441,442,443,444,445,446,447,448,449,450,451,452,453,454,455,456,457,458,459,460,461,462,463,464,465,466,467,468,469,470,471,472,473,474,475,476,477,478,479,480", "deleted_lines": null, "method_info": {"method_name": "validation_step", "method_params": "self,batch,batch_idx", "method_startline": "439", "method_endline": "480"}}}}, "file_13": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "tests\\models\\utils.py", "file_new_name": "tests\\models\\utils.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "76,77,78,79,80", "deleted_lines": "72", "method_info": {"method_name": "run_model_test", "method_params": "trainer_options,model,on_gpu", "method_startline": "52", "method_endline": "89"}}, "hunk_1": {"Ismethod": 1, "added_lines": "39,40,41,42,43", "deleted_lines": "39", "method_info": {"method_name": "run_model_test_no_loggers", "method_params": "trainer_options,model,min_acc", "method_startline": "23", "method_endline": "49"}}}}, "file_14": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "tests\\test_cpu_models.py", "file_new_name": "tests\\test_cpu_models.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": null, "deleted_lines": "307", "method_info": {"method_name": "test_tbptt_cpu_model", "method_params": "tmpdir", "method_startline": "266", "method_endline": "337"}}, "hunk_1": {"Ismethod": 1, "added_lines": "49", "deleted_lines": "49", "method_info": {"method_name": "test_lbfgs_cpu_model", "method_params": "tmpdir", "method_startline": "43", "method_endline": "58"}}}}, "file_15": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "tests\\test_gpu_models.py", "file_new_name": "tests\\test_gpu_models.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": null, "deleted_lines": "214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237", "method_info": {"method_name": "test_ddp_sampler_error", "method_params": "tmpdir", "method_startline": "214", "method_endline": "237"}}, "hunk_1": {"Ismethod": 1, "added_lines": "127,128,129,130,131", "deleted_lines": "127", "method_info": {"method_name": "test_cpu_slurm_save_load", "method_params": "tmpdir", "method_startline": "100", "method_endline": "170"}}}}, "file_16": {"file_change_type": "MODIFY", "file_Nmethod": 6, "file_old_name": "tests\\test_restore_models.py", "file_new_name": "tests\\test_restore_models.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "56,57,58,59,60", "deleted_lines": "56", "method_info": {"method_name": "test_running_test_pretrained_model_ddp", "method_params": "tmpdir", "method_startline": "12", "method_endline": "61"}}, "hunk_1": {"Ismethod": 1, "added_lines": "352,353,354,355,356", "deleted_lines": "348", "method_info": {"method_name": "test_model_saving_loading", "method_params": "tmpdir", "method_startline": "328", "method_endline": "381"}}, "hunk_2": {"Ismethod": 1, "added_lines": "318", "deleted_lines": "314", "method_info": {"method_name": "test_cpu_restore_training.assert_good_acc", "method_params": "", "method_startline": "311", "method_endline": "319"}}, "hunk_3": {"Ismethod": 1, "added_lines": "251", "deleted_lines": "247", "method_info": {"method_name": "test_dp_resume.assert_good_acc", "method_params": "", "method_startline": "243", "method_endline": "252"}}, "hunk_4": {"Ismethod": 1, "added_lines": "318", "deleted_lines": "314", "method_info": {"method_name": "test_cpu_restore_training", "method_params": "tmpdir", "method_startline": "266", "method_endline": "325"}}, "hunk_5": {"Ismethod": 1, "added_lines": "251", "deleted_lines": "247", "method_info": {"method_name": "test_dp_resume", "method_params": "tmpdir", "method_startline": "188", "method_endline": "263"}}}}, "file_17": {"file_change_type": "MODIFY", "file_Nmethod": 7, "file_old_name": "tests\\test_trainer.py", "file_new_name": "tests\\test_trainer.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "532", "deleted_lines": null, "method_info": {"method_name": "test_train_dataloaders_passed_to_fit", "method_params": "tmpdir", "method_startline": "527", "method_endline": "550"}}, "hunk_1": {"Ismethod": 1, "added_lines": "558,559,577,578,580,581", "deleted_lines": "570,572,573,581", "method_info": {"method_name": "test_train_val_dataloaders_passed_to_fit", "method_params": "tmpdir", "method_startline": "553", "method_endline": "581"}}, "hunk_2": {"Ismethod": 1, "added_lines": "665,666,667,684,689,690,692,693,694,695,696,697", "deleted_lines": "666,671,672,674,675,676,677", "method_info": {"method_name": "test_mixing_of_dataloader_options", "method_params": "tmpdir", "method_startline": "660", "method_endline": "697"}}, "hunk_3": {"Ismethod": 1, "added_lines": "412,416", "deleted_lines": "408,412", "method_info": {"method_name": "test_multiple_val_dataloader", "method_params": "tmpdir", "method_startline": "383", "method_endline": "417"}}, "hunk_4": {"Ismethod": 1, "added_lines": "627,628,629,647,648,649,650,652,654,655,656,657", "deleted_lines": "632,633,634,635,638,639,640,641,649", "method_info": {"method_name": "test_multiple_dataloaders_passed_to_fit", "method_params": "tmpdir", "method_startline": "622", "method_endline": "657"}}, "hunk_5": {"Ismethod": 1, "added_lines": "589,590,591,609,610,611,614,615,616,617,618,619", "deleted_lines": "599,600,603,604,605,606,614", "method_info": {"method_name": "test_all_dataloaders_passed_to_fit", "method_params": "tmpdir", "method_startline": "584", "method_endline": "619"}}, "hunk_6": {"Ismethod": 1, "added_lines": "513,514,516,520", "deleted_lines": "510,514", "method_info": {"method_name": "test_multiple_test_dataloader", "method_params": "tmpdir", "method_startline": "488", "method_endline": "524"}}}}}}}