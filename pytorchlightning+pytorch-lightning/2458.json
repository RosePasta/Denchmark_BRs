{"BR": {"BR_id": "2458", "BR_author": "anthonytec2", "BRopenT": "2020-07-02T01:43:12Z", "BRcloseT": "2020-07-08T05:45:26Z", "BR_text": {"BRsummary": "Wandb Flatten Dict", "BRdescription": "\n Wandb logger should flatten the dictionary of parameters before logging. Every other logger has the bellow pattern of code:\n <denchmark-code> params = self._convert_params(params)\n  params = self._flatten_dict(params)\n </denchmark-code>\n \n <denchmark-h:h2>\ud83d\udc1b Bug</denchmark-h>\n \n Wandb logger does not flatten parameters resulting in dictionaries being logged to Wandb, which are not searchable causing for some loss of features in wandb.\n <denchmark-h:h3>To Reproduce</denchmark-h>\n \n Run the cpu_template with wandb logger, and log a nested dictionary.\n <denchmark-h:h3>Expected behavior</denchmark-h>\n \n Solution, just call   params = self._flatten_dict(params) this in the wandb logger.\n <denchmark-h:h3>Environment</denchmark-h>\n \n \n CUDA:\n \n GPU:\n available:         False\n version:           None\n \n \n Packages:\n \n numpy:             1.18.5\n pyTorch_debug:     False\n pyTorch_version:   1.5.0\n pytorch-lightning: 0.8.4\n tensorboard:       2.2.2\n tqdm:              4.46.1\n \n \n System:\n \n OS:                Darwin\n architecture:\n \n 64bit\n \n \n \n processor:         i386\n python:            3.7.7\n version:           Darwin Kernel Version 19.4.0: Wed Mar  4 22:28:40 PST 2020; root:xnu-6153.101.6~15/RELEASE_X86_64\n \n \n \n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "anthonytec2", "commentT": "2020-07-06T08:36:16Z", "comment_text": "\n \t\t<denchmark-link:https://user-images.githubusercontent.com/5495193/86573252-659b2780-bf74-11ea-90d5-30041764941c.png></denchmark-link>\n \n Is this what you mean?\n I agree, it would be nice if we could flatten that out.\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "anthonytec2", "commentT": "2020-07-06T11:09:13Z", "comment_text": "\n \t\tExactly, this commit will make hparams look like:\n <denchmark-link:https://user-images.githubusercontent.com/11021542/86587431-93be3e80-bf57-11ea-85da-c420b613e26f.png></denchmark-link>\n \n \t\t"}, "comments_2": {"comment_id": 3, "comment_author": "anthonytec2", "commentT": "2020-07-06T11:12:30Z", "comment_text": "\n \t\tperfect!\n \t\t"}}}, "commit": {"commit_id": "899cd74044505eb308e624f15a4cb65c57973bbb", "commit_author": "Anthony Bisulco", "commitT": "2020-07-08 07:45:25+02:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "CHANGELOG.md", "file_new_name": "CHANGELOG.md", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "24,25", "deleted_lines": null}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "pytorch_lightning\\loggers\\wandb.py", "file_new_name": "pytorch_lightning\\loggers\\wandb.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "128", "deleted_lines": null, "method_info": {"method_name": "log_hyperparams", "method_params": "self,str", "method_startline": "126", "method_endline": "129"}}}}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "tests\\loggers\\test_wandb.py", "file_new_name": "tests\\loggers\\test_wandb.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "22,23,24,25,26,27", "deleted_lines": "22,23,24", "method_info": {"method_name": "test_wandb_logger", "method_params": "wandb", "method_startline": "10", "method_endline": "32"}}}}}}}