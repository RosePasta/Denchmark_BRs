{"BR": {"BR_id": "708", "BR_author": "felixkreuk", "BRopenT": "2020-01-18T12:57:14Z", "BRcloseT": "2020-02-19T11:37:36Z", "BR_text": {"BRsummary": "LR Schedulers shouldn't get `epoch` argument in `step` function", "BRdescription": "\n <denchmark-h:h2>\ud83d\udc1b Bug</denchmark-h>\n \n PyTorch LR schedulers now shouldn't get any arguments in  function, see <denchmark-link:https://github.com/pytorch/pytorch/blob/9e9bfbfd8d893cdf8205db67f220551214787d7f/torch/optim/lr_scheduler.py#L13-L20>here</denchmark-link>\n  and <denchmark-link:https://github.com/pytorch/pytorch/issues/31828>here</denchmark-link>\n .\n Looks like the calls in PytorchLightning are not in line with the new interface, see <denchmark-link:https://github.com/PyTorchLightning/pytorch-lightning/blob/dac59bb8d354f28b919d08aa369a7db6ab31bfa6/pytorch_lightning/trainer/training_loop.py#L334-L337>here</denchmark-link>\n .\n This results in unexpected LR changes. Removing the epoch argument from step call solves the issue for me.\n <denchmark-h:h2>Environment</denchmark-h>\n \n PyTorch 1.4\n PyTorchLightning 0.5.3.2\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "felixkreuk", "commentT": "2020-01-18T12:58:31Z", "comment_text": "\n \t\tgood catch. we need to keep it backward compatible though\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "felixkreuk", "commentT": "2020-01-18T15:40:33Z", "comment_text": "\n \t\tWe shall catch it with a test...\n \t\t"}, "comments_2": {"comment_id": 3, "comment_author": "felixkreuk", "commentT": "2020-01-21T12:21:23Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/Borda>@Borda</denchmark-link>\n  want to submit PR for this?\n \t\t"}, "comments_3": {"comment_id": 4, "comment_author": "felixkreuk", "commentT": "2020-02-11T12:59:59Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/felixkreuk>@felixkreuk</denchmark-link>\n  want  to submit a PR?\n \t\t"}}}, "commit": {"commit_id": "c58aab0b0024c36a9bd4d5a0a472c84b80edc61d", "commit_author": "Nicki Skafte", "commitT": "2020-02-19 06:37:35-05:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "pytorch_lightning\\trainer\\training_loop.py", "file_new_name": "pytorch_lightning\\trainer\\training_loop.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "365,373", "deleted_lines": "365,373", "method_info": {"method_name": "train", "method_params": "self", "method_startline": "307", "method_endline": "401"}}}}}}}