{"BR": {"BR_id": "16747", "BR_author": "thjashin", "BRopenT": "2018-02-04T06:48:59Z", "BRcloseT": "2018-03-16T22:33:45Z", "BR_text": {"BRsummary": "No documentation on the order of eigenvalues returned by tf.self_adjoint_eig", "BRdescription": "\n <denchmark-h:h3>System information</denchmark-h>\n \n \n OS Platform and Distribution (e.g., Linux Ubuntu 16.04):Ubuntu 16.04\n TensorFlow installed from (source or binary):binary\n TensorFlow version (use command below):('v1.4.0-rc1-11-g130a514', '1.4.0')\n Python version: 2.7.14\n \n <denchmark-h:h3>Describe the problem</denchmark-h>\n \n From the documentation of tf.self_adjoint_eig I cannot see what the order of eigenvalues is. I tried with several examples and found they were sorted in ascending order. Does this always hold?\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "thjashin", "commentT": "2018-02-05T04:29:05Z", "comment_text": "\n \t\tTensorFlow doc doesn't tell much about that. But TensorFlow use Eigen to calculate the eigenvalues:\n \n \n \n tensorflow/tensorflow/core/kernels/self_adjoint_eig_op.cc\n \n \n         Lines 58 to 65\n       in\n       ba032db\n \n \n \n \n \n \n  Eigen::SelfAdjointEigenSolver< \n \n \n \n      Eigen::Matrix<Scalar, Eigen::Dynamic, Eigen::Dynamic, Eigen::RowMajor>> \n \n \n \n  es(inputs[0]); \n \n \n \n  OP_REQUIRES(context, es.info() == Eigen::Success, \n \n \n \n  errors::InvalidArgument(\"Self Adjoint Eigen decomposition was\" \n \n \n \n  \"not successful. \" \n \n \n \n  \"The input might not be valid.\")); \n \n \n \n  outputs->at(0).row(0) = es.eigenvalues().transpose(); \n \n \n \n \n \n And document of Eigen says:\n \n The eigenvalues are repeated according to their algebraic multiplicity, so there are as many eigenvalues as rows in the matrix. The eigenvalues are sorted in increasing order.\n https://eigen.tuxfamily.org/dox/classEigen_1_1SelfAdjointEigenSolver.html#a3df8721abcc71132f7f02bf9dfe78e41\n \n So the order is guranteed by Eigen.\n For clarification, I think adding this to TensorFlow documents may be better.\n UPDATE:\n It also holds for GPU implementation. See CUDA doc:\n \n a real array of dimension n. The eigenvalue values of A, in ascending order ie, sorted so that W(i) <= W(i+1).\n http://docs.nvidia.com/cuda/cusolver/#cuds-lt-t-gt-syevd\n \n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "thjashin", "commentT": "2018-02-07T00:32:24Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/rmlarsen>@rmlarsen</denchmark-link>\n  could you update the docs? I think <denchmark-link:https://github.com/annarev>@annarev</denchmark-link>\n  can help direct you to where they should be updated.\n \t\t"}, "comments_2": {"comment_id": 3, "comment_author": "thjashin", "commentT": "2018-02-07T00:51:15Z", "comment_text": "\n \t\tThese seem to be relevant files for SelfAdjointEig documentation:\n <denchmark-link:https://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/api_def/base_api/api_def_SelfAdjointEig.pbtxt>https://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/api_def/base_api/api_def_SelfAdjointEig.pbtxt</denchmark-link>\n \n <denchmark-link:https://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/api_def/base_api/api_def_SelfAdjointEigV2.pbtxt>https://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/api_def/base_api/api_def_SelfAdjointEigV2.pbtxt</denchmark-link>\n \n \t\t"}, "comments_3": {"comment_id": 4, "comment_author": "thjashin", "commentT": "2018-02-09T17:43:51Z", "comment_text": "\n \t\tI think <denchmark-link:https://github.com/rmlarsen>@rmlarsen</denchmark-link>\n  has the flu, and <denchmark-link:https://github.com/qmick>@qmick</denchmark-link>\n  seems to have discovered the answer, so I'm gonna mark contributions welcome for now. Please feel free to submit a PR!\n \t\t"}}}, "commit": {"commit_id": "6f0dd0425c51360fe2be5a938a8f3fb39e420fa3", "commit_author": "Jiongyan Zhang (\u5f20\u70af\u884d)", "commitT": "2018-03-16 15:33:45-07:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "tensorflow\\core\\api_def\\base_api\\api_def_SelfAdjointEig.pbtxt", "file_new_name": "tensorflow\\core\\api_def\\base_api\\api_def_SelfAdjointEig.pbtxt", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "22,23", "deleted_lines": "22"}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "tensorflow\\core\\api_def\\base_api\\api_def_SelfAdjointEigV2.pbtxt", "file_new_name": "tensorflow\\core\\api_def\\base_api\\api_def_SelfAdjointEigV2.pbtxt", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "34,35", "deleted_lines": "34"}}}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "tensorflow\\python\\ops\\linalg_ops.py", "file_new_name": "tensorflow\\python\\ops\\linalg_ops.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "344", "deleted_lines": "344", "method_info": {"method_name": "self_adjoint_eig", "method_params": "tensor,name", "method_startline": "331", "method_endline": "349"}}}}}}}