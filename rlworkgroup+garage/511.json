{"BR": {"BR_id": "511", "BR_author": "zhanpenghe", "BRopenT": "2019-02-06T02:32:32Z", "BRcloseT": "2019-05-10T03:38:03Z", "BR_text": {"BRsummary": "GaussianMLPRegressor is not unpickled appropriately", "BRdescription": "\n Sorry I can't come up with a good title for this but I will describe the problem in details here.\n GaussianMLPRegressor has variables (e.g. <denchmark-link:https://github.com/rlworkgroup/garage/blob/f33a03ea4d71525eabadbe22f31ad0a91607b134/garage/tf/regressors/gaussian_mlp_regressor.py#L156>y_mean</denchmark-link>\n ) that are created for normalizing the inputs and they are not saved during pickling. This will force user to run a variable initialization when they want to use an unpickled GaussianMLPBaseline. However, running initialization will re-initialize the model variables.\n This will affect people who want to use a pickled baseline object to resume training or use them to do further learning.\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "zhanpenghe", "commentT": "2019-02-06T04:07:50Z", "comment_text": "\n \t\tI think <denchmark-link:https://github.com/gautams3>@gautams3</denchmark-link>\n  also saw this.\n I think <denchmark-link:https://github.com/ahtsan>@ahtsan</denchmark-link>\n  is addressing this in his models PR\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "zhanpenghe", "commentT": "2019-02-28T04:19:24Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/zhanpenghe>@zhanpenghe</denchmark-link>\n  is this fixed?\n \t\t"}, "comments_2": {"comment_id": 3, "comment_author": "zhanpenghe", "commentT": "2019-03-01T21:21:21Z", "comment_text": "\n \t\tI don't think this is fixed. GaussianMLPRegressor is not using garage model and I believe it is still using the same mechanism to serialize.\n \t\t"}, "comments_3": {"comment_id": 4, "comment_author": "zhanpenghe", "commentT": "2019-04-25T17:38:16Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/ahtsan>@ahtsan</denchmark-link>\n  will this be fixed if we use the model-based regressor?\n \t\t"}}}, "commit": {"commit_id": "2001a3bd21c2911ccfd9ed74b1c02663a43da63e", "commit_author": "Anson Wong", "commitT": "2019-05-09 20:38:02-07:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "garage\\tf\\baselines\\gaussian_mlp_baseline_with_model.py", "file_new_name": "garage\\tf\\baselines\\gaussian_mlp_baseline_with_model.py", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "21,23,24,25,26,27,28,29,30,31,32", "deleted_lines": "21,23,24,25,26"}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "garage\\tf\\regressors\\__init__.py", "file_new_name": "garage\\tf\\regressors\\__init__.py", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "2,20", "deleted_lines": "19"}}}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "garage\\tf\\regressors\\base.py", "file_new_name": "garage\\tf\\regressors\\base.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "44", "deleted_lines": "44", "method_info": {"method_name": "get_params_internal", "method_params": "self,tags", "method_startline": "43", "method_endline": "45"}}}}, "file_3": {"file_change_type": "ADD", "file_Nmethod": 0, "file_old_name": "None", "file_new_name": "garage\\tf\\regressors\\base2.py"}, "file_4": {"file_change_type": "MODIFY", "file_Nmethod": 6, "file_old_name": "garage\\tf\\regressors\\gaussian_mlp_regressor_with_model.py", "file_new_name": "garage\\tf\\regressors\\gaussian_mlp_regressor_with_model.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "251,253,254,256,257", "deleted_lines": "250,252,253", "method_info": {"method_name": "predict", "method_params": "self,xs", "method_startline": "249", "method_endline": "259"}}, "hunk_1": {"Ismethod": 1, "added_lines": "293,294,295,296", "deleted_lines": null, "method_info": {"method_name": "__setstate__", "method_params": "self,state", "method_startline": "293", "method_endline": "296"}}, "hunk_2": {"Ismethod": 1, "added_lines": "266,267,268,269,270,271", "deleted_lines": "263,264,265", "method_info": {"method_name": "log_likelihood_sym", "method_params": "self,x_var,y_var,name", "method_startline": "261", "method_endline": "280"}}, "hunk_3": {"Ismethod": 1, "added_lines": "286,287,288,289,290,291", "deleted_lines": null, "method_info": {"method_name": "__getstate__", "method_params": "self", "method_startline": "286", "method_endline": "291"}}, "hunk_4": {"Ismethod": 1, "added_lines": "282,283,284", "deleted_lines": null, "method_info": {"method_name": "get_params_internal", "method_params": "self,args", "method_startline": "282", "method_endline": "284"}}, "hunk_5": {"Ismethod": 1, "added_lines": "208,209,210,211,212,213,214,224,225,226,227,230,231,232,233", "deleted_lines": "208,216,219,220,221,222,223,224,227,228,229,230,231,232", "method_info": {"method_name": "fit", "method_params": "self,xs,ys", "method_startline": "207", "method_endline": "247"}}}}, "file_5": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "tests\\fixtures\\models\\simple_gaussian_mlp_model.py", "file_new_name": "tests\\fixtures\\models\\simple_gaussian_mlp_model.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "10,11,12,13,14", "deleted_lines": "10", "method_info": {"method_name": "__init__", "method_params": "self,output_dim,name,args,kwargs", "method_startline": "10", "method_endline": "14"}}, "hunk_1": {"Ismethod": 1, "added_lines": "10,11,12", "deleted_lines": "10", "method_info": {"method_name": "__init__", "method_params": "self,name,output_dim,args,kwargs", "method_startline": "10", "method_endline": "12"}}}}, "file_6": {"file_change_type": "MODIFY", "file_Nmethod": 7, "file_old_name": "tests\\fixtures\\regressors\\simple_gaussian_mlp_regressor.py", "file_new_name": "tests\\fixtures\\regressors\\simple_gaussian_mlp_regressor.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "29,30,31,32,33,35", "deleted_lines": "30", "method_info": {"method_name": "predict", "method_params": "self,xs", "method_startline": "28", "method_endline": "35"}}, "hunk_1": {"Ismethod": 1, "added_lines": "40,41,42,43", "deleted_lines": null, "method_info": {"method_name": "__setstate__", "method_params": "self,state", "method_startline": "40", "method_endline": "43"}}, "hunk_2": {"Ismethod": 1, "added_lines": null, "deleted_lines": "25,26,27", "method_info": {"method_name": "set_param_values", "method_params": "self,flattened_params,args,kwargs", "method_startline": "25", "method_endline": "27"}}, "hunk_3": {"Ismethod": 1, "added_lines": "18,19,20,21,22", "deleted_lines": "20,22,23", "method_info": {"method_name": "_initialize", "method_params": "self", "method_startline": "18", "method_endline": "23"}}, "hunk_4": {"Ismethod": 1, "added_lines": "22", "deleted_lines": "22,23", "method_info": {"method_name": "get_param_values", "method_params": "self,args,kwargs", "method_startline": "22", "method_endline": "23"}}, "hunk_5": {"Ismethod": 1, "added_lines": "38", "deleted_lines": null, "method_info": {"method_name": "get_params_internal", "method_params": "self,args,kwargs", "method_startline": "37", "method_endline": "38"}}, "hunk_6": {"Ismethod": 1, "added_lines": "13,14,15,16", "deleted_lines": "11,12,13", "method_info": {"method_name": "__init__", "method_params": "self,input_shape,output_dim,name,args,kwargs", "method_startline": "11", "method_endline": "16"}}}}, "file_7": {"file_change_type": "RENAME", "file_Nmethod": 0, "file_old_name": "tests\\garage\\tf\\baselines\\test_gaussian_mlp_baseline.py", "file_new_name": "tests\\garage\\tf\\baselines\\test_gaussian_mlp_baseline_with_model.py"}, "file_8": {"file_change_type": "MODIFY", "file_Nmethod": 2, "file_old_name": "tests\\garage\\tf\\regressors\\test_gaussian_mlp_regressor_with_model.py", "file_new_name": "tests\\garage\\tf\\regressors\\test_gaussian_mlp_regressor_with_model.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "177,178,179,180,181,182,183,184,185,186,187,188,189,190", "deleted_lines": null, "method_info": {"method_name": "test_is_pickleable2", "method_params": "self", "method_startline": "177", "method_endline": "190"}}, "hunk_1": {"Ismethod": 1, "added_lines": "160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175", "deleted_lines": null, "method_info": {"method_name": "test_is_pickleable", "method_params": "self", "method_startline": "160", "method_endline": "175"}}}}}}}