{"BR": {"BR_id": "2095", "BR_author": "yeukfu", "BRopenT": "2020-10-10T20:00:04Z", "BRcloseT": "2020-10-12T19:47:30Z", "BR_text": {"BRsummary": "GymEnv pickled incorrectly", "BRdescription": "\n In the samplers, we use copy.deepcopy() to copy env_update. This works fine when the environment has default max_episode_length. However, when copying an environment with a customized max_episode_length, the spec is copied wrongly. For example:\n import copy\n from garage.envs import GymEnv\n \n def copy_env():\n     env = GymEnv('InvertedDoublePendulum-v2', max_episode_length=100)\n     env_cp = copy.deepcopy(env)\n     print(env.spec.max_episode_length)\n     print(env_cp.spec.max_episode_length)\n \n copy_env()\n This code will output\n 100\n 1000\n \t"}, "comments": {}}, "commit": {"commit_id": "8028be315d32c40388d0fe91d0d0db505c91659c", "commit_author": "Ruofu Wang", "commitT": "2020-10-12 19:47:29+00:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "src\\garage\\envs\\gym_env.py", "file_new_name": "src\\garage\\envs\\gym_env.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "347,348", "deleted_lines": "347", "method_info": {"method_name": "__setstate__", "method_params": "self,state", "method_startline": "340", "method_endline": "348"}}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "tests\\garage\\envs\\test_gym_env.py", "file_new_name": "tests\\garage\\envs\\test_gym_env.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "145,146,147,148,149", "deleted_lines": null, "method_info": {"method_name": "test_is_pickleable", "method_params": "", "method_startline": "145", "method_endline": "149"}}}}}}}