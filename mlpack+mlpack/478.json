{"BR": {"BR_id": "478", "BR_author": "lpsavalhais", "BRopenT": "2015-11-20T13:03:59Z", "BRcloseT": "2015-11-20T18:50:58Z", "BR_text": {"BRsummary": "Temporary matrix (neighborPtr) being improperly deleted in neighbor_search_impl.hpp", "BRdescription": "\n File neighbor_search_impl.hpp\n on method:\n void NeighborSearch<SortPolicy, MetricType, MatType, TreeType, TraversalType>::\n Search(const MatType& querySet,\n const size_t k,\n arma::Mat<size_t>& neighbors,\n arma::mat& distances)\n At line 461:\n ---> delete neighborPtr;\n But in this case, when treeOwner is false, the matrix neighborPtr is not allocated with \"new\".\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "lpsavalhais", "commentT": "2015-11-20T18:51:13Z", "comment_text": "\n \t\tNice catch!  Thanks so much for pointing this out.\n \t\t"}}}, "commit": {"commit_id": "962a37fe8374913c435054aa50e12d912bdfa01c", "commit_author": "Ryan Curtin", "commitT": "2015-11-20 13:50:54-05:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "src\\mlpack\\methods\\neighbor_search\\neighbor_search_impl.hpp", "file_new_name": "src\\mlpack\\methods\\neighbor_search\\neighbor_search_impl.hpp", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "347,349,350,353", "deleted_lines": "350", "method_info": {"method_name": "mlpack::neighbor::NeighborSearch<SortPolicy,MetricType,MatType,TreeType,TraversalType>::Search", "method_params": "querySet,k,neighbors,distances", "method_startline": "314", "method_endline": "481"}}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "src\\mlpack\\methods\\range_search\\range_search_impl.hpp", "file_new_name": "src\\mlpack\\methods\\range_search\\range_search_impl.hpp", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "313,315,316", "deleted_lines": null, "method_info": {"method_name": "mlpack::range::RangeSearch<MetricType,MatType,TreeType>::Search", "method_params": "querySet,range,neighbors,distances", "method_startline": "280", "method_endline": "454"}}}}, "file_2": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "src\\mlpack\\methods\\rann\\ra_search_impl.hpp", "file_new_name": "src\\mlpack\\methods\\rann\\ra_search_impl.hpp", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "163,165,166", "deleted_lines": null, "method_info": {"method_name": "mlpack::neighbor::RASearch<SortPolicy,MetricType,MatType,TreeType>::Search", "method_params": "querySet,k,neighbors,distances", "method_startline": "140", "method_endline": "313"}}}}, "file_3": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "src\\mlpack\\tests\\allknn_test.cpp", "file_new_name": "src\\mlpack\\tests\\allknn_test.cpp", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "1122,1123,1124,1125,1126,1127,1128,1129,1130,1131,1132,1133,1134,1135,1136,1137,1138,1139,1140,1141,1142,1143", "deleted_lines": null, "method_info": {"method_name": "BOOST_AUTO_TEST_CASE", "method_params": "NeighborPtrDeleteTest", "method_startline": "1122", "method_endline": "1143"}}}}, "file_4": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "src\\mlpack\\tests\\allkrann_search_test.cpp", "file_new_name": "src\\mlpack\\tests\\allkrann_search_test.cpp", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "533,534,535,536,537,538,539,540,541,542,543,544,545,546,547,548,549,550,551,552,553,554", "deleted_lines": null, "method_info": {"method_name": "BOOST_AUTO_TEST_CASE", "method_params": "NeighborPtrDeleteTest", "method_startline": "533", "method_endline": "554"}}}}, "file_5": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "src\\mlpack\\tests\\range_search_test.cpp", "file_new_name": "src\\mlpack\\tests\\range_search_test.cpp", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "1385,1386,1387,1388,1389,1390,1391,1392,1393,1394,1395,1396,1397,1398,1399,1400,1401,1402,1403,1404", "deleted_lines": null, "method_info": {"method_name": "BOOST_AUTO_TEST_CASE", "method_params": "NeighborPtrDeleteTest", "method_startline": "1385", "method_endline": "1404"}}}}}}}