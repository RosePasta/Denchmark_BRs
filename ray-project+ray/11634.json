{"BR": {"BR_id": "11634", "BR_author": "simon-mo", "BRopenT": "2020-10-26T23:35:48Z", "BRcloseT": "2020-10-27T17:37:26Z", "BR_text": {"BRsummary": "Docker build failing in CI", "BRdescription": "\n <denchmark-h:h3>What is the problem?</denchmark-h>\n \n Ray version and other system information (Python version, TensorFlow version, OS):\n <denchmark-code>{\"stream\":\"\\u001b[91mERROR: Double requirement given: torch\\u003e=1.6.0 (from -r requirements_tune.txt (line 27)) (already in torch\\u003e=1.5.0 (from -r requirements_rllib.txt (line 4)), name='torch')\\n\\u001b[0m\"}\n {\"errorDetail\":{\"code\":1,\"message\":\"The command '/bin/sh -c apt-get update     \\u0026\\u0026 apt-get install -y gcc         cmake         libgtk2.0-dev         zlib1g-dev         libgl1-mesa-dev     \\u0026\\u0026 $HOME/anaconda3/bin/pip --no-cache-dir install -r requirements.txt     \\u0026\\u0026 $HOME/anaconda3/bin/pip --no-cache-dir install -r requirements_ml_docker.txt     \\u0026\\u0026 rm requirements.txt \\u0026\\u0026 rm requirements_ml_docker.txt     \\u0026\\u0026 apt-get remove cmake gcc -y     \\u0026\\u0026 apt-get clean' returned a non-zero code: 1\"},\"error\":\"The command '/bin/sh -c apt-get update     \\u0026\\u0026 apt-get install -y gcc         cmake         libgtk2.0-dev         zlib1g-dev         libgl1-mesa-dev     \\u0026\\u0026 $HOME/anaconda3/bin/pip --no-cache-dir install -r requirements.txt     \\u0026\\u0026 $HOME/anaconda3/bin/pip --no-cache-dir install -r requirements_ml_docker.txt     \\u0026\\u0026 rm requirements.txt \\u0026\\u0026 rm requirements_ml_docker.txt     \\u0026\\u0026 apt-get remove cmake gcc -y     \\u0026\\u0026 apt-get clean' returned a non-zero code: 1\"}\n Traceback (most recent call last):\n   File \"/home/travis/build/ray-project/ray/ci/travis/build-docker-images.py\", line 309, in <module>\n     build_ray_ml()\n   File \"/home/travis/build/ray-project/ray/ci/travis/build-docker-images.py\", line 184, in build_ray_ml\n     ray_ml_images = _build_cpu_gpu_images(\"ray-ml\")\n   File \"/home/travis/build/ray-project/ray/ci/travis/build-docker-images.py\", line 123, in _build_cpu_gpu_images\n     raise Exception(\"FAILED TO BUILD IMAGE\")\n Exception: FAILED TO BUILD IMAGE\n The command \"if [[ \"$TRAVIS_PULL_REQUEST\" != \"false\" ]]; then python $TRAVIS_BUILD_DIR/ci/travis/build-docker-images.py; fi\" exited with 1.\n </denchmark-code>\n \n <denchmark-link:https://travis-ci.com/github/ray-project/ray/jobs/408049645#L4784-L4795>https://travis-ci.com/github/ray-project/ray/jobs/408049645#L4784-L4795</denchmark-link>\n \n <denchmark-h:h3>Reproduction (REQUIRED)</denchmark-h>\n \n Please provide a script that can be run to reproduce the issue. The script should have no external library dependencies (i.e., use fake or mock data / environments):\n If we cannot run your script, we cannot fix your issue.\n \n  I have verified my script runs in a clean environment and reproduces the issue.\n  I have verified the issue also occurs with the latest wheels.\n \n \t"}, "comments": {}}, "commit": {"commit_id": "3ce852d345e5c122852a7c9e92f4476bb5bc9ad6", "commit_author": "Ian Rodney", "commitT": "2020-10-27 18:37:25+01:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "ci\\travis\\determine_tests_to_run.py", "file_new_name": "ci\\travis\\determine_tests_to_run.py", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "110", "deleted_lines": "110"}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "python\\requirements_rllib.txt", "file_new_name": "python\\requirements_rllib.txt", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "4", "deleted_lines": "4"}}}}}}