{"BR": {"BR_id": "8913", "BR_author": "TomVeniat", "BRopenT": "2020-06-12T09:25:35Z", "BRcloseT": "2020-07-17T22:44:39Z", "BR_text": {"BRsummary": "[Tune] ProgressReporter default_columns is shared across instances", "BRdescription": "\n <denchmark-h:h3>What is the problem?</denchmark-h>\n \n When adding a new column to a ProgressReporter that used the DEFAULT_COLUMNS during its creation, this column will be added to the actual default dictionary. This can cause several unexpected behaviors.\n For instance, when creating several experiments with custom columns for each of them, using the same column multiple times will break (see reproduction).\n <denchmark-h:h3>Reproduction (REQUIRED)</denchmark-h>\n \n from ray.tune import CLIReporter\n \n reporter = CLIReporter()\n reporter.add_metric_column('custom column')\n reporter = CLIReporter()\n reporter.add_metric_column('custom column')\n Thows a ValueError: Column custom column already exists.\n \n  I have verified my script runs in a clean environment and reproduces the issue.\n  I have verified the issue also occurs with the latest wheels.\n \n <denchmark-h:h3>Solution</denchmark-h>\n \n A solution is to copy this default parameter each time it is used <denchmark-link:https://github.com/ray-project/ray/blob/4b31b383f379dad5514f4d93a9776db6b3caa38c/python/ray/tune/progress_reporter.py#L90>here</denchmark-link>\n .\n I can send a PR is this is okay for you.\n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "TomVeniat", "commentT": "2020-07-16T21:11:31Z", "comment_text": "\n \t\tSorry; I totally missed your comment at the bottom. A PR would be great!\n \t\t"}}}, "commit": {"commit_id": "cf719dd470f61918f0de8550c885360a78497e59", "commit_author": "Tom", "commitT": "2020-07-17 15:44:38-07:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "python\\ray\\tune\\progress_reporter.py", "file_new_name": "python\\ray\\tune\\progress_reporter.py", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "90", "deleted_lines": "90"}}}}}}