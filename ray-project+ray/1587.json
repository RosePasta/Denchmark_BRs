{"BR": {"BR_id": "1587", "BR_author": "robertnishihara", "BRopenT": "2018-02-23T00:32:11Z", "BRcloseT": "2018-02-26T04:32:33Z", "BR_text": {"BRsummary": "Error downloading Redis when building Linux wheels.", "BRdescription": "\n Recently I've been seeing the following error when building wheels in Travis, but I can reproduce it with\n <denchmark-code>docker run --rm -w /ray -v `pwd`:/ray -ti quay.io/xhochy/arrow_manylinux1_x86_64_base:latest /ray/python/build-wheel-manylinux1.sh\n </denchmark-code>\n \n The error is\n <denchmark-code>+++ dirname ../build.sh\n ++ cd ..\n ++ pwd\n + ROOT_DIR=/ray\n + [[ -z /opt/python/cp27-cp27mu/bin/python ]]\n + PYTHON_EXECUTABLE=/opt/python/cp27-cp27mu/bin/python\n + echo 'Using Python executable /opt/python/cp27-cp27mu/bin/python.'\n Using Python executable /opt/python/cp27-cp27mu/bin/python.\n ++ uname\n + unamestr=Linux\n + [[ Linux == \\L\\i\\n\\u\\x ]]\n ++ nproc\n + PARALLEL=10\n + pushd /ray/src/common/thirdparty/\n /ray/src/common/thirdparty /ray/python\n + bash build-redis.sh\n --2018-02-23 00:06:17--  https://github.com/antirez/redis/archive/4.0-rc2.tar.gz\n Resolving github.com... 192.30.255.113, 192.30.255.112\n Connecting to github.com|192.30.255.113|:443... connected.\n OpenSSL: error:1407742E:SSL routines:SSL23_GET_SERVER_HELLO:tlsv1 alert protocol version\n Unable to establish SSL connection.\n \n gzip: stdin: unexpected end of file\n tar: Child returned status 1\n tar: Error exit delayed from previous errors\n Traceback (most recent call last):\n   File \"setup.py\", line 125, in <module>\n     license=\"Apache 2.0\")\n   File \"/opt/python/cp27-cp27mu/lib/python2.7/site-packages/setuptools/__init__.py\", line 129, in setup\n     return distutils.core.setup(**attrs)\n   File \"/opt/python/cp27-cp27mu/lib/python2.7/distutils/core.py\", line 151, in setup\n     dist.run_commands()\n   File \"/opt/python/cp27-cp27mu/lib/python2.7/distutils/dist.py\", line 953, in run_commands\n     self.run_command(cmd)\n   File \"/opt/python/cp27-cp27mu/lib/python2.7/distutils/dist.py\", line 972, in run_command\n     cmd_obj.run()\n   File \"/opt/python/cp27-cp27mu/lib/python2.7/site-packages/wheel/bdist_wheel.py\", line 204, in run\n     self.run_command('build')\n   File \"/opt/python/cp27-cp27mu/lib/python2.7/distutils/cmd.py\", line 326, in run_command\n     self.distribution.run_command(command)\n   File \"/opt/python/cp27-cp27mu/lib/python2.7/distutils/dist.py\", line 972, in run_command\n     cmd_obj.run()\n   File \"/opt/python/cp27-cp27mu/lib/python2.7/distutils/command/build.py\", line 127, in run\n     self.run_command(cmd_name)\n   File \"/opt/python/cp27-cp27mu/lib/python2.7/distutils/cmd.py\", line 326, in run_command\n     self.distribution.run_command(command)\n   File \"/opt/python/cp27-cp27mu/lib/python2.7/distutils/dist.py\", line 972, in run_command\n     cmd_obj.run()\n   File \"setup.py\", line 54, in run\n     subprocess.check_call([\"../build.sh\", sys.executable])\n   File \"/opt/python/cp27-cp27mu/lib/python2.7/subprocess.py\", line 186, in check_call\n     raise CalledProcessError(retcode, cmd)\n subprocess.CalledProcessError: Command '['../build.sh', '/opt/python/cp27-cp27mu/bin/python']' returned non-zero exit status 2\n </denchmark-code>\n \n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "robertnishihara", "commentT": "2018-02-24T06:41:30Z", "comment_text": "\n \t\tSee discussion in <denchmark-link:https://issues.apache.org/jira/browse/ARROW-2204>https://issues.apache.org/jira/browse/ARROW-2204</denchmark-link>\n  and <denchmark-link:https://github.com/pypa/manylinux/pull/159>pypa/manylinux#159</denchmark-link>\n .\n \t\t"}}}, "commit": {"commit_id": "ba1ce85f58faa4e4265dc4d102b7770236fb163a", "commit_author": "Robert Nishihara", "commitT": "2018-02-25 20:32:33-08:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "src\\common\\thirdparty\\build-redis.sh", "file_new_name": "src\\common\\thirdparty\\build-redis.sh", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "3,4,14,15", "deleted_lines": "12"}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 0, "file_old_name": "src\\thirdparty\\build_flatbuffers.sh", "file_new_name": "src\\thirdparty\\build_flatbuffers.sh", "hunks": {"hunk_0": {"Ismethod": 0, "added_lines": "15", "deleted_lines": "15"}}}}}}