{"BR": {"BR_id": "3057", "BR_author": "ericl", "BRopenT": "2018-10-14T07:16:41Z", "BRcloseT": "2018-11-12T23:52:17Z", "BR_text": {"BRsummary": "[tune] Trial executor crashes with certain stop conditions", "BRdescription": "\n <denchmark-h:h3>System information</denchmark-h>\n \n \n OS Platform and Distribution (e.g., Linux Ubuntu 16.04):\n Ray installed from (source or binary):\n Ray version:\n Python version:\n Exact command to reproduce:\n \n <denchmark-h:h3>Describe the problem</denchmark-h>\n \n It seems one trial finishes, but the rest fail.\n <denchmark-h:h3>Source code / logs</denchmark-h>\n \n <denchmark-code>Traceback (most recent call last):\n   File \"/home/eric/Desktop/ray-private/python/ray/tune/trial_runner.py\", line 242, in _process_events\n     if trial.should_stop(result):\n   File \"/home/eric/Desktop/ray-private/python/ray/tune/trial.py\", line 213, in should_stop\n     if result[criteria] >= stop_value:\n TypeError: unorderable types: NoneType() >= int()\n Worker ip unknown, skipping log sync for /home/eric/ray_results/test/IMPALA_cartpole_stateless_4_2018-10-14_00-11-54wk3lun7w\n == Status ==\n Using FIFO scheduling algorithm.\n Resources requested: 0/4 CPUs, 0/0 GPUs\n Result logdir: /home/eric/ray_results/test\n ERROR trials:\n  - IMPALA_cartpole_stateless_1:\tERROR, 1 failures: /home/eric/ray_results/test/IMPALA_cartpole_stateless_1_2018-10-14_00-11-08bzsn9bjz/error_2018-10-14_00-11-23.txt\n  - IMPALA_cartpole_stateless_2:\tERROR, 1 failures: /home/eric/ray_results/test/IMPALA_cartpole_stateless_2_2018-10-14_00-11-23zv6jbrbr/error_2018-10-14_00-11-38.txt\n  - IMPALA_cartpole_stateless_3:\tERROR, 1 failures: /home/eric/ray_results/test/IMPALA_cartpole_stateless_3_2018-10-14_00-11-38p18gjmul/error_2018-10-14_00-11-54.txt\n  - IMPALA_cartpole_stateless_4:\tERROR, 1 failures: /home/eric/ray_results/test/IMPALA_cartpole_stateless_4_2018-10-14_00-11-54wk3lun7w/error_2018-10-14_00-12-09.txt\n TERMINATED trials:\n  - IMPALA_cartpole_stateless_0:\tTERMINATED [pid=19362], 173 s, 17 iter, 143900 ts, 221 rew\n </denchmark-code>\n \n <denchmark-code>    tune.run_experiments({\n         \"test\": {\n             \"env\": \"cartpole_stateless\",\n             \"run\": \"IMPALA\",\n             \"num_samples\": 5,\n             \"stop\": {\n                 \"episode_reward_mean\": args.stop,\n                 \"timesteps_total\": 200000,\n             },\n             \"config\": {\n                 \"num_workers\": 2,\n                 \"num_gpus\": 0,\n                 \"vf_loss_coeff\": 0.01,\n                 \"model\": {\n                     \"use_lstm\": True,\n                 },\n             },\n         }\n     })\n \n </denchmark-code>\n \n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "ericl", "commentT": "2018-10-14T07:17:27Z", "comment_text": "\n \t\t<denchmark-link:https://github.com/richardliaw>@richardliaw</denchmark-link>\n \n \t\t"}}}, "commit": {"commit_id": "e37891d79d0920175485a288e735cd88c8013085", "commit_author": "Richard Liaw", "commitT": "2018-11-12 15:52:17-08:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 3, "file_old_name": "python\\ray\\tune\\test\\trial_runner_test.py", "file_new_name": "python\\ray\\tune\\test\\trial_runner_test.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "453,454,455", "deleted_lines": null, "method_info": {"method_name": "testReportTimeStep.train3", "method_params": "config,reporter", "method_startline": "453", "method_endline": "455"}}, "hunk_1": {"Ismethod": 1, "added_lines": "438", "deleted_lines": null, "method_info": {"method_name": "testReportTimeStep.train2", "method_params": "config,reporter", "method_startline": "438", "method_endline": "440"}}, "hunk_2": {"Ismethod": 1, "added_lines": "438,442,443,444,445,446,447,448,449,450,451,452,453,454,455,456,465,466", "deleted_lines": "437,449,450", "method_info": {"method_name": "testReportTimeStep", "method_params": "self", "method_startline": "423", "method_endline": "466"}}}}, "file_1": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "python\\ray\\tune\\trainable.py", "file_new_name": "python\\ray\\tune\\trainable.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "164,170,171", "deleted_lines": "164,170,171", "method_info": {"method_name": "train", "method_params": "self", "method_startline": "106", "method_endline": "202"}}}}}}}