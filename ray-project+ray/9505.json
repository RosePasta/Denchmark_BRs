{"BR": {"BR_id": "9505", "BR_author": "rkooo567", "BRopenT": "2020-07-15T17:51:02Z", "BRcloseT": "2020-07-18T17:15:18Z", "BR_text": {"BRsummary": "`test_multi_node.py::test_multi_driver_logging` hangs when GCS actor management is turned on.", "BRdescription": "\n <denchmark-h:h3>What is the problem?</denchmark-h>\n \n test_multi_node.py::test_multi_driver_logging hangs when GCS actor management is on.\n <denchmark-h:h3>Reproduction (REQUIRED)</denchmark-h>\n \n Please provide a script that can be run to reproduce the issue. The script should have no external library dependencies (i.e., use fake or mock data / environments):\n Run test_multi_node.py::test_multi_driver_logging\n \n  I have verified my script runs in a clean environment and reproduces the issue.\n  I have verified the issue also occurs with the latest wheels.\n \n \t"}, "comments": {"comments_0": {"comment_id": 1, "comment_author": "rkooo567", "commentT": "2020-07-15T18:06:09Z", "comment_text": "\n \t\tcc <denchmark-link:https://github.com/stephanie-wang>@stephanie-wang</denchmark-link>\n \n i don't think this test should deadlock (always a chance i messed it up).\n i wonder if this has anything to do with the fact that this test uses detached async actors which block/wakeup from different drivers (see test_utils.Semaphore)\n \t\t"}, "comments_1": {"comment_id": 2, "comment_author": "rkooo567", "commentT": "2020-07-15T18:08:14Z", "comment_text": "\n \t\tIt seems to me that there could be some unexpected race condition when you use Semaphore, but we cannot be sure until we actually debug it.\n \t\t"}}}, "commit": {"commit_id": "5881417ec4a993194ba6d64b156ad6b5ffbca97c", "commit_author": "fangfengbin", "commitT": "2020-07-17 11:53:29-07:00", "changed_files": {"file_0": {"file_change_type": "MODIFY", "file_Nmethod": 1, "file_old_name": "python\\ray\\tests\\test_multi_node.py", "file_new_name": "python\\ray\\tests\\test_multi_node.py", "hunks": {"hunk_0": {"Ismethod": 1, "added_lines": "641,642,643,644,645,646,647", "deleted_lines": null, "method_info": {"method_name": "test_multi_driver_logging", "method_params": "ray_start_regular", "method_startline": "632", "method_endline": "712"}}}}}}}