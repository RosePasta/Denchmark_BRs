<commit id='18e9a076e5db9599e66bae6387e5c27431e9a324' author='Stephanie Wang' date='2020-04-11 16:51:32-07:00'>
	<dmm_unit complexity='0.96' interfacing='0.94' size='0.11'></dmm_unit>
	<modification change_type='MODIFY' old_name='python\ray\tests\test_advanced_3.py' new_name='python\ray\tests\test_advanced_3.py'>
		<file_info nloc='475' complexity='94' token_count='3496'></file_info>
		<method name='test_lease_request_leak' parameters='shutdown_only'>
				<method_info nloc='19' complexity='3' token_count='113' nesting_level='0' start_line='664' end_line='689'></method_info>
			<added_lines>664,665,666,667,668,669,670,671,672,673,674,675,676,677,678,679,680,681,682,683,684,685,686,687,688,689</added_lines>
			<deleted_lines></deleted_lines>
		</method>
		<method name='test_lease_request_leak.f' parameters='x'>
				<method_info nloc='3' complexity='1' token_count='14' nesting_level='1' start_line='673' end_line='675'></method_info>
			<added_lines>673,674,675</added_lines>
			<deleted_lines></deleted_lines>
		</method>
		<modified_lines>
			<added_lines>690,691</added_lines>
			<deleted_lines></deleted_lines>
		</modified_lines>
	</modification>
	<modification change_type='MODIFY' old_name='src\ray\common\task\task.h' new_name='src\ray\common\task\task.h'>
		<file_info nloc='52' complexity='9' token_count='327'></file_info>
		<method name='ray::Task::OnCancellationInstead' parameters='callback'>
				<method_info nloc='3' complexity='1' token_count='13' nesting_level='2' start_line='62' end_line='64'></method_info>
			<added_lines>62,63,64</added_lines>
			<deleted_lines></deleted_lines>
		</method>
		<method name='ray::Task::OnCancellation' parameters=''>
				<method_info nloc='1' complexity='1' token_count='9' nesting_level='2' start_line='97' end_line='97'></method_info>
			<added_lines>97</added_lines>
			<deleted_lines></deleted_lines>
		</method>
		<modified_lines>
			<added_lines>20,21,61,65,96,98,122,123,124</added_lines>
			<deleted_lines></deleted_lines>
		</modified_lines>
	</modification>
	<modification change_type='MODIFY' old_name='src\ray\core_worker\test\direct_task_transport_test.cc' new_name='src\ray\core_worker\test\direct_task_transport_test.cc'>
		<file_info nloc='746' complexity='45' token_count='7476'></file_info>
		<method name='ray::TEST' parameters='DirectTaskTransportTest,TestConcurrentWorkerLeases'>
				<method_info nloc='38' complexity='2' token_count='414' nesting_level='1' start_line='386' end_line='432'></method_info>
			<added_lines>430,431</added_lines>
			<deleted_lines></deleted_lines>
		</method>
		<method name='ray::TEST' parameters='DirectTaskTransportTest,TestReuseWorkerLease'>
				<method_info nloc='43' complexity='1' token_count='459' nesting_level='1' start_line='434' end_line='487'></method_info>
			<added_lines>459,465,471,472,485,486,487</added_lines>
			<deleted_lines></deleted_lines>
		</method>
		<method name='ray::MockRayletClient::CancelWorkerLease' parameters='task_id,callback'>
				<method_info nloc='7' complexity='1' token_count='40' nesting_level='2' start_line='104' end_line='110'></method_info>
			<added_lines>104,105,106,107,108,109,110</added_lines>
			<deleted_lines>106,108</deleted_lines>
		</method>
		<method name='ray::TEST' parameters='DirectTaskTransportTest,TestRetryLeaseCancellation'>
				<method_info nloc='40' complexity='2' token_count='413' nesting_level='1' start_line='489' end_line='540'></method_info>
			<added_lines>489,490,491,492,493,494,495,496,497,498,499,500,501,502,503,504,505,506,507,508,509,510,511,512,513,514,515,516,517,518,519,520,521,522,523,524,525,526,527,528,529,530,531,532,533,534,535,536,537,538,539,540</added_lines>
			<deleted_lines></deleted_lines>
		</method>
		<method name='ray::TEST' parameters='DirectTaskTransportTest,TestWorkerLeaseTimeout'>
				<method_info nloc='38' complexity='1' token_count='406' nesting_level='1' start_line='887' end_line='936'></method_info>
			<added_lines>934,935</added_lines>
			<deleted_lines></deleted_lines>
		</method>
		<method name='ray::MockRayletClient::GrantWorkerLease' parameters='address,port,retry_at_raylet_id'>
				<method_info nloc='21' complexity='3' token_count='159' nesting_level='2' start_line='105' end_line='125'></method_info>
			<added_lines>105,106,107,108,109,110,111,114,116,117,118</added_lines>
			<deleted_lines>106,108</deleted_lines>
		</method>
		<method name='ray::TEST' parameters='DirectTaskTransportTest,TestHandleTaskFailure'>
				<method_info nloc='24' complexity='1' token_count='261' nesting_level='1' start_line='359' end_line='384'></method_info>
			<added_lines>382,383</added_lines>
			<deleted_lines></deleted_lines>
		</method>
		<method name='ray::TEST' parameters='DirectTaskTransportTest,TestWorkerNotReusedOnError'>
				<method_info nloc='33' complexity='1' token_count='361' nesting_level='1' start_line='592' end_line='631'></method_info>
			<added_lines>629,630</added_lines>
			<deleted_lines></deleted_lines>
		</method>
		<method name='ray::TEST' parameters='DirectTaskTransportTest,TestSubmitOneTask'>
				<method_info nloc='29' complexity='1' token_count='304' nesting_level='1' start_line='325' end_line='357'></method_info>
			<added_lines>355,356</added_lines>
			<deleted_lines></deleted_lines>
		</method>
		<method name='ray::TEST' parameters='DirectTaskTransportTest,TestSpillback'>
				<method_info nloc='46' complexity='2' token_count='466' nesting_level='1' start_line='664' end_line='718'></method_info>
			<added_lines>712,713,714,715,716,717</added_lines>
			<deleted_lines></deleted_lines>
		</method>
		<method name='ray::TEST' parameters='DirectTaskTransportTest,TestWorkerNotReturnedOnExit'>
				<method_info nloc='25' complexity='1' token_count='271' nesting_level='1' start_line='633' end_line='662'></method_info>
			<added_lines>660,661</added_lines>
			<deleted_lines></deleted_lines>
		</method>
		<method name='ray::TEST' parameters='DirectTaskTransportTest,TestSpillbackRoundTrip'>
				<method_info nloc='51' complexity='2' token_count='517' nesting_level='1' start_line='720' end_line='780'></method_info>
			<added_lines>774,775,776,777,778,779</added_lines>
			<deleted_lines></deleted_lines>
		</method>
		<method name='ray::MockRayletClient::ReplyCancelWorkerLease' parameters='success'>
				<method_info nloc='12' complexity='2' token_count='68' nesting_level='2' start_line='137' end_line='148'></method_info>
			<added_lines>137,138,139,140,141,142,143,144,145,146,147,148</added_lines>
			<deleted_lines></deleted_lines>
		</method>
		<method name='ray::TEST' parameters='DirectTaskTransportTest,TestConcurrentCancellationAndSubmission'>
				<method_info nloc='35' complexity='1' token_count='382' nesting_level='1' start_line='542' end_line='590'></method_info>
			<added_lines>542,543,544,545,546,547,548,549,550,551,552,553,554,555,556,557,558,559,560,561,562,563,564,565,566,567,568,569,570,571,572,573,574,575,576,577,578,579,580,581,582,583,584,585,586,587,588,589</added_lines>
			<deleted_lines></deleted_lines>
		</method>
		<method name='ray::MockRayletClient::GrantWorkerLease' parameters='address,port,retry_at_raylet_id,cancel'>
				<method_info nloc='23' complexity='4' token_count='178' nesting_level='2' start_line='113' end_line='135'></method_info>
			<added_lines>114,116,117,118</added_lines>
			<deleted_lines></deleted_lines>
		</method>
		<modified_lines>
			<added_lines>149,155,157,488,541</added_lines>
			<deleted_lines></deleted_lines>
		</modified_lines>
	</modification>
	<modification change_type='MODIFY' old_name='src\ray\core_worker\transport\direct_task_transport.cc' new_name='src\ray\core_worker\transport\direct_task_transport.cc'>
		<file_info nloc='185' complexity='33' token_count='1495'></file_info>
		<method name='ray::CoreWorkerDirectTaskSubmitter::RetryLeaseRequest' parameters='status,lease_client,scheduling_key'>
				<method_info nloc='11' complexity='2' token_count='65' nesting_level='1' start_line='153' end_line='169'></method_info>
			<added_lines>159,160,161,162,164,165,166,167,168,169</added_lines>
			<deleted_lines>153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168</deleted_lines>
		</method>
		<method name='ray::CoreWorkerDirectTaskSubmitter::OnWorkerIdle' parameters='addr,scheduling_key,was_error,assigned_resources'>
				<method_info nloc='26' complexity='6' token_count='212' nesting_level='1' start_line='55' end_line='85'></method_info>
			<added_lines>59,80,81</added_lines>
			<deleted_lines></deleted_lines>
		</method>
		<method name='ray::CoreWorkerDirectTaskSubmitter::PushNormalTask' parameters='addr,client,scheduling_key,task_spec,assigned_resources'>
				<method_info nloc='35' complexity='6' token_count='316' nesting_level='1' start_line='207' end_line='252'></method_info>
			<added_lines>224,251</added_lines>
			<deleted_lines>215,216,217,218,219,220,221,222,223,224,225</deleted_lines>
		</method>
		<method name='ray::CoreWorkerDirectTaskSubmitter::RequestNewWorkerIfNeeded' parameters='scheduling_key,raylet_address'>
				<method_info nloc='48' complexity='7' token_count='384' nesting_level='1' start_line='144' end_line='205'></method_info>
			<added_lines>159,160,161,162,164,165,166,167,168,169,170,172,173,174,175,188,189,190,191,192,193,194,196,197,198,199,201,202,203,204</added_lines>
			<deleted_lines>144,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,188</deleted_lines>
		</method>
		<method name='ray::CoreWorkerDirectTaskSubmitter::CancelWorkerLeaseIfNeeded' parameters='scheduling_key'>
				<method_info nloc='21' complexity='5' token_count='150' nesting_level='1' start_line='87' end_line='118'></method_info>
			<added_lines>87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118</added_lines>
			<deleted_lines></deleted_lines>
		</method>
		<modified_lines>
			<added_lines>119</added_lines>
			<deleted_lines>123,124,125,126,128,130</deleted_lines>
		</modified_lines>
	</modification>
	<modification change_type='MODIFY' old_name='src\ray\core_worker\transport\direct_task_transport.h' new_name='src\ray\core_worker\transport\direct_task_transport.h'>
		<file_info nloc='79' complexity='1' token_count='493'></file_info>
		<modified_lines>
			<added_lines>101,102,103,104,105,106,107,165,166,167</added_lines>
			<deleted_lines>87,88,89,90,91,92,164</deleted_lines>
		</modified_lines>
	</modification>
	<modification change_type='MODIFY' old_name='src\ray\protobuf\node_manager.proto' new_name='src\ray\protobuf\node_manager.proto'>
		<file_info nloc='None' complexity='None' token_count='None'></file_info>
		<modified_lines>
			<added_lines>35,36,37,54,55,56,57,58,59,60,61,62,63,64,65,66,134,135,136</added_lines>
			<deleted_lines></deleted_lines>
		</modified_lines>
	</modification>
	<modification change_type='MODIFY' old_name='src\ray\raylet\node_manager.cc' new_name='src\ray\raylet\node_manager.cc'>
		<file_info nloc='2727' complexity='482' token_count='21055'></file_info>
		<method name='ray::raylet::NodeManager::FinishAssignTask' parameters='worker,task_id,success'>
				<method_info nloc='25' complexity='3' token_count='202' nesting_level='2' start_line='3158' end_line='3199'></method_info>
			<added_lines>3182,3183</added_lines>
			<deleted_lines></deleted_lines>
		</method>
		<method name='ray::raylet::NodeManager::HandleRequestWorkerLease' parameters='request,reply,send_reply_callback'>
				<method_info nloc='131' complexity='16' token_count='1162' nesting_level='2' start_line='1651' end_line='1794'></method_info>
			<added_lines>1788,1789,1790,1791,1792</added_lines>
			<deleted_lines></deleted_lines>
		</method>
		<method name='ray::raylet::NodeManager::HandleCancelWorkerLease' parameters='request,reply,send_reply_callback'>
				<method_info nloc='21' complexity='3' token_count='138' nesting_level='2' start_line='1829' end_line='1859'></method_info>
			<added_lines>1829,1830,1831,1832,1833,1834,1835,1836,1837,1838,1839,1840,1841,1842,1843,1844,1845,1846,1847,1848,1849,1850,1851,1852,1853,1854,1855,1856,1857,1858,1859</added_lines>
			<deleted_lines></deleted_lines>
		</method>
		<modified_lines>
			<added_lines>1860</added_lines>
			<deleted_lines></deleted_lines>
		</modified_lines>
	</modification>
	<modification change_type='MODIFY' old_name='src\ray\raylet\node_manager.h' new_name='src\ray\raylet\node_manager.h'>
		<file_info nloc='234' complexity='1' token_count='1729'></file_info>
		<modified_lines>
			<added_lines>579,580,581,582,583</added_lines>
			<deleted_lines></deleted_lines>
		</modified_lines>
	</modification>
	<modification change_type='MODIFY' old_name='src\ray\raylet\raylet_client.cc' new_name='src\ray\raylet\raylet_client.cc'>
		<file_info nloc='336' complexity='58' token_count='2783'></file_info>
		<method name='ray::raylet::RayletClient::CancelWorkerLease' parameters='task_id,callback'>
				<method_info nloc='7' complexity='1' token_count='51' nesting_level='1' start_line='370' end_line='376'></method_info>
			<added_lines>370,371,372,373,374,375,376</added_lines>
			<deleted_lines></deleted_lines>
		</method>
		<modified_lines>
			<added_lines>377</added_lines>
			<deleted_lines></deleted_lines>
		</modified_lines>
	</modification>
	<modification change_type='MODIFY' old_name='src\ray\raylet\raylet_client.h' new_name='src\ray\raylet\raylet_client.h'>
		<file_info nloc='119' complexity='6' token_count='956'></file_info>
		<modified_lines>
			<added_lines>69,70,71,72,284,285,286,287</added_lines>
			<deleted_lines></deleted_lines>
		</modified_lines>
	</modification>
	<modification change_type='MODIFY' old_name='src\ray\rpc\node_manager\node_manager_client.h' new_name='src\ray\rpc\node_manager\node_manager_client.h'>
		<file_info nloc='53' complexity='4' token_count='316'></file_info>
		<modified_lines>
			<added_lines>90,91,92</added_lines>
			<deleted_lines></deleted_lines>
		</modified_lines>
	</modification>
	<modification change_type='MODIFY' old_name='src\ray\rpc\node_manager\node_manager_server.h' new_name='src\ray\rpc\node_manager\node_manager_server.h'>
		<file_info nloc='50' complexity='3' token_count='277'></file_info>
		<modified_lines>
			<added_lines>30,59,60,61,62</added_lines>
			<deleted_lines></deleted_lines>
		</modified_lines>
	</modification>
</commit>
