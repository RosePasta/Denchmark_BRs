<bug_data>
<bug id='300' author='yangyan008001' open_date='2020-11-02T07:00:05Z' closed_time='2020-11-02T08:36:35Z'>
 	<summary>I meet a bug when I run the ConvTasnet</summary>
 	<description>
 &lt;denchmark-h:h2&gt;ğŸ› Bug&lt;/denchmark-h&gt;
 
 When I run the Conv-Tasnet example, I meet a error as below
 File "/search/odin/yangyan/asteroid/asteroid/masknn/convolutional.py", line 189, in forward
 skip_connection = skip_connection + skip
 RuntimeError: Expected all tensors to be on the same device, but found at least two devices, cuda:0 and cpu!
 My asteroid version is 0.3.4
 &lt;denchmark-h:h3&gt;To Reproduce&lt;/denchmark-h&gt;
 
 Just run the asteroid/egs/wham/ConvTasNet/run.sh on GPUs,you can reproduce the error!
 &lt;denchmark-h:h3&gt;Expected behavior&lt;/denchmark-h&gt;
 
 When I open the file "asteroid/masknn/convolutional.py" ,I found the skip_connection = torch.tensor([0.0]), which may not be put on GPUs. After fixing that, the error disapear.
 &lt;denchmark-h:h3&gt;Environment&lt;/denchmark-h&gt;
 
 
 Asteroid Version or commit tag
 PyTorch Version (e.g., 1.6.0)
 PyTorchLightning Version
 Additional info
 
 	</description>
 	<comments>
 		<comment id='1' author='yangyan008001' date='2020-11-02T08:05:12Z'>
 		Thanks for reporting the bug, I'll fix that !
 		</comment>
 		<comment id='2' author='yangyan008001' date='2020-11-02T08:37:12Z'>
 		You can try master now, thanks for reporting.
 		</comment>
 		<comment id='3' author='yangyan008001' date='2020-11-02T08:44:54Z'>
 		OK. The asterorid is the best separation framework I have ever met. I hope to see the implementation of the Google WaveSplit. ~.~
 
 å‘ä»¶äºº: Pariente Manuel [mailto:notifications@github.com]
 å‘é€æ—¶é—´: 2020å¹´11æœˆ2æ—¥ 16:37
 æ”¶ä»¶äºº: mpariente/asteroid
 æŠ„é€: YangYan(AIäº¤äº’äº‹ä¸šéƒ¨_AIäº¤äº’æŠ€æœ¯éƒ¨); Author
 ä¸»é¢˜: Re: [mpariente/asteroid] I meet a bug when I run the ConvTasnet (&lt;denchmark-link:https://github.com/asteroid-team/asteroid/issues/300&gt;#300&lt;/denchmark-link&gt;
 )
 
 
 You can try master now, thanks for reporting.
 
 â€”
 You are receiving this because you authored the thread.
 Reply to this email directly, view it on GitHub&lt;&lt;denchmark-link:https://github.com/asteroid-team/asteroid/issues/300#issuecomment-720324120&gt;#300 (comment)&lt;/denchmark-link&gt;
 &gt;, or unsubscribe&lt;&lt;denchmark-link:https://github.com/notifications/unsubscribe-auth/AKC63G2ZT7GXWJPFCYLWENLSNZVULANCNFSM4THC266Q&gt;https://github.com/notifications/unsubscribe-auth/AKC63G2ZT7GXWJPFCYLWENLSNZVULANCNFSM4THC266Q&lt;/denchmark-link&gt;
 &gt;.
 		</comment>
 	</comments>
 </bug>
<commit id='a198dea04b1b26c558aa2fc002545274913b5bb6' author='Pariente Manuel' date='2020-11-02 09:36:33+01:00'>
 	<dmm_unit complexity='None' interfacing='None' size='None'></dmm_unit>
 	<modification change_type='MODIFY' old_name='asteroid\masknn\convolutional.py' new_name='asteroid\masknn\convolutional.py'>
 		<file_info nloc='639' complexity='41' token_count='3036'></file_info>
 		<method name='forward' parameters='self,mixture_w'>
 				<method_info nloc='17' complexity='4' token_count='128' nesting_level='1' start_line='170' end_line='198'></method_info>
 			<added_lines>183</added_lines>
 			<deleted_lines>183</deleted_lines>
 		</method>
 		<modified_lines>
 			<added_lines></added_lines>
 			<deleted_lines></deleted_lines>
 		</modified_lines>
 	</modification>
 </commit>
</bug_data>
