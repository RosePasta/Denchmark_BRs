<bug_data>
<bug id='306' author='azhavoro' open_date='2019-01-31T14:05:18Z' closed_time='2019-02-08T13:01:57Z'>
 	<summary>"Impossible to save Job" exception after Undo action</summary>
 	<description>
 How to reproduce:
 
 add several objects
 save
 delete one of them
 save
 restore deleted object by undo action (Ctrl+Z)
 save again
 
 	</description>
 	<comments>
 	</comments>
 </bug>
<commit id='cdc34f6993c7250895bd418ef2512d7c82feb82b' author='Boris Sekachev' date='2019-02-08 16:01:57+03:00'>
 	<dmm_unit complexity='1.0' interfacing='1.0' size='1.0'></dmm_unit>
 	<modification change_type='MODIFY' old_name='cvat\apps\engine\static\engine\js\annotationUI.js' new_name='cvat\apps\engine\static\engine\js\annotationUI.js'>
 		<file_info nloc='617' complexity='108' token_count='4307'></file_info>
 		<method name='$.offset' parameters=''>
 				<method_info nloc='44' complexity='2' token_count='368' nesting_level='0' start_line='223' end_line='290'></method_info>
 			<added_lines>227</added_lines>
 			<deleted_lines>227</deleted_lines>
 		</method>
 		<modified_lines>
 			<added_lines></added_lines>
 			<deleted_lines></deleted_lines>
 		</modified_lines>
 	</modification>
 	<modification change_type='MODIFY' old_name='cvat\apps\engine\static\engine\js\history.js' new_name='cvat\apps\engine\static\engine\js\history.js'>
 		<file_info nloc='174' complexity='36' token_count='1034'></file_info>
 		<method name='generateId' parameters=''>
 				<method_info nloc='3' complexity='1' token_count='13' nesting_level='0' start_line='31' end_line='33'></method_info>
 			<added_lines>31,32,33</added_lines>
 			<deleted_lines></deleted_lines>
 		</method>
 		<method name='undo' parameters=''>
 				<method_info nloc='26' complexity='4' token_count='138' nesting_level='0' start_line='35' end_line='64'></method_info>
 			<added_lines>50</added_lines>
 			<deleted_lines>45</deleted_lines>
 		</method>
 		<method name='redo' parameters=''>
 				<method_info nloc='26' complexity='4' token_count='138' nesting_level='0' start_line='66' end_line='95'></method_info>
 			<added_lines>81</added_lines>
 			<deleted_lines>76</deleted_lines>
 		</method>
 		<method name='constructor' parameters='playerModel'>
 				<method_info nloc='10' complexity='1' token_count='69' nesting_level='0' start_line='17' end_line='28'></method_info>
 			<added_lines>17,26</added_lines>
 			<deleted_lines>17</deleted_lines>
 		</method>
 		<method name='constructor' parameters='playerModel,idGenerator'>
 				<method_info nloc='11' complexity='1' token_count='77' nesting_level='0' start_line='17' end_line='29'></method_info>
 			<added_lines>17,26</added_lines>
 			<deleted_lines>17</deleted_lines>
 		</method>
 		<modified_lines>
 			<added_lines>34</added_lines>
 			<deleted_lines></deleted_lines>
 		</modified_lines>
 	</modification>
 	<modification change_type='MODIFY' old_name='cvat\apps\engine\static\engine\js\shapeBuffer.js' new_name='cvat\apps\engine\static\engine\js\shapeBuffer.js'>
 		<file_info nloc='453' complexity='104' token_count='3477'></file_info>
 		<method name='propagateToFrames' parameters=''>
 				<method_info nloc='72' complexity='14' token_count='597' nesting_level='0' start_line='171' end_line='262'></method_info>
 			<added_lines>251,253</added_lines>
 			<deleted_lines>250</deleted_lines>
 		</method>
 		<method name='(anonymous)' parameters=''>
 				<method_info nloc='4' complexity='1' token_count='17' nesting_level='0' start_line='157' end_line='160'></method_info>
 			<added_lines>160</added_lines>
 			<deleted_lines>160</deleted_lines>
 		</method>
 		<method name='pasteToFrame' parameters='box,polyPoints'>
 				<method_info nloc='15' complexity='3' token_count='137' nesting_level='0' start_line='143' end_line='169'></method_info>
 			<added_lines>160,162</added_lines>
 			<deleted_lines>160</deleted_lines>
 		</method>
 		<modified_lines>
 			<added_lines></added_lines>
 			<deleted_lines></deleted_lines>
 		</modified_lines>
 	</modification>
 	<modification change_type='MODIFY' old_name='cvat\apps\engine\static\engine\js\shapeCollection.js' new_name='cvat\apps\engine\static\engine\js\shapeCollection.js'>
 		<file_info nloc='1350' complexity='333' token_count='9149'></file_info>
 		<method name='(anonymous)' parameters=''>
 				<method_info nloc='8' complexity='2' token_count='40' nesting_level='0' start_line='817' end_line='824'></method_info>
 			<added_lines>817,822,824</added_lines>
 			<deleted_lines>817,823</deleted_lines>
 		</method>
 		<method name='split' parameters=''>
 				<method_info nloc='16' complexity='5' token_count='145' nesting_level='0' start_line='805' end_line='839'></method_info>
 			<added_lines>817,822,824,826</added_lines>
 			<deleted_lines>817,823</deleted_lines>
 		</method>
 		<modified_lines>
 			<added_lines></added_lines>
 			<deleted_lines></deleted_lines>
 		</modified_lines>
 	</modification>
 	<modification change_type='MODIFY' old_name='cvat\apps\engine\static\engine\js\shapeCreator.js' new_name='cvat\apps\engine\static\engine\js\shapeCreator.js'>
 		<file_info nloc='468' complexity='116' token_count='3493'></file_info>
 		<method name='(anonymous)' parameters=''>
 				<method_info nloc='4' complexity='1' token_count='17' nesting_level='0' start_line='70' end_line='73'></method_info>
 			<added_lines>73</added_lines>
 			<deleted_lines>73</deleted_lines>
 		</method>
 		<method name='finish' parameters='result'>
 				<method_info nloc='31' complexity='4' token_count='250' nesting_level='0' start_line='36' end_line='81'></method_info>
 			<added_lines>73,75</added_lines>
 			<deleted_lines>73</deleted_lines>
 		</method>
 		<modified_lines>
 			<added_lines></added_lines>
 			<deleted_lines></deleted_lines>
 		</modified_lines>
 	</modification>
 	<modification change_type='MODIFY' old_name='cvat\apps\engine\static\engine\js\shapeMerger.js' new_name='cvat\apps\engine\static\engine\js\shapeMerger.js'>
 		<file_info nloc='230' complexity='35' token_count='1479'></file_info>
 		<method name='(anonymous)' parameters=''>
 				<method_info nloc='10' complexity='2' token_count='59' nesting_level='0' start_line='170' end_line='179'></method_info>
 			<added_lines>170,174,179</added_lines>
 			<deleted_lines>170,178</deleted_lines>
 		</method>
 		<method name='this._collectionModel.zOrder' parameters='frame'>
 				<method_info nloc='36' complexity='5' token_count='274' nesting_level='0' start_line='138' end_line='199'></method_info>
 			<added_lines>170,174,179,185</added_lines>
 			<deleted_lines>170,178</deleted_lines>
 		</method>
 		<modified_lines>
 			<added_lines></added_lines>
 			<deleted_lines></deleted_lines>
 		</modified_lines>
 	</modification>
 	<modification change_type='MODIFY' old_name='cvat\apps\engine\static\engine\js\shapes.js' new_name='cvat\apps\engine\static\engine\js\shapes.js'>
 		<file_info nloc='2689' complexity='655' token_count='19404'></file_info>
 		<method name='remove' parameters=''>
 				<method_info nloc='7' complexity='1' token_count='58' nesting_level='0' start_line='471' end_line='486'></method_info>
 			<added_lines>479,480</added_lines>
 			<deleted_lines>479,483</deleted_lines>
 		</method>
 		<method name='id' parameters='value'>
 				<method_info nloc='3' complexity='1' token_count='11' nesting_level='0' start_line='577' end_line='579'></method_info>
 			<added_lines>577,578,579</added_lines>
 			<deleted_lines></deleted_lines>
 		</method>
 		<method name='(anonymous)' parameters=''>
 				<method_info nloc='4' complexity='1' token_count='18' nesting_level='0' start_line='479' end_line='482'></method_info>
 			<added_lines>479,480</added_lines>
 			<deleted_lines>479</deleted_lines>
 		</method>
 		<modified_lines>
 			<added_lines>580</added_lines>
 			<deleted_lines></deleted_lines>
 		</modified_lines>
 	</modification>
 </commit>
</bug_data>
