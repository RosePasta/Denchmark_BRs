<bug_data>
<bug id='4772' author='lilysikes' open_date='2019-12-05T16:00:07Z' closed_time='2019-12-06T18:18:15Z'>
 	<summary>EntityLinker predict function loops through ents instead of sents</summary>
 	<description>
 The predict function loops through ents twice instead of looping through the sents. The code should be
 &lt;denchmark-code&gt;for sent in doc.sents:
                     sent_doc = sent.as_doc()
                     # currently, the context is the same for each entity in a sentence (should be refined)
                     sentence_encoding = self.model([sent_doc])[0]
                     xp = get_array_module(sentence_encoding)
                     sentence_encoding_t = sentence_encoding.T
                     sentence_norm = xp.linalg.norm(sentence_encoding_t) ...
 &lt;/denchmark-code&gt;
 
 	</description>
 	<comments>
 		<comment id='1' author='lilysikes' date='2019-12-06T08:26:39Z'>
 		Thanks, that does look like a bug!
 		</comment>
 		<comment id='2' author='lilysikes' date='2019-12-06T13:19:04Z'>
 		Oh wow, good catch, thanks !
 		</comment>
 		<comment id='3' author='lilysikes' date='2019-12-06T14:12:20Z'>
 		No problem!
 		</comment>
 		<comment id='4' author='lilysikes' date='2020-01-05T19:35:52Z'>
 		This thread has been automatically locked since there has not been any recent activity after it was closed. Please open a new issue for related bugs.
 		</comment>
 	</comments>
 </bug>
<commit id='780d43aac7ecceb177d27eb76424c516a869d014' author='Sofie Van Landeghem' date='2019-12-06 19:18:14+01:00'>
 	<dmm_unit complexity='None' interfacing='None' size='None'></dmm_unit>
 	<modification change_type='MODIFY' old_name='spacy\pipeline\pipes.pyx' new_name='spacy\pipeline\pipes.pyx'>
 		<file_info nloc='None' complexity='None' token_count='None'></file_info>
 		<modified_lines>
 			<added_lines>1305</added_lines>
 			<deleted_lines>1305</deleted_lines>
 		</modified_lines>
 	</modification>
 </commit>
</bug_data>
