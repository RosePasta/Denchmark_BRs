<bug_data>
<bug id='4470' author='regel' open_date='2019-10-18T13:12:13Z' closed_time='2019-10-18T16:13:00Z'>
 	<summary>converting IOB2 file writes invalid characters to stdout</summary>
 	<description>
 &lt;denchmark-h:h2&gt;How to reproduce the behaviour&lt;/denchmark-h&gt;
 
 Writing to stdout (-) with spacy convert produces invalid characters.
 Standard shell redirect cannot be used to create the output file since the JSON file is corrupted. I guess the "information" messages should be printed to stderr rather than stdout and this will fix the issue.
 &lt;denchmark-code&gt;(venv) $ spacy convert -c iob -s -n 10 -l de sentences.iob - &gt; bug.json
 (venv) $ head bug.json 
 ℹ Auto-detected token-per-line NER format
 ℹ Grouping every 10 sentences into a document.
 ℹ Segmenting sentences with sentencizer. (Use `-b model` for improved
 parser-based sentence segmentation.)
 [
   {
     "id":0,
     "paragraphs":[
       {
 ...
 &lt;/denchmark-code&gt;
 
 &lt;denchmark-h:h2&gt;Your Environment&lt;/denchmark-h&gt;
 
 
 Operating System: CentOS Linux release 7.7.1908 (Core)
 Python Version Used: python 3.6
 spaCy Version Used: spacy==2.2.1
 Environment Information: virtualenv
 
 	</description>
 	<comments>
 		<comment id='1' author='regel' date='2019-11-17T16:54:31Z'>
 		This thread has been automatically locked since there has not been any recent activity after it was closed. Please open a new issue for related bugs.
 		</comment>
 	</comments>
 </bug>
<commit id='8d3de90bc40c98b5b8397a8ab15de966de491a08' author='adrianeboyd' date='2019-10-18 18:12:59+02:00'>
 	<dmm_unit complexity='None' interfacing='None' size='None'></dmm_unit>
 	<modification change_type='MODIFY' old_name='spacy\cli\convert.py' new_name='spacy\cli\convert.py'>
 		<file_info nloc='119' complexity='9' token_count='755'></file_info>
 		<modified_lines>
 			<added_lines>60,61,106</added_lines>
 			<deleted_lines>60</deleted_lines>
 		</modified_lines>
 	</modification>
 	<modification change_type='MODIFY' old_name='spacy\cli\converters\conll_ner2json.py' new_name='spacy\cli\converters\conll_ner2json.py'>
 		<file_info nloc='130' complexity='41' token_count='766'></file_info>
 		<method name='conll_ner2json' parameters='input_data,n_sents,seg_sents,model,kwargs'>
 				<method_info nloc='80' complexity='27' token_count='435' nesting_level='0' start_line='12' end_line='122'></method_info>
 			<added_lines>12,37</added_lines>
 			<deleted_lines>12,37</deleted_lines>
 		</method>
 		<method name='conll_ner2json' parameters='input_data,n_sents,seg_sents,model,no_print,kwargs'>
 				<method_info nloc='80' complexity='27' token_count='442' nesting_level='0' start_line='12' end_line='122'></method_info>
 			<added_lines>12,37</added_lines>
 			<deleted_lines>12,37</deleted_lines>
 		</method>
 		<modified_lines>
 			<added_lines></added_lines>
 			<deleted_lines></deleted_lines>
 		</modified_lines>
 	</modification>
 	<modification change_type='MODIFY' old_name='spacy\cli\converters\iob2json.py' new_name='spacy\cli\converters\iob2json.py'>
 		<file_info nloc='48' complexity='15' token_count='360'></file_info>
 		<method name='iob2json' parameters='input_data,n_sents,no_print,args,kwargs'>
 				<method_info nloc='7' complexity='2' token_count='60' nesting_level='0' start_line='11' end_line='28'></method_info>
 			<added_lines>11,23</added_lines>
 			<deleted_lines>11,23</deleted_lines>
 		</method>
 		<method name='iob2json' parameters='input_data,n_sents,args,kwargs'>
 				<method_info nloc='7' complexity='2' token_count='53' nesting_level='0' start_line='11' end_line='28'></method_info>
 			<added_lines>11,23</added_lines>
 			<deleted_lines>11,23</deleted_lines>
 		</method>
 		<modified_lines>
 			<added_lines></added_lines>
 			<deleted_lines></deleted_lines>
 		</modified_lines>
 	</modification>
 </commit>
</bug_data>
