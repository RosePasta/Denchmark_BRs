<bug_data>
<bug id='3549' author='jjhbw' open_date='2019-04-07T09:11:48Z' closed_time='2019-04-09T10:50:51Z'>
 	<summary>Matcher with `validate = True` raises on valid patterns</summary>
 	<description>
 Hi guys, thanks for this amazing library!
 I was playing with the rule based matching functionality and came across some weird behaviour with the Matcher class. It seems initiating it with validate = True causes valid patterns to raise spacy.errors.MatchPatternError.
 I've copied an &lt;denchmark-link:https://spacy.io/usage/rule-based-matching#adding-patterns&gt;example from the docs&lt;/denchmark-link&gt;
  and added the  kwarg.
 &lt;denchmark-h:h2&gt;How to reproduce the behaviour&lt;/denchmark-h&gt;
 
 import spacy
 from spacy.matcher import Matcher
 nlp = spacy.load("en_core_web_sm")
 
 matcher = Matcher(nlp.vocab, validate = True)
 pattern = [{"LOWER": "hello"}, {"LOWER": "world"}]
 matcher.add("HelloWorld", None, pattern)
 doc = nlp(u'hello world!')
 matches = matcher(doc)
 This results in:
 &lt;denchmark-code&gt;Traceback (most recent call last):
   File "./tests/matchertest.py", line 7, in &lt;module&gt;
     matcher.add("HelloWorld", None, pattern)
   File "matcher.pyx", line 109, in spacy.matcher.matcher.Matcher.add
 spacy.errors.MatchPatternError: Invalid token patterns for matcher rule 'HelloWorld'
 
 Pattern 0:
 
 
 &lt;/denchmark-code&gt;
 
 &lt;denchmark-h:h2&gt;Info about spaCy&lt;/denchmark-h&gt;
 
 
 spaCy version: 2.1.3
 Platform: Darwin-18.5.0-x86_64-i386-64bit
 Python version: 3.6.8
 Models: en
 
 	</description>
 	<comments>
 		<comment id='1' author='jjhbw' date='2019-04-09T10:50:56Z'>
 		Thanks for the report â€“ no idea how this happened ðŸ¤” Looks like the match pattern error was also raising even if there were no errors. Should be fixed now!
 		</comment>
 		<comment id='2' author='jjhbw' date='2019-04-09T11:34:33Z'>
 		Wow that was quick, thanks so much for the fix!
 		</comment>
 		<comment id='3' author='jjhbw' date='2019-05-09T12:16:19Z'>
 		This thread has been automatically locked since there has not been any recent activity after it was closed. Please open a new issue for related bugs.
 		</comment>
 	</comments>
 </bug>
<commit id='4d198a7e92f813fb9df2ade72fbeaf847284a7a0' author='Ines Montani' date='2019-04-09 12:50:43+02:00'>
 	<dmm_unit complexity='1.0' interfacing='1.0' size='1.0'></dmm_unit>
 	<modification change_type='MODIFY' old_name='spacy\matcher\matcher.pyx' new_name='spacy\matcher\matcher.pyx'>
 		<file_info nloc='None' complexity='None' token_count='None'></file_info>
 		<modified_lines>
 			<added_lines>108</added_lines>
 			<deleted_lines>108</deleted_lines>
 		</modified_lines>
 	</modification>
 	<modification change_type='ADD' old_name='None' new_name='spacy\tests\regression\test_issue3549.py'>
 		<file_info nloc='10' complexity='1' token_count='84'></file_info>
 	</modification>
 </commit>
</bug_data>
