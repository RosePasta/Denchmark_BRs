<bug_data>
<bug id='1257' author='ank-26' open_date='2017-08-14T14:23:26Z' closed_time='2017-09-16T09:40:15Z'>
 	<summary>Compare operator (==) behaves unexpectedly on spacy tokens</summary>
 	<description>
 &lt;denchmark-code&gt;nlp = spacy.load("en")
 doc1 = nlp(u"I am here")
 doc2 = nlp(u"Hello")
 
 doc1[0] == doc2[0]
 True
 &lt;/denchmark-code&gt;
 
 In the above snippet, spacy is treating 1st token of both the docs as equal. So, in the below source code the richcmp method it is using index to compare.
 &lt;denchmark-code&gt;def __richcmp__(self, Token other, int op):
         # http://cython.readthedocs.io/en/latest/src/userguide/special_methods.html
         my = self.idx
         their = other.idx if other is not None else None
 &lt;/denchmark-code&gt;
 
 &lt;denchmark-h:h2&gt;Environment&lt;/denchmark-h&gt;
 
 
 Python version: 2.7.10
 Platform: Darwin-16.0.0-x86_64-i386-64bit
 spaCy version: 1.9.0
 Installed models: en
 
 	</description>
 	<comments>
 		<comment id='1' author='ank-26' date='2017-08-14T17:19:23Z'>
 		Thanks, this must've been in there a long time. If you want to submit a patch for this, the best solution would be to check that other.doc is self
 		</comment>
 		<comment id='2' author='ank-26' date='2017-09-16T09:40:15Z'>
 		Fixed :)
 		</comment>
 		<comment id='3' author='ank-26' date='2018-05-08T16:28:09Z'>
 		This thread has been automatically locked since there has not been any recent activity after it was closed. Please open a new issue for related bugs.
 		</comment>
 	</comments>
 </bug>
<commit id='d55d6e1cfab6d0380255f7ffb3d7b6791f536054' author='Matthew Honnibal' date='2017-08-19 16:39:32+02:00'>
 	<dmm_unit complexity='1.0' interfacing='1.0' size='1.0'></dmm_unit>
 	<modification change_type='ADD' old_name='None' new_name='spacy\tests\regression\test_issue1257.py'>
 		<file_info nloc='9' complexity='1' token_count='74'></file_info>
 	</modification>
 	<modification change_type='MODIFY' old_name='spacy\tokens\token.pyx' new_name='spacy\tokens\token.pyx'>
 		<file_info nloc='None' complexity='None' token_count='None'></file_info>
 		<modified_lines>
 			<added_lines>65,66,72,73,74,75,81,82,83,84</added_lines>
 			<deleted_lines>70,76</deleted_lines>
 		</modified_lines>
 	</modification>
 </commit>
</bug_data>
