<bug_data>
<bug id='390' author='KevinNuNu' open_date='2018-10-14T17:39:25Z' closed_time='2018-10-15T18:47:43Z'>
 	<summary>Can't use gpu to predict with my own YOLOv3 model .</summary>
 	<description>
 &lt;denchmark-link:https://user-images.githubusercontent.com/34083603/46920060-fc92b400-d01a-11e8-90c1-560684544182.png&gt;&lt;/denchmark-link&gt;
 
 set the parameter of model_zoo.get_model(ctx=mx.gpu(0)), but return value "net" still initialized on cpu.
 i read the code find that:
 the reason is that model_zoo/yolo/yolo3.py  the 503 line, function darknet53() lack a parameter ctx.
 beacuse of this,  model_zoo/yolo/darknet.py the 144 line, net.load_parameters() will only use the default ctx=mx.cpu()!
 add the parameter like this, it will be work~!
 &lt;denchmark-link:https://user-images.githubusercontent.com/34083603/46920040-b8071880-d01a-11e8-87d1-a3f2758480d6.png&gt;&lt;/denchmark-link&gt;
 
 &lt;denchmark-link:https://github.com/zhreshold&gt;@zhreshold&lt;/denchmark-link&gt;
 
 	</description>
 	<comments>
 		<comment id='1' author='KevinNuNu' date='2018-10-14T20:14:45Z'>
 		Right, it's a bug, but just passing **kwargs to darknet53 should be enough.
 		</comment>
 		<comment id='2' author='KevinNuNu' date='2018-10-14T20:31:47Z'>
 		Should be fixed with &lt;denchmark-link:https://github.com/dmlc/gluon-cv/pull/393&gt;#393&lt;/denchmark-link&gt;
 
 		</comment>
 	</comments>
 </bug>
<commit id='d00f0392d78b9afcecf6de564e05005c89bf84b1' author='Joshua Z. Zhang' date='2018-10-15 11:47:39-07:00'>
 	<dmm_unit complexity='1.0' interfacing='0.8181818181818182' size='1.0'></dmm_unit>
 	<modification change_type='MODIFY' old_name='gluoncv\model_zoo\yolo\yolo3.py' new_name='gluoncv\model_zoo\yolo\yolo3.py'>
 		<file_info nloc='359' complexity='32' token_count='2813'></file_info>
 		<method name='yolo3_darknet53_voc' parameters='pretrained_base,pretrained,num_sync_bn_devices,kwargs'>
 				<method_info nloc='12' complexity='2' token_count='168' nesting_level='0' start_line='481' end_line='511'></method_info>
 			<added_lines>503,504</added_lines>
 			<deleted_lines>503</deleted_lines>
 		</method>
 		<method name='yolo3_darknet53_coco' parameters='pretrained_base,pretrained,num_sync_bn_devices,kwargs'>
 				<method_info nloc='12' complexity='2' token_count='168' nesting_level='0' start_line='513' end_line='541'></method_info>
 			<added_lines>533,534</added_lines>
 			<deleted_lines>532</deleted_lines>
 		</method>
 		<modified_lines>
 			<added_lines>565,566</added_lines>
 			<deleted_lines>563</deleted_lines>
 		</modified_lines>
 	</modification>
 	<modification change_type='MODIFY' old_name='tests\unittests\test_model_zoo.py' new_name='tests\unittests\test_model_zoo.py'>
 		<file_info nloc='153' complexity='23' token_count='1325'></file_info>
 		<method name='test_two_stage_ctx_loading' parameters=''>
 				<method_info nloc='9' complexity='2' token_count='80' nesting_level='0' start_line='159' end_line='168'></method_info>
 			<added_lines>159,160,161,162,163,164,165,166,167,168</added_lines>
 			<deleted_lines></deleted_lines>
 		</method>
 		<modified_lines>
 			<added_lines>158,169</added_lines>
 			<deleted_lines></deleted_lines>
 		</modified_lines>
 	</modification>
 </commit>
</bug_data>
