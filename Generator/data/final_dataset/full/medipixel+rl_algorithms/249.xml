<bug_data>
<bug id='249' author='MrSyee' open_date='2020-06-24T04:03:25Z' closed_time='2020-07-06T07:34:11Z'>
 	<summary>Clip a priority to positive value on PER</summary>
 	<description>
 &lt;denchmark-code&gt;Traceback (most recent call last):
   File "run_lunarlander_v2.py", line 122, in &lt;module&gt;
     main()
   File "run_lunarlander_v2.py", line 116, in main
     agent.train()
   File "/home/minseop/workspace/rl_algorithms/rl_algorithms/dqn/agent.py", line 249, in train
     self.memory.update_priorities(indices, new_priorities)
   File "/home/minseop/workspace/rl_algorithms/rl_algorithms/common/buffer/wrapper.py", line 131, in update_priorities
     assert priority &gt; 0
 AssertionError
 &lt;/denchmark-code&gt;
 
 	</description>
 	<comments>
 	</comments>
 </bug>
<commit id='f6694083dd60da3bb96e92c34f7d5362f0b3fdd4' author='Kyunghwan Kim' date='2020-07-06 13:56:44+09:00'>
 	<dmm_unit complexity='0.9' interfacing='1.0' size='0.9'></dmm_unit>
 	<modification change_type='MODIFY' old_name='requirements-dev.txt' new_name='requirements-dev.txt'>
 		<file_info nloc='None' complexity='None' token_count='None'></file_info>
 		<modified_lines>
 			<added_lines>4,5</added_lines>
 			<deleted_lines>4,5</deleted_lines>
 		</modified_lines>
 	</modification>
 	<modification change_type='MODIFY' old_name='requirements.txt' new_name='requirements.txt'>
 		<file_info nloc='None' complexity='None' token_count='None'></file_info>
 		<modified_lines>
 			<added_lines>20</added_lines>
 			<deleted_lines>10</deleted_lines>
 		</modified_lines>
 	</modification>
 	<modification change_type='MODIFY' old_name='rl_algorithms\__init__.py' new_name='rl_algorithms\__init__.py'>
 		<file_info nloc='73' complexity='0' token_count='322'></file_info>
 		<modified_lines>
 			<added_lines>8,13,14</added_lines>
 			<deleted_lines>8,14,16</deleted_lines>
 		</modified_lines>
 	</modification>
 	<modification change_type='MODIFY' old_name='rl_algorithms\common\abstract\distributed_logger.py' new_name='rl_algorithms\common\abstract\distributed_logger.py'>
 		<file_info nloc='189' complexity='31' token_count='1054'></file_info>
 		<method name='write_worker_log' parameters='self'>
 				<method_info nloc='31' complexity='5' token_count='195' nesting_level='1' start_line='147' end_line='186'></method_info>
 			<added_lines>160</added_lines>
 			<deleted_lines>159</deleted_lines>
 		</method>
 		<modified_lines>
 			<added_lines>24</added_lines>
 			<deleted_lines></deleted_lines>
 		</modified_lines>
 	</modification>
 	<modification change_type='RENAME' old_name='rl_algorithms\common\abstract\worker.py' new_name='rl_algorithms\common\abstract\distributed_worker.py'>
 		<file_info nloc='125' complexity='24' token_count='750'></file_info>
 	</modification>
 	<modification change_type='RENAME' old_name='rl_algorithms\common\distributed\__init__.py' new_name='rl_algorithms\common\apex\__init__.py'>
 		<file_info nloc='None' complexity='None' token_count='None'></file_info>
 	</modification>
 	<modification change_type='RENAME' old_name='rl_algorithms\common\distributed\apex.py' new_name='rl_algorithms\common\apex\architecture.py'>
 		<file_info nloc='122' complexity='11' token_count='729'></file_info>
 	</modification>
 	<modification change_type='RENAME' old_name='rl_algorithms\common\distributed\learner.py' new_name='rl_algorithms\common\apex\learner.py'>
 		<file_info nloc='None' complexity='None' token_count='None'></file_info>
 	</modification>
 	<modification change_type='RENAME' old_name='rl_algorithms\common\distributed\worker.py' new_name='rl_algorithms\common\apex\worker.py'>
 		<file_info nloc='122' complexity='23' token_count='767'></file_info>
 	</modification>
 	<modification change_type='MODIFY' old_name='rl_algorithms\common\buffer\segment_tree.py' new_name='rl_algorithms\common\buffer\segment_tree.py'>
 		<file_info nloc='97' complexity='16' token_count='623'></file_info>
 		<method name='retrieve' parameters='self,float'>
 				<method_info nloc='13' complexity='3' token_count='87' nesting_level='1' start_line='103' end_line='118'></method_info>
 			<added_lines>104</added_lines>
 			<deleted_lines>104</deleted_lines>
 		</method>
 		<modified_lines>
 			<added_lines></added_lines>
 			<deleted_lines></deleted_lines>
 		</modified_lines>
 	</modification>
 	<modification change_type='MODIFY' old_name='rl_algorithms\common\buffer\wrapper.py' new_name='rl_algorithms\common\buffer\wrapper.py'>
 		<file_info nloc='171' complexity='20' token_count='1147'></file_info>
 		<method name='run' parameters='self'>
 				<method_info nloc='6' complexity='3' token_count='46' nesting_level='1' start_line='223' end_line='229'></method_info>
 			<added_lines>223,224,225,226,227,228,229</added_lines>
 			<deleted_lines></deleted_lines>
 		</method>
 		<method name='__init__' parameters='self,PrioritizedBufferWrapper,Namespace,ConfigDict,ConfigDict'>
 				<method_info nloc='6' complexity='1' token_count='22' nesting_level='1' start_line='158' end_line='163'></method_info>
 			<added_lines>158,159,160,161,162,163</added_lines>
 			<deleted_lines></deleted_lines>
 		</method>
 		<method name='update_priority_beta' parameters='self'>
 				<method_info nloc='3' complexity='1' token_count='46' nesting_level='1' start_line='218' end_line='221'></method_info>
 			<added_lines>218,219,220,221</added_lines>
 			<deleted_lines></deleted_lines>
 		</method>
 		<method name='init_communication' parameters='self'>
 				<method_info nloc='6' complexity='1' token_count='55' nesting_level='1' start_line='173' end_line='180'></method_info>
 			<added_lines>173,174,175,176,177,178,179,180</added_lines>
 			<deleted_lines></deleted_lines>
 		</method>
 		<method name='recv_worker_data' parameters='self'>
 				<method_info nloc='20' complexity='4' token_count='136' nesting_level='1' start_line='182' end_line='203'></method_info>
 			<added_lines>182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203</added_lines>
 			<deleted_lines></deleted_lines>
 		</method>
 		<method name='send_batch_to_learner' parameters='self'>
 				<method_info nloc='8' complexity='1' token_count='76' nesting_level='1' start_line='205' end_line='216'></method_info>
 			<added_lines>205,206,207,208,209,210,211,212,213,214,215,216</added_lines>
 			<deleted_lines></deleted_lines>
 		</method>
 		<modified_lines>
 			<added_lines>4,7,12,17,18,20,24,144,145,146,147,148,149,150,151,152,153,154,155,156,157,164,165,166,167,168,169,170,171,172,181,204,217,222</added_lines>
 			<deleted_lines>4</deleted_lines>
 		</modified_lines>
 	</modification>
 	<modification change_type='DELETE' old_name='rl_algorithms\common\distributed\buffer.py' new_name='None'>
 		<file_info nloc='None' complexity='None' token_count='None'></file_info>
 	</modification>
 	<modification change_type='MODIFY' old_name='rl_algorithms\common\helper_functions.py' new_name='rl_algorithms\common\helper_functions.py'>
 		<file_info nloc='110' complexity='21' token_count='870'></file_info>
 		<method name='smoothen_graph' parameters='float'>
 				<method_info nloc='13' complexity='2' token_count='64' nesting_level='0' start_line='111' end_line='125'></method_info>
 			<added_lines>111,112,113,114,115,116,117,118,119,120,121,122,123,124,125</added_lines>
 			<deleted_lines></deleted_lines>
 		</method>
 		<modified_lines>
 			<added_lines>126,127</added_lines>
 			<deleted_lines></deleted_lines>
 		</modified_lines>
 	</modification>
 	<modification change_type='RENAME' old_name='rl_algorithms\dqn\logger.py' new_name='rl_algorithms\dqn\distributed_logger.py'>
 		<file_info nloc='None' complexity='None' token_count='None'></file_info>
 	</modification>
 	<modification change_type='RENAME' old_name='rl_algorithms\dqn\worker.py' new_name='rl_algorithms\dqn\distributed_worker.py'>
 		<file_info nloc='96' complexity='8' token_count='720'></file_info>
 	</modification>
 	<modification change_type='MODIFY' old_name='rl_algorithms\dqn\losses.py' new_name='rl_algorithms\dqn\losses.py'>
 		<file_info nloc='169' complexity='3' token_count='1212'></file_info>
 		<modified_lines>
 			<added_lines>204,205,206,208</added_lines>
 			<deleted_lines>204,206</deleted_lines>
 		</modified_lines>
 	</modification>
 	<modification change_type='MODIFY' old_name='rl_algorithms\dqn\networks.py' new_name='rl_algorithms\dqn\networks.py'>
 		<file_info nloc='156' complexity='9' token_count='1169'></file_info>
 		<method name='forward' parameters='self,Tensor'>
 				<method_info nloc='6' complexity='1' token_count='61' nesting_level='1' start_line='204' end_line='210'></method_info>
 			<added_lines>206,207</added_lines>
 			<deleted_lines>206,207,208</deleted_lines>
 		</method>
 		<modified_lines>
 			<added_lines>164</added_lines>
 			<deleted_lines>164</deleted_lines>
 		</modified_lines>
 	</modification>
 	<modification change_type='MODIFY' old_name='setup.py' new_name='setup.py'>
 		<file_info nloc='24' complexity='0' token_count='95'></file_info>
 		<modified_lines>
 			<added_lines>1,7,12,16,17,20,23</added_lines>
 			<deleted_lines>1,7,12,16</deleted_lines>
 		</modified_lines>
 	</modification>
 </commit>
</bug_data>
