<bug_data>
<bug id='787' author='brollb' open_date='2016-09-03T15:57:26Z' closed_time='2016-09-13T15:18:39Z'>
 	<summary>Unnecessary forking on execution start</summary>
 	<description>
 There are a few instances within the execution logic in which forks could happen due to async race conditions.  This could be related to a number of other issues (such as &lt;denchmark-link:https://github.com/deepforge-dev/deepforge/issues/661&gt;#661&lt;/denchmark-link&gt;
 )
 	</description>
 	<comments>
 	</comments>
 </bug>
<commit id='02739bfd62760083ac42ca0f824a3da40f1323a0' author='Brian Broll' date='2016-09-13 10:18:38-05:00'>
 	<dmm_unit complexity='1.0' interfacing='0.9135802469135802' size='0.7407407407407407'></dmm_unit>
 	<modification change_type='MODIFY' old_name='src\plugins\ExecuteJob\ExecuteJob.js' new_name='src\plugins\ExecuteJob\ExecuteJob.js'>
 		<file_info nloc='992' complexity='237' token_count='7513'></file_info>
 		<method name='ExecuteJob.prototype.onDistOperationComplete' parameters='node,result'>
 				<method_info nloc='9' complexity='1' token_count='53' nesting_level='0' start_line='1049' end_line='1085'></method_info>
 			<added_lines>1077</added_lines>
 			<deleted_lines></deleted_lines>
 		</method>
 		<method name='ExecuteJob.prototype.prepare' parameters=''>
 				<method_info nloc='10' complexity='1' token_count='61' nesting_level='0' start_line='246' end_line='273'></method_info>
 			<added_lines>252</added_lines>
 			<deleted_lines>248,249,259,262,272</deleted_lines>
 		</method>
 		<method name='ExecuteJob.prototype.recordOldMetadata' parameters='job'>
 				<method_info nloc='15' complexity='1' token_count='84' nesting_level='0' start_line='275' end_line='317'></method_info>
 			<added_lines>294,296</added_lines>
 			<deleted_lines>279,289,292,304,307,313</deleted_lines>
 		</method>
 		<method name='ExecuteJob.prototype.createMainFile' parameters='node,files'>
 				<method_info nloc='5' complexity='1' token_count='31' nesting_level='0' start_line='830' end_line='858'></method_info>
 			<added_lines>834,835,843,856</added_lines>
 			<deleted_lines>830,847,851,854</deleted_lines>
 		</method>
 		<method name='ExecuteJob.prototype.executeJob' parameters='job'>
 				<method_info nloc='3' complexity='1' token_count='20' nesting_level='0' start_line='435' end_line='563'></method_info>
 			<added_lines>438</added_lines>
 			<deleted_lines>485,499,500,507,509,547</deleted_lines>
 		</method>
 		<method name='ExecuteJob.prototype.createOutputs' parameters='node,files'>
 				<method_info nloc='5' complexity='1' token_count='31' nesting_level='0' start_line='805' end_line='828'></method_info>
 			<added_lines>815</added_lines>
 			<deleted_lines>822</deleted_lines>
 		</method>
 		<method name='ExecuteJob.prototype.getOperationData' parameters='node,metaType'>
 				<method_info nloc='5' complexity='1' token_count='31' nesting_level='0' start_line='1095' end_line='1111'></method_info>
 			<added_lines>1106,1107</added_lines>
 			<deleted_lines>1104</deleted_lines>
 		</method>
 		<method name='ExecuteJob.prototype.main' parameters='callback'>
 				<method_info nloc='17' complexity='3' token_count='113' nesting_level='0' start_line='81' end_line='101'></method_info>
 			<added_lines>84</added_lines>
 			<deleted_lines>83</deleted_lines>
 		</method>
 		<method name=']' parameters='job,graphId,id'>
 				<method_info nloc='13' complexity='1' token_count='114' nesting_level='0' start_line='1225' end_line='1239'></method_info>
 			<added_lines>1237</added_lines>
 			<deleted_lines></deleted_lines>
 		</method>
 		<method name='ExecuteJob.prototype.onComplete' parameters='opNode,err'>
 				<method_info nloc='30' complexity='8' token_count='224' nesting_level='0' start_line='350' end_line='410'></method_info>
 			<added_lines>353,360,370,373,385,388,394</added_lines>
 			<deleted_lines>350,357</deleted_lines>
 		</method>
 		<method name='ExecuteJob.prototype.createPointers' parameters='node,files,cb'>
 				<method_info nloc='15' complexity='1' token_count='90' nesting_level='0' start_line='888' end_line='914'></method_info>
 			<added_lines>903,911</added_lines>
 			<deleted_lines>902,904,905,908,909,910,911,912</deleted_lines>
 		</method>
 		<method name='ExecuteJob.prototype.delAttribute' parameters='node,attr'>
 				<method_info nloc='3' complexity='1' token_count='19' nesting_level='0' start_line='120' end_line='122'></method_info>
 			<added_lines>120,121,122</added_lines>
 			<deleted_lines>121</deleted_lines>
 		</method>
 		<method name='ExecuteJob.prototype.parseForMetadataCmds' parameters='job,lines,skip'>
 				<method_info nloc='40' complexity='8' token_count='315' nesting_level='0' start_line='1139' end_line='1283'></method_info>
 			<added_lines>1195,1220,1222,1237,1259,1264</added_lines>
 			<deleted_lines>1146,1168,1173</deleted_lines>
 		</method>
 		<method name=']' parameters='job,id,x,y'>
 				<method_info nloc='18' complexity='2' token_count='124' nesting_level='0' start_line='1202' end_line='1223'></method_info>
 			<added_lines>1220,1222</added_lines>
 			<deleted_lines></deleted_lines>
 		</method>
 		<method name='ExecuteJob.prototype.getAttribute' parameters='node,attr'>
 				<method_info nloc='14' complexity='4' token_count='117' nesting_level='0' start_line='133' end_line='150'></method_info>
 			<added_lines>133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150</added_lines>
 			<deleted_lines></deleted_lines>
 		</method>
 		<method name=']' parameters='job,hash'>
 				<method_info nloc='20' complexity='3' token_count='154' nesting_level='0' start_line='1241' end_line='1265'></method_info>
 			<added_lines>1259,1264</added_lines>
 			<deleted_lines></deleted_lines>
 		</method>
 		<method name='ExecuteJob.prototype._applyNodeChanges' parameters='node,changes'>
 				<method_info nloc='14' complexity='3' token_count='85' nesting_level='0' start_line='152' end_line='166'></method_info>
 			<added_lines>152,153,154,155,156,157,158,159,160,161,162,163,164,165,166</added_lines>
 			<deleted_lines></deleted_lines>
 		</method>
 		<method name='ExecuteJob.prototype.createEntryFile' parameters='node,files'>
 				<method_info nloc='5' complexity='1' token_count='31' nesting_level='0' start_line='624' end_line='640'></method_info>
 			<added_lines>628</added_lines>
 			<deleted_lines>640</deleted_lines>
 		</method>
 		<method name='ExecuteJob.prototype.createCustomLayers' parameters='node,files'>
 				<method_info nloc='15' complexity='1' token_count='112' nesting_level='0' start_line='705' end_line='725'></method_info>
 			<added_lines>721</added_lines>
 			<deleted_lines></deleted_lines>
 		</method>
 		<method name='ExecuteJob.prototype.createInputs' parameters='node,files'>
 				<method_info nloc='9' complexity='1' token_count='50' nesting_level='0' start_line='727' end_line='803'></method_info>
 			<added_lines>742,762,768,782</added_lines>
 			<deleted_lines>734,753,754,762,775,795</deleted_lines>
 		</method>
 		<method name='ExecuteJob.prototype.createClasses' parameters='node,files'>
 				<method_info nloc='17' complexity='1' token_count='123' nesting_level='0' start_line='642' end_line='692'></method_info>
 			<added_lines>681,686,687</added_lines>
 			<deleted_lines>661,681,687</deleted_lines>
 		</method>
 		<method name='ExecuteJob.prototype.clearOldMetadata' parameters='job'>
 				<method_info nloc='11' complexity='2' token_count='100' nesting_level='0' start_line='319' end_line='331'></method_info>
 			<added_lines>329,330</added_lines>
 			<deleted_lines></deleted_lines>
 		</method>
 		<method name='ExecuteJob.prototype.createAttributeFile' parameters='node,files'>
 				<method_info nloc='12' complexity='1' token_count='75' nesting_level='0' start_line='867' end_line='886'></method_info>
 			<added_lines>876,885</added_lines>
 			<deleted_lines>871</deleted_lines>
 		</method>
 		<method name='ExecuteJob.prototype.executeDistOperation' parameters='job,opNode,hash'>
 				<method_info nloc='22' complexity='3' token_count='169' nesting_level='0' start_line='565' end_line='596'></method_info>
 			<added_lines>566,580,581,588,590</added_lines>
 			<deleted_lines></deleted_lines>
 		</method>
 		<method name='ExecuteJob.prototype.onOperationCanceled' parameters='op'>
 				<method_info nloc='8' complexity='1' token_count='59' nesting_level='0' start_line='338' end_line='346'></method_info>
 			<added_lines>340,343</added_lines>
 			<deleted_lines></deleted_lines>
 		</method>
 		<method name='ExecuteJob.prototype.watchOperation' parameters='executor,hash,op,job'>
 				<method_info nloc='20' complexity='4' token_count='135' nesting_level='0' start_line='923' end_line='1047'></method_info>
 			<added_lines>928,932,935,952,982,983,984,986,988,989,992,993,994,995,996,997,998,999,1000,1001,1002,1003,1012,1018,1027,1041</added_lines>
 			<deleted_lines>927,936,950,986,1015,1016</deleted_lines>
 		</method>
 		<method name='ExecuteJob.prototype.setAttribute' parameters='node,attr,value'>
 				<method_info nloc='7' complexity='2' token_count='55' nesting_level='0' start_line='124' end_line='131'></method_info>
 			<added_lines>124,125,126,127,128,129,130,131</added_lines>
 			<deleted_lines></deleted_lines>
 		</method>
 		<method name='ExecuteJob.prototype.getTypeDictFor' parameters='name,metanodes'>
 				<method_info nloc='9' complexity='3' token_count='66' nesting_level='0' start_line='694' end_line='703'></method_info>
 			<added_lines>698</added_lines>
 			<deleted_lines>701</deleted_lines>
 		</method>
 		<method name='ExecuteJob.prototype.save' parameters='msg'>
 				<method_info nloc='7' complexity='1' token_count='48' nesting_level='0' start_line='200' end_line='217'></method_info>
 			<added_lines>201,203</added_lines>
 			<deleted_lines>213,215</deleted_lines>
 		</method>
 		<method name='ExecuteJob.prototype.onBlobRetrievalFail' parameters='node,input,err'>
 				<method_info nloc='14' complexity='1' token_count='68' nesting_level='0' start_line='417' end_line='433'></method_info>
 			<added_lines>431</added_lines>
 			<deleted_lines></deleted_lines>
 		</method>
 		<method name='ExecuteJob' parameters=''>
 				<method_info nloc='11' complexity='1' token_count='64' nesting_level='0' start_line='45' end_line='58'></method_info>
 			<added_lines>56</added_lines>
 			<deleted_lines></deleted_lines>
 		</method>
 		<method name=']' parameters='job,id'>
 				<method_info nloc='18' complexity='3' token_count='127' nesting_level='0' start_line='1178' end_line='1200'></method_info>
 			<added_lines>1195</added_lines>
 			<deleted_lines></deleted_lines>
 		</method>
 		<method name='ExecuteJob.prototype.applyChanges' parameters=''>
 				<method_info nloc='23' complexity='3' token_count='177' nesting_level='0' start_line='168' end_line='197'></method_info>
 			<added_lines>168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197</added_lines>
 			<deleted_lines>171</deleted_lines>
 		</method>
 		<method name='(anonymous)' parameters=''>
 				<method_info nloc='6' complexity='2' token_count='46' nesting_level='0' start_line='191' end_line='196'></method_info>
 			<added_lines>191,192,193,194,195,196</added_lines>
 			<deleted_lines></deleted_lines>
 		</method>
 		<modified_lines>
 			<added_lines>123,132,151,167,198</added_lines>
 			<deleted_lines>600,605,606,617,804,921,1129,1131</deleted_lines>
 		</modified_lines>
 	</modification>
 	<modification change_type='MODIFY' old_name='src\plugins\ExecutePipeline\ExecutePipeline.js' new_name='src\plugins\ExecutePipeline\ExecutePipeline.js'>
 		<file_info nloc='358' complexity='94' token_count='2850'></file_info>
 		<method name='ExecutePipeline.prototype.onPipelineComplete' parameters='err'>
 				<method_info nloc='26' complexity='10' token_count='157' nesting_level='0' start_line='322' end_line='379'></method_info>
 			<added_lines>323,357,358</added_lines>
 			<deleted_lines>355,356</deleted_lines>
 		</method>
 		<method name='ExecutePipeline.prototype.onOperationComplete' parameters='opNode'>
 				<method_info nloc='16' complexity='1' token_count='117' nesting_level='0' start_line='434' end_line='489'></method_info>
 			<added_lines>435,445,464,468</added_lines>
 			<deleted_lines>443,462,466</deleted_lines>
 		</method>
 		<method name='ExecutePipeline.prototype.save' parameters='msg'>
 				<method_info nloc='8' complexity='1' token_count='46' nesting_level='0' start_line='147' end_line='169'></method_info>
 			<added_lines>152</added_lines>
 			<deleted_lines></deleted_lines>
 		</method>
 		<method name='ExecutePipeline.prototype.clearResults' parameters=''>
 				<method_info nloc='15' complexity='1' token_count='135' nesting_level='0' start_line='193' end_line='217'></method_info>
 			<added_lines>207,211,214</added_lines>
 			<deleted_lines>205,209,212</deleted_lines>
 		</method>
 		<method name='ExecutePipeline.prototype.main' parameters='callback'>
 				<method_info nloc='26' complexity='3' token_count='182' nesting_level='0' start_line='99' end_line='144'></method_info>
 			<added_lines>107,133</added_lines>
 			<deleted_lines>106,132</deleted_lines>
 		</method>
 		<method name='(anonymous)' parameters=''>
 				<method_info nloc='4' complexity='1' token_count='17' nesting_level='0' start_line='106' end_line='109'></method_info>
 			<added_lines>107</added_lines>
 			<deleted_lines>106</deleted_lines>
 		</method>
 		<method name='ExecutePipeline.prototype.onOperationCanceled' parameters='op'>
 				<method_info nloc='7' complexity='1' token_count='48' nesting_level='0' start_line='314' end_line='320'></method_info>
 			<added_lines>316,318</added_lines>
 			<deleted_lines>314,316</deleted_lines>
 		</method>
 		<method name='ExecutePipeline' parameters=''>
 				<method_info nloc='7' complexity='1' token_count='38' nesting_level='0' start_line='33' end_line='41'></method_info>
 			<added_lines>39</added_lines>
 			<deleted_lines></deleted_lines>
 		</method>
 		<method name='(anonymous)' parameters='CreateExecution,ExecuteJob,JobLogsClient,STORAGE_CONSTANTS,CONSTANTS,Q,pluginMetadata,_'>
 				<method_info nloc='40' complexity='1' token_count='265' nesting_level='0' start_line='13' end_line='502'></method_info>
 			<added_lines>39,107,133,152,207,211,214,306,309,316,318,323,357,358,435,445,464,468</added_lines>
 			<deleted_lines>106,132,205,209,212,304,307,314,316,321,355,356,433,443,462,466</deleted_lines>
 		</method>
 		<method name='ExecutePipeline.prototype.onOperationFail' parameters='node,err'>
 				<method_info nloc='9' complexity='1' token_count='75' nesting_level='0' start_line='303' end_line='312'></method_info>
 			<added_lines>306,309</added_lines>
 			<deleted_lines>304,307</deleted_lines>
 		</method>
 		<modified_lines>
 			<added_lines></added_lines>
 			<deleted_lines></deleted_lines>
 		</modified_lines>
 	</modification>
 </commit>
</bug_data>
