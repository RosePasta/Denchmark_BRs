<bug_data>
<bug id='321' author='alrevuelta' open_date='2020-06-22T10:50:26Z' closed_time='2020-07-23T22:18:09Z'>
 	<summary>Super resolution bug in output data</summary>
 	<description>
 &lt;denchmark-h:h1&gt;Bug Report&lt;/denchmark-h&gt;
 
 &lt;denchmark-h:h3&gt;Which model does this pertain to?&lt;/denchmark-h&gt;
 
 This bug report belongs to the &lt;denchmark-link:https://github.com/onnx/models/tree/master/vision/super_resolution/sub_pixel_cnn_2016&gt;super_resolution&lt;/denchmark-link&gt;
  model.
 &lt;denchmark-h:h3&gt;Describe the bug&lt;/denchmark-h&gt;
 
 When reading the output_0.pb and trying to parse the raw_data I'm getting an error, because it contains 451584 elements (672x672 image) but its dimensions are 224x224.
 &lt;denchmark-h:h3&gt;Reproduction instructions&lt;/denchmark-h&gt;
 
 System Information
 OS Platform and Distribution (e.g. Linux Ubuntu 16.04): macOS 19.13.6
 ONNX version (e.g. 1.6): 1.7.0
 Backend/Runtime version (e.g. ONNX Runtime 1.1, PyTorch 1.2):  NA
 The error can be reproduced with:
 import onnx
 tensor = onnx.load_tensor("test/super_resolution/test_data_set_0/output_0.pb")
 np_array = numpy_helper.to_array(tensor)
 Error: ValueError: cannot reshape array of size 451584 into shape (224,224)
 This error of course makes sense because.
 print(tensor.dims) # [224, 224] but should be [672, 672]
 print(len(tensor.raw_data)) #1806336 divided by 4 (bytes per float), thats 451584 (672x672)
 So according to this I would say that output_0.pb outputs are wrong. I guess these files are autogenerated, so maybe there are other problems somewhere else?
 Edit: Actually the output should be 1x1x672x672 to be consistent with the model.
 &lt;denchmark-h:h3&gt;Notes&lt;/denchmark-h&gt;
 
 NA
 	</description>
 	<comments>
 		<comment id='1' author='alrevuelta' date='2020-07-20T10:18:31Z'>
 		Anyone?
 		</comment>
 		<comment id='2' author='alrevuelta' date='2020-07-23T21:31:53Z'>
 		&lt;denchmark-link:https://github.com/alrevuelta&gt;@alrevuelta&lt;/denchmark-link&gt;
  Thanks for letting us know with a detailed bug report and replication steps! I can confirm that I'm seeing the same error you're seeing with output_0.pb and will generate new sample data accordingly.
 		</comment>
 	</comments>
 </bug>
<commit id='df56b49bf9600cb93769fa3b13d7409a9537ebec' author='Vinitra Swamy' date='2020-07-23 15:18:08-07:00'>
 	<dmm_unit complexity='None' interfacing='None' size='None'></dmm_unit>
 	<modification change_type='MODIFY' old_name='vision\super_resolution\sub_pixel_cnn_2016\model\super-resolution-10.tar.gz' new_name='vision\super_resolution\sub_pixel_cnn_2016\model\super-resolution-10.tar.gz'>
 		<file_info nloc='None' complexity='None' token_count='None'></file_info>
 		<modified_lines>
 			<added_lines>2,3</added_lines>
 			<deleted_lines>2,3</deleted_lines>
 		</modified_lines>
 	</modification>
 </commit>
</bug_data>
