<bug_data>
<bug id='2479' author='lianghongzhuo' open_date='2020-10-15T10:31:56Z' closed_time='2020-12-08T15:54:35Z'>
 	<summary>memory leak while loading stl file</summary>
 	<description>
 Describe the bug
 when I load stl file generated from openscad I got MemoryError: std::bad_alloc
 and try to run the same code on a server with 128 g memory, I found the memory is keeping increase and eventually fails to load stl file. Convert the stl file using meshlab can solve the problem.
 To Reproduce
 Steps to reproduce the behavior:
 &lt;denchmark-code&gt;import open3d as o3d
 o3d.io.read_triangle_mesh("mesh.stl")
 &lt;/denchmark-code&gt;
 
 Environment (please complete the following information):
 
 Operating system:  Ubuntu 18.04
 Python version:  Python 3.7
 Open3D version: 0.10
 Is this remote workstation?:  no
 How did you install Open3D?:  conda
 
 Additional context
 stl file I used:
 &lt;denchmark-link:https://github.com/intel-isl/Open3D/files/5384151/mesh.zip&gt;mesh.zip&lt;/denchmark-link&gt;
 
 	</description>
 	<comments>
 		<comment id='1' author='lianghongzhuo' date='2020-10-15T10:45:20Z'>
 		update: I tested another stl file with binary format, it works. However I still cannot import ascii format stl
 		</comment>
 		<comment id='2' author='lianghongzhuo' date='2020-10-18T10:22:29Z'>
 		Yes, the current STL reader assumes binary format. Added a fix in &lt;denchmark-link:https://github.com/intel-isl/Open3D/pull/2506&gt;#2506&lt;/denchmark-link&gt;
 
 		</comment>
 		<comment id='3' author='lianghongzhuo' date='2020-10-18T11:02:11Z'>
 		Thanks!
 		</comment>
 	</comments>
 </bug>
<commit id='1665a6fa4ea7045ad46501de2a35cee3758b7545' author='Yixing Lao' date='2020-12-08 16:54:34+01:00'>
 	<dmm_unit complexity='1.0' interfacing='1.0' size='1.0'></dmm_unit>
 	<modification change_type='MODIFY' old_name='3rdparty\pybind11' new_name='3rdparty\pybind11'>
 		<file_info nloc='None' complexity='None' token_count='None'></file_info>
 		<modified_lines>
 			<added_lines>1</added_lines>
 			<deleted_lines>1</deleted_lines>
 		</modified_lines>
 	</modification>
 	<modification change_type='MODIFY' old_name='3rdparty\tinyobjloader\tinyobjloader' new_name='3rdparty\tinyobjloader\tinyobjloader'>
 		<file_info nloc='None' complexity='None' token_count='None'></file_info>
 		<modified_lines>
 			<added_lines>1</added_lines>
 			<deleted_lines>1</deleted_lines>
 		</modified_lines>
 	</modification>
 	<modification change_type='MODIFY' old_name='cpp\open3d\io\TriangleMeshIO.cpp' new_name='cpp\open3d\io\TriangleMeshIO.cpp'>
 		<file_info nloc='186' complexity='30' token_count='1297'></file_info>
 		<method name='open3d::io::ReadTriangleMesh' parameters='filename,mesh,print_progress'>
 				<method_info nloc='30' complexity='5' token_count='159' nesting_level='2' start_line='83' end_line='112'></method_info>
 			<added_lines>85,103,104</added_lines>
 			<deleted_lines>102</deleted_lines>
 		</method>
 		<method name='open3d::io::ReadTriangleMesh' parameters='filename,mesh,enable_post_processing,print_progress'>
 				<method_info nloc='32' complexity='5' token_count='164' nesting_level='2' start_line='83' end_line='114'></method_info>
 			<added_lines>85,103,104</added_lines>
 			<deleted_lines>102</deleted_lines>
 		</method>
 		<modified_lines>
 			<added_lines>42,45</added_lines>
 			<deleted_lines>42,45</deleted_lines>
 		</modified_lines>
 	</modification>
 	<modification change_type='MODIFY' old_name='cpp\open3d\io\TriangleMeshIO.h' new_name='cpp\open3d\io\TriangleMeshIO.h'>
 		<file_info nloc='80' complexity='0' token_count='419'></file_info>
 		<modified_lines>
 			<added_lines>46,65,68,104,107,110</added_lines>
 			<deleted_lines>77,78,79,80</deleted_lines>
 		</modified_lines>
 	</modification>
 	<modification change_type='MODIFY' old_name='cpp\open3d\io\file_format\FileASSIMP.cpp' new_name='cpp\open3d\io\file_format\FileASSIMP.cpp'>
 		<file_info nloc='281' complexity='42' token_count='2281'></file_info>
 		<method name='open3d::io::ReadTriangleMeshUsingASSIMP' parameters='filename,mesh,enable_post_processing,print_progress'>
 				<method_info nloc='100' complexity='15' token_count='874' nesting_level='2' start_line='139' end_line='272'></method_info>
 			<added_lines>141,144,145,146,147,148,149,150,151</added_lines>
 			<deleted_lines>143</deleted_lines>
 		</method>
 		<method name='open3d::io::ReadTriangleMeshUsingASSIMP' parameters='filename,mesh,print_progress'>
 				<method_info nloc='95' complexity='14' token_count='855' nesting_level='2' start_line='139' end_line='264'></method_info>
 			<added_lines>141,144,145,146,147,148,149,150,151</added_lines>
 			<deleted_lines>143</deleted_lines>
 		</method>
 		<modified_lines>
 			<added_lines></added_lines>
 			<deleted_lines></deleted_lines>
 		</modified_lines>
 	</modification>
 	<modification change_type='MODIFY' old_name='cpp\open3d\io\file_format\FileOFF.cpp' new_name='cpp\open3d\io\file_format\FileOFF.cpp'>
 		<file_info nloc='190' complexity='42' token_count='1267'></file_info>
 		<method name='open3d::io::ReadTriangleMeshFromOFF' parameters='filename,mesh,enable_post_processing,print_progress'>
 				<method_info nloc='114' complexity='26' token_count='720' nesting_level='2' start_line='41' end_line='165'></method_info>
 			<added_lines>43</added_lines>
 			<deleted_lines></deleted_lines>
 		</method>
 		<modified_lines>
 			<added_lines></added_lines>
 			<deleted_lines></deleted_lines>
 		</modified_lines>
 	</modification>
 	<modification change_type='MODIFY' old_name='cpp\open3d\io\file_format\FilePLY.cpp' new_name='cpp\open3d\io\file_format\FilePLY.cpp'>
 		<file_info nloc='855' complexity='136' token_count='5858'></file_info>
 		<method name='open3d::io::ReadTriangleMeshFromPLY' parameters='filename,mesh,enable_post_processing,print_progress'>
 				<method_info nloc='61' complexity='6' token_count='453' nesting_level='2' start_line='539' end_line='610'></method_info>
 			<added_lines>541</added_lines>
 			<deleted_lines></deleted_lines>
 		</method>
 		<modified_lines>
 			<added_lines></added_lines>
 			<deleted_lines></deleted_lines>
 		</modified_lines>
 	</modification>
 	<modification change_type='MODIFY' old_name='cpp\open3d\io\file_format\FileSTL.cpp' new_name='cpp\open3d\io\file_format\FileSTL.cpp'>
 		<file_info nloc='64' complexity='10' token_count='393'></file_info>
 		<method name='open3d::io::WriteTriangleMeshToSTL' parameters='filename,mesh,write_ascii,compressed,write_vertex_normals,write_vertex_colors,write_triangle_uvs,print_progress'>
 				<method_info nloc='51' complexity='9' token_count='352' nesting_level='2' start_line='42' end_line='97'></method_info>
 			<added_lines>55,56,57</added_lines>
 			<deleted_lines>42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97</deleted_lines>
 		</method>
 		<method name='open3d::io::ReadTriangleMeshFromSTL' parameters='filename,mesh,print_progress'>
 				<method_info nloc='58' complexity='7' token_count='421' nesting_level='2' start_line='42' end_line='107'></method_info>
 			<added_lines>55,56,57</added_lines>
 			<deleted_lines>42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107</deleted_lines>
 		</method>
 		<modified_lines>
 			<added_lines></added_lines>
 			<deleted_lines>108</deleted_lines>
 		</modified_lines>
 	</modification>
 	<modification change_type='MODIFY' old_name='cpp\pybind\io\class_io.cpp' new_name='cpp\pybind\io\class_io.cpp'>
 		<file_info nloc='384' complexity='4' token_count='2016'></file_info>
 		<method name='open3d::io::pybind_class_io' parameters='m_io'>
 				<method_info nloc='318' complexity='4' token_count='1812' nesting_level='2' start_line='101' end_line='452'></method_info>
 			<added_lines>212,213,216,217,221</added_lines>
 			<deleted_lines>212,215,219</deleted_lines>
 		</method>
 		<modified_lines>
 			<added_lines></added_lines>
 			<deleted_lines></deleted_lines>
 		</modified_lines>
 	</modification>
 </commit>
</bug_data>
