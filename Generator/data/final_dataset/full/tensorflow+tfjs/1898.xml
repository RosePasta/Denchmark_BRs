<bug_data>
<bug id='1898' author='aohan237' open_date='2019-08-23T06:32:51Z' closed_time='2019-11-11T19:46:08Z'>
 	<summary>tfjs-executeAsync exception with tensorflow object detect api-mask-rcnn</summary>
 	<description>
 i convert a tensorflow object detect api --mask rcnn model to tfjs.
 when i load the model, and run model.
 await model.executeAsync([tf.zeros([1, 800, 800, 3])]);
 there is an exception:
 
 (node:6828) UnhandledPromiseRejectionWarning: Error: The implicit shape can't be a fractional number. Got 900 / 1200
 
 location :
 @tensorflow/tfjs/node_modules/@tensorflow/tfjs-core/dist/util.js:301:15
 what's the problem and how to fix it
 	</description>
 	<comments>
 		<comment id='1' author='aohan237' date='2019-08-23T08:00:22Z'>
 		i found that the problem maybe the tfjs-converter --quantization_bytes .
 when choose 1 the model will be raise these exception
 when choose 2 will be good.
 		</comment>
 		<comment id='2' author='aohan237' date='2019-08-23T16:01:35Z'>
 		&lt;denchmark-link:https://github.com/aohan237&gt;@aohan237&lt;/denchmark-link&gt;
  can you share the saved model files or link to the model in order for us to reproduce? thanks!
 		</comment>
 		<comment id='3' author='aohan237' date='2019-08-26T02:21:28Z'>
 		&lt;denchmark-link:https://github.com/pyu10055&gt;@pyu10055&lt;/denchmark-link&gt;
 
 &lt;denchmark-link:https://github.com/tensorflow/models/blob/master/research/object_detection/g3doc/instance_segmentation.md&gt;https://github.com/tensorflow/models/blob/master/research/object_detection/g3doc/instance_segmentation.md&lt;/denchmark-link&gt;
 
 &lt;denchmark-link:https://github.com/tensorflow/models/blob/master/research/object_detection/samples/configs/mask_rcnn_resnet50_atrous_coco.config&gt;https://github.com/tensorflow/models/blob/master/research/object_detection/samples/configs/mask_rcnn_resnet50_atrous_coco.config&lt;/denchmark-link&gt;
 
 		</comment>
 		<comment id='4' author='aohan237' date='2019-11-02T05:13:10Z'>
 		&lt;denchmark-link:https://github.com/aohan237&gt;@aohan237&lt;/denchmark-link&gt;
  sorry for the delay, it would be great if you can provide the saved model for me to reproduce the problem. Thanks
 		</comment>
 		<comment id='5' author='aohan237' date='2019-11-07T02:45:15Z'>
 		sorry, the model i cant find it.  but the model  generated by following the links i give to you to produce.
 		</comment>
 	</comments>
 </bug>
<commit id='7fe593efd6f39925ac1ba6d30b2b12ba5cafd6f6' author='Ping Yu' date='2019-11-11 11:46:06-08:00'>
 	<dmm_unit complexity='0.0' interfacing='0.0' size='1.0'></dmm_unit>
 	<modification change_type='MODIFY' old_name='tfjs-converter\python\tensorflowjs\write_weights.py' new_name='tfjs-converter\python\tensorflowjs\write_weights.py'>
 		<file_info nloc='176' complexity='42' token_count='1191'></file_info>
 		<method name='_quantize_entry' parameters='entry,quantization_dtype'>
 				<method_info nloc='11' complexity='2' token_count='74' nesting_level='0' start_line='142' end_line='181'></method_info>
 			<added_lines>172,173</added_lines>
 			<deleted_lines>172,173</deleted_lines>
 		</method>
 		<modified_lines>
 			<added_lines></added_lines>
 			<deleted_lines></deleted_lines>
 		</modified_lines>
 	</modification>
 	<modification change_type='MODIFY' old_name='tfjs-converter\python\tensorflowjs\write_weights_test.py' new_name='tfjs-converter\python\tensorflowjs\write_weights_test.py'>
 		<file_info nloc='615' complexity='24' token_count='4362'></file_info>
 		<method name='test_quantize_group' parameters='self'>
 				<method_info nloc='63' complexity='1' token_count='464' nesting_level='1' start_line='682' end_line='750'></method_info>
 			<added_lines>719,737,741,742,744,747,749</added_lines>
 			<deleted_lines>718,719,720,721,742,743,745,748,750</deleted_lines>
 		</method>
 		<method name='test_1_group_2_packed_sharded_multi_dtype' parameters='self'>
 				<method_info nloc='53' complexity='1' token_count='397' nesting_level='1' start_line='445' end_line='506'></method_info>
 			<added_lines>497</added_lines>
 			<deleted_lines></deleted_lines>
 		</method>
 		<modified_lines>
 			<added_lines></added_lines>
 			<deleted_lines></deleted_lines>
 		</modified_lines>
 	</modification>
 </commit>
</bug_data>
