<bug_data>
<bug id='1484' author='randyzwitch' open_date='2020-05-21T16:17:34Z' closed_time='2020-08-24T20:14:18Z'>
 	<summary>st.map() fails with zoom error for small number of points</summary>
 	<description>
 &lt;denchmark-h:h1&gt;Summary&lt;/denchmark-h&gt;
 
 In this &lt;denchmark-link:https://discuss.streamlit.io/t/plot-map-with-address-from-user-input/2950&gt;forum post&lt;/denchmark-link&gt;
 , the user highlights that  does not plot a single point for the map. To troubleshoot, I opened up the Chrome console, saw a "Zoom must be set error" message in regards to the map.
 &lt;denchmark-h:h1&gt;Solution&lt;/denchmark-h&gt;
 
 Adding a non  zoom value in the  call &lt;denchmark-link:https://discuss.streamlit.io/t/plot-map-with-address-from-user-input/2950/3?u=randyzwitch&gt;resolves the issue&lt;/denchmark-link&gt;
 . Need a heuristic for a "small" number of points where  automatically adds an integer value for the  parameter. At larger volumes of data,  seems to be ok, and deck.gl infers the proper zoom level based on the bounding box of data points.
 	</description>
 	<comments>
 	</comments>
 </bug>
<commit id='31f23e35e454e72fdf1a5781fd0405006490b430' author='Henrikh Kantuni' date='2020-08-24 16:14:17-04:00'>
 	<dmm_unit complexity='1.0' interfacing='1.0' size='1.0'></dmm_unit>
 	<modification change_type='MODIFY' old_name='lib\streamlit\elements\map.py' new_name='lib\streamlit\elements\map.py'>
 		<file_info nloc='106' complexity='17' token_count='604'></file_info>
 		<method name='_get_zoom_level' parameters='distance'>
 				<method_info nloc='6' complexity='4' token_count='47' nesting_level='0' start_line='108' end_line='131'></method_info>
 			<added_lines>121,125,126,127,128</added_lines>
 			<deleted_lines>119</deleted_lines>
 		</method>
 		<modified_lines>
 			<added_lines>82,104</added_lines>
 			<deleted_lines></deleted_lines>
 		</modified_lines>
 	</modification>
 	<modification change_type='MODIFY' old_name='lib\tests\streamlit\map_test.py' new_name='lib\tests\streamlit\map_test.py'>
 		<file_info nloc='50' complexity='7' token_count='567'></file_info>
 		<method name='test_default_zoom_level' parameters='self'>
 				<method_info nloc='5' complexity='1' token_count='68' nesting_level='1' start_line='61' end_line='67'></method_info>
 			<added_lines>61,62,63,64,65,66,67</added_lines>
 			<deleted_lines></deleted_lines>
 		</method>
 		<modified_lines>
 			<added_lines>21,68</added_lines>
 			<deleted_lines>21</deleted_lines>
 		</modified_lines>
 	</modification>
 </commit>
</bug_data>
