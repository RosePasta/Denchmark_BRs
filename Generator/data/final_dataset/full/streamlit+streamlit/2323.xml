<bug_data>
<bug id='2323' author='kmcgrady' open_date='2020-11-06T20:36:28Z' closed_time='2020-12-03T15:52:49Z'>
 	<summary>Using git below version 2.7 requires remote (e.g. GitHub) credentials on every run (for private repos)</summary>
 	<description>
 &lt;denchmark-h:h1&gt;Summary&lt;/denchmark-h&gt;
 
 When Streamlit uses Git to detect branch/remote information. It uses GitPython package to
 &lt;denchmark-h:h1&gt;Steps to reproduce&lt;/denchmark-h&gt;
 
 What are the steps we should take to reproduce the bug:
 
 Install an old version of git (&lt; 2.7)
 Create/run a streamlit script on a private repo
 
 &lt;denchmark-h:h2&gt;Expected behavior:&lt;/denchmark-h&gt;
 
 No credentials should be asked for.
 &lt;denchmark-h:h2&gt;Actual behavior:&lt;/denchmark-h&gt;
 
 You should see credentials being asked for (and asked on every rerun).
 &lt;denchmark-h:h2&gt;Is this a regression?&lt;/denchmark-h&gt;
 
 yes - because we never required gitpython in the past.
 &lt;denchmark-h:h1&gt;Debug info&lt;/denchmark-h&gt;
 
 
 Streamlit version: 0.68+
 
 &lt;denchmark-h:h1&gt;Additional information&lt;/denchmark-h&gt;
 
 See &lt;denchmark-link:https://discuss.streamlit.io/t/running-locally-streamlit-prompts-to-login-to-my-git-repo-how-can-i-disable/6751/19&gt;https://discuss.streamlit.io/t/running-locally-streamlit-prompts-to-login-to-my-git-repo-how-can-i-disable/6751/19&lt;/denchmark-link&gt;
 
 Issue is brought up to &lt;denchmark-link:https://github.com/gitpython-developers/GitPython/blob/master/git/remote.py#L528&gt;https://github.com/gitpython-developers/GitPython/blob/master/git/remote.py#L528&lt;/denchmark-link&gt;
 
 Can also just log that git is pretty old.
 	</description>
 	<comments>
 		<comment id='1' author='kmcgrady' date='2020-11-06T21:29:39Z'>
 		Austin Chen commented: * Don't require a password
 
 Tell the user to upgrade git
 ** Only for local repo
 Specify a minimum git version in our docs
 Abhi to sync with Austin on messaging
 
 		</comment>
 		<comment id='2' author='kmcgrady' date='2020-11-16T13:17:00Z'>
 		Please add an option to disable git requests altogether. I am forcing page reload when new data arrives (session.request_rerun), about once a second, and see
 &lt;denchmark-code&gt;2020-11-16 14:15:14 frap git.cmd[279370] DEBUG Popen(['git', 'rev-parse', '--show-toplevel'], cwd=/some/path, universal_newlines=False, shell=None, istream=None)
 2020-11-16 14:15:14 frap git.cmd[279370] DEBUG Popen(['git', 'remote', 'get-url', '--all', 'origin'], cwd=/some/path, universal_newlines=False, shell=None, istream=None)
 &lt;/denchmark-code&gt;
 
 at every reload. This means spawning two processes every second.
 		</comment>
 	</comments>
 </bug>
<commit id='b1c99ba1008d472b26d306c579883d9a2b5b725c' author='Tim Conkling' date='2020-12-03 07:52:48-08:00'>
 	<dmm_unit complexity='0.4318181818181818' interfacing='1.0' size='0.8181818181818182'></dmm_unit>
 	<modification change_type='MODIFY' old_name='lib\streamlit\bootstrap.py' new_name='lib\streamlit\bootstrap.py'>
 		<file_info nloc='152' complexity='39' token_count='895'></file_info>
 		<method name='_maybe_print_old_git_warning' parameters='str'>
 				<method_info nloc='25' complexity='6' token_count='132' nesting_level='0' start_line='230' end_line='254'></method_info>
 			<added_lines>230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254</added_lines>
 			<deleted_lines></deleted_lines>
 		</method>
 		<method name='_on_server_start' parameters='server'>
 				<method_info nloc='6' complexity='1' token_count='38' nesting_level='0' start_line='135' end_line='165'></method_info>
 			<added_lines>136</added_lines>
 			<deleted_lines></deleted_lines>
 		</method>
 		<modified_lines>
 			<added_lines>21,255,256</added_lines>
 			<deleted_lines></deleted_lines>
 		</modified_lines>
 	</modification>
 	<modification change_type='MODIFY' old_name='lib\streamlit\git_util.py' new_name='lib\streamlit\git_util.py'>
 		<file_info nloc='73' complexity='24' token_count='406'></file_info>
 		<method name='tracking_branch' parameters='self'>
 				<method_info nloc='4' complexity='2' token_count='25' nesting_level='1' start_line='46' end_line='49'></method_info>
 			<added_lines>47,48</added_lines>
 			<deleted_lines>46</deleted_lines>
 		</method>
 		<method name='is_github_repo' parameters='self'>
 				<method_info nloc='14' complexity='6' token_count='72' nesting_level='1' start_line='64' end_line='81'></method_info>
 			<added_lines>70</added_lines>
 			<deleted_lines></deleted_lines>
 		</method>
 		<method name='get_tracking_branch_remote' parameters='self'>
 				<method_info nloc='9' complexity='3' token_count='59' nesting_level='1' start_line='51' end_line='62'></method_info>
 			<added_lines>52,53,54</added_lines>
 			<deleted_lines></deleted_lines>
 		</method>
 		<method name='__init__' parameters='self,path'>
 				<method_info nloc='10' complexity='3' token_count='79' nesting_level='1' start_line='18' end_line='35'></method_info>
 			<added_lines>19,20,21,22,25,26,27,28,29</added_lines>
 			<deleted_lines>23,24</deleted_lines>
 		</method>
 		<method name='is_valid' parameters='self'>
 				<method_info nloc='7' complexity='3' token_count='30' nesting_level='1' start_line='37' end_line='43'></method_info>
 			<added_lines>37,38,39,40,41,42,43</added_lines>
 			<deleted_lines></deleted_lines>
 		</method>
 		<modified_lines>
 			<added_lines>3,4,5,11,12,13,14,15</added_lines>
 			<deleted_lines>1,14,15</deleted_lines>
 		</modified_lines>
 	</modification>
 	<modification change_type='MODIFY' old_name='lib\streamlit\server\server.py' new_name='lib\streamlit\server\server.py'>
 		<file_info nloc='426' complexity='81' token_count='2416'></file_info>
 		<method name='script_path' parameters='self'>
 				<method_info nloc='2' complexity='1' token_count='11' nesting_level='1' start_line='242' end_line='243'></method_info>
 			<added_lines>242,243</added_lines>
 			<deleted_lines></deleted_lines>
 		</method>
 		<method name='__init__' parameters='self,ioloop,script_path,command_line'>
 				<method_info nloc='17' complexity='2' token_count='112' nesting_level='1' start_line='214' end_line='245'></method_info>
 			<added_lines>214,215,216,217,230,241,242,243,244</added_lines>
 			<deleted_lines>214,215,216,217,218,219,220,221,222,223,236</deleted_lines>
 		</method>
 		<method name='__init__' parameters='self,IOLoop,str,str'>
 				<method_info nloc='2' complexity='1' token_count='19' nesting_level='1' start_line='214' end_line='215'></method_info>
 			<added_lines>214,215</added_lines>
 			<deleted_lines>214,215</deleted_lines>
 		</method>
 		<modified_lines>
 			<added_lines></added_lines>
 			<deleted_lines></deleted_lines>
 		</modified_lines>
 	</modification>
 	<modification change_type='MODIFY' old_name='lib\tests\streamlit\bootstrap_test.py' new_name='lib\tests\streamlit\bootstrap_test.py'>
 		<file_info nloc='212' complexity='15' token_count='1277'></file_info>
 		<method name='test_print_old_git_warning' parameters='self,mock_git_repo'>
 				<method_info nloc='8' complexity='1' token_count='52' nesting_level='1' start_line='277' end_line='285'></method_info>
 			<added_lines>277,278,279,280,281,282,283,284,285</added_lines>
 			<deleted_lines></deleted_lines>
 		</method>
 		<modified_lines>
 			<added_lines>275,276</added_lines>
 			<deleted_lines></deleted_lines>
 		</modified_lines>
 	</modification>
 	<modification change_type='MODIFY' old_name='lib\tests\streamlit\git_util_test.py' new_name='lib\tests\streamlit\git_util_test.py'>
 		<file_info nloc='43' complexity='5' token_count='291'></file_info>
 		<method name='test_old_git_version' parameters='self'>
 				<method_info nloc='8' complexity='1' token_count='64' nesting_level='1' start_line='59' end_line='70'></method_info>
 			<added_lines>59,60,61,62,63,64,65,66,67,68,69,70</added_lines>
 			<deleted_lines>59,60</deleted_lines>
 		</method>
 		<method name='test_git_repo_valid' parameters='self'>
 				<method_info nloc='8' complexity='1' token_count='63' nesting_level='1' start_line='72' end_line='79'></method_info>
 			<added_lines>73,74,75,76,79</added_lines>
 			<deleted_lines></deleted_lines>
 		</method>
 		<modified_lines>
 			<added_lines>17,18,71</added_lines>
 			<deleted_lines>17</deleted_lines>
 		</modified_lines>
 	</modification>
 </commit>
</bug_data>
