<bug_data>
<bug id='927' author='imeckr' open_date='2019-04-27T00:28:35Z' closed_time='2019-05-13T18:21:56Z'>
 	<summary>Split operator is not working for String type input</summary>
 	<description>
 onnxruntime is not able to find the implementation for string type input
 &lt;denchmark-code&gt;RuntimeError                              Traceback (most recent call last)
 &lt;ipython-input-387-4777a6f2476d&gt; in &lt;module&gt;()
 ----&gt; 1 sess = rt.InferenceSession("custom_converter.onnx")
 
 ~/miniconda3/envs/ltr/lib/python3.6/site-packages/onnxruntime/capi/session.py in __init__(self, path_or_bytes, sess_options)
      27 
      28         if isinstance(path_or_bytes, str):
 ---&gt; 29             self._sess.load_model(path_or_bytes)
      30         elif isinstance(path_or_bytes, bytes):
      31             self._sess.read_bytes(path_or_bytes)
 
 RuntimeError: [ONNXRuntimeError] : 9 : NOT_IMPLEMENTED : Could not find an implementation for the node Split(2)
 &lt;/denchmark-code&gt;
 
 System information
 
 OS Platform and Distribution (e.g., Linux Ubuntu 16.04):
 ONNX Runtime installed from (source or binary): pip
 ONNX Runtime version: 0.3.0
 Python version: 3.6.7(packaged by conda-forge)
 
 	</description>
 	<comments>
 		<comment id='1' author='imeckr' date='2019-05-03T00:21:47Z'>
 		Can you attach custom_converter.onnx for further debugging?
 		</comment>
 		<comment id='2' author='imeckr' date='2019-05-03T12:45:03Z'>
 		Here is the link to the &lt;denchmark-link:https://drive.google.com/open?id=1MiSq0lLR78r4jalwkVO343ieFMABJ-30&gt;custom_converter.onnx&lt;/denchmark-link&gt;
 
 Its a simple operation
 &lt;denchmark-link:https://user-images.githubusercontent.com/7942293/57137872-7b68f780-6d87-11e9-848e-69f17343f93d.png&gt;&lt;/denchmark-link&gt;
 
 		</comment>
 	</comments>
 </bug>
<commit id='49a2928a5928934f9f8d068c250bb087b897a342' author='Hariharan Seshadri' date='2019-05-13 11:21:55-07:00'>
 	<dmm_unit complexity='1.0' interfacing='0.8970588235294118' size='0.5294117647058824'></dmm_unit>
 	<modification change_type='MODIFY' old_name='onnxruntime\core\providers\cpu\tensor\split.cc' new_name='onnxruntime\core\providers\cpu\tensor\split.cc'>
 		<file_info nloc='112' complexity='14' token_count='848'></file_info>
 		<method name='onnxruntime::Split::Compute' parameters='context'>
 				<method_info nloc='14' complexity='4' token_count='136' nesting_level='1' start_line='65' end_line='81'></method_info>
 			<added_lines>75,76,77,78</added_lines>
 			<deleted_lines>76,77,78,79,80,81</deleted_lines>
 		</method>
 		<method name='onnxruntime::SplitBase::PrepareForCompute' parameters='input_shape,num_outputs,axis,before_dims,after_dims_including_split_axis,after_dims_excluding_split,split_sizes'>
 				<method_info nloc='34' complexity='6' token_count='266' nesting_level='1' start_line='23' end_line='63'></method_info>
 			<added_lines>38,39</added_lines>
 			<deleted_lines>39,40</deleted_lines>
 		</method>
 		<method name='onnxruntime::Split::ComputeImpl' parameters='context,input'>
 				<method_info nloc='38' complexity='2' token_count='280' nesting_level='1' start_line='95' end_line='142'></method_info>
 			<added_lines>135</added_lines>
 			<deleted_lines>127</deleted_lines>
 		</method>
 		<method name='onnxruntime::copy_data' parameters='src,dst,count'>
 				<method_info nloc='3' complexity='1' token_count='30' nesting_level='1' start_line='84' end_line='86'></method_info>
 			<added_lines>84,85,86</added_lines>
 			<deleted_lines></deleted_lines>
 		</method>
 		<method name='onnxruntime::copy_data&lt;std::string&gt;' parameters='src,dst,count'>
 				<method_info nloc='4' complexity='1' token_count='47' nesting_level='1' start_line='89' end_line='92'></method_info>
 			<added_lines>89,90,91,92</added_lines>
 			<deleted_lines></deleted_lines>
 		</method>
 		<modified_lines>
 			<added_lines>20,83,87,88,93</added_lines>
 			<deleted_lines>19,21</deleted_lines>
 		</modified_lines>
 	</modification>
 	<modification change_type='MODIFY' old_name='onnxruntime\test\providers\cpu\tensor\split_op_test.cc' new_name='onnxruntime\test\providers\cpu\tensor\split_op_test.cc'>
 		<file_info nloc='308' complexity='23' token_count='3019'></file_info>
 		<method name='onnxruntime::test::TEST' parameters='SplitOperatorTest,Axis1EqualSplitFloat'>
 				<method_info nloc='14' complexity='1' token_count='146' nesting_level='2' start_line='158' end_line='176'></method_info>
 			<added_lines>158,164,165</added_lines>
 			<deleted_lines></deleted_lines>
 		</method>
 		<method name='onnxruntime::test::TEST' parameters='SplitOperatorTest,Axis0UnequalSplit'>
 				<method_info nloc='16' complexity='1' token_count='158' nesting_level='2' start_line='87' end_line='108'></method_info>
 			<added_lines>87,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108</added_lines>
 			<deleted_lines>87,93,94,95,96,107</deleted_lines>
 		</method>
 		<method name='onnxruntime::test::TEST' parameters='SplitOperatorTest,SplitAttributeSumTooSmall'>
 				<method_info nloc='13' complexity='1' token_count='154' nesting_level='2' start_line='404' end_line='421'></method_info>
 			<added_lines>410,411,412,413,420</added_lines>
 			<deleted_lines></deleted_lines>
 		</method>
 		<method name='onnxruntime::test::TEST' parameters='SplitOperatorTest,Axis0UnequalSplitString'>
 				<method_info nloc='16' complexity='1' token_count='128' nesting_level='2' start_line='135' end_line='156'></method_info>
 			<added_lines>135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155</added_lines>
 			<deleted_lines>136,137</deleted_lines>
 		</method>
 		<method name='onnxruntime::test::TEST' parameters='SplitOperatorTest,Axis0UnequalSplitFloat'>
 				<method_info nloc='16' complexity='1' token_count='158' nesting_level='2' start_line='112' end_line='133'></method_info>
 			<added_lines>112,118,119,120,121,132,133</added_lines>
 			<deleted_lines>116,117,130</deleted_lines>
 		</method>
 		<method name='onnxruntime::test::TEST' parameters='SplitOperatorTest,Axis1EqualSplitString'>
 				<method_info nloc='14' complexity='1' token_count='116' nesting_level='2' start_line='178' end_line='196'></method_info>
 			<added_lines>178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196</added_lines>
 			<deleted_lines></deleted_lines>
 		</method>
 		<method name='onnxruntime::test::RunTest' parameters='axis,split_sizes,input,outputs,is_tensorrt_supported,expect_failure,err_msg'>
 				<method_info nloc='22' complexity='5' token_count='218' nesting_level='2' start_line='19' end_line='44'></method_info>
 			<added_lines>19,20,21</added_lines>
 			<deleted_lines>43</deleted_lines>
 		</method>
 		<method name='onnxruntime::test::TEST' parameters='SplitOperatorTest,Axis1UnequalSplitString'>
 				<method_info nloc='15' complexity='1' token_count='128' nesting_level='2' start_line='220' end_line='240'></method_info>
 			<added_lines>220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240</added_lines>
 			<deleted_lines></deleted_lines>
 		</method>
 		<method name='onnxruntime::test::TEST' parameters='SplitOperatorTest,Axis1UnequalSplit'>
 				<method_info nloc='15' complexity='1' token_count='158' nesting_level='2' start_line='130' end_line='150'></method_info>
 			<added_lines>132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150</added_lines>
 			<deleted_lines>130,136,137</deleted_lines>
 		</method>
 		<method name='onnxruntime::test::TEST' parameters='SplitOperatorTest,Axis1UnequalSplitFloat'>
 				<method_info nloc='15' complexity='1' token_count='158' nesting_level='2' start_line='198' end_line='218'></method_info>
 			<added_lines>198,204,205</added_lines>
 			<deleted_lines></deleted_lines>
 		</method>
 		<method name='onnxruntime::test::TEST' parameters='SplitOperatorTest,Axis0EqualSplitFloat'>
 				<method_info nloc='16' complexity='1' token_count='146' nesting_level='2' start_line='46' end_line='66'></method_info>
 			<added_lines>46,52,53,54,55,65</added_lines>
 			<deleted_lines>49,50,51,52,62</deleted_lines>
 		</method>
 		<method name='onnxruntime::test::TEST' parameters='SplitOperatorTest,Axis0EqualSplit'>
 				<method_info nloc='16' complexity='1' token_count='146' nesting_level='2' start_line='43' end_line='63'></method_info>
 			<added_lines>46,52,53,54,55</added_lines>
 			<deleted_lines>43,49,50,51,52,62</deleted_lines>
 		</method>
 		<method name='onnxruntime::test::TEST' parameters='SplitOperatorTest,InvalidValueInSplitAttribute'>
 				<method_info nloc='13' complexity='1' token_count='164' nesting_level='2' start_line='423' end_line='439'></method_info>
 			<added_lines>429,430,431,432,438</added_lines>
 			<deleted_lines></deleted_lines>
 		</method>
 		<method name='onnxruntime::test::TEST' parameters='SplitOperatorTest,NegativeAxis'>
 				<method_info nloc='14' complexity='1' token_count='147' nesting_level='2' start_line='367' end_line='385'></method_info>
 			<added_lines>373,374</added_lines>
 			<deleted_lines></deleted_lines>
 		</method>
 		<method name='onnxruntime::test::TEST' parameters='SplitOperatorTest,Axis1EqualSplit'>
 				<method_info nloc='14' complexity='1' token_count='146' nesting_level='2' start_line='110' end_line='128'></method_info>
 			<added_lines>110,111,112,118,119,120,121</added_lines>
 			<deleted_lines>110,116,117</deleted_lines>
 		</method>
 		<method name='onnxruntime::test::TEST' parameters='SplitOperatorTest,Axis0EqualSplitString'>
 				<method_info nloc='16' complexity='1' token_count='116' nesting_level='2' start_line='90' end_line='110'></method_info>
 			<added_lines>90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110</added_lines>
 			<deleted_lines>93,94,95,96,107,110</deleted_lines>
 		</method>
 		<method name='onnxruntime::test::TEST' parameters='SplitOperatorTest,Axis0EqualSplitInt32'>
 				<method_info nloc='16' complexity='1' token_count='114' nesting_level='2' start_line='68' end_line='88'></method_info>
 			<added_lines>87</added_lines>
 			<deleted_lines>84,87</deleted_lines>
 		</method>
 		<method name='onnxruntime::test::TEST' parameters='SplitOperatorTest,InvalidAxis'>
 				<method_info nloc='11' complexity='1' token_count='105' nesting_level='2' start_line='387' end_line='401'></method_info>
 			<added_lines>393,394,395,396</added_lines>
 			<deleted_lines></deleted_lines>
 		</method>
 		<modified_lines>
 			<added_lines>10,11,15,18,197,241</added_lines>
 			<deleted_lines>10,16,17,18,283,284,303,304,305,306,320,321,322,323,330,339,340,341,342,348</deleted_lines>
 		</modified_lines>
 	</modification>
 </commit>
</bug_data>
