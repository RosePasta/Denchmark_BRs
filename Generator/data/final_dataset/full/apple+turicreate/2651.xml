<bug_data>
<bug id='2651' author='srikris' open_date='2019-11-16T17:49:42Z' closed_time='2019-12-04T04:47:12Z'>
 	<summary>Setting number of GPUs to 0 on a CUDA machine should disable use of GPUs</summary>
 	<description>
 For image classifier, the following command doesn't force compute on the CPUs
 &lt;denchmark-code&gt;tc.config.set_num_gpus(0)
 &lt;/denchmark-code&gt;
 
 	</description>
 	<comments>
 		<comment id='1' author='srikris' date='2019-11-20T00:18:35Z'>
 		Looks like TensorFlow only controls this via the environment variable : &lt;denchmark-link:https://github.com/tensorflow/tensorflow/issues/9201&gt;tensorflow/tensorflow#9201&lt;/denchmark-link&gt;
 
 		</comment>
 		<comment id='2' author='srikris' date='2019-11-20T00:31:24Z'>
 		So should we set that variable when the config sets the number of GPUs? or should we only enable this config parameter on the Mac?
 		</comment>
 	</comments>
 </bug>
<commit id='40f3c5f6717378025c378f8b902a882ec46e6078' author='Nick Jong' date='2019-12-03 20:47:11-08:00'>
 	<dmm_unit complexity='0.9642857142857143' interfacing='0.7857142857142857' size='0.8571428571428571'></dmm_unit>
 	<modification change_type='MODIFY' old_name='src\python\turicreate\toolkits\_image_feature_extractor.py' new_name='src\python\turicreate\toolkits\_image_feature_extractor.py'>
 		<file_info nloc='88' complexity='19' token_count='638'></file_info>
 		<method name='__del__' parameters='self'>
 				<method_info nloc='2' complexity='1' token_count='12' nesting_level='1' start_line='90' end_line='91'></method_info>
 			<added_lines>90,91</added_lines>
 			<deleted_lines></deleted_lines>
 		</method>
 		<method name='__init__' parameters='self,ptModel'>
 				<method_info nloc='11' complexity='1' token_count='79' nesting_level='1' start_line='66' end_line='88'></method_info>
 			<added_lines>78,79,80</added_lines>
 			<deleted_lines></deleted_lines>
 		</method>
 		<modified_lines>
 			<added_lines>92</added_lines>
 			<deleted_lines></deleted_lines>
 		</modified_lines>
 	</modification>
 	<modification change_type='MODIFY' old_name='src\python\turicreate\toolkits\_tf_utils.py' new_name='src\python\turicreate\toolkits\_tf_utils.py'>
 		<file_info nloc='86' complexity='23' token_count='782'></file_info>
 		<method name='stop' parameters='self'>
 				<method_info nloc='7' complexity='4' token_count='44' nesting_level='1' start_line='32' end_line='38'></method_info>
 			<added_lines>32,33,34,35,36,37,38</added_lines>
 			<deleted_lines></deleted_lines>
 		</method>
 		<method name='__enter__' parameters='self'>
 				<method_info nloc='2' complexity='1' token_count='10' nesting_level='1' start_line='40' end_line='41'></method_info>
 			<added_lines>40,41</added_lines>
 			<deleted_lines></deleted_lines>
 		</method>
 		<method name='start' parameters='self'>
 				<method_info nloc='10' complexity='3' token_count='61' nesting_level='1' start_line='18' end_line='30'></method_info>
 			<added_lines>18,19,20,21,22,23,24,25,26,27,28,29,30</added_lines>
 			<deleted_lines></deleted_lines>
 		</method>
 		<method name='__exit__' parameters='self,exception_type,exception_val,exception_traceback'>
 				<method_info nloc='2' complexity='1' token_count='16' nesting_level='1' start_line='43' end_line='44'></method_info>
 			<added_lines>43,44</added_lines>
 			<deleted_lines></deleted_lines>
 		</method>
 		<modified_lines>
 			<added_lines>12,13,14,15,16,17,31,39,42,45</added_lines>
 			<deleted_lines></deleted_lines>
 		</modified_lines>
 	</modification>
 	<modification change_type='MODIFY' old_name='src\python\turicreate\toolkits\activity_classifier\_tf_model_architecture.py' new_name='src\python\turicreate\toolkits\activity_classifier\_tf_model_architecture.py'>
 		<file_info nloc='175' complexity='28' token_count='2250'></file_info>
 		<method name='__del__' parameters='self'>
 				<method_info nloc='3' complexity='1' token_count='19' nesting_level='1' start_line='122' end_line='124'></method_info>
 			<added_lines>122,123,124</added_lines>
 			<deleted_lines></deleted_lines>
 		</method>
 		<method name='__init__' parameters='self,net_params,batch_size,num_features,num_classes,prediction_window,seq_len'>
 				<method_info nloc='60' complexity='2' token_count='914' nesting_level='1' start_line='27' end_line='120'></method_info>
 			<added_lines>29,30,31</added_lines>
 			<deleted_lines></deleted_lines>
 		</method>
 		<modified_lines>
 			<added_lines>125</added_lines>
 			<deleted_lines></deleted_lines>
 		</modified_lines>
 	</modification>
 	<modification change_type='MODIFY' old_name='src\python\turicreate\toolkits\drawing_classifier\_tf_drawing_classifier.py' new_name='src\python\turicreate\toolkits\drawing_classifier\_tf_drawing_classifier.py'>
 		<file_info nloc='168' complexity='17' token_count='1702'></file_info>
 		<method name='__del__' parameters='self'>
 				<method_info nloc='3' complexity='1' token_count='19' nesting_level='1' start_line='145' end_line='147'></method_info>
 			<added_lines>145,146,147</added_lines>
 			<deleted_lines></deleted_lines>
 		</method>
 		<method name='__init__' parameters='self,net_params,batch_size,num_classes'>
 				<method_info nloc='90' complexity='6' token_count='1055' nesting_level='1' start_line='20' end_line='143'></method_info>
 			<added_lines>26,27,28</added_lines>
 			<deleted_lines></deleted_lines>
 		</method>
 		<modified_lines>
 			<added_lines>148</added_lines>
 			<deleted_lines></deleted_lines>
 		</modified_lines>
 	</modification>
 	<modification change_type='MODIFY' old_name='src\python\turicreate\toolkits\object_detector\_tf_model_architecture.py' new_name='src\python\turicreate\toolkits\object_detector\_tf_model_architecture.py'>
 		<file_info nloc='228' complexity='34' token_count='2759'></file_info>
 		<method name='__del__' parameters='self'>
 				<method_info nloc='3' complexity='1' token_count='19' nesting_level='1' start_line='84' end_line='86'></method_info>
 			<added_lines>84,85,86</added_lines>
 			<deleted_lines></deleted_lines>
 		</method>
 		<method name='__init__' parameters='self,input_h,input_w,batch_size,output_size,out_h,out_w,init_weights,config,is_train'>
 				<method_info nloc='46' complexity='4' token_count='649' nesting_level='1' start_line='21' end_line='82'></method_info>
 			<added_lines>23,24,25</added_lines>
 			<deleted_lines></deleted_lines>
 		</method>
 		<modified_lines>
 			<added_lines>87</added_lines>
 			<deleted_lines></deleted_lines>
 		</modified_lines>
 	</modification>
 	<modification change_type='MODIFY' old_name='src\python\turicreate\toolkits\sound_classifier\_audio_feature_extractor.py' new_name='src\python\turicreate\toolkits\sound_classifier\_audio_feature_extractor.py'>
 		<file_info nloc='111' complexity='31' token_count='861'></file_info>
 		<method name='__del__' parameters='self'>
 				<method_info nloc='3' complexity='2' token_count='23' nesting_level='1' start_line='87' end_line='89'></method_info>
 			<added_lines>87,88,89</added_lines>
 			<deleted_lines></deleted_lines>
 		</method>
 		<method name='__init__' parameters='self'>
 				<method_info nloc='11' complexity='2' token_count='87' nesting_level='1' start_line='71' end_line='85'></method_info>
 			<added_lines>76,77,78,79</added_lines>
 			<deleted_lines></deleted_lines>
 		</method>
 		<modified_lines>
 			<added_lines>6,7,8,16,21,90</added_lines>
 			<deleted_lines></deleted_lines>
 		</modified_lines>
 	</modification>
 	<modification change_type='MODIFY' old_name='src\python\turicreate\toolkits\sound_classifier\_tf_sound_classifier.py' new_name='src\python\turicreate\toolkits\sound_classifier\_tf_sound_classifier.py'>
 		<file_info nloc='131' complexity='22' token_count='1280'></file_info>
 		<method name='__del__' parameters='self'>
 				<method_info nloc='3' complexity='1' token_count='19' nesting_level='1' start_line='33' end_line='35'></method_info>
 			<added_lines>33,34,35</added_lines>
 			<deleted_lines></deleted_lines>
 		</method>
 		<method name='__init__' parameters='self,num_inputs,num_classes,custom_layer_sizes'>
 				<method_info nloc='8' complexity='1' token_count='73' nesting_level='1' start_line='19' end_line='31'></method_info>
 			<added_lines>24,25</added_lines>
 			<deleted_lines></deleted_lines>
 		</method>
 		<modified_lines>
 			<added_lines>11,14,15</added_lines>
 			<deleted_lines>13,202,203,204,205</deleted_lines>
 		</modified_lines>
 	</modification>
 	<modification change_type='MODIFY' old_name='src\python\turicreate\toolkits\style_transfer\_tf_model_architecture.py' new_name='src\python\turicreate\toolkits\style_transfer\_tf_model_architecture.py'>
 		<file_info nloc='288' complexity='29' token_count='3409'></file_info>
 		<method name='__del__' parameters='self'>
 				<method_info nloc='3' complexity='1' token_count='19' nesting_level='1' start_line='497' end_line='499'></method_info>
 			<added_lines>497,498,499</added_lines>
 			<deleted_lines></deleted_lines>
 		</method>
 		<method name='__init__' parameters='self,config,net_params'>
 				<method_info nloc='19' complexity='3' token_count='209' nesting_level='1' start_line='468' end_line='495'></method_info>
 			<added_lines>469,470,471</added_lines>
 			<deleted_lines></deleted_lines>
 		</method>
 		<modified_lines>
 			<added_lines>500</added_lines>
 			<deleted_lines></deleted_lines>
 		</modified_lines>
 	</modification>
 </commit>
</bug_data>
