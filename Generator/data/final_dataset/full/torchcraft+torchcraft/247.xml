<bug_data>
<bug id='247' author='edran' open_date='2018-01-29T11:08:26Z' closed_time='2018-01-30T09:44:11Z'>
 	<summary>Python client segfaults when given empty commands</summary>
 	<description>
 To reproduce:
 &gt;&gt;&gt; import torchcraft
 &gt;&gt;&gt; tc = torchcraft.Client()
 &lt;torchcraft.Client at 0xwhatever&gt;
 &gt;&gt;&gt; tc.connect('localhost', 11111)
 True
 &gt;&gt;&gt;tc.send([[]])
 Segmentation fault (core dumped)
 This is likely because we simply don't handle this well both in the backend and in pybind. We might want to look into how to crash more gracefully (e.g. crash the client, but tell the user that happened so that they can try reconnecting)?
 	</description>
 	<comments>
 		<comment id='1' author='edran' date='2018-01-29T11:15:13Z'>
 		This is because the code in question accesses the first element of the command vector before checking its length: &lt;denchmark-link:https://github.com/TorchCraft/TorchCraft/blob/master/py/pyclient.cpp#L48&gt;https://github.com/TorchCraft/TorchCraft/blob/master/py/pyclient.cpp#L48&lt;/denchmark-link&gt;
 . Will fix.
 		</comment>
 		<comment id='2' author='edran' date='2018-01-30T09:44:11Z'>
 		Fixed in devleop
 		</comment>
 	</comments>
 </bug>
<commit id='7dc6112c01d404e2e745d44e6ea23334fb341d92' author='Jonas Gehring' date='2018-01-29 12:19:56+01:00'>
 	<dmm_unit complexity='None' interfacing='None' size='None'></dmm_unit>
 	<modification change_type='MODIFY' old_name='py\pyclient.cpp' new_name='py\pyclient.cpp'>
 		<file_info nloc='78' complexity='8' token_count='632'></file_info>
 		<method name='init_client' parameters='torchcraft'>
 				<method_info nloc='74' complexity='8' token_count='621' nesting_level='0' start_line='8' end_line='83'></method_info>
 			<added_lines>48,50,51,52,53</added_lines>
 			<deleted_lines>48,49,51,52,53</deleted_lines>
 		</method>
 		<modified_lines>
 			<added_lines></added_lines>
 			<deleted_lines></deleted_lines>
 		</modified_lines>
 	</modification>
 </commit>
</bug_data>
