<bug_data>
<bug id='66' author='zh794390558' open_date='2019-08-29T07:19:42Z' closed_time='2019-09-10T06:42:16Z'>
 	<summary>distinguish binary class and multi class problem when using tf.metrics</summary>
 	<description>
 Is your feature request related to a problem? Please describe.
 speaker with multi class task, log metrics error on evaluation.
 Describe the solution you'd like
 do not log metrics which is for binary class.
 Describe alternatives you've considered
 N/A
 Additional context
 N/A
 	</description>
 	<comments>
 		<comment id='1' author='zh794390558' date='2019-09-03T03:01:32Z'>
 		Okay, I'll make a fix.
 		</comment>
 	</comments>
 </bug>
<commit id='387d15cd7cd50942cb9c69aa560c64eb3b7e103b' author='Hui Zhang' date='2019-09-10 14:42:15+08:00'>
 	<dmm_unit complexity='1.0' interfacing='0.5333333333333333' size='0.0'></dmm_unit>
 	<modification change_type='MODIFY' old_name='delta\utils\loss\loss_utils_test.py' new_name='delta\utils\loss\loss_utils_test.py'>
 		<file_info nloc='242' complexity='10' token_count='2841'></file_info>
 		<method name='test_focal_loss' parameters='self'>
 				<method_info nloc='30' complexity='1' token_count='294' nesting_level='1' start_line='266' end_line='301'></method_info>
 			<added_lines>279,280,281,282,289,290,291,292,295,296,297,298</added_lines>
 			<deleted_lines>279,286,289</deleted_lines>
 		</method>
 		<modified_lines>
 			<added_lines></added_lines>
 			<deleted_lines></deleted_lines>
 		</modified_lines>
 	</modification>
 	<modification change_type='MODIFY' old_name='delta\utils\misc.py' new_name='delta\utils\misc.py'>
 		<file_info nloc='139' complexity='41' token_count='1053'></file_info>
 		<method name='auc_smaller' parameters='best_eval_result,current_eval_result'>
 				<method_info nloc='9' complexity='5' token_count='53' nesting_level='0' start_line='232' end_line='252'></method_info>
 			<added_lines>232,233,234,241</added_lines>
 			<deleted_lines>232,244</deleted_lines>
 		</method>
 		<method name='metric_smaller' parameters='best_eval_result,current_eval_result,default_key'>
 				<method_info nloc='3' complexity='1' token_count='15' nesting_level='0' start_line='232' end_line='234'></method_info>
 			<added_lines>232,233,234</added_lines>
 			<deleted_lines>232</deleted_lines>
 		</method>
 		<modified_lines>
 			<added_lines></added_lines>
 			<deleted_lines></deleted_lines>
 		</modified_lines>
 	</modification>
 	<modification change_type='MODIFY' old_name='delta\utils\solver\estimator_solver.py' new_name='delta\utils\solver\estimator_solver.py'>
 		<file_info nloc='378' complexity='40' token_count='2536'></file_info>
 		<method name='get_eval_hooks' parameters='self,labels,logits'>
 				<method_info nloc='58' complexity='3' token_count='370' nesting_level='1' start_line='249' end_line='311'></method_info>
 			<added_lines>251,252,253,254,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301</added_lines>
 			<deleted_lines>249,250,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293</deleted_lines>
 		</method>
 		<method name='train_and_eval' parameters='self'>
 				<method_info nloc='45' complexity='4' token_count='275' nesting_level='1' start_line='395' end_line='448'></method_info>
 			<added_lines>405,406,407,408,409,410,411,412,413,414,432</added_lines>
 			<deleted_lines>415</deleted_lines>
 		</method>
 		<modified_lines>
 			<added_lines>18,22</added_lines>
 			<deleted_lines></deleted_lines>
 		</modified_lines>
 	</modification>
 	<modification change_type='MODIFY' old_name='deltann\api\c_api.cc' new_name='deltann\api\c_api.cc'>
 		<file_info nloc='70' complexity='13' token_count='491'></file_info>
 		<modified_lines>
 			<added_lines>18</added_lines>
 			<deleted_lines></deleted_lines>
 		</modified_lines>
 	</modification>
 	<modification change_type='MODIFY' old_name='deltann\api\c_api.h' new_name='deltann\api\c_api.h'>
 		<file_info nloc='28' complexity='0' token_count='181'></file_info>
 		<modified_lines>
 			<added_lines>17,18,83</added_lines>
 			<deleted_lines>17,18,83</deleted_lines>
 		</modified_lines>
 	</modification>
 	<modification change_type='MODIFY' old_name='deltann\core\graph.cc' new_name='deltann\core\graph.cc'>
 		<file_info nloc='105' complexity='18' token_count='1020'></file_info>
 		<method name='delta::core::Graph::Graph' parameters='cfg'>
 				<method_info nloc='45' complexity='7' token_count='428' nesting_level='2' start_line='26' end_line='76'></method_info>
 			<added_lines>64</added_lines>
 			<deleted_lines>64</deleted_lines>
 		</method>
 		<modified_lines>
 			<added_lines></added_lines>
 			<deleted_lines></deleted_lines>
 		</modified_lines>
 	</modification>
 	<modification change_type='MODIFY' old_name='deltann\core\runtime.h' new_name='deltann\core\runtime.h'>
 		<file_info nloc='314' complexity='64' token_count='2153'></file_info>
 		<method name='delta::core::load_models' parameters='rt_cfg,graphs'>
 				<method_info nloc='44' complexity='12' token_count='301' nesting_level='3' start_line='91' end_line='151'></method_info>
 			<added_lines>116,117,118,120,127,134</added_lines>
 			<deleted_lines>115,117</deleted_lines>
 		</method>
 		<method name='delta::core::Runtime::Runtime' parameters='rt_cfg'>
 				<method_info nloc='2' complexity='1' token_count='22' nesting_level='3' start_line='154' end_line='155'></method_info>
 			<added_lines></added_lines>
 			<deleted_lines>154</deleted_lines>
 		</method>
 		<method name='delta::core::Runtime::Runtime' parameters='rt_cfg'>
 				<method_info nloc='2' complexity='1' token_count='23' nesting_level='3' start_line='158' end_line='159'></method_info>
 			<added_lines>158</added_lines>
 			<deleted_lines></deleted_lines>
 		</method>
 		<modified_lines>
 			<added_lines></added_lines>
 			<deleted_lines></deleted_lines>
 		</modified_lines>
 	</modification>
 	<modification change_type='MODIFY' old_name='deltann\core\tfmodel.cc' new_name='deltann\core\tfmodel.cc'>
 		<file_info nloc='187' complexity='30' token_count='1399'></file_info>
 		<method name='delta::core::TFModel::TFModel' parameters='model_meta,num_threads'>
 				<method_info nloc='4' complexity='1' token_count='23' nesting_level='2' start_line='55' end_line='60'></method_info>
 			<added_lines>58</added_lines>
 			<deleted_lines>58</deleted_lines>
 		</method>
 		<modified_lines>
 			<added_lines></added_lines>
 			<deleted_lines></deleted_lines>
 		</modified_lines>
 	</modification>
 	<modification change_type='MODIFY' old_name='deltann\core\tfserving_model.h' new_name='deltann\core\tfserving_model.h'>
 		<file_info nloc='24' complexity='0' token_count='100'></file_info>
 		<modified_lines>
 			<added_lines>52</added_lines>
 			<deleted_lines>52</deleted_lines>
 		</modified_lines>
 	</modification>
 	<modification change_type='MODIFY' old_name='deltann\examples\text_cls\test.cc' new_name='deltann\examples\text_cls\test.cc'>
 		<file_info nloc='34' complexity='3' token_count='266'></file_info>
 		<method name='main' parameters='argc,argv'>
 				<method_info nloc='30' complexity='3' token_count='257' nesting_level='0' start_line='23' end_line='62'></method_info>
 			<added_lines>33,48,49</added_lines>
 			<deleted_lines>33,48,49</deleted_lines>
 		</method>
 		<modified_lines>
 			<added_lines></added_lines>
 			<deleted_lines></deleted_lines>
 		</modified_lines>
 	</modification>
 	<modification change_type='MODIFY' old_name='deltann\test\test.cc' new_name='deltann\test\test.cc'>
 		<file_info nloc='46' complexity='4' token_count='362'></file_info>
 		<method name='main' parameters='argc,argv'>
 				<method_info nloc='42' complexity='4' token_count='353' nesting_level='0' start_line='23' end_line='77'></method_info>
 			<added_lines>32,38,39,60,61</added_lines>
 			<deleted_lines>32,38,39,60,61</deleted_lines>
 		</method>
 		<modified_lines>
 			<added_lines></added_lines>
 			<deleted_lines></deleted_lines>
 		</modified_lines>
 	</modification>
 </commit>
</bug_data>
