<bug id='1492' author='yselivonchyk' open_date='2019-11-01T21:03:11Z' closed_time='2019-11-04T21:20:04Z'>
	<summary>Horovod would not build with TF1.15 due to protobuf version mismatch</summary>
	<description>
Environment:

Framework: (TensorFlow, Keras, PyTorch, MXNet) Tensorflow
Framework version: 1.15
Horovod version: 0.18.2 (pip install horovod)
MPI version: 4.0.1
CUDA version: 10.0
NCCL version:
Python version: Python 3.6.6 :: Anaconda, Inc.
OS and version: 16.04
GCC version: gcc version 5.4.0 20160609 (Ubuntu 5.4.0-6ubuntu1~16.04.11)

Bug report:
Error while installing horovod with TF1.15. Complains about protobuf version, yet the latest protobuf is installed Requirement already satisfied: protobuf in /home/ubuntu/env/t15hvd/lib/python3.6/site-packages (3.10.0)
Installation process:
&lt;denchmark-code&gt;sudo rm -rf /usr/local/lib/openmpi /usr/local/lib/libmca* /usr/local/lib/libmpi* /usr/local/lib/libompitrace* /usr/local/lib/libopen* /usr/local/lib/liboshmem* /usr/local/lib/mpi_*
mkdir ~/tmp/
cd ~/tmp/
wget https://download.open-mpi.org/release/open-mpi/v4.0/openmpi-4.0.1.tar.gz
gunzip -c openmpi-4.0.1.tar.gz | tar xf -
cd openmpi-4.0.1
./configure --prefix=/usr/local; sudo make -j 16 all install
export CC=/usr/bin/gcc-5
export CXX=/usr/bin/gcc-5
HOROVOD_GPU_ALLREDUCE=NCCL HOROVOD_WITH_TENSORFLOW=1 pip install --user --no-cache-dir horovod
&lt;/denchmark-code&gt;

Issue:
&lt;denchmark-code&gt;    ...
    cc1plus: warning: command line option ‘-Wstrict-prototypes’ is valid for C/ObjC but not for C++
    /usr/bin/gcc-5 -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -fPIC -DEIGEN_MPL2_ONLY=1 -DHAVE_MPI=1 -DHAVE_GLOO=1 -DHAVE_CUDA=1 -DHAVE_NCCL=1 -DHOROVOD_GPU_ALLREDUCE='N' -Ithird_party/HTTPRequest/include -Ithird_party/boost/assert/include -Ithird_party/boost/config/include -Ithird_party/boost/core/include -Ithird_party/boost/detail/include -Ithird_party/boost/iterator/include -Ithird_party/boost/lockfree/include -Ithird_party/boost/mpl/include -Ithird_party/boost/parameter/include -Ithird_party/boost/predef/include -Ithird_party/boost/preprocessor/include -Ithird_party/boost/static_assert/include -Ithird_party/boost/type_traits/include -Ithird_party/boost/utility/include -Ithird_party/eigen -Ithird_party/flatbuffers/include -Ithird_party/lbfgs/include -Ithird_party/gloo -I/usr/local/cuda/include -I/home/ubuntu/anaconda3/include/python3.6m -c horovod/common/half.cc -o build/temp.linux-x86_64-3.6/horovod/common/half.o -std=c++11 -fPIC -O2 -Wall -I/home/ubuntu/anaconda3/include -pthread -Wl,-rpath -Wl,/home/ubuntu/anaconda3/lib -Wl,--enable-new-dtags -L/home/ubuntu/anaconda3/lib -lmpi_cxx -lmpi -I/home/ubuntu/anaconda3/include -pthread -Wl,-rpath -Wl,/home/ubuntu/anaconda3/lib -Wl,--enable-new-dtags -L/home/ubuntu/anaconda3/lib -lmpi_cxx -lmpi -I/home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include -D_GLIBCXX_USE_CXX11_ABI=1
    cc1plus: warning: command line option ‘-Wstrict-prototypes’ is valid for C/ObjC but not for C++
    In file included from horovod/common/half.cc:16:0:
    horovod/common/half.h: In function ‘void horovod::common::HalfBits2Float(short unsigned int*, float*)’:
    horovod/common/half.h:70:44: warning: dereferencing type-punned pointer will break strict-aliasing rules [-Wstrict-aliasing]
       *res = *reinterpret_cast&lt;float const*&gt;(&amp;f);
                                                ^
    /usr/bin/gcc-5 -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -fPIC -DEIGEN_MPL2_ONLY=1 -DHAVE_MPI=1 -DHAVE_GLOO=1 -DHAVE_CUDA=1 -DHAVE_NCCL=1 -DHOROVOD_GPU_ALLREDUCE='N' -Ithird_party/HTTPRequest/include -Ithird_party/boost/assert/include -Ithird_party/boost/config/include -Ithird_party/boost/core/include -Ithird_party/boost/detail/include -Ithird_party/boost/iterator/include -Ithird_party/boost/lockfree/include -Ithird_party/boost/mpl/include -Ithird_party/boost/parameter/include -Ithird_party/boost/predef/include -Ithird_party/boost/preprocessor/include -Ithird_party/boost/static_assert/include -Ithird_party/boost/type_traits/include -Ithird_party/boost/utility/include -Ithird_party/eigen -Ithird_party/flatbuffers/include -Ithird_party/lbfgs/include -Ithird_party/gloo -I/usr/local/cuda/include -I/home/ubuntu/anaconda3/include/python3.6m -c horovod/common/mpi/mpi_context.cc -o build/temp.linux-x86_64-3.6/horovod/common/mpi/mpi_context.o -std=c++11 -fPIC -O2 -Wall -I/home/ubuntu/anaconda3/include -pthread -Wl,-rpath -Wl,/home/ubuntu/anaconda3/lib -Wl,--enable-new-dtags -L/home/ubuntu/anaconda3/lib -lmpi_cxx -lmpi -I/home/ubuntu/anaconda3/include -pthread -Wl,-rpath -Wl,/home/ubuntu/anaconda3/lib -Wl,--enable-new-dtags -L/home/ubuntu/anaconda3/lib -lmpi_cxx -lmpi -I/home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include -D_GLIBCXX_USE_CXX11_ABI=1
    cc1plus: warning: command line option ‘-Wstrict-prototypes’ is valid for C/ObjC but not for C++
    In file included from horovod/common/mpi/mpi_context.h:25:0,
                     from horovod/common/mpi/mpi_context.cc:17:
    horovod/common/mpi/../half.h: In function ‘void horovod::common::HalfBits2Float(short unsigned int*, float*)’:
    horovod/common/mpi/../half.h:70:44: warning: dereferencing type-punned pointer will break strict-aliasing rules [-Wstrict-aliasing]
       *res = *reinterpret_cast&lt;float const*&gt;(&amp;f);
                                                ^
    /usr/bin/gcc-5 -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -fPIC -DEIGEN_MPL2_ONLY=1 -DHAVE_MPI=1 -DHAVE_GLOO=1 -DHAVE_CUDA=1 -DHAVE_NCCL=1 -DHOROVOD_GPU_ALLREDUCE='N' -Ithird_party/HTTPRequest/include -Ithird_party/boost/assert/include -Ithird_party/boost/config/include -Ithird_party/boost/core/include -Ithird_party/boost/detail/include -Ithird_party/boost/iterator/include -Ithird_party/boost/lockfree/include -Ithird_party/boost/mpl/include -Ithird_party/boost/parameter/include -Ithird_party/boost/predef/include -Ithird_party/boost/preprocessor/include -Ithird_party/boost/static_assert/include -Ithird_party/boost/type_traits/include -Ithird_party/boost/utility/include -Ithird_party/eigen -Ithird_party/flatbuffers/include -Ithird_party/lbfgs/include -Ithird_party/gloo -I/usr/local/cuda/include -I/home/ubuntu/anaconda3/include/python3.6m -c horovod/common/mpi/mpi_controller.cc -o build/temp.linux-x86_64-3.6/horovod/common/mpi/mpi_controller.o -std=c++11 -fPIC -O2 -Wall -I/home/ubuntu/anaconda3/include -pthread -Wl,-rpath -Wl,/home/ubuntu/anaconda3/lib -Wl,--enable-new-dtags -L/home/ubuntu/anaconda3/lib -lmpi_cxx -lmpi -I/home/ubuntu/anaconda3/include -pthread -Wl,-rpath -Wl,/home/ubuntu/anaconda3/lib -Wl,--enable-new-dtags -L/home/ubuntu/anaconda3/lib -lmpi_cxx -lmpi -I/home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include -D_GLIBCXX_USE_CXX11_ABI=1
    cc1plus: warning: command line option ‘-Wstrict-prototypes’ is valid for C/ObjC but not for C++
    In file included from horovod/common/mpi/mpi_context.h:25:0,
                     from horovod/common/mpi/mpi_controller.h:19,
                     from horovod/common/mpi/mpi_controller.cc:16:
    horovod/common/mpi/../half.h: In function ‘void horovod::common::HalfBits2Float(short unsigned int*, float*)’:
    horovod/common/mpi/../half.h:70:44: warning: dereferencing type-punned pointer will break strict-aliasing rules [-Wstrict-aliasing]
       *res = *reinterpret_cast&lt;float const*&gt;(&amp;f);
                                                ^
    /usr/bin/gcc-5 -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -fPIC -DEIGEN_MPL2_ONLY=1 -DHAVE_MPI=1 -DHAVE_GLOO=1 -DHAVE_CUDA=1 -DHAVE_NCCL=1 -DHOROVOD_GPU_ALLREDUCE='N' -Ithird_party/HTTPRequest/include -Ithird_party/boost/assert/include -Ithird_party/boost/config/include -Ithird_party/boost/core/include -Ithird_party/boost/detail/include -Ithird_party/boost/iterator/include -Ithird_party/boost/lockfree/include -Ithird_party/boost/mpl/include -Ithird_party/boost/parameter/include -Ithird_party/boost/predef/include -Ithird_party/boost/preprocessor/include -Ithird_party/boost/static_assert/include -Ithird_party/boost/type_traits/include -Ithird_party/boost/utility/include -Ithird_party/eigen -Ithird_party/flatbuffers/include -Ithird_party/lbfgs/include -Ithird_party/gloo -I/usr/local/cuda/include -I/home/ubuntu/anaconda3/include/python3.6m -c horovod/common/ops/mpi_operations.cc -o build/temp.linux-x86_64-3.6/horovod/common/ops/mpi_operations.o -std=c++11 -fPIC -O2 -Wall -I/home/ubuntu/anaconda3/include -pthread -Wl,-rpath -Wl,/home/ubuntu/anaconda3/lib -Wl,--enable-new-dtags -L/home/ubuntu/anaconda3/lib -lmpi_cxx -lmpi -I/home/ubuntu/anaconda3/include -pthread -Wl,-rpath -Wl,/home/ubuntu/anaconda3/lib -Wl,--enable-new-dtags -L/home/ubuntu/anaconda3/lib -lmpi_cxx -lmpi -I/home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include -D_GLIBCXX_USE_CXX11_ABI=1
    cc1plus: warning: command line option ‘-Wstrict-prototypes’ is valid for C/ObjC but not for C++
    In file included from horovod/common/ops/../mpi/mpi_context.h:25:0,
                     from horovod/common/ops/mpi_operations.h:27,
                     from horovod/common/ops/mpi_operations.cc:17:
    horovod/common/ops/../mpi/../half.h: In function ‘void horovod::common::HalfBits2Float(short unsigned int*, float*)’:
    horovod/common/ops/../mpi/../half.h:70:44: warning: dereferencing type-punned pointer will break strict-aliasing rules [-Wstrict-aliasing]
       *res = *reinterpret_cast&lt;float const*&gt;(&amp;f);
                                                ^
    /usr/bin/gcc-5 -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -fPIC -DEIGEN_MPL2_ONLY=1 -DHAVE_MPI=1 -DHAVE_GLOO=1 -DHAVE_CUDA=1 -DHAVE_NCCL=1 -DHOROVOD_GPU_ALLREDUCE='N' -Ithird_party/HTTPRequest/include -Ithird_party/boost/assert/include -Ithird_party/boost/config/include -Ithird_party/boost/core/include -Ithird_party/boost/detail/include -Ithird_party/boost/iterator/include -Ithird_party/boost/lockfree/include -Ithird_party/boost/mpl/include -Ithird_party/boost/parameter/include -Ithird_party/boost/predef/include -Ithird_party/boost/preprocessor/include -Ithird_party/boost/static_assert/include -Ithird_party/boost/type_traits/include -Ithird_party/boost/utility/include -Ithird_party/eigen -Ithird_party/flatbuffers/include -Ithird_party/lbfgs/include -Ithird_party/gloo -I/usr/local/cuda/include -I/home/ubuntu/anaconda3/include/python3.6m -c horovod/common/gloo/gloo_context.cc -o build/temp.linux-x86_64-3.6/horovod/common/gloo/gloo_context.o -std=c++11 -fPIC -O2 -Wall -I/home/ubuntu/anaconda3/include -pthread -Wl,-rpath -Wl,/home/ubuntu/anaconda3/lib -Wl,--enable-new-dtags -L/home/ubuntu/anaconda3/lib -lmpi_cxx -lmpi -I/home/ubuntu/anaconda3/include -pthread -Wl,-rpath -Wl,/home/ubuntu/anaconda3/lib -Wl,--enable-new-dtags -L/home/ubuntu/anaconda3/lib -lmpi_cxx -lmpi -I/home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include -D_GLIBCXX_USE_CXX11_ABI=1
    cc1plus: warning: command line option ‘-Wstrict-prototypes’ is valid for C/ObjC but not for C++
    In file included from horovod/common/gloo/../mpi/mpi_context.h:25:0,
                     from horovod/common/gloo/gloo_context.h:25,
                     from horovod/common/gloo/gloo_context.cc:16:
    horovod/common/gloo/../mpi/../half.h: In function ‘void horovod::common::HalfBits2Float(short unsigned int*, float*)’:
    horovod/common/gloo/../mpi/../half.h:70:44: warning: dereferencing type-punned pointer will break strict-aliasing rules [-Wstrict-aliasing]
       *res = *reinterpret_cast&lt;float const*&gt;(&amp;f);
                                                ^
    /usr/bin/gcc-5 -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -fPIC -DEIGEN_MPL2_ONLY=1 -DHAVE_MPI=1 -DHAVE_GLOO=1 -DHAVE_CUDA=1 -DHAVE_NCCL=1 -DHOROVOD_GPU_ALLREDUCE='N' -Ithird_party/HTTPRequest/include -Ithird_party/boost/assert/include -Ithird_party/boost/config/include -Ithird_party/boost/core/include -Ithird_party/boost/detail/include -Ithird_party/boost/iterator/include -Ithird_party/boost/lockfree/include -Ithird_party/boost/mpl/include -Ithird_party/boost/parameter/include -Ithird_party/boost/predef/include -Ithird_party/boost/preprocessor/include -Ithird_party/boost/static_assert/include -Ithird_party/boost/type_traits/include -Ithird_party/boost/utility/include -Ithird_party/eigen -Ithird_party/flatbuffers/include -Ithird_party/lbfgs/include -Ithird_party/gloo -I/usr/local/cuda/include -I/home/ubuntu/anaconda3/include/python3.6m -c horovod/common/gloo/gloo_controller.cc -o build/temp.linux-x86_64-3.6/horovod/common/gloo/gloo_controller.o -std=c++11 -fPIC -O2 -Wall -I/home/ubuntu/anaconda3/include -pthread -Wl,-rpath -Wl,/home/ubuntu/anaconda3/lib -Wl,--enable-new-dtags -L/home/ubuntu/anaconda3/lib -lmpi_cxx -lmpi -I/home/ubuntu/anaconda3/include -pthread -Wl,-rpath -Wl,/home/ubuntu/anaconda3/lib -Wl,--enable-new-dtags -L/home/ubuntu/anaconda3/lib -lmpi_cxx -lmpi -I/home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include -D_GLIBCXX_USE_CXX11_ABI=1
    cc1plus: warning: command line option ‘-Wstrict-prototypes’ is valid for C/ObjC but not for C++
    In file included from horovod/common/gloo/../mpi/mpi_context.h:25:0,
                     from horovod/common/gloo/gloo_context.h:25,
                     from horovod/common/gloo/gloo_controller.h:19,
                     from horovod/common/gloo/gloo_controller.cc:16:
    horovod/common/gloo/../mpi/../half.h: In function ‘void horovod::common::HalfBits2Float(short unsigned int*, float*)’:
    horovod/common/gloo/../mpi/../half.h:70:44: warning: dereferencing type-punned pointer will break strict-aliasing rules [-Wstrict-aliasing]
       *res = *reinterpret_cast&lt;float const*&gt;(&amp;f);
                                                ^
    /usr/bin/gcc-5 -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -fPIC -DEIGEN_MPL2_ONLY=1 -DHAVE_MPI=1 -DHAVE_GLOO=1 -DHAVE_CUDA=1 -DHAVE_NCCL=1 -DHOROVOD_GPU_ALLREDUCE='N' -Ithird_party/HTTPRequest/include -Ithird_party/boost/assert/include -Ithird_party/boost/config/include -Ithird_party/boost/core/include -Ithird_party/boost/detail/include -Ithird_party/boost/iterator/include -Ithird_party/boost/lockfree/include -Ithird_party/boost/mpl/include -Ithird_party/boost/parameter/include -Ithird_party/boost/predef/include -Ithird_party/boost/preprocessor/include -Ithird_party/boost/static_assert/include -Ithird_party/boost/type_traits/include -Ithird_party/boost/utility/include -Ithird_party/eigen -Ithird_party/flatbuffers/include -Ithird_party/lbfgs/include -Ithird_party/gloo -I/usr/local/cuda/include -I/home/ubuntu/anaconda3/include/python3.6m -c horovod/common/gloo/http_store.cc -o build/temp.linux-x86_64-3.6/horovod/common/gloo/http_store.o -std=c++11 -fPIC -O2 -Wall -I/home/ubuntu/anaconda3/include -pthread -Wl,-rpath -Wl,/home/ubuntu/anaconda3/lib -Wl,--enable-new-dtags -L/home/ubuntu/anaconda3/lib -lmpi_cxx -lmpi -I/home/ubuntu/anaconda3/include -pthread -Wl,-rpath -Wl,/home/ubuntu/anaconda3/lib -Wl,--enable-new-dtags -L/home/ubuntu/anaconda3/lib -lmpi_cxx -lmpi -I/home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include -D_GLIBCXX_USE_CXX11_ABI=1
    cc1plus: warning: command line option ‘-Wstrict-prototypes’ is valid for C/ObjC but not for C++
    /usr/bin/gcc-5 -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -fPIC -DEIGEN_MPL2_ONLY=1 -DHAVE_MPI=1 -DHAVE_GLOO=1 -DHAVE_CUDA=1 -DHAVE_NCCL=1 -DHOROVOD_GPU_ALLREDUCE='N' -Ithird_party/HTTPRequest/include -Ithird_party/boost/assert/include -Ithird_party/boost/config/include -Ithird_party/boost/core/include -Ithird_party/boost/detail/include -Ithird_party/boost/iterator/include -Ithird_party/boost/lockfree/include -Ithird_party/boost/mpl/include -Ithird_party/boost/parameter/include -Ithird_party/boost/predef/include -Ithird_party/boost/preprocessor/include -Ithird_party/boost/static_assert/include -Ithird_party/boost/type_traits/include -Ithird_party/boost/utility/include -Ithird_party/eigen -Ithird_party/flatbuffers/include -Ithird_party/lbfgs/include -Ithird_party/gloo -I/usr/local/cuda/include -I/home/ubuntu/anaconda3/include/python3.6m -c horovod/common/gloo/memory_store.cc -o build/temp.linux-x86_64-3.6/horovod/common/gloo/memory_store.o -std=c++11 -fPIC -O2 -Wall -I/home/ubuntu/anaconda3/include -pthread -Wl,-rpath -Wl,/home/ubuntu/anaconda3/lib -Wl,--enable-new-dtags -L/home/ubuntu/anaconda3/lib -lmpi_cxx -lmpi -I/home/ubuntu/anaconda3/include -pthread -Wl,-rpath -Wl,/home/ubuntu/anaconda3/lib -Wl,--enable-new-dtags -L/home/ubuntu/anaconda3/lib -lmpi_cxx -lmpi -I/home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include -D_GLIBCXX_USE_CXX11_ABI=1
    cc1plus: warning: command line option ‘-Wstrict-prototypes’ is valid for C/ObjC but not for C++
    /usr/bin/gcc-5 -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -fPIC -DEIGEN_MPL2_ONLY=1 -DHAVE_MPI=1 -DHAVE_GLOO=1 -DHAVE_CUDA=1 -DHAVE_NCCL=1 -DHOROVOD_GPU_ALLREDUCE='N' -Ithird_party/HTTPRequest/include -Ithird_party/boost/assert/include -Ithird_party/boost/config/include -Ithird_party/boost/core/include -Ithird_party/boost/detail/include -Ithird_party/boost/iterator/include -Ithird_party/boost/lockfree/include -Ithird_party/boost/mpl/include -Ithird_party/boost/parameter/include -Ithird_party/boost/predef/include -Ithird_party/boost/preprocessor/include -Ithird_party/boost/static_assert/include -Ithird_party/boost/type_traits/include -Ithird_party/boost/utility/include -Ithird_party/eigen -Ithird_party/flatbuffers/include -Ithird_party/lbfgs/include -Ithird_party/gloo -I/usr/local/cuda/include -I/home/ubuntu/anaconda3/include/python3.6m -c horovod/common/ops/gloo_operations.cc -o build/temp.linux-x86_64-3.6/horovod/common/ops/gloo_operations.o -std=c++11 -fPIC -O2 -Wall -I/home/ubuntu/anaconda3/include -pthread -Wl,-rpath -Wl,/home/ubuntu/anaconda3/lib -Wl,--enable-new-dtags -L/home/ubuntu/anaconda3/lib -lmpi_cxx -lmpi -I/home/ubuntu/anaconda3/include -pthread -Wl,-rpath -Wl,/home/ubuntu/anaconda3/lib -Wl,--enable-new-dtags -L/home/ubuntu/anaconda3/lib -lmpi_cxx -lmpi -I/home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include -D_GLIBCXX_USE_CXX11_ABI=1
    cc1plus: warning: command line option ‘-Wstrict-prototypes’ is valid for C/ObjC but not for C++
    In file included from horovod/common/ops/../gloo/../mpi/mpi_context.h:25:0,
                     from horovod/common/ops/../gloo/gloo_context.h:25,
                     from horovod/common/ops/gloo_operations.h:20,
                     from horovod/common/ops/gloo_operations.cc:16:
    horovod/common/ops/../gloo/../mpi/../half.h: In function ‘void horovod::common::HalfBits2Float(short unsigned int*, float*)’:
    horovod/common/ops/../gloo/../mpi/../half.h:70:44: warning: dereferencing type-punned pointer will break strict-aliasing rules [-Wstrict-aliasing]
       *res = *reinterpret_cast&lt;float const*&gt;(&amp;f);
                                                ^
    In file included from horovod/common/ops/gloo_operations.cc:22:0:
    third_party/gloo/gloo/math.h: In instantiation of ‘void gloo::sum(void*, const void*, const void*, size_t) [with T = bool; size_t = long unsigned int]’:
    horovod/common/ops/gloo_operations.cc:69:68:   required from ‘void horovod::common::GlooAlgorithms&lt;T&gt;::Allreduce(void*, int) [with T = bool]’
    horovod/common/ops/gloo_operations.cc:279:1:   required from here
    third_party/gloo/gloo/math.h:20:22: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
       for (auto i = 0; i &lt; n; i++) {
                          ^
    third_party/gloo/gloo/math.h: In instantiation of ‘void gloo::sum(void*, const void*, const void*, size_t) [with T = double; size_t = long unsigned int]’:
    horovod/common/ops/gloo_operations.cc:69:68:   required from ‘void horovod::common::GlooAlgorithms&lt;T&gt;::Allreduce(void*, int) [with T = double]’
    horovod/common/ops/gloo_operations.cc:279:1:   required from here
    third_party/gloo/gloo/math.h:20:22: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
    third_party/gloo/gloo/math.h: In instantiation of ‘void gloo::sum(void*, const void*, const void*, size_t) [with T = float; size_t = long unsigned int]’:
    horovod/common/ops/gloo_operations.cc:69:68:   required from ‘void horovod::common::GlooAlgorithms&lt;T&gt;::Allreduce(void*, int) [with T = float]’
    horovod/common/ops/gloo_operations.cc:279:1:   required from here
    third_party/gloo/gloo/math.h:20:22: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
    third_party/gloo/gloo/math.h: In instantiation of ‘void gloo::sum(void*, const void*, const void*, size_t) [with T = gloo::float16; size_t = long unsigned int]’:
    horovod/common/ops/gloo_operations.cc:69:68:   required from ‘void horovod::common::GlooAlgorithms&lt;T&gt;::Allreduce(void*, int) [with T = gloo::float16]’
    horovod/common/ops/gloo_operations.cc:279:1:   required from here
    third_party/gloo/gloo/math.h:20:22: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
    third_party/gloo/gloo/math.h: In instantiation of ‘void gloo::sum(void*, const void*, const void*, size_t) [with T = long int; size_t = long unsigned int]’:
    horovod/common/ops/gloo_operations.cc:69:68:   required from ‘void horovod::common::GlooAlgorithms&lt;T&gt;::Allreduce(void*, int) [with T = long int]’
    horovod/common/ops/gloo_operations.cc:279:1:   required from here
    third_party/gloo/gloo/math.h:20:22: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
    third_party/gloo/gloo/math.h: In instantiation of ‘void gloo::sum(void*, const void*, const void*, size_t) [with T = int; size_t = long unsigned int]’:
    horovod/common/ops/gloo_operations.cc:69:68:   required from ‘void horovod::common::GlooAlgorithms&lt;T&gt;::Allreduce(void*, int) [with T = int]’
    horovod/common/ops/gloo_operations.cc:279:1:   required from here
    third_party/gloo/gloo/math.h:20:22: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
    third_party/gloo/gloo/math.h: In instantiation of ‘void gloo::sum(void*, const void*, const void*, size_t) [with T = short int; size_t = long unsigned int]’:
    horovod/common/ops/gloo_operations.cc:69:68:   required from ‘void horovod::common::GlooAlgorithms&lt;T&gt;::Allreduce(void*, int) [with T = short int]’
    horovod/common/ops/gloo_operations.cc:279:1:   required from here
    third_party/gloo/gloo/math.h:20:22: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
    third_party/gloo/gloo/math.h: In instantiation of ‘void gloo::sum(void*, const void*, const void*, size_t) [with T = short unsigned int; size_t = long unsigned int]’:
    horovod/common/ops/gloo_operations.cc:69:68:   required from ‘void horovod::common::GlooAlgorithms&lt;T&gt;::Allreduce(void*, int) [with T = short unsigned int]’
    horovod/common/ops/gloo_operations.cc:279:1:   required from here
    third_party/gloo/gloo/math.h:20:22: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
    third_party/gloo/gloo/math.h: In instantiation of ‘void gloo::sum(void*, const void*, const void*, size_t) [with T = signed char; size_t = long unsigned int]’:
    horovod/common/ops/gloo_operations.cc:69:68:   required from ‘void horovod::common::GlooAlgorithms&lt;T&gt;::Allreduce(void*, int) [with T = signed char]’
    horovod/common/ops/gloo_operations.cc:279:1:   required from here
    third_party/gloo/gloo/math.h:20:22: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
    third_party/gloo/gloo/math.h: In instantiation of ‘void gloo::sum(void*, const void*, const void*, size_t) [with T = unsigned char; size_t = long unsigned int]’:
    horovod/common/ops/gloo_operations.cc:69:68:   required from ‘void horovod::common::GlooAlgorithms&lt;T&gt;::Allreduce(void*, int) [with T = unsigned char]’
    horovod/common/ops/gloo_operations.cc:279:1:   required from here
    third_party/gloo/gloo/math.h:20:22: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
    /usr/bin/gcc-5 -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -fPIC -DEIGEN_MPL2_ONLY=1 -DHAVE_MPI=1 -DHAVE_GLOO=1 -DHAVE_CUDA=1 -DHAVE_NCCL=1 -DHOROVOD_GPU_ALLREDUCE='N' -Ithird_party/HTTPRequest/include -Ithird_party/boost/assert/include -Ithird_party/boost/config/include -Ithird_party/boost/core/include -Ithird_party/boost/detail/include -Ithird_party/boost/iterator/include -Ithird_party/boost/lockfree/include -Ithird_party/boost/mpl/include -Ithird_party/boost/parameter/include -Ithird_party/boost/predef/include -Ithird_party/boost/preprocessor/include -Ithird_party/boost/static_assert/include -Ithird_party/boost/type_traits/include -Ithird_party/boost/utility/include -Ithird_party/eigen -Ithird_party/flatbuffers/include -Ithird_party/lbfgs/include -Ithird_party/gloo -I/usr/local/cuda/include -I/home/ubuntu/anaconda3/include/python3.6m -c horovod/common/ops/cuda_operations.cc -o build/temp.linux-x86_64-3.6/horovod/common/ops/cuda_operations.o -std=c++11 -fPIC -O2 -Wall -I/home/ubuntu/anaconda3/include -pthread -Wl,-rpath -Wl,/home/ubuntu/anaconda3/lib -Wl,--enable-new-dtags -L/home/ubuntu/anaconda3/lib -lmpi_cxx -lmpi -I/home/ubuntu/anaconda3/include -pthread -Wl,-rpath -Wl,/home/ubuntu/anaconda3/lib -Wl,--enable-new-dtags -L/home/ubuntu/anaconda3/lib -lmpi_cxx -lmpi -I/home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include -D_GLIBCXX_USE_CXX11_ABI=1
    cc1plus: warning: command line option ‘-Wstrict-prototypes’ is valid for C/ObjC but not for C++
    /usr/bin/gcc-5 -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -fPIC -DEIGEN_MPL2_ONLY=1 -DHAVE_MPI=1 -DHAVE_GLOO=1 -DHAVE_CUDA=1 -DHAVE_NCCL=1 -DHOROVOD_GPU_ALLREDUCE='N' -Ithird_party/HTTPRequest/include -Ithird_party/boost/assert/include -Ithird_party/boost/config/include -Ithird_party/boost/core/include -Ithird_party/boost/detail/include -Ithird_party/boost/iterator/include -Ithird_party/boost/lockfree/include -Ithird_party/boost/mpl/include -Ithird_party/boost/parameter/include -Ithird_party/boost/predef/include -Ithird_party/boost/preprocessor/include -Ithird_party/boost/static_assert/include -Ithird_party/boost/type_traits/include -Ithird_party/boost/utility/include -Ithird_party/eigen -Ithird_party/flatbuffers/include -Ithird_party/lbfgs/include -Ithird_party/gloo -I/usr/local/cuda/include -I/home/ubuntu/anaconda3/include/python3.6m -c horovod/common/ops/mpi_cuda_operations.cc -o build/temp.linux-x86_64-3.6/horovod/common/ops/mpi_cuda_operations.o -std=c++11 -fPIC -O2 -Wall -I/home/ubuntu/anaconda3/include -pthread -Wl,-rpath -Wl,/home/ubuntu/anaconda3/lib -Wl,--enable-new-dtags -L/home/ubuntu/anaconda3/lib -lmpi_cxx -lmpi -I/home/ubuntu/anaconda3/include -pthread -Wl,-rpath -Wl,/home/ubuntu/anaconda3/lib -Wl,--enable-new-dtags -L/home/ubuntu/anaconda3/lib -lmpi_cxx -lmpi -I/home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include -D_GLIBCXX_USE_CXX11_ABI=1
    cc1plus: warning: command line option ‘-Wstrict-prototypes’ is valid for C/ObjC but not for C++
    In file included from horovod/common/ops/../mpi/mpi_context.h:25:0,
                     from horovod/common/ops/mpi_cuda_operations.h:21,
                     from horovod/common/ops/mpi_cuda_operations.cc:17:
    horovod/common/ops/../mpi/../half.h: In function ‘void horovod::common::HalfBits2Float(short unsigned int*, float*)’:
    horovod/common/ops/../mpi/../half.h:70:44: warning: dereferencing type-punned pointer will break strict-aliasing rules [-Wstrict-aliasing]
       *res = *reinterpret_cast&lt;float const*&gt;(&amp;f);
                                                ^
    /usr/bin/gcc-5 -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -fPIC -DEIGEN_MPL2_ONLY=1 -DHAVE_MPI=1 -DHAVE_GLOO=1 -DHAVE_CUDA=1 -DHAVE_NCCL=1 -DHOROVOD_GPU_ALLREDUCE='N' -Ithird_party/HTTPRequest/include -Ithird_party/boost/assert/include -Ithird_party/boost/config/include -Ithird_party/boost/core/include -Ithird_party/boost/detail/include -Ithird_party/boost/iterator/include -Ithird_party/boost/lockfree/include -Ithird_party/boost/mpl/include -Ithird_party/boost/parameter/include -Ithird_party/boost/predef/include -Ithird_party/boost/preprocessor/include -Ithird_party/boost/static_assert/include -Ithird_party/boost/type_traits/include -Ithird_party/boost/utility/include -Ithird_party/eigen -Ithird_party/flatbuffers/include -Ithird_party/lbfgs/include -Ithird_party/gloo -I/usr/local/cuda/include -I/home/ubuntu/anaconda3/include/python3.6m -c horovod/common/ops/nccl_operations.cc -o build/temp.linux-x86_64-3.6/horovod/common/ops/nccl_operations.o -std=c++11 -fPIC -O2 -Wall -I/home/ubuntu/anaconda3/include -pthread -Wl,-rpath -Wl,/home/ubuntu/anaconda3/lib -Wl,--enable-new-dtags -L/home/ubuntu/anaconda3/lib -lmpi_cxx -lmpi -I/home/ubuntu/anaconda3/include -pthread -Wl,-rpath -Wl,/home/ubuntu/anaconda3/lib -Wl,--enable-new-dtags -L/home/ubuntu/anaconda3/lib -lmpi_cxx -lmpi -I/home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include -D_GLIBCXX_USE_CXX11_ABI=1
    cc1plus: warning: command line option ‘-Wstrict-prototypes’ is valid for C/ObjC but not for C++
    In file included from horovod/common/ops/../mpi/mpi_context.h:25:0,
                     from horovod/common/ops/nccl_operations.h:23,
                     from horovod/common/ops/nccl_operations.cc:17:
    horovod/common/ops/../mpi/../half.h: In function ‘void horovod::common::HalfBits2Float(short unsigned int*, float*)’:
    horovod/common/ops/../mpi/../half.h:70:44: warning: dereferencing type-punned pointer will break strict-aliasing rules [-Wstrict-aliasing]
       *res = *reinterpret_cast&lt;float const*&gt;(&amp;f);
                                                ^
    /usr/bin/gcc-5 -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -fPIC -DEIGEN_MPL2_ONLY=1 -DHAVE_MPI=1 -DHAVE_GLOO=1 -DHAVE_CUDA=1 -DHAVE_NCCL=1 -DHOROVOD_GPU_ALLREDUCE='N' -Ithird_party/HTTPRequest/include -Ithird_party/boost/assert/include -Ithird_party/boost/config/include -Ithird_party/boost/core/include -Ithird_party/boost/detail/include -Ithird_party/boost/iterator/include -Ithird_party/boost/lockfree/include -Ithird_party/boost/mpl/include -Ithird_party/boost/parameter/include -Ithird_party/boost/predef/include -Ithird_party/boost/preprocessor/include -Ithird_party/boost/static_assert/include -Ithird_party/boost/type_traits/include -Ithird_party/boost/utility/include -Ithird_party/eigen -Ithird_party/flatbuffers/include -Ithird_party/lbfgs/include -Ithird_party/gloo -I/usr/local/cuda/include -I/home/ubuntu/anaconda3/include/python3.6m -c horovod/tensorflow/mpi_ops.cc -o build/temp.linux-x86_64-3.6/horovod/tensorflow/mpi_ops.o -std=c++11 -fPIC -O2 -Wall -I/home/ubuntu/anaconda3/include -pthread -Wl,-rpath -Wl,/home/ubuntu/anaconda3/lib -Wl,--enable-new-dtags -L/home/ubuntu/anaconda3/lib -lmpi_cxx -lmpi -I/home/ubuntu/anaconda3/include -pthread -Wl,-rpath -Wl,/home/ubuntu/anaconda3/lib -Wl,--enable-new-dtags -L/home/ubuntu/anaconda3/lib -lmpi_cxx -lmpi -I/home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include -D_GLIBCXX_USE_CXX11_ABI=1
    cc1plus: warning: command line option ‘-Wstrict-prototypes’ is valid for C/ObjC but not for C++
    In file included from /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/op_def_builder.h:24:0,
                     from /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/op.h:23,
                     from horovod/tensorflow/mpi_ops.cc:22:
    /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/op_def.pb.h:12:2: error: #error This file was generated by a newer version of protoc which is
     #error This file was generated by a newer version of protoc which is
      ^
    /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/op_def.pb.h:13:2: error: #error incompatible with your Protocol Buffer headers. Please update
     #error incompatible with your Protocol Buffer headers. Please update
      ^
    /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/op_def.pb.h:14:2: error: #error your headers.
     #error your headers.
      ^
    In file included from /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/op_def.pb.h:35:0,
                     from /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/op_def_builder.h:24,
                     from /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/op.h:23,
                     from horovod/tensorflow/mpi_ops.cc:22:
    /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/attr_value.pb.h:12:2: error: #error This file was generated by a newer version of protoc which is
     #error This file was generated by a newer version of protoc which is
      ^
    /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/attr_value.pb.h:13:2: error: #error incompatible with your Protocol Buffer headers. Please update
     #error incompatible with your Protocol Buffer headers. Please update
      ^
    /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/attr_value.pb.h:14:2: error: #error your headers.
     #error your headers.
      ^
    In file included from /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/attr_value.pb.h:38:0,
                     from /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/op_def.pb.h:35,
                     from /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/op_def_builder.h:24,
                     from /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/op.h:23,
                     from horovod/tensorflow/mpi_ops.cc:22:
    /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/tensor.pb.h:12:2: error: #error This file was generated by a newer version of protoc which is
     #error This file was generated by a newer version of protoc which is
      ^
    /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/tensor.pb.h:13:2: error: #error incompatible with your Protocol Buffer headers. Please update
     #error incompatible with your Protocol Buffer headers. Please update
      ^
    /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/tensor.pb.h:14:2: error: #error your headers.
     #error your headers.
      ^
    In file included from /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/tensor.pb.h:35:0,
                     from /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/attr_value.pb.h:38,
                     from /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/op_def.pb.h:35,
                     from /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/op_def_builder.h:24,
                     from /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/op.h:23,
                     from horovod/tensorflow/mpi_ops.cc:22:
    /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/resource_handle.pb.h:12:2: error: #error This file was generated by a newer version of protoc which is
     #error This file was generated by a newer version of protoc which is
      ^
    /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/resource_handle.pb.h:13:2: error: #error incompatible with your Protocol Buffer headers. Please update
     #error incompatible with your Protocol Buffer headers. Please update
      ^
    /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/resource_handle.pb.h:14:2: error: #error your headers.
     #error your headers.
      ^
    In file included from /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/resource_handle.pb.h:35:0,
                     from /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/tensor.pb.h:35,
                     from /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/attr_value.pb.h:38,
                     from /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/op_def.pb.h:35,
                     from /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/op_def_builder.h:24,
                     from /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/op.h:23,
                     from horovod/tensorflow/mpi_ops.cc:22:
    /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/tensor_shape.pb.h:12:2: error: #error This file was generated by a newer version of protoc which is
     #error This file was generated by a newer version of protoc which is
      ^
    /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/tensor_shape.pb.h:13:2: error: #error incompatible with your Protocol Buffer headers. Please update
     #error incompatible with your Protocol Buffer headers. Please update
      ^
    /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/tensor_shape.pb.h:14:2: error: #error your headers.
     #error your headers.
      ^
    In file included from /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/resource_handle.pb.h:36:0,
                     from /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/tensor.pb.h:35,
                     from /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/attr_value.pb.h:38,
                     from /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/op_def.pb.h:35,
                     from /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/op_def_builder.h:24,
                     from /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/op.h:23,
                     from horovod/tensorflow/mpi_ops.cc:22:
    /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/types.pb.h:12:2: error: #error This file was generated by a newer version of protoc which is
     #error This file was generated by a newer version of protoc which is
      ^
    /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/types.pb.h:13:2: error: #error incompatible with your Protocol Buffer headers. Please update
     #error incompatible with your Protocol Buffer headers. Please update
      ^
    /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/types.pb.h:14:2: error: #error your headers.
     #error your headers.
      ^
    In file included from /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/lib/core/status.h:23:0,
                     from /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/op_def_builder.h:25,
                     from /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/op.h:23,
                     from horovod/tensorflow/mpi_ops.cc:22:
    /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/lib/core/error_codes.pb.h:12:2: error: #error This file was generated by a newer version of protoc which is
     #error This file was generated by a newer version of protoc which is
      ^
    /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/lib/core/error_codes.pb.h:13:2: error: #error incompatible with your Protocol Buffer headers. Please update
     #error incompatible with your Protocol Buffer headers. Please update
      ^
    /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/lib/core/error_codes.pb.h:14:2: error: #error your headers.
     #error your headers.
      ^
    In file included from /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/op_def_util.h:23:0,
                     from /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/op.h:24,
                     from horovod/tensorflow/mpi_ops.cc:22:
    /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/api_def.pb.h:12:2: error: #error This file was generated by a newer version of protoc which is
     #error This file was generated by a newer version of protoc which is
      ^
    /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/api_def.pb.h:13:2: error: #error incompatible with your Protocol Buffer headers. Please update
     #error incompatible with your Protocol Buffer headers. Please update
      ^
    /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/api_def.pb.h:14:2: error: #error your headers.
     #error your headers.
      ^
    In file included from /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/op_kernel.h:29:0,
                     from horovod/tensorflow/mpi_ops.cc:23:
    /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/graph.pb.h:12:2: error: #error This file was generated by a newer version of protoc which is
     #error This file was generated by a newer version of protoc which is
      ^
    /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/graph.pb.h:13:2: error: #error incompatible with your Protocol Buffer headers. Please update
     #error incompatible with your Protocol Buffer headers. Please update
      ^
    /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/graph.pb.h:14:2: error: #error your headers.
     #error your headers.
      ^
    In file included from /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/graph.pb.h:35:0,
                     from /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/op_kernel.h:29,
                     from horovod/tensorflow/mpi_ops.cc:23:
    /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/node_def.pb.h:12:2: error: #error This file was generated by a newer version of protoc which is
     #error This file was generated by a newer version of protoc which is
      ^
    /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/node_def.pb.h:13:2: error: #error incompatible with your Protocol Buffer headers. Please update
     #error incompatible with your Protocol Buffer headers. Please update
      ^
    /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/node_def.pb.h:14:2: error: #error your headers.
     #error your headers.
      ^
    In file included from /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/graph.pb.h:36:0,
                     from /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/op_kernel.h:29,
                     from horovod/tensorflow/mpi_ops.cc:23:
    /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/function.pb.h:12:2: error: #error This file was generated by a newer version of protoc which is
     #error This file was generated by a newer version of protoc which is
      ^
    /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/function.pb.h:13:2: error: #error incompatible with your Protocol Buffer headers. Please update
     #error incompatible with your Protocol Buffer headers. Please update
      ^
    /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/function.pb.h:14:2: error: #error your headers.
     #error your headers.
      ^
    In file included from /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/graph.pb.h:37:0,
                     from /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/op_kernel.h:29,
                     from horovod/tensorflow/mpi_ops.cc:23:
    /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/versions.pb.h:12:2: error: #error This file was generated by a newer version of protoc which is
     #error This file was generated by a newer version of protoc which is
      ^
    /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/versions.pb.h:13:2: error: #error incompatible with your Protocol Buffer headers. Please update
     #error incompatible with your Protocol Buffer headers. Please update
      ^
    /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/versions.pb.h:14:2: error: #error your headers.
     #error your headers.
      ^
    In file included from /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/op_kernel.h:30:0,
                     from horovod/tensorflow/mpi_ops.cc:23:
    /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/kernel_def.pb.h:12:2: error: #error This file was generated by a newer version of protoc which is
     #error This file was generated by a newer version of protoc which is
      ^
    /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/kernel_def.pb.h:13:2: error: #error incompatible with your Protocol Buffer headers. Please update
     #error incompatible with your Protocol Buffer headers. Please update
      ^
    /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/kernel_def.pb.h:14:2: error: #error your headers.
     #error your headers.
      ^
    In file included from /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/op_kernel.h:56:0,
                     from horovod/tensorflow/mpi_ops.cc:23:
    /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/protobuf/config.pb.h:12:2: error: #error This file was generated by a newer version of protoc which is
     #error This file was generated by a newer version of protoc which is
      ^
    /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/protobuf/config.pb.h:13:2: error: #error incompatible with your Protocol Buffer headers. Please update
     #error incompatible with your Protocol Buffer headers. Please update
      ^
    /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/protobuf/config.pb.h:14:2: error: #error your headers.
     #error your headers.
      ^
    In file included from /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/protobuf/config.pb.h:39:0,
                     from /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/op_kernel.h:56,
                     from horovod/tensorflow/mpi_ops.cc:23:
    /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/cost_graph.pb.h:12:2: error: #error This file was generated by a newer version of protoc which is
     #error This file was generated by a newer version of protoc which is
      ^
    /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/cost_graph.pb.h:13:2: error: #error incompatible with your Protocol Buffer headers. Please update
     #error incompatible with your Protocol Buffer headers. Please update
      ^
    /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/cost_graph.pb.h:14:2: error: #error your headers.
     #error your headers.
      ^
    In file included from /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/protobuf/config.pb.h:41:0,
                     from /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/op_kernel.h:56,
                     from horovod/tensorflow/mpi_ops.cc:23:
    /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/step_stats.pb.h:12:2: error: #error This file was generated by a newer version of protoc which is
     #error This file was generated by a newer version of protoc which is
      ^
    /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/step_stats.pb.h:13:2: error: #error incompatible with your Protocol Buffer headers. Please update
     #error incompatible with your Protocol Buffer headers. Please update
      ^
    /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/step_stats.pb.h:14:2: error: #error your headers.
     #error your headers.
      ^
    In file included from /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/step_stats.pb.h:38:0,
                     from /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/protobuf/config.pb.h:41,
                     from /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/op_kernel.h:56,
                     from horovod/tensorflow/mpi_ops.cc:23:
    /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/allocation_description.pb.h:12:2: error: #error This file was generated by a newer version of protoc which is
     #error This file was generated by a newer version of protoc which is
      ^
    /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/allocation_description.pb.h:13:2: error: #error incompatible with your Protocol Buffer headers. Please update
     #error incompatible with your Protocol Buffer headers. Please update
      ^
    /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/allocation_description.pb.h:14:2: error: #error your headers.
     #error your headers.
      ^
    In file included from /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/step_stats.pb.h:39:0,
                     from /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/protobuf/config.pb.h:41,
                     from /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/op_kernel.h:56,
                     from horovod/tensorflow/mpi_ops.cc:23:
    /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/tensor_description.pb.h:12:2: error: #error This file was generated by a newer version of protoc which is
     #error This file was generated by a newer version of protoc which is
      ^
    /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/tensor_description.pb.h:13:2: error: #error incompatible with your Protocol Buffer headers. Please update
     #error incompatible with your Protocol Buffer headers. Please update
      ^
    /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/tensor_description.pb.h:14:2: error: #error your headers.
     #error your headers.
      ^
    In file included from /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/protobuf/config.pb.h:42:0,
                     from /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/op_kernel.h:56,
                     from horovod/tensorflow/mpi_ops.cc:23:
    /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/protobuf/cluster.pb.h:12:2: error: #error This file was generated by a newer version of protoc which is
     #error This file was generated by a newer version of protoc which is
      ^
    /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/protobuf/cluster.pb.h:13:2: error: #error incompatible with your Protocol Buffer headers. Please update
     #error incompatible with your Protocol Buffer headers. Please update
      ^
    /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/protobuf/cluster.pb.h:14:2: error: #error your headers.
     #error your headers.
      ^
    In file included from /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/protobuf/config.pb.h:43:0,
                     from /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/op_kernel.h:56,
                     from horovod/tensorflow/mpi_ops.cc:23:
    /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/protobuf/debug.pb.h:12:2: error: #error This file was generated by a newer version of protoc which is
     #error This file was generated by a newer version of protoc which is
      ^
    /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/protobuf/debug.pb.h:13:2: error: #error incompatible with your Protocol Buffer headers. Please update
     #error incompatible with your Protocol Buffer headers. Please update
      ^
    /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/protobuf/debug.pb.h:14:2: error: #error your headers.
     #error your headers.
      ^
    In file included from /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/protobuf/config.pb.h:44:0,
                     from /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/op_kernel.h:56,
                     from horovod/tensorflow/mpi_ops.cc:23:
    /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/protobuf/rewriter_config.pb.h:12:2: error: #error This file was generated by a newer version of protoc which is
     #error This file was generated by a newer version of protoc which is
      ^
    /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/protobuf/rewriter_config.pb.h:13:2: error: #error incompatible with your Protocol Buffer headers. Please update
     #error incompatible with your Protocol Buffer headers. Please update
      ^
    /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/protobuf/rewriter_config.pb.h:14:2: error: #error your headers.
     #error your headers.
      ^
    In file included from /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/protobuf/rewriter_config.pb.h:40:0,
                     from /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/protobuf/config.pb.h:44,
                     from /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/op_kernel.h:56,
                     from horovod/tensorflow/mpi_ops.cc:23:
    /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/protobuf/verifier_config.pb.h:12:2: error: #error This file was generated by a newer version of protoc which is
     #error This file was generated by a newer version of protoc which is
      ^
    /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/protobuf/verifier_config.pb.h:13:2: error: #error incompatible with your Protocol Buffer headers. Please update
     #error incompatible with your Protocol Buffer headers. Please update
      ^
    /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/protobuf/verifier_config.pb.h:14:2: error: #error your headers.
     #error your headers.
      ^
    In file included from /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/stream_executor/dnn.h:34:0,
                     from /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/stream_executor/stream.h:32,
                     from horovod/tensorflow/mpi_ops.cc:29:
    /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/stream_executor/dnn.pb.h:12:2: error: #error This file was generated by a newer version of protoc which is
     #error This file was generated by a newer version of protoc which is
      ^
    /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/stream_executor/dnn.pb.h:13:2: error: #error incompatible with your Protocol Buffer headers. Please update
     #error incompatible with your Protocol Buffer headers. Please update
      ^
    /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/stream_executor/dnn.pb.h:14:2: error: #error your headers.
     #error your headers.
      ^
    In file included from /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/resource_handle.pb.h:35:0,
                     from /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/tensor.pb.h:35,
                     from /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/attr_value.pb.h:38,
                     from /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/op_def.pb.h:35,
                     from /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/op_def_builder.h:24,
                     from /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/op.h:23,
                     from horovod/tensorflow/mpi_ops.cc:22:
    /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/tensor_shape.pb.h:38:1: error: ‘PROTOBUF_NAMESPACE_OPEN’ does not name a type
     PROTOBUF_NAMESPACE_OPEN
     ^
    /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/tensor_shape.pb.h:42:1: error: ‘PROTOBUF_NAMESPACE_CLOSE’ does not name a type
     PROTOBUF_NAMESPACE_CLOSE
     ^
    In file included from /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/resource_handle.pb.h:35:0,
                     from /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/tensor.pb.h:35,
                     from /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/attr_value.pb.h:38,
                     from /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/op_def.pb.h:35,
                     from /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/op_def_builder.h:24,
                     from /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/op.h:23,
                     from horovod/tensorflow/mpi_ops.cc:22:
    /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/tensor_shape.pb.h:65:1: error: ‘PROTOBUF_NAMESPACE_OPEN’ does not name a type
     PROTOBUF_NAMESPACE_OPEN
     ^
    /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/tensor_shape.pb.h:67:48: error: ‘Arena’ has not been declared
     template&lt;&gt; ::tensorflow::TensorShapeProto_Dim* Arena::CreateMaybeMessage&lt;::tensorflow::TensorShapeProto_Dim&gt;(Arena*);
                                                    ^
    /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/tensor_shape.pb.h:67:73: error: expected initializer before ‘&lt;’ token
     template&lt;&gt; ::tensorflow::TensorShapeProto_Dim* Arena::CreateMaybeMessage&lt;::tensorflow::TensorShapeProto_Dim&gt;(Arena*);
                                                                             ^
    /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/tensor_shape.pb.h:68:1: error: ‘PROTOBUF_NAMESPACE_CLOSE’ does not name a type
     PROTOBUF_NAMESPACE_CLOSE
     ^
    /home/ubuntu/env/t15/lib/python3.6/site-packages/tensorflow_core/include/tensorflow/core/framework/tensor_shape.pb.h:396:30: error: expected declaration before end of line
    error: command '/usr/bin/gcc-5' failed with exit status 1
    ----------------------------------------
ERROR: Command errored out with exit status 1: /home/ubuntu/env/t15/bin/python3 -u -c 'import sys, setuptools, tokenize; sys.argv[0] = '"'"'/tmp/pip-install-dl54mun7/horovod/setup.py'"'"'; __file__='"'"'/tmp/pip-install-dl54mun7/horovod/setup.py'"'"';f=getattr(tokenize, '"'"'open'"'"', open)(__file__);code=f.read().replace('"'"'\r\n'"'"', '"'"'\n'"'"');f.close();exec(compile(code, __file__, '"'"'exec'"'"'))' install --record /tmp/pip-record-xbrj1hw0/install-record.txt --single-version-externally-managed --compile --install-headers /home/ubuntu/env/t15/include/site/python3.6/horovod Check the logs for full command output.
&lt;/denchmark-code&gt;

	</description>
	<comments>
		<comment id='1' author='yselivonchyk' date='2019-11-02T00:00:36Z'>
		Hey &lt;denchmark-link:https://github.com/yselivonchyk&gt;@yselivonchyk&lt;/denchmark-link&gt;
, can you try following the recommendations here: &lt;denchmark-link:https://stackoverflow.com/questions/46235376/tensorflow-protobuf-version-mismatch&gt;https://stackoverflow.com/questions/46235376/tensorflow-protobuf-version-mismatch&lt;/denchmark-link&gt;

See &lt;denchmark-link:https://github.com/horovod/horovod/issues/686&gt;#686&lt;/denchmark-link&gt;
.
		</comment>
	</comments>
</bug>