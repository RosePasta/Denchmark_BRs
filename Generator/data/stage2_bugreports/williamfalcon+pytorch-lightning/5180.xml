<bug id='5180' author='kyoungrok0517' open_date='2020-12-18T11:50:11Z' closed_time='2021-01-20T02:55:43Z'>
	<summary>How can I stop WandbLogger instance being instantiated when calling load_from_checkpoint?</summary>
	<description>
Hello. I have a checkpoint that used wandb during training. Now I want to use the trained model for inference in Hadoop environment. Each node loads the checkpoint, reads data, then infer.
What prevents me is the following error. When I call load_from_checkpoint(), the code tries to re-instate WandbLogger instance. Then WandbLogger tries to read or create global config at /home/.config, which is not accessible from worker processes. In fact I don't need  a logger during my inference so I want to avoid the logger instance being loaded or let the logger to look for global config from different path (e.g. current dir). How can I achieve this?
&lt;denchmark-code&gt;Traceback (most recent call last):
File "/data3/hadoop/yarn/local/usercache/chewie-park/appcache/application_1603778770965_1295035/container_e71_1603778770965_1295035_01_000038/./query_mapper.py", line 11, in &lt;module&gt;
import pytorch_lightning as pl
File "/usr/local/lib/python3.6/site-packages/pytorch_lightning/__init__.py", line 63, in &lt;module&gt;
from pytorch_lightning.trainer import Trainer
File "/usr/local/lib/python3.6/site-packages/pytorch_lightning/trainer/__init__.py", line 18, in &lt;module&gt;
from pytorch_lightning.trainer.trainer import Trainer
File "/usr/local/lib/python3.6/site-packages/pytorch_lightning/trainer/trainer.py", line 32, in &lt;module&gt;
from pytorch_lightning.loggers import LightningLoggerBase
File "/usr/local/lib/python3.6/site-packages/pytorch_lightning/loggers/__init__.py", line 59, in &lt;module&gt;
from pytorch_lightning.loggers.wandb import WandbLogger
File "/usr/local/lib/python3.6/site-packages/pytorch_lightning/loggers/wandb.py", line 26, in &lt;module&gt;
import wandb
File "/usr/local/lib/python3.6/site-packages/wandb/__init__.py", line 116, in &lt;module&gt;
api = InternalApi()
File "/usr/local/lib/python3.6/site-packages/wandb/apis/internal.py", line 17, in __init__
self.api = InternalApi(*args, **kwargs)
File "/usr/local/lib/python3.6/site-packages/wandb/sdk/internal/internal_api.py", line 81, in __init__
load_settings=load_settings, root_dir=self.default_settings.get("root_dir")
File "/usr/local/lib/python3.6/site-packages/wandb/old/settings.py", line 25, in __init__
self._global_settings.read([Settings._global_path()])
File "/usr/local/lib/python3.6/site-packages/wandb/old/settings.py", line 105, in _global_path
util.mkdir_exists_ok(config_dir)
File "/usr/local/lib/python3.6/site-packages/wandb/util.py", line 632, in mkdir_exists_ok
os.makedirs(path)
File "/usr/local/lib/python3.6/os.py", line 210, in makedirs
makedirs(head, mode, exist_ok)
File "/usr/local/lib/python3.6/os.py", line 220, in makedirs
mkdir(name, mode)
PermissionError: [Errno 13] Permission denied: '/home/.config'
&lt;/denchmark-code&gt;

	</description>
	<comments>
		<comment id='1' author='kyoungrok0517' date='2020-12-20T06:28:31Z'>
		It looks like you can't do import wandb in that environment. Maybe it is something that should be reported to wandb? You could try to uninstall wandb, then it shouldn't lead to the import.
		</comment>
		<comment id='2' author='kyoungrok0517' date='2021-01-19T07:25:51Z'>
		This issue has been automatically marked as stale because it hasn't had any recent activity. This issue will be closed in 7 days if no further activity occurs. Thank you for your contributions, Pytorch Lightning Team!
		</comment>
		<comment id='3' author='kyoungrok0517' date='2021-01-20T02:55:43Z'>
		Did my suggestion work or did you find any other solution?
PL does not install wandb by default, it's an optional requirement. If wandb is available in the environment, Lightning will try to import it, this is simply because it is part of the __init__.py file of the loggers module. If the import fails, then there must be something wrong with the installation of wandb, or an unsupported platform.
		</comment>
		<comment id='4' author='kyoungrok0517' date='2021-01-20T02:59:35Z'>
		I think that worked. My colleague tried that and gave me no additional
feedback, likely because somehow succeeded in loading the model. Thanks for
the comment :)

2021년 1월 20일 (수) 오전 11:55, Adrian Wälchli &lt;notifications@github.com&gt;님이 작성:
&lt;denchmark-link:#&gt;…&lt;/denchmark-link&gt;


 Did my suggestion work or did you find any other solution?
 PL does not install wandb by default, it's an optional requirement. If
 wandb is available in the environment, Lightning will try to import it,
 this is simply becaue it is part of the "*init*.py" file of the loggers
 module. If the import fails, then there must be something wrong with the
 installation of wandb, or an unsupported platform.

 —
 You are receiving this because you authored the thread.
 Reply to this email directly, view it on GitHub
 &lt;#5180 (comment)&gt;,
 or unsubscribe
 &lt;https://github.com/notifications/unsubscribe-auth/AAIAZ7BIFT5YBIUR5CHOJU3S2ZA33ANCNFSM4VBCG4VA&gt;
 .



		</comment>
	</comments>
</bug>