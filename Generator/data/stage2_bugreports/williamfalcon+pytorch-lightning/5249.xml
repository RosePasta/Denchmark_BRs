<bug id='5249' author='kandluis' open_date='2020-12-23T18:12:38Z' closed_time='2021-01-05T15:36:07Z'>
	<summary>Saving meta tags hparams file in Tensorboard Logger can occur multiple times</summary>
	<description>
&lt;denchmark-h:h2&gt;üêõ Bug&lt;/denchmark-h&gt;

The bug exists exactly here &lt;denchmark-link:https://github.com/PyTorchLightning/pytorch-lightning/blob/master/pytorch_lightning/loggers/tensorboard.py#L220&gt;https://github.com/PyTorchLightning/pytorch-lightning/blob/master/pytorch_lightning/loggers/tensorboard.py#L220&lt;/denchmark-link&gt;
. The if statement is checking using  rather than .
As written, when using a non-local filesystem (such as S3, etc.), the os.path.isfile will always return false, meaning the content in the if-statement is always executed.
This is counter to expectations where normally the file is not overwritten if it already exists.
&lt;denchmark-h:h2&gt;Please reproduce using the BoringModel and post here&lt;/denchmark-h&gt;

No reproduction.
&lt;denchmark-h:h3&gt;To Reproduce&lt;/denchmark-h&gt;

The bug is not immediately obvious, but we found it when using Lightning with FB's internal distributed storage. In a workflow where multiple trainers are launched with the same hypers, the distributed storage system will throw when the same file is being written to at the same time. This is how we discovered this bug.
&lt;denchmark-h:h3&gt;Expected behavior&lt;/denchmark-h&gt;

From the code and from behavior on the local filesystem, it seems clear that the expected behavior is to check if the file exists and write it only if it does not.
&lt;denchmark-h:h3&gt;Environment&lt;/denchmark-h&gt;

N/A
&lt;denchmark-h:h3&gt;Additional context&lt;/denchmark-h&gt;

I'll be sending a pull-request to fix this minor bug shortly.
	</description>
	<comments>
	</comments>
</bug>