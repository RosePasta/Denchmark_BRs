<bug id='45' author='Baichenjia' open_date='2019-03-15T12:07:40Z' closed_time='2019-03-18T06:00:02Z'>
	<summary>different from the paper</summary>
	<description>
In tcn/tcn.py
&lt;denchmark-code&gt;def residual_block(x, dilation_rate, nb_filters, kernel_size, padding, dropout_rate=0):
    prev_x = x
    for k in range(2):
        x = Conv1D(filters=nb_filters,
                   kernel_size=kernel_size,
                   dilation_rate=dilation_rate,
                   padding=padding)(x)
        x = Activation('relu')(x)
        x = SpatialDropout1D(rate=dropout_rate)(x)

    x = Convolution1D(nb_filters, 1, padding='same')(x)
    res_x = keras.layers.add([prev_x, x])
    return res_x, x
&lt;/denchmark-code&gt;

I think the code  x = Convolution1D(nb_filters, 1, padding='same')(x) in the penultimate line 3 is not correct. This code want to match the shapes of prev_x and x. I think it's input should be prev_x and not x.
Change the last 3 lines to:
&lt;denchmark-code&gt;prev_x = Conv1D(nb_filters, 1, padding='same')(prev_x)
res_x = keras.layers.add([prev_x, x])
return res_x, x
` ``
&lt;/denchmark-code&gt;

	</description>
	<comments>
		<comment id='1' author='Baichenjia' date='2019-03-18T03:40:22Z'>
		Hi philipperemy
Maybe this is related to the little drop to my earlier question (can improve performance)?
Thank you
		</comment>
		<comment id='2' author='Baichenjia' date='2019-03-18T04:50:49Z'>
		&lt;denchmark-link:https://github.com/Baichenjia&gt;@Baichenjia&lt;/denchmark-link&gt;
 great catch! Going to change it right now!
&lt;denchmark-link:https://github.com/HighPerformance01&gt;@HighPerformance01&lt;/denchmark-link&gt;
 will let you know ;)
		</comment>
		<comment id='3' author='Baichenjia' date='2019-03-18T06:00:01Z'>
		Fixed &lt;denchmark-link:https://github.com/philipperemy/keras-tcn/commit/81a68051ec40e0dde979fcfedf6461bdfb7f56c9&gt;81a6805&lt;/denchmark-link&gt;

To get the latest version:
&lt;denchmark-code&gt;pip install keras-tcn --upgrade
&lt;/denchmark-code&gt;

		</comment>
		<comment id='4' author='Baichenjia' date='2019-03-18T08:16:32Z'>
		Thanks to the adoption of comments.
I have written a Github repository named "Tensorflow-TCN" (&lt;denchmark-link:https://github.com/Baichenjia/Tensorflow-TCN&gt;https://github.com/Baichenjia/Tensorflow-TCN&lt;/denchmark-link&gt;
), which is an implementation of  with tensorflow 1.13 (eager execution).
The explanation and graph in this README.md refers to &lt;denchmark-link:https://github.com/philipperemy/keras-tcn&gt;Keras-TCN&lt;/denchmark-link&gt;
.
I have add links to &lt;denchmark-link:https://github.com/philipperemy/keras-tcn&gt;Keras-TCN&lt;/denchmark-link&gt;
 in my README.md.
I will be very grateful if you can add a hyperlink to &lt;denchmark-link:https://github.com/Baichenjia/Tensorflow-TCN&gt;Tensorflow-TCN&lt;/denchmark-link&gt;
 in README.md of &lt;denchmark-link:https://github.com/philipperemy/keras-tcn&gt;Keras-TCN&lt;/denchmark-link&gt;
.
Thank you very much! &lt;denchmark-link:https://github.com/philipperemy&gt;@philipperemy&lt;/denchmark-link&gt;

		</comment>
	</comments>
</bug>