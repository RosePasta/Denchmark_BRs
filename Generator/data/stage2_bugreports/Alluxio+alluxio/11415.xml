<bug id='11415' author='gpang' open_date='2020-05-11T05:10:52Z' closed_time='2020-05-11T18:09:39Z'>
	<summary>On failover, the old primary might modify journal files (for the UFS journal)</summary>
	<description>
Alluxio Version:
2.2
Describe the bug
For UFS journal.
When failing over, the new secondary (was primary) can rename the journal file that the new primary is writing to. This can cause some journal entries to be lost.
To Reproduce

during a flush command, the primary has to lose primacy
the new primary writes new journal entries
the old primary, while transitioning to secondary, will try to recover the log files, and in that process, will rename the last log file (which the new primary is already writing to)
now, the new primary is writing entries to a file which was renamed to a different filename.

Expected behavior
The secondary should not modify journal files.
Urgency
Critical, for failovers.
	</description>
	<comments>
	</comments>
</bug>