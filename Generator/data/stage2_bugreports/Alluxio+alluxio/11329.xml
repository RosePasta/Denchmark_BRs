<bug id='11329' author='jiemar' open_date='2020-04-22T08:53:05Z' closed_time='2020-05-15T01:59:28Z'>
	<summary>nosasl cause alluxio master no working</summary>
	<description>
Alluxio Version:
2.2.0
Describe the bug
presto query shows :
failed to list directory: alluxio://ip:port/xxxx
To Reproduce


alluxio-site.properties
alluxio.master.hostname=30.105.22.146
alluxio.master.embedded.journal.addresses=30.105.22.147:19200,30.105.22.146:19200
alluxio.master.mount.table.root.ufs=hdfs://CNSH431627:8020
alluxio.security.authentication.type=NOSASL


prestodb + catalog service
execute a query:
select count(*) from hivedemo1.emp5;


master printed the log:
2020-04-22 16:36:43,508 WARN  FileSystemMasterClientServiceHandler - Exit (Error): ListStatus: request: path: "/user/hive/warehouse/hivedemo1.db/emp5"
options {
loadMetadataType: ONCE
commonOptions {
syncIntervalMs: -1
ttl: -1
ttlAction: DELETE
}
}
, Error=alluxio.exception.AccessControlException: Authentication is not enabled


alluxio version :
community 2.2.0
presto-hive-alluxio-connector  version:
enterprice-2.2.0-1.0


	</description>
	<comments>
		<comment id='1' author='jiemar' date='2020-04-24T02:19:22Z'>
		Did you set alluxio.security.authentication.type=NOSASL on the client side as well as on the masters and workers?
Clients need to be aware of the authentication type before connecting. See our documentation on how to configure alluxio properties for presto
&lt;denchmark-link:https://docs.alluxio.io/os/user/stable/en/compute/Presto.html#customize-alluxio-user-properties&gt;https://docs.alluxio.io/os/user/stable/en/compute/Presto.html#customize-alluxio-user-properties&lt;/denchmark-link&gt;

		</comment>
		<comment id='2' author='jiemar' date='2020-04-24T06:01:40Z'>
		can you also run
&lt;denchmark-code&gt;./bin/alluxio logLevel \
--logName=alluxio.master.file.FileSystemMasterClientServiceHandler \
--target master --level=DEBUG
&lt;/denchmark-code&gt;

to enable more details in the error log? It will help us locate the exception
&lt;denchmark-link:https://github.com/ZacBlanco&gt;@ZacBlanco&lt;/denchmark-link&gt;
  the same error message  is used by multiple different methods when throwing exception for different reasons. it is pretty hard to tell where really is the origin of this exception if we have only the error message. Shall we target to change this pattern ?
		</comment>
	</comments>
</bug>