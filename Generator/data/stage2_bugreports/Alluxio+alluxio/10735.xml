<bug id='10735' author='bf8086' open_date='2020-01-13T22:52:52Z' closed_time='2020-04-01T18:38:52Z'>
	<summary>checkConsistency fails for files that are asynchronously persisted</summary>
	<description>
Alluxio Version:
2.2-SNAPSHOT
Describe the bug
Running alluxio fs checkConsistency will fail on files that are asynchronously persisted.
To Reproduce
Start Alluxio.
Run alluxio runTests
Run alluxio fs checkConsistency /
Got
&lt;denchmark-code&gt;The following files are inconsistent:
/default_tests_files/BASIC_CACHE_ASYNC_THROUGH
/default_tests_files/BASIC_CACHE_PROMOTE_ASYNC_THROUGH
/default_tests_files/BASIC_NON_BYTE_BUFFER_CACHE_ASYNC_THROUGH
/default_tests_files/BASIC_NON_BYTE_BUFFER_CACHE_PROMOTE_ASYNC_THROUGH
/default_tests_files/BASIC_NON_BYTE_BUFFER_NO_CACHE_ASYNC_THROUGH
/default_tests_files/BASIC_NO_CACHE_ASYNC_THROUGH
&lt;/denchmark-code&gt;

Expected behavior
checkConsistency should show that everything is consistent.
Urgency
medium, does not affect data integrity or other operations, but can be confusing to users.
Additional context
Add any other context about the problem here.
	</description>
	<comments>
		<comment id='1' author='bf8086' date='2020-02-06T23:42:12Z'>
		&lt;denchmark-link:https://github.com/bf8086&gt;@bf8086&lt;/denchmark-link&gt;
  - is this fixed in 2.1.2 patch?
		</comment>
		<comment id='2' author='bf8086' date='2020-02-07T19:42:44Z'>
		yes.
		</comment>
		<comment id='3' author='bf8086' date='2020-02-07T19:43:37Z'>
		Resolved by &lt;denchmark-link:https://github.com/Alluxio/alluxio/pull/10785&gt;#10785&lt;/denchmark-link&gt;

		</comment>
	</comments>
</bug>