<bug id='9774' author='mohanpothula' open_date='2019-08-22T13:47:25Z' closed_time='2019-10-09T20:58:18Z'>
	<summary>Zeppelin integration with Alluxio 2.0</summary>
	<description>
Alluxio Version:
What version of Alluxio are you using?
Describe the bug
A clear and concise description of what the bug is.
To Reproduce
Steps to reproduce the behavior (as minimally and precisely as possible)
Expected behavior
A clear and concise description of what you expected to happen.
Urgency
Describe the impact and urgency of the bug.
Additional context
Add any other context about the problem here.
	</description>
	<comments>
		<comment id='1' author='mohanpothula' date='2019-08-22T13:52:41Z'>
		Hi
I am trying Zeeplin with Alluxio integration ,when running spark intractive queries getting class not found exception though add alluxio class jar in zeppelin class path as below
&lt;denchmark-link:https://user-images.githubusercontent.com/17589088/63520299-11878000-c527-11e9-8b32-d84f0f08cb1f.png&gt;&lt;/denchmark-link&gt;

		</comment>
		<comment id='2' author='mohanpothula' date='2019-08-23T08:42:40Z'>
		I am using Alluxio 2.0 storage along with aws s3 bukcet.I have started Master slave Aluxio cluster and able to run the jobs using spark 2.x,However having issue when run spark interactive queries using Alluxio storage and it throwing the error below though set class path in Zeppelin env
Java.lang.RuntimeException: java.lang.ClassNotFoundException: Class alluxio.hadoop.FileSystem not found
at org.apache.hadoop.conf.Configuration.getClass(Configuration.java:2596)
at org.apache.hadoop.fs.FileSystem.getFileSystemClass(FileSystem.java:3269)
at org.apache.hadoop.fs.FileSystem.createFileSystem(FileSystem.java:3301)
at org.apache.hadoop.fs.FileSystem.access$200(FileSystem.java:124)
at org.apache.hadoop.fs.FileSystem$Cache.getInternal(FileSystem.java:3352)
at org.apache.hadoop.fs.FileSystem$Cache.get(FileSystem.java:3320)
at org.apache.hadoop.fs.FileSystem.get(FileSystem.java:479)
at org.apache.hadoop.fs.Path.getFileSystem(Path.java:361)
at org.apache.spark.sql.execution.datasources.DataSource$.org$apache$spark$sql$execution$datasources$DataSource$$checkAndGlobPathIfNecessary(DataSource.scala:709)
Steps taken
Add the entries below in Zeppelin env
spark.driver.extraClassPath /App/Alluxio/alluxio-2.0.0/client/alluxio-2.0.0-client.jar
spark.driver.extraLibraryPath /usr/hdp/current/hadoop-client/lib/native:/usr/hdp/current/hadoop-
spark.executor.extraClassPath /App/Alluxio/alluxio-2.0.0/client/alluxio-2.0.0-client.jar
Versions
Alluxio 2.0
ZooKeeper   3.4.6
Zeppelin Notebook 0.8.0
Saprk 2.3.2
HDP-3.1.0.0
Would appreciate if any advise on the issue above
		</comment>
		<comment id='3' author='mohanpothula' date='2019-08-23T21:27:00Z'>
		hi &lt;denchmark-link:https://github.com/mohanpothula&gt;@mohanpothula&lt;/denchmark-link&gt;
 , here is an explanation why "Class alluxio.hadoop.FileSystem not found" is thrown, see  &lt;denchmark-link:https://www.alluxio.io/blog/developer-tip-why-did-my-job-fail-with-error-message-class-alluxiohadoopfilesystem-not-found/&gt;https://www.alluxio.io/blog/developer-tip-why-did-my-job-fail-with-error-message-class-alluxiohadoopfilesystem-not-found/&lt;/denchmark-link&gt;

In addition, you can take a look at this and see if it helos
&lt;denchmark-link:https://docs.alluxio.io/os/user/stable/en/compute/Spark.html#class-alluxiohadoopfilesystem-not-found-issues-with-sparksql-and-hive-metastore&gt;https://docs.alluxio.io/os/user/stable/en/compute/Spark.html#class-alluxiohadoopfilesystem-not-found-issues-with-sparksql-and-hive-metastore&lt;/denchmark-link&gt;

Plus, how is Spark launched by Zeppelin? Is it running in standalone mode or by some other scheduler like YARN? For later, you may also need to inform YARN, see &lt;denchmark-link:https://docs.alluxio.io/os/user/stable/en/deploy/Running-Alluxio-On-Yarn.html#configure-yarnapplicationclasspath&gt;https://docs.alluxio.io/os/user/stable/en/deploy/Running-Alluxio-On-Yarn.html#configure-yarnapplicationclasspath&lt;/denchmark-link&gt;

		</comment>
		<comment id='4' author='mohanpothula' date='2019-08-28T21:11:48Z'>
		&lt;denchmark-link:https://github.com/mohanpothula&gt;@mohanpothula&lt;/denchmark-link&gt;
 were any of the links able to help you?
		</comment>
		<comment id='5' author='mohanpothula' date='2019-10-09T20:58:18Z'>
		Closing this issue due to inactivity. Please reopen it if you need more help.
		</comment>
	</comments>
</bug>