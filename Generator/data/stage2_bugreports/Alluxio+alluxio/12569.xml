<bug id='12569' author='prmadir1' open_date='2020-11-22T02:18:44Z' closed_time='2020-11-28T03:31:55Z'>
	<summary>Alluxio  does not work with IBM Cloud Object Storage as an underlying storage</summary>
	<description>
Alluxio Version:
What version of Alluxio are you using? Alluxio 2.2.0
Describe the bug
I was trying to configure IBM Cloud Object Storage as an underlying storage for alluxio.  Since IBM Cloud Object Storage is S3-API Compatible , tried using the AWS config parameters to mount the IBM COS  buckets similar to MinIO but unable to get it work as i keep getting 403 errors.  Plese find commands and logs below:


./bin/alluxio fs mount --option aws.accessKeyId=XXXX --option aws.secretKey=XXXX --option alluxio.underfs.s3.disable.dns.buckets=true --option alluxio.underfs.s3.endpoint=https://s3.direct.eu.cloud-object-storage.appdomain.cloud /mnt/s3 s3://XXXX/
com.amazonaws.services.s3.model.AmazonS3Exception: Forbidden (Service: Amazon S3; Status Code: 403; Error Code: 403 Forbidden; Request ID: 77F1F14CB9E4784C; S3 Extended Request ID: tL5o3oXL+TniRUoKtZY4hGOaDYKYpgWjQgTYWVesaiRww4THEKjcNWbYCQXK6Fb6NwL77uHQmBs=), S3 Extended Request ID: tL5o3oXL+TniRUoKtZY4hGOaDYKYpgWjQgTYWVesaiRww4THEKjcNWbYCQXK6Fb6NwL77uHQmBs=


Alluxio master logs for the above command:
2020-11-21 04:53:43,399 INFO  ExtensionFactoryRegistry - Loading core jars from /opt/alluxio-2.2.0/lib
2020-11-21 04:53:43,415 INFO  ExtensionFactoryRegistry - Loading extension jars from /opt/alluxio-2.2.0/extensions
2020-11-21 04:53:44,097 WARN  FileSystemMasterClientServiceHandler - Exit (Error): Mount: request=alluxioPath: "/mnt/s3"
ufsPath: "s3://XXXX/"
options {
readOnly: false
properties {
key: "aws.secretKey"
value: "XXXX"
}
properties {
key: "aws.accessKeyId"
value: "XXXX"
}
properties {
key: "alluxio.underfs.s3.endpoint"
value: "&lt;denchmark-link:https://s3.direct.eu.cloud-object-storage.appdomain.cloud&gt;https://s3.direct.eu.cloud-object-storage.appdomain.cloud&lt;/denchmark-link&gt;
"
}
properties {
key: "alluxio.underfs.s3.disable.dns.buckets"
value: "true"
}
shared: false
commonOptions {
syncIntervalMs: -1
ttl: -1
ttlAction: DELETE
}
}
, Error=java.io.IOException: com.amazonaws.services.s3.model.AmazonS3Exception: Forbidden (Service: Amazon S3; Status Code: 403; Error Code: 403 Forbidden; Request ID: B6A05E8CD0D9920A; S3 Extended Request ID: X/359gjljZYBZsC1/VQEyYLEZlpQ6dbYTNZjhzOGm6sZy2ga15xEO24mlawTgriwAOiw85UrdEk=), S3 Extended Request ID: X/359gjljZYBZsC1/VQEyYLEZlpQ6dbYTNZjhzOGm6sZy2ga15xEO24mlawTgriwAOiw85UrdEk=
To Reproduce
Please find commands above to reproduce this issue
Expected behavior
Alluxio to be able to mount IBM COS buckets as underlying storage
Urgency
Will be helpful if this is taken on priority as we have a scheduled customer engagements  in few days.
Additional context
Add any other context about the problem here.
	</description>
	<comments>
		<comment id='1' author='prmadir1' date='2020-11-28T03:31:48Z'>
		Please ignore. I was able to get this work for me. closing as a non-issue.
		</comment>
		<comment id='2' author='prmadir1' date='2020-11-28T03:32:05Z'>
		Closing as not-a-bug
		</comment>
	</comments>
</bug>