<bug id='10204' author='maobaolong' open_date='2019-10-23T01:44:27Z' closed_time='2020-01-17T23:24:11Z'>
	<summary>use alluxio://MasterIp:MasterPort/  report does not match the configured value</summary>
	<description>
Alluxio Version:
master
Describe the bug
use alluxio://MasterIp:MasterPort/ cannot pass from checkUri method.
To Reproduce

alluxio-site.properties

 alluxio.master.hostname=localhost

execute command to reproduce

 bin/alluxio fs ls  alluxio://192.168.1.120:19998/
The URI authority 192.168.1.120:19998 does not match the configured value of localhost:19998.
Expected behavior
The alluxio shell should as a general client, it should support connect to any alluxio through variant authority
  private void checkUri(AlluxioURI uri) {
    Preconditions.checkNotNull(uri, "uri");
    if (!mFsContext.getUriValidationEnabled()) {
      return;
    }

    if (uri.hasScheme()) {
      String warnMsg = "The URI scheme \"{}\" is ignored and not required in URIs passed to"
          + " the Alluxio Filesystem client.";
      switch (uri.getScheme()) {
        case Constants.SCHEME:
          LOG.warn(warnMsg, Constants.SCHEME);
          break;
        default:
          throw new IllegalArgumentException(
              String.format("Scheme %s:// in AlluxioURI is invalid. Schemes in filesystem"
                  + " operations are ignored. \"alluxio://\" or no scheme at all is valid.",
                  uri.getScheme()));
      }
    }

    if (uri.hasAuthority()) {
      LOG.warn("The URI authority (hostname and port) is ignored and not required in URIs passed "
          + "to the Alluxio Filesystem client.");
      /* Even if we choose to log the warning, check if the Configuration host matches what the
       * user passes. If not, throw an exception letting the user know they don't match.
       */
      Authority configured =
          MasterInquireClient.Factory
              .create(mFsContext.getClusterConf(), mFsContext.getClientContext().getUserState())
              .getConnectDetails().toAuthority();
      if (!configured.equals(uri.getAuthority())) {
        throw new IllegalArgumentException(
            String.format("The URI authority %s does not match the configured " + "value of %s.",
                uri.getAuthority(), configured));
      }
    }
  }
maybe we should discuss if we should remove this conditionif (!configured.equals(uri.getAuthority()))
Urgency
High
Additional context
It is useful to the maintainer of Alluxio.
	</description>
	<comments>
		<comment id='1' author='maobaolong' date='2020-01-17T23:24:10Z'>
		&lt;denchmark-link:https://github.com/maobaolong&gt;@maobaolong&lt;/denchmark-link&gt;
 the Alluxio client is designed to only connect with the configured server. A client can connect with multiple servers programmatically with different file system instances (they can be configured individually).
		</comment>
	</comments>
</bug>