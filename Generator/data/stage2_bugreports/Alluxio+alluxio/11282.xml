<bug id='11282' author='Binyang2014' open_date='2020-04-13T06:16:41Z' closed_time='2020-04-22T18:52:14Z'>
	<summary>ALLUXIO_FUSE_JAVA_OPTS Not take effect</summary>
	<description>
Alluxio Version:
2.2.0
Describe the bug
deploy alluxio in k8s. Using single master config



alluxio/integration/kubernetes/singleMaster-localJournal/alluxio-configmap.yaml.template


        Lines 40 to 41
      in
      2529b73






 ALLUXIO_FUSE_JAVA_OPTS: |- 



   -Dalluxio.user.hostname=${ALLUXIO_CLIENT_HOSTNAME} -Dalluxio.worker.hostname=${ALLUXIO_CLIENT_HOSTNAME}  -XX:MaxDirectMemorySize=2g  





But  ALLUXIO_FUSE_JAVA_OPTS not take effect. According to 


alluxio/integration/fuse/bin/alluxio-fuse


         Line 48
      in
      2529b73






 ALLUXIO_FUSE_JAVA_OPTS=${ALLUXIO_JAVA_OPTS} 





It was overwrite.
What's the recommend way to set FUSE_OPTS in alluxio?
	</description>
	<comments>
		<comment id='1' author='Binyang2014' date='2020-04-20T08:38:50Z'>
		Hi &lt;denchmark-link:https://github.com/Binyang2014&gt;@Binyang2014&lt;/denchmark-link&gt;
 this looks like a bug to me
 ALLUXIO_FUSE_JAVA_OPTS=${ALLUXIO_JAVA_OPTS} 
should probably be
 ALLUXIO_FUSE_JAVA_OPTS+=" ${ALLUXIO_JAVA_OPTS}"
We'll try to get this fixed soon
		</comment>
		<comment id='2' author='Binyang2014' date='2020-04-21T00:53:13Z'>
		&lt;denchmark-link:https://github.com/ZacBlanco&gt;@ZacBlanco&lt;/denchmark-link&gt;
  I created a PR to address this issue.
&lt;denchmark-link:https://github.com/Binyang2014&gt;@Binyang2014&lt;/denchmark-link&gt;
 not sure if you are able to recompile the code but this fix should be available in our nightly docker image build
		</comment>
		<comment id='3' author='Binyang2014' date='2020-04-21T01:44:57Z'>
		Thanks &lt;denchmark-link:https://github.com/apc999&gt;@apc999&lt;/denchmark-link&gt;
 for quick fix.  Will have a try.
		</comment>
	</comments>
</bug>