<bug id='9461' author='liuhongtong' open_date='2019-07-15T03:48:37Z' closed_time='2019-07-19T22:38:13Z'>
	<summary>Umount failed by Alluxio FUSE</summary>
	<description>
Alluxio Version:
2.0
Describe the bug
Umount Alluxio FUSE mount point failed, while there is no other process occupy this mount point.
&lt;denchmark-code&gt;\# umount /mnt/alluxio-fuse/
umount: /mnt/alluxio-fuse: target is busy.
        (In some cases useful info about processes that use
         the device is found by lsof(8) or fuser(1))
&lt;/denchmark-code&gt;

To Reproduce
loop execution:
&lt;denchmark-code&gt;alluxio-fuse mount -o allow_other /mnt/alluxio-fuse/ /
touch /mnt/alluxio-fuse/mount-test/mount-test
umount /mnt/alluxio-fuse/
&lt;/denchmark-code&gt;

	</description>
	<comments>
		<comment id='1' author='liuhongtong' date='2019-07-15T22:16:42Z'>
		any finding from kernel level logs on why the mount point was busy, &lt;denchmark-link:https://github.com/liuhongtong&gt;@liuhongtong&lt;/denchmark-link&gt;
 ?
		</comment>
		<comment id='2' author='liuhongtong' date='2019-07-19T06:54:14Z'>
		Hi &lt;denchmark-link:https://github.com/liuhongtong&gt;@liuhongtong&lt;/denchmark-link&gt;
, to unmount Alluxio fuse, the expected way is
alluxio-fuse umount /mnt/alluxio-fuse/ which will kill the alluxio fuse client process.
is there any reason you have to use system umount rather than alluxio-fuse umount?
		</comment>
		<comment id='3' author='liuhongtong' date='2019-07-19T07:42:10Z'>
		&lt;denchmark-link:https://github.com/apc999&gt;@apc999&lt;/denchmark-link&gt;
 umount syscall need add reference of the mount point. umount syscall may success only when the reference is 2, while the default reference is 1. If another umount executed, the reference will be 3, then all the two umount will fail.
		</comment>
		<comment id='4' author='liuhongtong' date='2019-07-19T07:45:30Z'>
		&lt;denchmark-link:https://github.com/apc999&gt;@apc999&lt;/denchmark-link&gt;
 alluxio-fuse umount is the right way. But FUSE is one file system of Linux, so Alluxio FUSE should support umount command as well.
		</comment>
	</comments>
</bug>