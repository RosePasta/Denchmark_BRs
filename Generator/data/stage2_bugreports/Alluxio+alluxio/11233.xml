<bug id='11233' author='martenlindblad' open_date='2020-04-02T07:29:15Z' closed_time='2020-04-10T01:45:41Z'>
	<summary>UI does not build</summary>
	<description>
Alluxio Version:
2.2.0
Describe the bug
&lt;denchmark-code&gt;lerna ERR! npm run build --production  --no-save --no-package-lock --no-shrinkwrap exited 1 in '@alluxio/worker-ui'
lerna ERR! npm run build --production  --no-save --no-package-lock --no-shrinkwrap stdout:

&gt; @alluxio/worker-ui@1.0.0 build /root/alluxio/webui/worker
&gt; NODE_ENV=production &amp;&amp; npm-run-all --parallel build-css build-js


&gt; @alluxio/worker-ui@1.0.0 build-css /root/alluxio/webui/worker
&gt; node-sass-chokidar --importer=../node_modules/node-sass-tilde-importer --include-path ./src --include-path ./node_modules src/ -o src/


&gt; @alluxio/worker-ui@1.0.0 build-js /root/alluxio/webui/worker
&gt; react-app-rewired build --scripts-version react-scripts

Rendering Complete, saving .css file...
Wrote CSS to /root/alluxio/webui/worker/src/containers/App/App.css
Rendering Complete, saving .css file...
Wrote CSS to /root/alluxio/webui/worker/src/index.css
Creating an optimized production build...
Failed to compile.

/root/alluxio/webui/worker/src/index.tsx
Type error: Property 'scroll' does not exist on type '{}'.  TS2339

    38 | 
    39 |   // Allow the client to control scroll-to-top using location.state
  &gt; 40 |   if (loc.state &amp;&amp; loc.state.scroll !== undefined &amp;&amp; !loc.state.scroll) {
       |                              ^
    41 |     return;
    42 |   }
    43 |



lerna ERR! npm run build --production  --no-save --no-package-lock --no-shrinkwrap stderr:
Wrote 2 CSS files to /root/alluxio/webui/worker/src/
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! @alluxio/worker-ui@1.0.0 build-js: `react-app-rewired build --scripts-version react-scripts`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the @alluxio/worker-ui@1.0.0 build-js script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /root/.npm/_logs/2020-04-02T07_25_33_290Z-debug.log
ERROR: "build-js" exited with 1.
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! @alluxio/worker-ui@1.0.0 build: `NODE_ENV=production &amp;&amp; npm-run-all --parallel build-css build-js`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the @alluxio/worker-ui@1.0.0 build script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /root/.npm/_logs/2020-04-02T07_25_33_306Z-debug.log
&lt;/denchmark-code&gt;

To Reproduce
mvn -T 2C clean package -DskipTests -Dmaven.javadoc.skip -Dfindbugs.skip -Dcheckstyle.skip -Dlicense.skip on FreeBSD 12.1 using node v10.17.0 and npm v6.12.1
Expected behavior
Compile!
Urgency
No real urgency
Additional context
Add any other context about the problem here.
	</description>
	<comments>
		<comment id='1' author='martenlindblad' date='2020-04-03T15:12:34Z'>
		&lt;denchmark-link:https://github.com/tieujason330&gt;@tieujason330&lt;/denchmark-link&gt;
 can you take a look at this?
		</comment>
		<comment id='2' author='martenlindblad' date='2020-04-04T20:18:27Z'>
		&lt;denchmark-link:https://github.com/martenlindblad&gt;@martenlindblad&lt;/denchmark-link&gt;
 I'm also seeing your issue when I use node v10.17.0. Can you switch to using v10.11.0?
If you have &lt;denchmark-link:https://github.com/nvm-sh/nvm#install--update-script&gt;nvm&lt;/denchmark-link&gt;
 installed, you can run . When the webui builds, it installs node v10.11.0 locally, but it looks like it doesn't get used if another node version is already installed on the system.
		</comment>
		<comment id='3' author='martenlindblad' date='2020-04-07T08:52:43Z'>
		
@martenlindblad I'm also seeing your issue when I use node v10.17.0. Can you switch to using v10.11.0?
If you have nvm installed, you can run nvm install v10.11.0. When the webui builds, it installs node v10.11.0 locally, but it looks like it doesn't get used if another node version is already installed on the system.

I have the same issues with node v10.11.0 and npm 6.4.1 installed via nvm.
		</comment>
		<comment id='4' author='martenlindblad' date='2020-04-07T18:51:07Z'>
		When you installed 10.11.0, did nvm switch to using it? Can you paste what the output of npm version is?
ex:
&lt;denchmark-code&gt;$ npm version 

{ npm: '6.4.1',
  ares: '1.14.0',
  cldr: '33.1',
  http_parser: '2.8.0',
  icu: '62.1',
  modules: '64',
  napi: '3',
  nghttp2: '1.33.0',
  node: '10.11.0',
  openssl: '1.1.0i',
  tz: '2018e',
  unicode: '11.0',
  uv: '1.23.0',
  v8: '6.8.275.32-node.28',
  zlib: '1.2.11' }
&lt;/denchmark-code&gt;

		</comment>
		<comment id='5' author='martenlindblad' date='2020-04-08T07:31:20Z'>
		&lt;denchmark-code&gt;{ npm: '6.4.1',
  ares: '1.14.0',
  cldr: '33.1',
  http_parser: '2.8.0',
  icu: '62.1',
  modules: '64',
  napi: '3',
  nghttp2: '1.33.0',
  node: '10.11.0',
  openssl: '1.1.0i',
  tz: '2018e',
  unicode: '11.0',
  uv: '1.23.0',
  v8: '6.8.275.32-node.28',
  zlib: '1.2.11' }
&lt;/denchmark-code&gt;

		</comment>
		<comment id='6' author='martenlindblad' date='2020-04-09T02:24:24Z'>
		&lt;denchmark-link:https://github.com/tieujason330&gt;@tieujason330&lt;/denchmark-link&gt;
 helloï¼Œi meet the same issue in centos6.  but it can run successfully in macOS.
		</comment>
		<comment id='7' author='martenlindblad' date='2020-04-09T03:25:42Z'>
		thanks guys, i'm not entirely sure why it's complaining for some OSes, but i'll make a minor change to fix this.
		</comment>
	</comments>
</bug>