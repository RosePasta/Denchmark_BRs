<bug id='10345' author='osenlin' open_date='2019-10-29T07:00:50Z' closed_time='2019-10-29T07:52:35Z'>
	<summary>There was an error presto querying ORC's table</summary>
	<description>
Alluxio Version:
2.0
Describe the bug
when I use presto query text table is ok. But I use presto query orc tableï¼Œget error

com.facebook.presto.spi.PrestoException: Error opening Hive split alluxio:/dw_data/user_behavior_detail/part-02170-5ac9bb3a-593c-4534-b1b8-435e188f668f-c000.snappy.orc (offset=67108864, length=33554432): java.lang.ClassNotFoundException: Class alluxio.hadoop.FileSystem not found
at com.facebook.presto.hive.orc.OrcPageSourceFactory.createOrcPageSource(OrcPageSourceFactory.java:187)
at com.facebook.presto.hive.orc.OrcPageSourceFactory.createPageSource(OrcPageSourceFactory.java:121)
at com.facebook.presto.hive.HivePageSourceProvider.createHivePageSource(HivePageSourceProvider.java:161)
at com.facebook.presto.hive.HivePageSourceProvider.createPageSource(HivePageSourceProvider.java:95)
at com.facebook.presto.spi.connector.classloader.ClassLoaderSafeConnectorPageSourceProvider.createPageSource(ClassLoaderSafeConnectorPageSourceProvider.java:44)
at com.facebook.presto.split.PageSourceManager.createPageSource(PageSourceManager.java:56)
at com.facebook.presto.operator.ScanFilterAndProjectOperator.getOutput(ScanFilterAndProjectOperator.java:221)
at com.facebook.presto.operator.Driver.processInternal(Driver.java:379)
at com.facebook.presto.operator.Driver.lambda$processFor$8(Driver.java:283)
at com.facebook.presto.operator.Driver.tryWithLock(Driver.java:675)
at com.facebook.presto.operator.Driver.processFor(Driver.java:276)
at com.facebook.presto.execution.SqlTaskExecution$DriverSplitRunner.processFor(SqlTaskExecution.java:1077)
at com.facebook.presto.execution.executor.PrioritizedSplitRunner.process(PrioritizedSplitRunner.java:162)
at com.facebook.presto.execution.executor.TaskExecutor$TaskRunner.run(TaskExecutor.java:483)
at com.facebook.presto.$gen.Presto_0_220____20191029_024447_1.run(Unknown Source)
at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
at java.lang.Thread.run(Thread.java:748)
Caused by: java.lang.RuntimeException: java.lang.ClassNotFoundException: Class alluxio.hadoop.FileSystem not found
at org.apache.hadoop.conf.Configuration.getClass(Configuration.java:2197)
at org.apache.hadoop.fs.FileSystem.getFileSystemClass(FileSystem.java:2654)
at org.apache.hadoop.fs.PrestoFileSystemCache.createFileSystem(PrestoFileSystemCache.java:114)
at org.apache.hadoop.fs.PrestoFileSystemCache.getInternal(PrestoFileSystemCache.java:89)
at org.apache.hadoop.fs.PrestoFileSystemCache.get(PrestoFileSystemCache.java:62)
at org.apache.hadoop.fs.FileSystem.get(FileSystem.java:373)
at org.apache.hadoop.fs.Path.getFileSystem(Path.java:295)
at com.facebook.presto.hive.HdfsEnvironment.lambda$getFileSystem$0(HdfsEnvironment.java:71)
at com.facebook.presto.hive.authentication.NoHdfsAuthentication.doAs(NoHdfsAuthentication.java:23)
at com.facebook.presto.hive.HdfsEnvironment.getFileSystem(HdfsEnvironment.java:70)
at com.facebook.presto.hive.orc.OrcPageSourceFactory.createOrcPageSource(OrcPageSourceFactory.java:170)

when i user hive query text/orc table(on alluxio) is ok.
that is my alluxio-site.properties

aluxio.master.hostname=**
alluxio.master.mount.table.root.ufs=hdfs:///alluxio/data
alluxio.underfs.hdfs.configuration=/usr/hdp/current/hadoop-client/etc/hadoop/core-site.xml:/usr/hdp/current/hadoop-client/etc/hadoop/hdfs-site.xml:/usr/hdp/current/hadoop-client/etc/hadoop/mapred-site.xml:/usr/hdp/current/hadoop-client/etc/hadoop/mapred-site.xml:/usr/hdp/current/hadoop-client/etc/hadoop/yarn-site.xml:/usr/hdp/current/hive-client/conf/hive-site.xml
alluxio.master.journal.type=embedded
alluxio.master.embedded.journal.addresses=
alluxio.master.rpc.addresses=**
alluxio.user.file.writetype.default=cache_through
alluxio.user.file.metadata.load.type=always

that is my hive orc table

CREATE external TABLE user_behavior_alluxio(
app_id int,
app_platform string,
app_version string)
stored as orc
location 'alluxio:///dw_data/user_behavior_detail'

	</description>
	<comments>
	</comments>
</bug>