<bug id='11793' author='akantak' open_date='2020-07-21T10:17:40Z' closed_time='2020-08-17T14:38:55Z'>
	<summary>CLI command validateEnv don't sum up number of failures/warnings/skipped</summary>
	<description>
Alluxio Version:
2.3.0
Describe the bug
When there are some issues in setup (any of the checks has failed/warn/skip status) while using command ./bin/alluxio validateEnv local, there is sum up in the last line 1 failures 1 warnings 1 skipped which should count the number of occurrences of each issue, but it doesn't. It is either number 1 or no mention.
To Reproduce
Use command ./bin/alluxio validateEnv local without any settings configured, ex. no settings for Kerberos should lead to 2 skipped checks, but in a sum up it would be counted as 1.
Expected behavior
The last line in validateEnv output should correctly sum up a number of issues, not be only 1 or no mention.
Urgency
Very low urgency.
Additional context
Quickly checked the source code and the rootcause is probably in:



alluxio/integration/tools/validation/src/main/java/alluxio/cli/ValidateEnv.java


         Line 305
      in
      a38f2f2






 results.put(result.mState, results.getOrDefault(result, 0) + 1); 





where there is:
results.put(result.mState, results.getOrDefault(result, 0) + 1);
instead of:
results.put(result.mState, results.getOrDefault(result.mState, 0) + 1);
	</description>
	<comments>
		<comment id='1' author='akantak' date='2020-07-27T10:13:00Z'>
		pinging &lt;denchmark-link:https://github.com/jiacheliu3&gt;@jiacheliu3&lt;/denchmark-link&gt;
 FYI, as he may be interested in this bug
		</comment>
		<comment id='2' author='akantak' date='2020-07-27T12:10:32Z'>
		Thanks! &lt;denchmark-link:https://github.com/akantak&gt;@akantak&lt;/denchmark-link&gt;
 Assigning the issue to myself.
		</comment>
	</comments>
</bug>