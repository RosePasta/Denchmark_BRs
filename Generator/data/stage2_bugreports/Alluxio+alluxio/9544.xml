<bug id='9544' author='myg821561935' open_date='2019-07-23T04:19:22Z' closed_time='2019-07-23T08:38:30Z'>
	<summary>alluxio fs startSync failed</summary>
	<description>
ALLUXIO ENVIRONMENT:
(1) ALLUXIO 2.0.0
(2) HADOOP-2.7.3(HDFS)
(3) Hadoop client (Hadoop3.3)
(4) JAVA 1.8
we set the hdfs and we want to set dir /nn-cluster/user/bigdata/tensorflow/submarine sync to hdfs dir。when we execute the command：alluxio fs startSync /nn-cluster/user/bigdata/tensorflow/submarine ，it report errors：
&lt;denchmark-link:https://user-images.githubusercontent.com/5190099/61682357-e81adf00-ad43-11e9-8789-f883580b8fe2.png&gt;&lt;/denchmark-link&gt;

can anyone give us some advices？
	</description>
	<comments>
		<comment id='1' author='myg821561935' date='2019-07-23T04:52:43Z'>
		Hi &lt;denchmark-link:https://github.com/myg821561935&gt;@myg821561935&lt;/denchmark-link&gt;
 . It helps us if the initial post is in our standard format for bug reports. We ask that you follow the format next time.

Your initial post is not quite clear enough as to what HADOOP-2.7.3 means. Is this the UFS version?
What do you mean by Hadoop client? Is this what you're using to try to connect to Alluxio?

If my assumption in (1) is correct that your UFS is HADOOP-2.7.3, then the error message is accurate. ActiveSync is not supported on Hadoop versions &lt; 3. From my limited knowledge ActiveSync relies on the DSFInotifyEventInputStream  which is not available in Hadoop 2.7.3 (I couldn't find it in their reference docs https://hadoop.apache.org/docs/r2.7.3/api/index.html)
Version 2.7+ should work. HDFS Inotify events were added as early as hadoop 2.6 (&lt;denchmark-link:https://issues.apache.org/jira/browse/HDFS-6634&gt;HDFS-6634&lt;/denchmark-link&gt;
), however it seems the javadocs weren't updated properly.
		</comment>
		<comment id='2' author='myg821561935' date='2019-07-23T06:40:26Z'>
		yes，ufs hdfs version is 2.7.3. In this blog（&lt;denchmark-link:https://www.alluxio.io/blog/two-ways-to-keep-files-in-sync-between-alluxio-and-hdfs/%EF%BC%89&gt;https://www.alluxio.io/blog/two-ways-to-keep-files-in-sync-between-alluxio-and-hdfs/）&lt;/denchmark-link&gt;
, mentioning hadoop2.7+ is fine. Maybe I was misled. thanks
		</comment>
		<comment id='3' author='myg821561935' date='2019-07-23T06:47:30Z'>
		&lt;denchmark-link:https://github.com/yuzhu&gt;@yuzhu&lt;/denchmark-link&gt;
 can you help take a look at this issue and verify the HDFS version required
		</comment>
		<comment id='4' author='myg821561935' date='2019-07-23T06:47:36Z'>
		I could be wrong as well. I'll get a more accurate version for you some time within the next day. I'll also make sure it gets added to our documentation. I noticed that at &lt;denchmark-link:https://docs.alluxio.io/ee/user/stable/en/advanced/Namespace-Management.html?#metadata-active-sync-for-hdfs&gt;https://docs.alluxio.io/ee/user/stable/en/advanced/Namespace-Management.html?#metadata-active-sync-for-hdfs&lt;/denchmark-link&gt;
 we don't mention version compatibility either
		</comment>
		<comment id='5' author='myg821561935' date='2019-07-23T07:12:25Z'>
		&lt;denchmark-link:https://github.com/myg821561935&gt;@myg821561935&lt;/denchmark-link&gt;
 can you also provide your Alluxio master configuration?
		</comment>
		<comment id='6' author='myg821561935' date='2019-07-23T07:24:36Z'>
		
@myg821561935 can you also provide your Alluxio master configuration?
ok
alluxio-site.properties.txt

		</comment>
		<comment id='7' author='myg821561935' date='2019-07-23T07:50:32Z'>
		Hi &lt;denchmark-link:https://github.com/myg821561935&gt;@myg821561935&lt;/denchmark-link&gt;
 can you try to configure the alluxio property ?
&lt;denchmark-link:https://docs.alluxio.io/os/user/stable/en/ufs/HDFS.html#using-site-properties&gt;https://docs.alluxio.io/os/user/stable/en/ufs/HDFS.html#using-site-properties&lt;/denchmark-link&gt;

From the documentation, you should be able to put  as the value for this property. It defaults to 2.2: &lt;denchmark-link:https://github.com/Alluxio/alluxio/blob/v2.0.0/core/common/src/main/java/alluxio/conf/PropertyKey.java#L3395-L3401&gt;https://github.com/Alluxio/alluxio/blob/v2.0.0/core/common/src/main/java/alluxio/conf/PropertyKey.java#L3395-L3401&lt;/denchmark-link&gt;

		</comment>
		<comment id='8' author='myg821561935' date='2019-07-23T08:31:32Z'>
		
alluxio.underfs.version

thanks ,after configure alluxio.underfs.version=2.7 ,it's ok
&lt;denchmark-link:https://user-images.githubusercontent.com/5190099/61696320-bc115500-ad67-11e9-9e55-db9414e4c700.png&gt;&lt;/denchmark-link&gt;

		</comment>
		<comment id='9' author='myg821561935' date='2019-07-27T21:24:20Z'>
		&lt;denchmark-link:https://github.com/myg821561935&gt;@myg821561935&lt;/denchmark-link&gt;
 great to hear!
		</comment>
	</comments>
</bug>