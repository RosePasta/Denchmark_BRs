<bug id='2495' author='ndeshp2s' open_date='2020-02-20T10:10:43Z' closed_time='2020-09-05T19:52:23Z'>
	<summary>Oscillating vehicles in 0.9.7</summary>
	<description>
I have recently shifted to carla 0.9.7 version and I noticed the vehicles oscillate a lot while taking turns or even while passing straight through junctions. I tried tuning the PID (lateral control) parameters in local_planner.py file. But this makes no impact on this oscillating behavior.
Is there a way to resolve this? Am I missing something?
Thank you.
	</description>
	<comments>
		<comment id='1' author='ndeshp2s' date='2020-02-20T13:44:44Z'>
		Hi,
Tuning the parameters in local_planner.py only affects the agents, but if you're using the Traffic Manager, activated by set_autopilot(True), you need to change those PID parameters. However, for FPS under 20, this oscillating behavior happens anyway.
You can try to tune them in TrafficManager.cpp, but in a few days this will be fixed by introducing synchronous mode with Traffic Manager!
		</comment>
		<comment id='2' author='ndeshp2s' date='2020-02-27T15:51:27Z'>
		&lt;denchmark-link:https://github.com/jackbart94&gt;@jackbart94&lt;/denchmark-link&gt;
 Hi,
I have been using carla since 0.9.6, but I'm a little bit confused. Can you give a clue about how to synchronize?
Using the provided synchronous mode example, I managed to get all things well previously in 0.9.6 WITH NPC vehicles, . But in 0.9.7.4, NPC vehicles are abnormal with previous synchronous example. I think it may be because of synchronous problem of traffic manager, or there should be some method to activate the synchronous mode for it, but I didn't see there's any method inside carla.libcarla.TrafficManager .
		</comment>
		<comment id='3' author='ndeshp2s' date='2020-02-27T17:20:42Z'>
		&lt;denchmark-link:https://github.com/SunFishlike&gt;@SunFishlike&lt;/denchmark-link&gt;
 Hi!
There was a big change from 0.9.6 to 0.9.7 when it comes to handling vehicles. In 0.9.8 (coming out in two weeks) we have fixed the NPC abnormal behavior and reintroduced a working synchronous mode compliant with Traffic Manager.
But right now, in 0.9.7, the Traffic Manager is asynchronous and thus a big drop in FPS will cause vehicles to oscillate, because they are skipping frames.
We are merging these changes in master soon, you will be able to try it in the upcoming days!
		</comment>
		<comment id='4' author='ndeshp2s' date='2020-04-28T04:13:33Z'>
		This issue has been automatically marked as stale because it has not had recent activity. It will be closed if no further activity occurs. Thank you for your contributions.
		</comment>
		<comment id='5' author='ndeshp2s' date='2020-05-04T12:41:58Z'>
		Hi guys!
The oscillating behavior is still present for me even if I set CARLA to synchronous mode and fixed timestep. (using the new, 0.9.9 version and Traffic Manager for autopilot)
		</comment>
		<comment id='6' author='ndeshp2s' date='2020-06-26T03:25:08Z'>
		&lt;denchmark-link:https://github.com/jackbart94&gt;@jackbart94&lt;/denchmark-link&gt;
 this issue needs attention. Are you able to reproduce this behavior in TM 2.0?
&lt;denchmark-link:https://github.com/martonur&gt;@martonur&lt;/denchmark-link&gt;
 could you please provide a minimum example?
		</comment>
		<comment id='7' author='ndeshp2s' date='2020-06-26T09:02:53Z'>
		Hi,
I haven't been able to see vehicles oscillating in TM 2.0. I need more information about this in order to reproduce it.
		</comment>
		<comment id='8' author='ndeshp2s' date='2020-08-29T08:50:26Z'>
		This issue has been automatically marked as stale because it has not had recent activity. It will be closed if no further activity occurs. Thank you for your contributions.
		</comment>
		<comment id='9' author='ndeshp2s' date='2020-10-20T18:15:02Z'>
		Has this issue been solved? I can confirm that the issue persists in carla 0.9.9 + scenario runner 0.9.9 in town03
		</comment>
		<comment id='10' author='ndeshp2s' date='2020-10-22T21:24:59Z'>
		I will test it with 0.9.10 and if the problem is still present, I'll provide a minimal example for easy reproduction.
		</comment>
		<comment id='11' author='ndeshp2s' date='2020-11-05T19:30:24Z'>
		I can confirm this still happens in carla 0.9.10. The observations are that lane changing cars will spin, straight going cars will weave in the lane. I can try but I believe It's tough for me to generate a minimal reproducible example from my current stack. But the observation was made when there are a lot of traffics and sensors on each of them and lots of computations on client side that makes the server run much less than 1fps.
		</comment>
	</comments>
</bug>