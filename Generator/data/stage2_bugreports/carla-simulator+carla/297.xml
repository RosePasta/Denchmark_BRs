<bug id='297' author='nsubiron' open_date='2018-03-22T15:00:03Z' closed_time='2018-03-23T17:22:44Z'>
	<summary>Race condition between client and server causes disconnect on reset</summary>
	<description>
There is a race condition between the client and server that causes the server
to reset the connection.
&lt;denchmark-code&gt;    simulator      
    ---------      

read new episode request on port 2000
if (error)
  reset the server
                                  &lt;-- client closes port 2001 and 2002 and
                                      requests new episode on 2000.
send measurements on port 2001    &lt;-- send measurements fails, client closed 2001,
if (error)                            server assumes the client is down.
  reset the server                &lt;-- server is destroyed, diconnects 2000,
                                      client request fails with connection closed.
  
read control on port 2002
if (error)
  reset the server
&lt;/denchmark-code&gt;

This has been there for a long time, but it didn't show up until recent changes. Recently
we added an extra step in between that gives extra time to the client to win the race.
Possible solution: Read and write errors on ports 2001 and 2002 should not make
the server drop the connection. It is safe to ignore them, if the client really
disconnected it will be detected on the next frame when reading the new episode
request.
	</description>
	<comments>
	</comments>
</bug>