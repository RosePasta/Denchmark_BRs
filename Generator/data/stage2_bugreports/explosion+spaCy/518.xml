<bug id='518' author='dellelce' open_date='2016-10-07T17:45:37Z' closed_time='2016-10-22T15:40:53Z'>
	<summary>numpy header included with spaCy too old to build on cygwin</summary>
	<description>
The build of spaCy fails currently on cygwin with the following error:
    In file included from spacy/lexeme.cpp:260:0:
    /tmp/pip-build-ram30b0i/spaCy/include/numpy/ufuncobject.h:393:23: fatal error: fenv/fenv.c: No such file or directory
    compilation terminated.
    error: command 'gcc' failed with exit status 1
the current (at time of my testing) version of numpy  builds without issues as it includes the correct file (/usr/include/fenv.h).
It appears that the fenv.c was a non-standard "feature" of cygwin what was (probably 2015?) replaced with the standard header.
	</description>
	<comments>
		<comment id='1' author='dellelce' date='2016-10-19T16:50:08Z'>
		The failing code was removed from numpy in 2013:
&lt;denchmark-link:https://github.com/numpy/numpy/commit/dcfe3260e2d6d9de7a2c3fb0022ecf124faa2ae2#diff-a7ca3a1c2d2ca3dd24f9e33438f6be93&gt;numpy/numpy@dcfe326#diff-a7ca3a1c2d2ca3dd24f9e33438f6be93&lt;/denchmark-link&gt;

and the only current reference to fenv headers is correct for all platforms:
&lt;denchmark-link:https://github.com/numpy/numpy/blob/c90d7c94fd2077d0beca48fa89a423da2b0bb663/numpy/core/src/npymath/ieee754.c.src#L618&gt;https://github.com/numpy/numpy/blob/c90d7c94fd2077d0beca48fa89a423da2b0bb663/numpy/core/src/npymath/ieee754.c.src#L618&lt;/denchmark-link&gt;

&lt;denchmark-link:https://github.com/numpy/numpy/issues/5532&gt;numpy/numpy#5532&lt;/denchmark-link&gt;

		</comment>
		<comment id='2' author='dellelce' date='2016-10-19T18:08:14Z'>
		Thanks â€” sorry I didn't get to this sooner. You really wrote a good ticket on this.
Would you mind testing the v1.0.2 branch?
		</comment>
		<comment id='3' author='dellelce' date='2016-10-24T01:23:10Z'>
		I am trying to try it but I am having problemis with DLLs handling, summary:

build works (setup.py install)
execution does not work

I tried to rebase all the dlls(rebaseall+ rebase -s for dlls in virtualenv) but still have this error:
&gt;&gt;&gt; import spacy
&gt;&gt;&gt; e = spacy.load('en')
&gt;&gt;&gt; help(e)
      1 [main] python3.4m 1412 child_info_fork::abort: address space needed by '_opcode.cpython-34m.dll' (0x47490000) is already occupied
Traceback (most recent call last):
  File "&lt;stdin&gt;", line 1, in &lt;module&gt;
  File "/usr/lib/python3.4/_sitebuiltins.py", line 103, in __call__
    return pydoc.help(*args, **kwds)
  File "/usr/lib/python3.4/pydoc.py", line 1827, in __call__
    self.help(request)
  File "/usr/lib/python3.4/pydoc.py", line 1877, in help
    else: doc(request, 'Help on %s:', output=self._output)
  File "/usr/lib/python3.4/pydoc.py", line 1614, in doc
    pager(render_doc(thing, title, forceload))
  File "/usr/lib/python3.4/pydoc.py", line 1414, in pager
    pager(text)
  File "/usr/lib/python3.4/pydoc.py", line 1436, in &lt;lambda&gt;
    return lambda text: pipepager(text, 'less')
  File "/usr/lib/python3.4/pydoc.py", line 1455, in pipepager
    pipe = os.popen(cmd, 'w')
  File "/usr/lib/python3.4/os.py", line 949, in popen
    bufsize=buffering)
  File "/usr/lib/python3.4/subprocess.py", line 859, in __init__
    restore_signals, start_new_session)
  File "/usr/lib/python3.4/subprocess.py", line 1395, in _execute_child
    restore_signals, start_new_session, preexec_fn)
BlockingIOError: [Errno 11] Resource temporarily unavailable
I'll try another set of rebaseall/rebase -s runs but these should be handled by setup.py/pip I believe.
		</comment>
		<comment id='4' author='dellelce' date='2017-09-02T05:31:49Z'>
		I still have the same issue. I use cygwin64, python 361.
		</comment>
		<comment id='5' author='dellelce' date='2018-05-08T17:27:59Z'>
		This thread has been automatically locked since there has not been any recent activity after it was closed. Please open a new issue for related bugs.
		</comment>
	</comments>
</bug>