<bug id='1375' author='jrnold' open_date='2017-09-28T20:42:56Z' closed_time='2017-10-24T10:12:37Z'>
	<summary>nbor method for Token class does not raise error when an out-of-bounds index is asked for</summary>
	<description>
The nbor method for Token objects does not raise an IndexError when asked for an index before the document starts. The example below shows that asking for the previous token for the first token of the document, doc[0].nbor(-1), returns the last token in the document rather than returning None or raising and IndexError (either of which seems reasonable to me). The method works fine when asked for a token after the document, e.g. doc[len(doc) - 1].nbor(1).
&lt;denchmark-code&gt;In [1]: import spacy

In [2]: spacy.__version__
Out[2]: '1.9.0'

In [3]: nlp = spacy.load("en")

In [4]: doc = nlp("The quick brown fox jumped over the lazy dog.")

In [5]: n = len(doc)

In [6]: doc[0].nbor(-1)
Out[6]: .

In [7]: doc[0].nbor(-2)
Out[7]: dog

In [8]: doc[n - 1].nbor(1)
---------------------------------------------------------------------------
IndexError                                Traceback (most recent call last)
&lt;ipython-input-8-000c364ca9e7&gt; in &lt;module&gt;()
----&gt; 1 doc[n - 1].nbor(1)

~/anaconda3/lib/python3.6/site-packages/spacy/tokens/token.pyx in spacy.tokens.token.Token.nbor (spacy/tokens/token.cpp:5055)()

~/anaconda3/lib/python3.6/site-packages/spacy/tokens/doc.pyx in spacy.tokens.doc.Doc.__getitem__ (spacy/tokens/doc.cpp:5564)()

IndexError: list index out of range
If you're looking for help with your code, consider posting a question on StackOverflow instead:
http://stackoverflow.com/questions/tagged/spacy --&gt;
&lt;/denchmark-code&gt;

&lt;denchmark-h:h2&gt;Your Environment&lt;/denchmark-h&gt;


spaCy version: 1.9.0
Platform: Darwin-16.7.0-x86_64-i386-64bit
Python version: 3.6.2
Installed models: en, en_core_web_md

	</description>
	<comments>
		<comment id='1' author='jrnold' date='2017-10-24T10:12:37Z'>
		This bug has been present from day 1, making this the current champion for "longest-standing error". Thanks!
		</comment>
		<comment id='2' author='jrnold' date='2018-05-08T13:27:21Z'>
		This thread has been automatically locked since there has not been any recent activity after it was closed. Please open a new issue for related bugs.
		</comment>
	</comments>
</bug>