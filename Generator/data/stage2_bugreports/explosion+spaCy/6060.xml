<bug id='6060' author='kinghuang' open_date='2020-09-13T02:30:33Z' closed_time='2020-09-22T19:53:34Z'>
	<summary>Calling retokenize after setting custom token norm applies norm to wrong token</summary>
	<description>
Setting a custom norm on a token then retokenizing causes the custom norm to be applied to both the original token (which has now moved) and whatever token is now at the original token's index (due to retokenization).
&lt;denchmark-h:h2&gt;How to reproduce the behaviour&lt;/denchmark-h&gt;

import spacy

nlp = spacy.load("en")
doc = nlp("The quick brownfoxjumpsoverthe lazy dog w/ white spots.")

# Set custom norm on the w/ token.
doc[5].norm_ = "with"

# Retokenize to split out the words in the token at doc[2].
token = doc[2]
with doc.retokenize() as retokenizer:
  retokenizer.split(token, ["brown", "fox", "jumps", "over", "the"], heads=[(token, idx) for idx in range(5)])

# The new token at index 5 is "over". But, its norm is incorrectly set to "with".
# The previous "w/" token is now at index 9, and still has the custom norm set earlier.
assert doc[9].text  == "w/"   # OK
assert doc[9].norm_ == "with" # OK
assert doc[5].text  == "over" # OK
assert doc[5].norm_ == "over" # Error - The new "over" token has the "w/" token's custom norm.
&lt;denchmark-h:h2&gt;Info about spaCy&lt;/denchmark-h&gt;


spaCy version: 2.3.2
Platform: Linux-4.19.76-linuxkit-x86_64-with-glibc2.2.5
Python version: 3.8.5
Models: en

	</description>
	<comments>
		<comment id='1' author='kinghuang' date='2020-09-13T17:47:39Z'>
		Thanks for the report! Definitely looks like a bug, we'll look into it.
		</comment>
	</comments>
</bug>