<bug id='4002' author='jesusfbes' open_date='2019-07-22T11:00:05Z' closed_time='2019-08-05T21:53:36Z'>
	<summary>PhraseMatcher to match in a different token attribute</summary>
	<description>
According to the documentation of PhraseMatcher itâ€™s also possible to make it match on different token attributes, for instance the POS tag of the dependency. Is it posible also to match other attibutes like norm? We are trying to modify the norm token attibute to remove the accents of spanish words and it is correctly changed (we checked the token.norm_ attribute) but it is not able to match in those cases:
class Deaccentuate(object):

    def __init__(self, nlp):
        self._nlp = nlp

    def __call__(self, doc):
        for token in doc:
            token.norm_ = deaccent(token.lower_)
           
        return doc

ruler = EntityRuler(nlp, phrase_matcher_attr="NORM")
ruler.add_patterns(patterns_)
nlp.add_pipe(ruler)

custom_component = Deaccentuate(nlp)
nlp.add_pipe(custom_component, first=True)
&lt;denchmark-h:h2&gt;Your Environment&lt;/denchmark-h&gt;


spaCy version: 2.1.6
Platform: Windows-10-10.0.16299-SP0
Python version: 3.7.3

	</description>
	<comments>
		<comment id='1' author='jesusfbes' date='2019-08-04T20:48:27Z'>
		Hi &lt;denchmark-link:https://github.com/jesusfbes&gt;@jesusfbes&lt;/denchmark-link&gt;
, thanks for the report! You are right that it should be possible to match on the  attribute. We're currently working on a PR that should hopefully fix this bug.
[EDIT: should now be fixed on the master branch!]
		</comment>
		<comment id='2' author='jesusfbes' date='2019-09-04T22:42:40Z'>
		This thread has been automatically locked since there has not been any recent activity after it was closed. Please open a new issue for related bugs.
		</comment>
	</comments>
</bug>