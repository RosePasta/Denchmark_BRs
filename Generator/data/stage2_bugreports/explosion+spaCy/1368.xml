<bug id='1368' author='thomasopsomer' open_date='2017-09-27T14:09:05Z' closed_time='2017-10-09T00:10:41Z'>
	<summary>ShapeMismatchError in TextCategorizer</summary>
	<description>
Hi,
I'm having an issue with the TextCategorizer in spacy 2.0. There is a ShapeMismatchError see below. You can reproduce it just by running example/training/train_textcat.py.
  File "pipeline.pyx", line 639, in spacy.pipeline.TextCategorizer.update
  File "/Envs/prodigy/lib/python3.6/site-packages/thinc/neural/_classes/feed_forward.py", line 41, in begin_update
    X, inc_layer_grad = layer.begin_update(X, drop=drop)
  File "/Envs/prodigy/lib/python3.6/site-packages/thinc/api.py", line 76, in begin_update
    X, finish = layer.begin_update(items[idx], drop=drop)
  File "/Envs/prodigy/lib/python3.6/site-packages/thinc/check.py", line 145, in checked_function
    check(arg_id, fix_args, kwargs)
  File "cytoolz/functoolz.pyx", line 232, in cytoolz.functoolz.curry.__call__ (cytoolz/functoolz.c:3996)
  File "/Envs/prodigy/lib/python3.6/site-packages/thinc/check.py", line 67, in has_shape
    raise ShapeMismatchError(arg.shape, shape_values, shape)
thinc.exceptions.ShapeMismatchError: 

	Shape mismatch: input (8, 0) not compatible with [None, 300].

	Traceback:
	├─ main [103] in clf.py
	├─── train_textcat [46] in clf.py
	└───── begin_update [41] in neural/_classes/feed_forward.py
	       &gt;&gt;&gt; X, inc_layer_grad = layer.begin_update(X, drop=drop)
&lt;denchmark-h:h2&gt;Info about spaCy&lt;/denchmark-h&gt;


spaCy version: 2.0.0a14
Platform: Darwin-16.7.0-x86_64-i386-64bit
Python version: 3.6.2

	</description>
	<comments>
		<comment id='1' author='thomasopsomer' date='2017-09-27T14:14:04Z'>
		Thanks.
This will be related to efforts to support a few different model styles, including with and without pre-trained vectors. Some of the config values must not be getting passed through correctly, so different parts of the initialisation end up with different expectations about the model size.
		</comment>
		<comment id='2' author='thomasopsomer' date='2017-10-09T00:10:41Z'>
		This should be fixed in v2.0.0a16.
		</comment>
		<comment id='3' author='thomasopsomer' date='2018-05-08T15:27:47Z'>
		This thread has been automatically locked since there has not been any recent activity after it was closed. Please open a new issue for related bugs.
		</comment>
	</comments>
</bug>