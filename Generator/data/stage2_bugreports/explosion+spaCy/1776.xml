<bug id='1776' author='beowulfenator' open_date='2017-12-28T18:37:21Z' closed_time='2018-01-15T15:00:43Z'>
	<summary>Wildcard token pattern with quantifier works unexpectedly</summary>
	<description>
If a wildcard token pattern is used with a quantifier (to match any token a certain number of times), the matcher returns all tokens up to the wildcard token, but not the rest.
&lt;denchmark-code&gt;nlp = spacy.load('en_core_web_sm')
doc = nlp("My big pencil is red. Your pencil is green.")
matcher = Matcher(nlp.vocab)
matcher.add("pencil", None, [
    {"LEMMA": "-PRON-"},
    {"OP": "*"},
    {"LEMMA": "pencil"},
])
matches = matcher(doc)
for (entity_key, start_token, end_token) in matches:
    print(start_token, end_token, doc[start_token:end_token])
&lt;/denchmark-code&gt;

Result:
&lt;denchmark-code&gt;0 1 My
6 7 Your
&lt;/denchmark-code&gt;

Adding some other constraint to the token fixes the problem:
&lt;denchmark-code&gt;matcher.add("pencil", None, [
    {"LEMMA": "-PRON-"},
    {"IS_ASCII": True, "OP": "*"},
    {"LEMMA": "pencil"},
])
&lt;/denchmark-code&gt;

Result:
&lt;denchmark-code&gt;0 3 My big pencil
6 8 Your pencil
&lt;/denchmark-code&gt;

&lt;denchmark-h:h2&gt;Info about spaCy&lt;/denchmark-h&gt;


Models: en_core_web_sm, en_core_web_md
spaCy version: 2.0.5
Platform: Linux-4.4.0-31-generic-x86_64-with-Ubuntu-16.04-xenial
Python version: 3.5.2

	</description>
	<comments>
		<comment id='1' author='beowulfenator' date='2018-01-15T15:00:43Z'>
		Thanks for the report. I think this is the same issue as &lt;denchmark-link:https://github.com/explosion/spaCy/issues/1474&gt;#1474&lt;/denchmark-link&gt;
 , so I'll close this to keep the discussion together.
		</comment>
		<comment id='2' author='beowulfenator' date='2018-05-08T02:55:29Z'>
		This thread has been automatically locked since there has not been any recent activity after it was closed. Please open a new issue for related bugs.
		</comment>
	</comments>
</bug>