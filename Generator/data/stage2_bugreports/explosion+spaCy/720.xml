<bug id='720' author='rappdw' open_date='2017-01-04T21:52:10Z' closed_time='2017-06-05T23:54:55Z'>
	<summary>Various errors when using n_threads=-1 with Language.pipe()</summary>
	<description>
With n_threads=-1, pipe() results in either a
"libgomp: Thread creation failed: Resource temporarily unavailable"
or
"Segmentation fault"
&lt;denchmark-h:h2&gt;Your Environment&lt;/denchmark-h&gt;

Debian 8.6
Python 3.5.2
Spacy 1.5.0
	</description>
	<comments>
		<comment id='1' author='rappdw' date='2017-01-10T14:11:01Z'>
		Thanks. This will be difficult =/
Does it work with say, n_threads=6?
		</comment>
		<comment id='2' author='rappdw' date='2017-01-10T16:14:23Z'>
		Yes, it works if n_threads are not specified (using default of 2). It also works with n_threads set to a positive integer (although I've only tried several options here).
If it helps I could point to a docker image that demonstrates the issue...
		</comment>
		<comment id='3' author='rappdw' date='2017-03-31T10:12:23Z'>
		This issue occurs because the initialize_state method is allowed to add classes to the transition-system --- so threads are modifying shared state. I think it's fixed already, but I need to do some further checking to make sure.
		</comment>
		<comment id='4' author='rappdw' date='2018-05-08T20:38:51Z'>
		This thread has been automatically locked since there has not been any recent activity after it was closed. Please open a new issue for related bugs.
		</comment>
	</comments>
</bug>