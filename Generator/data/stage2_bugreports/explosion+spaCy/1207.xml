<bug id='1207' author='IamJeffG' open_date='2017-07-20T23:52:05Z' closed_time='2017-07-22T12:15:11Z'>
	<summary>Span.noun_chunks raises TypeError</summary>
	<description>
This bug was first reported in &lt;denchmark-link:https://github.com/explosion/spaCy/pull/658#issuecomment-301932130&gt;#658 (comment)&lt;/denchmark-link&gt;
 and I can reproduce on the latest release.
&lt;denchmark-code&gt;doc = nlp(u"Employees are recruiting talented staffers from overseas.")
list(doc.noun_chunks)  # [Employees, talented staffers]

span = doc[0:4]
list(span.noun_chunks)  # ERROR

for sent in doc.sents:
    list(sent.noun_chunks)  # ERROR
&lt;/denchmark-code&gt;

it raises the following exception:
&lt;denchmark-code&gt;/lib/python2.7/site-packages/spacy/tokens/span.pyx in __get__ (spacy/tokens/span.cpp:7229)()
    231             spans = []
    232             for start, end, label in self.doc.noun_chunks_iterator(self):
--&gt; 233                 spans.append(Span(self, start, end, label=label))
    234             for span in spans:
    235                 yield span

TypeError: Argument 'doc' has incorrect type (expected spacy.tokens.doc.Doc, got spacy.tokens.span.Span)
&lt;/denchmark-code&gt;

For resolution (and forgive me for not actually doing the PR myself) I am pretty sure we just need to pass self.doc to the Scan constructor, rather than self:
&lt;denchmark-code&gt;232             for start, end, label in self.doc.noun_chunks_iterator(self):
233                 spans.append(Span(self.doc, start, end, label=label))
                #                         ++++
&lt;/denchmark-code&gt;

	</description>
	<comments>
		<comment id='1' author='IamJeffG' date='2017-07-21T22:45:50Z'>
		Thanks for the analysis --- this will be an easy fix.
		</comment>
		<comment id='2' author='IamJeffG' date='2018-05-08T19:27:33Z'>
		This thread has been automatically locked since there has not been any recent activity after it was closed. Please open a new issue for related bugs.
		</comment>
	</comments>
</bug>