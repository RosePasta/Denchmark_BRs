<bug id='590' author='lodalicious' open_date='2016-10-28T22:16:30Z' closed_time='2016-11-06T10:22:09Z'>
	<summary>conflicts between multiple patterns in the same rule-based matcher</summary>
	<description>
Not sure whether it is a limitation of the matching algorithm. Should I write two matchers and loop twice in this case?
&lt;denchmark-code&gt;from spacy.matcher import Matcher
from spacy.attrs import *
import spacy

nlp = spacy.load('en',  entity=False, paser=False)
test_str = u"n = 1; a : 5%"

matcher = Matcher(nlp.vocab)
matcher.add_entity(
    "NumResult",
    acceptor=None,
    on_match=None
)
matcher.add_pattern(
    'NumResult',
    [
        {
            IS_ALPHA: True
        },
        {
            ORTH: ":"
        },
        {
            LIKE_NUM: True
        },
        {
            ORTH: "%"
        }
    ],
    label='a'
)
matcher.add_pattern(
    'NumResult',
    [
        {
            IS_ALPHA: True
        },
        {
            ORTH: "="
        },
        {
            LIKE_NUM: True
        }
    ],
    label='b'
)
doc=nlp(test_str)
matches = matcher(doc)
for ent_id, label, start, end in matches:
    print(nlp.vocab.strings[ent_id], nlp.vocab.strings[label], doc[start : end].text)
&lt;/denchmark-code&gt;

The output is (u'NumResult', u'a', u'a : 5%')
If I switch the order of two patterns,  the output becomes
&lt;denchmark-code&gt;(u'NumResult', u'b', u'n = 1')
(u'NumResult', u'b', u'a : 5')
&lt;/denchmark-code&gt;

	</description>
	<comments>
		<comment id='1' author='lodalicious' date='2016-11-06T10:22:09Z'>
		Thanks! I think this was fixed by a previous patch. The test you gave is now passing for me.
		</comment>
		<comment id='2' author='lodalicious' date='2018-05-09T06:38:49Z'>
		This thread has been automatically locked since there has not been any recent activity after it was closed. Please open a new issue for related bugs.
		</comment>
	</comments>
</bug>