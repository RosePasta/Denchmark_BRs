<bug id='3531' author='paulrinckens' open_date='2019-04-02T13:21:24Z' closed_time='2019-04-03T08:13:24Z'>
	<summary>Displacy producing KeyError: 'settings'</summary>
	<description>
&lt;denchmark-h:h2&gt;How to reproduce the behaviour&lt;/denchmark-h&gt;

Running the example from the docs for manual entity visualization:
from spacy import displacy

ex = [{"text": "But Google is starting from behind.",
       "ents": [{"start": 4, "end": 10, "label": "ORG"}],
       "title": None}]
html = displacy.render(ex, style="ent", manual=True)
&lt;denchmark-h:h2&gt;Error&lt;/denchmark-h&gt;

&lt;denchmark-code&gt;line 52, in render
    _html["parsed"] = renderer.render(parsed, page=page, minify=minify).strip()

line 257, in render
    self.direction = p["settings"].get("direction", DEFAULT_DIR)
KeyError: 'settings'
&lt;/denchmark-code&gt;

&lt;denchmark-h:h2&gt;Info about spaCy&lt;/denchmark-h&gt;


spaCy version: 2.1.3
Platform: Darwin-18.2.0-x86_64-i386-64bit
Python version: 3.7.1

	</description>
	<comments>
		<comment id='1' author='paulrinckens' date='2019-04-02T13:51:26Z'>
		Thanks for the report! The "settings" were added in v2.1 to allow passing through additional config (like the writing direction for RTL languages) â€“ but it seems like the rendering logic expects that "settings" always exists, which it probably shouldn't.
Edit: As a workaround, you can just add "settings": {} to the dict for now.
		</comment>
		<comment id='2' author='paulrinckens' date='2019-05-03T09:11:05Z'>
		This thread has been automatically locked since there has not been any recent activity after it was closed. Please open a new issue for related bugs.
		</comment>
	</comments>
</bug>