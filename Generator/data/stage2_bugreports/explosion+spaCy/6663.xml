<bug id='6663' author='vitaly-d' open_date='2021-01-03T19:30:40Z' closed_time='2021-01-04T21:11:05Z'>
	<summary>the original input cannot be reconstructed from the tokenized output: token.whitespace is empty when the space char is expected</summary>
	<description>
&lt;denchmark-h:h2&gt;How to reproduce the behaviour&lt;/denchmark-h&gt;

Hi! I  &lt;denchmark-link:https://github.com/explosion/spaCy/discussions/6435#discussioncomment-186017&gt;converted&lt;/denchmark-link&gt;
 our in-house jsonl NER corpus and noticed a bunch of W030. I've &lt;denchmark-link:https://github.com/explosion/spaCy/discussions/6240#discussioncomment-189592&gt;read&lt;/denchmark-link&gt;
 that this warning could be caused by a misaligned entity, but this case is different: the original jsonl data seems to be correct and misaligned entities appeared due a tokenisation issue: in some rare cases the original input cannot be reconstructed from the tokenized output:
&lt;denchmark-code&gt;import spacy
nlp = spacy.blank("en")
text="A): B): C"
assert text == nlp(text).text, f"{text} != {nlp(text)}"

---------------------------------------------------------------------------
AssertionError                            Traceback (most recent call last)
&lt;ipython-input-3-d41e06da1b07&gt; in &lt;module&gt;
      2 nlp = spacy.blank("en")
      3 text="A): B): C"
----&gt; 4 assert text == nlp(text).text, f"{text} != {nlp(text)}"

AssertionError: A): B): C != A): B):C
&lt;/denchmark-code&gt;

&lt;denchmark-code&gt;In [98]: [ (t.text, t.whitespace_) for t in nlp(text)]
Out[98]: [('A', ''), ('):', ' '), ('B', ''), ('):', ''), ('C', '')]
&lt;/denchmark-code&gt;

&lt;denchmark-h:h2&gt;Your Environment&lt;/denchmark-h&gt;

&lt;denchmark-h:h2&gt;Info about spaCy&lt;/denchmark-h&gt;


spaCy version: 3.0.0rc2
Platform: Linux-5.4.0-54-generic-x86_64-with-glibc2.10
Python version: 3.8.5
Pipelines: en_core_web_trf (3.0.0a0), en_core_web_lg (3.0.0a0)

This issue can be reproduced only with Spacy v3.
	</description>
	<comments>
		<comment id='1' author='vitaly-d' date='2021-01-04T10:23:11Z'>
		Yes, this is a bug. I think it should be fixed by &lt;denchmark-link:https://github.com/explosion/spaCy/pull/6475&gt;#6475&lt;/denchmark-link&gt;
, if you'd like to try out building v3 from  from source. Otherwise the fix should be in the next release, v3.0.0rc3.
		</comment>
		<comment id='2' author='vitaly-d' date='2021-01-04T21:10:21Z'>
		Thank you! v3 from develop is free of the bug.
		</comment>
	</comments>
</bug>