<bug id='1271' author='danohu' open_date='2017-08-17T15:06:51Z' closed_time='2017-08-17T18:14:23Z'>
	<summary>spacy.load fails on python &amp;lt; 3.6 (v2)</summary>
	<description>
spacy.load fails with python 3.5:
&lt;denchmark-code&gt;In [2]: en = spacy.load('en')
---------------------------------------------------------------------------
AttributeError                            Traceback (most recent call last)
&lt;ipython-input-2-a732401aeb32&gt; in &lt;module&gt;()
----&gt; 1 en = spacy.load('en')

/src/spaCy/spacy/__init__.py in load(name, **overrides)
     11 def load(name, **overrides):
     12     name = resolve_load_name(name, **overrides)
---&gt; 13     return util.load_model(name, **overrides)
     14
     15

/src/spaCy/spacy/util.py in load_model(name, **overrides)
    101     if isinstance(name, basestring_):
    102         if name in set([d.name for d in data_path.iterdir()]): # in data dir / shortcut
--&gt; 103             return load_model_from_link(name, **overrides)
    104         if is_package(name): # installed as package
    105             return load_model_from_package(name, **overrides)

/src/spaCy/spacy/util.py in load_model_from_link(name, **overrides)
    114     """Load a model from a shortcut link, or directory in spaCy data path."""
    115     init_file = get_data_path() / name / '__init__.py'
--&gt; 116     spec = importlib.util.spec_from_file_location(name, init_file)
    117     try:
    118         cls = importlib.util.module_from_spec(spec)

/usr/lib/python3.5/importlib/_bootstrap_external.py in spec_from_file_location(name, location, loader, submodule_search_locations)

AttributeError: 'PosixPath' object has no attribute 'endswith'

&lt;/denchmark-code&gt;

I believe this is because the loader is relying on importlib.util.spec_from_file_location accepting a pathlib.Path arugument, which is &lt;denchmark-link:https://docs.python.org/3/library/importlib.html#importlib.util.spec_from_file_location&gt;only supported from python 3.6&lt;/denchmark-link&gt;
.
This change fixes the problem; I've not looked to see if similar issues occur elsewhere:
&lt;denchmark-code&gt;diff --git a/spacy/util.py b/spacy/util.py
index ccb81fbe..d83fe341 100644
--- a/spacy/util.py
+++ b/spacy/util.py
@@ -113,7 +113,7 @@ def load_model(name, **overrides):
 def load_model_from_link(name, **overrides):
     """Load a model from a shortcut link, or directory in spaCy data path."""
     init_file = get_data_path() / name / '__init__.py'
-    spec = importlib.util.spec_from_file_location(name, init_file)
+    spec = importlib.util.spec_from_file_location(name, str(init_file))
     try:
         cls = importlib.util.module_from_spec(spec)
     except AttributeError:

&lt;/denchmark-code&gt;

&lt;denchmark-h:h2&gt;Your Environment&lt;/denchmark-h&gt;

&lt;denchmark-h:h2&gt;Info about spaCy&lt;/denchmark-h&gt;


Platform: Linux-4.10.0-32-generic-x86_64-with-Ubuntu-17.04-zesty
Python version: 3.5.3
Models: en, xx
spaCy version: 2.0.0a9

	</description>
	<comments>
		<comment id='1' author='danohu' date='2018-05-08T18:27:21Z'>
		This thread has been automatically locked since there has not been any recent activity after it was closed. Please open a new issue for related bugs.
		</comment>
	</comments>
</bug>