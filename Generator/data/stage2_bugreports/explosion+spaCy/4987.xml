<bug id='4987' author='mukulseth' open_date='2020-02-09T21:26:10Z' closed_time='2020-02-11T08:10:26Z'>
	<summary>English models returning incorrect results</summary>
	<description>
Trying to run a simple example from the website --
&lt;denchmark-code&gt;import spacy
spacy.require_gpu()
nlp = spacy.load("en_core_web_sm")
doc = nlp("Apple is looking at buying U.K. startup for $1 billion")
for token in doc:
    print(token.text, token.pos_, token.dep_)
&lt;/denchmark-code&gt;

Outputs --
&lt;denchmark-code&gt;Apple VERB dep
is VERB dep
looking VERB dep
at VERB dep
buying VERB dep
U.K. VERB dep
startup VERB dep
for VERB dep
$ VERB dep
1 VERB dep
billion VERB ROOT
&lt;/denchmark-code&gt;

I've tried with the md and lg models as well -- here are the results for those resp. --
en_core_web_md --
&lt;denchmark-code&gt;Apple PROPN dep
is PROPN dep
looking PROPN dep
at PROPN dep
buying PROPN dep
U.K. PROPN dep
startup PROPN dep
for PROPN dep
$ PROPN dep
1 PROPN dep
billion PROPN ROOT
&lt;/denchmark-code&gt;

en_core_web_lg --
&lt;denchmark-code&gt;Apple PROPN dep
is AUX dep
looking ADJ dep
at PROPN dep
buying PROPN dep
U.K. PROPN dep
startup PROPN dep
for PROPN dep
$ PROPN dep
1 PROPN dep
billion PROPN ROOT
&lt;/denchmark-code&gt;

Not sure if I missed something. Using CUDA 10.2, and cupy 7.1.1. The result is the same whether I use the GPU or not though.
&lt;denchmark-h:h2&gt;Info about spaCy&lt;/denchmark-h&gt;


spaCy version: 2.2.3
Platform: Windows-10-10.0.18362-SP0
Python version: 3.7.1

	</description>
	<comments>
		<comment id='1' author='mukulseth' date='2020-02-10T06:55:30Z'>
		That definitely doesn't look right!
This reminds me of an issue in  we found when using Windows + GPU, and which was fixed recently: &lt;denchmark-link:https://github.com/explosion/thinc/pull/149&gt;explosion/thinc#149&lt;/denchmark-link&gt;

Are you 100% certain that these regressions happen also without GPU? I haven't been able to reproduce this.
If it's only on GPU, we can consider this issue fixed.
		</comment>
		<comment id='2' author='mukulseth' date='2020-02-11T06:06:10Z'>
		Yep. I think that was it. I tried again with the GPU disabled, and the output was as expected. Guess thinc was to blame.
Will try to get that fix.
Thanks!
		</comment>
		<comment id='3' author='mukulseth' date='2020-02-11T08:10:25Z'>
		Ok, happy to hear it was the old bug and not a new one! :-)
		</comment>
		<comment id='4' author='mukulseth' date='2020-02-11T08:13:05Z'>
		With respect to getting the fix: thinc has been entirely revamped since that fix, which means that you can't just upgrade thinc - spaCy will break. We're currently working on a new version of spaCy to work with the new thinc, but that's not ready yet.
In short, you're probably best of to just adjust the  file on your system for now, cf. &lt;denchmark-link:https://github.com/explosion/thinc/pull/149/files&gt;https://github.com/explosion/thinc/pull/149/files&lt;/denchmark-link&gt;

		</comment>
		<comment id='5' author='mukulseth' date='2020-02-14T04:18:13Z'>
		Worked! Thank you :)
		</comment>
		<comment id='6' author='mukulseth' date='2020-03-17T13:27:15Z'>
		This thread has been automatically locked since there has not been any recent activity after it was closed. Please open a new issue for related bugs.
		</comment>
	</comments>
</bug>