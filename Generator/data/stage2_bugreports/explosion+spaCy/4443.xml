<bug id='4443' author='danielkingai2' open_date='2019-10-14T23:29:46Z' closed_time='2019-10-16T21:18:55Z'>
	<summary>Prune vectors error</summary>
	<description>
&lt;denchmark-h:h2&gt;How to reproduce the behaviour&lt;/denchmark-h&gt;

Same issue as &lt;denchmark-link:https://github.com/explosion/spaCy/issues/4386&gt;#4386&lt;/denchmark-link&gt;
, &lt;denchmark-link:https://github.com/explosion/spaCy/pull/4388&gt;#4388&lt;/denchmark-link&gt;
 doesn't quite fix it, as the first element of the tuple here: 
 still has the shape of the full array instead of the batch. Pretty sure it just needs to be turned into this:
sorted_index = xp.arange(scores.shape[0])[:,None][i:i+batch_size],xp.argsort(scores[i:i+batch_size], axis=1)[:,::-1]
Will open a PR in case you agree. I would also suggest not sorting if n=1 since its not necessary so I'll also add that in the PR.
&lt;denchmark-h:h2&gt;Your Environment&lt;/denchmark-h&gt;

&lt;denchmark-h:h2&gt;Info about spaCy&lt;/denchmark-h&gt;


spaCy version: 2.2.1 (master)
Platform: Linux-4.4.0-112-generic-x86_64-with-debian-stretch-sid
Python version: 3.6.7

	</description>
	<comments>
		<comment id='1' author='danielkingai2' date='2019-11-15T21:54:36Z'>
		This thread has been automatically locked since there has not been any recent activity after it was closed. Please open a new issue for related bugs.
		</comment>
	</comments>
</bug>