<bug id='2749' author='kleinias' open_date='2018-09-08T15:52:30Z' closed_time='2018-12-29T15:34:14Z'>
	<summary>Lemmatizer doesn't work in special cases after the 'tag_' properties set function was called</summary>
	<description>
&lt;denchmark-h:h2&gt;How to reproduce the behaviour&lt;/denchmark-h&gt;

import spacy
nlp = spacy.load('en_core_web_md')
doc = nlp("Chuck Norris is the most funny person.")
print ([x.lemma_ for x in doc])
doc[4].dep_ = doc[4].dep_
doc[4].tag_ = doc[4].tag_
doc[4].head = doc[4]
print ([x.lemma_ for x in doc])
"""
['chuck', 'norris', 'be', 'the', 'much', 'funny', 'person', '.']
['chuck', 'norris', 'be', 'the', 'most', 'funny', 'person', '.']
"""
&lt;denchmark-h:h2&gt;Your Environment&lt;/denchmark-h&gt;


Operating System: ubuntu 16
Python Version Used: 3.6
spaCy Version Used: 2
Environment Information:

I think, the lemmatizer shoud reveal the same result after setting other/ resp. the same properties.
I don't know, why the behavior of that lemmatizer changes here by side effects. I found this happening just in case the 'tag_' is 'RBS' like in this sentence with 'most'.
	</description>
	<comments>
		<comment id='1' author='kleinias' date='2018-09-10T10:12:58Z'>
		This is a fairly confusing case, thanks. I wonder whether the lemma for most is being set in the tokenizer exceptions? If so, that would explain why it's not being set when the tag is assigned. Not 100% sure what's going on here.
		</comment>
		<comment id='2' author='kleinias' date='2018-12-29T15:34:14Z'>
		This appears to be fixed in the latest spacy-nightly. Still not sure what went wrong though, which is disturbing! If the problem re-occurs, please reopen.
		</comment>
		<comment id='3' author='kleinias' date='2019-01-28T16:05:25Z'>
		This thread has been automatically locked since there has not been any recent activity after it was closed. Please open a new issue for related bugs.
		</comment>
	</comments>
</bug>