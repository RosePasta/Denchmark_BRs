<bug id='6150' author='AILTON091' open_date='2018-08-13T15:05:31Z' closed_time='2018-09-19T00:28:29Z'>
	<summary>Convert Mat image to INDArray, When trying to convert Mat image to INDArray it is returning me INDArray null</summary>
	<description>
I have this code and I do not understand why my IDNarray image is returning me null when I try convert Mat in INDArray.
I using the android sutdio 3.0.1.
//************************* Digit classification *******************************************************************
        for (int i = 0; i &lt; rects.size() ; i++) {
            Rect rect = rects.get(i);
            digit = inverted.submat(rect.y, rect.y + rect.height, rect.x, rect.x + rect.width);
            Imgproc.resize(digit, digit, new Size(28, 28));

                NativeImageLoader nativeImageLoader = new NativeImageLoader(digit.height(), digit.width(), digit.channels());//Use the nativeImageLoader to convert to numerical matrix
                INDArray image = nativeImageLoader.asMatrix(digit);//put image into INDArray

            System.out.println("carregar modelo matrixes  " + image);
 }
output: carregar modelo matrixes  NULL
	</description>
	<comments>
		<comment id='1' author='AILTON091' date='2018-08-13T15:06:13Z'>
		Again, please make sure to upload the image. If we can't reproduce it, I am closing this.
		</comment>
		<comment id='2' author='AILTON091' date='2018-08-13T15:21:50Z'>
		&lt;denchmark-link:https://github.com/agibsonccc&gt;@agibsonccc&lt;/denchmark-link&gt;

short code..
 public void openGallery( View view){
        Intent myIntent = new Intent(Intent.ACTION_PICK, MediaStore.Images.Media.EXTERNAL_CONTENT_URI );
        startActivityForResult(myIntent, 100);

      }


    @Override
    protected void onActivityResult(int requestCode, int resultCode, Intent data) {
        super.onActivityResult(requestCode, resultCode, data);

      if(requestCode == 100 &amp;&amp; resultCode == RESULT_OK &amp;&amp; data !=null){

            imageUri = data.getData();

           try{
                imageBitmap = MediaStore.Images.Media.getBitmap(getContentResolver(),imageUri);
            }catch ( IOException e)
            {
                e.printStackTrace();
            }

            imView.setImageBitmap(imageBitmap);

      }


    }



    public void convertGray(View view) throws IOException {

        Mat Rgba = new Mat();

        BitmapFactory.Options o = new BitmapFactory.Options();

        o.inDither = false;
        o.inSampleSize = 4;

        // convert bitmap to Mat
        Utils.bitmapToMat(imageBitmap, Rgba);

          NativeImageLoader nativeImageLoader = new NativeImageLoader(28, 28,1);
            INDArray image = nativeImageLoader.asMatrix(Rgba);//put image into INDArray

        System.out.println("carregar modelo matrixes  " + image);        

}        
		</comment>
		<comment id='3' author='AILTON091' date='2018-08-13T21:28:16Z'>
		You'll need to convert the Mat to a JavaCPP Mat like this: &lt;denchmark-link:https://github.com/bytedeco/javacpp/issues/38#issuecomment-140728812&gt;bytedeco/javacpp#38 (comment)&lt;/denchmark-link&gt;

I should probably put that somewhere in the code...
		</comment>
		<comment id='4' author='AILTON091' date='2018-08-13T21:51:27Z'>
		Call new Mat((Pointer)null) { { address = digit.getNativeObjAddr(); } }; and use that.
		</comment>
		<comment id='5' author='AILTON091' date='2018-08-13T22:44:45Z'>
		Mat mat2 = new Mat((Pointer)null) { { address = digit.getNativeObjAddr(); } };
Mat mat = new Mat(mat2.address());
when I use both codes gives me the message: cannot resolve symbol 'address'
		</comment>
		<comment id='6' author='AILTON091' date='2018-08-13T23:24:45Z'>
		To refer to both Mat types in the same file, you'll need to use their fully qualified names: org.bytedeco.javacpp.opencv_core.Mat and org.opencv.core.Mat.
		</comment>
		<comment id='7' author='AILTON091' date='2018-08-14T12:16:26Z'>
		&lt;denchmark-code&gt;            final Mat finalDigit = digit;          
            org.bytedeco.javacpp.opencv_core.Mat img = new  rg.bytedeco.javacpp.opencv_core.Mat((Pointer)null) {{ address = finalDigit.getNativeObjAddr();}};          

            NativeImageLoader nativeImageLoader = new NativeImageLoader(digit.height(), digit.width(), digit.channels());//Use the nativeImageLoader to convert to numerical matrix
            INDArray image = nativeImageLoader.asMatrix(img);//put image into INDArray

            
            System.out.println("carregar modelo matrixes  " + image);
&lt;/denchmark-code&gt;

This worked for me, but the output of the matrix are with values giving zero, this is how it should be?
[[[[         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0],
I/System.out:    [         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0],
I/System.out:    [         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0],
I/System.out:    [         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0],
I/System.out:    [         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0],
I/System.out:    [         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0],
I/System.out:    [         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0],
I/System.out:    [         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0],
I/System.out:    [         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0],
I/System.out:    [         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0],
I/System.out:    [         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0],
I/System.out:    [         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0],
I/System.out:    [         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0],
I/System.out:    [         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0],
I/System.out:    [         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0],
I/System.out:    [         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0],
I/System.out:    [         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0],
I/System.out:    [         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0],
I/System.out:    [         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0],
I/System.out:    [         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0],
I/System.out:    [         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0],
I/System.out:    [         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0],
I/System.out:    [         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0],
I/System.out:    [         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0],
I/System.out:    [         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0],
I/System.out:    [         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0],
I/System.out:    [         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0],
I/System.out:    [         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0,         0]]]]
		</comment>
		<comment id='8' author='AILTON091' date='2018-08-15T06:40:36Z'>
		Probably not, make sure you're not trying to use multiple versions of OpenCV together: Use JavaCV only.
		</comment>
		<comment id='9' author='AILTON091' date='2018-08-15T18:53:18Z'>
		Would this be, instead of using opencv to use javaCv throughout my code?
		</comment>
		<comment id='10' author='AILTON091' date='2018-08-16T00:08:28Z'>
		JavaCV supports the official Java API of OpenCV, no need to change anything but in your build files.
		</comment>
		<comment id='11' author='AILTON091' date='2018-08-16T00:53:27Z'>
		hum .. and any tips on how to proceed?
		</comment>
		<comment id='12' author='AILTON091' date='2018-08-16T23:50:58Z'>
		Use the dependencies that I've updated in commit &lt;denchmark-link:https://github.com/deeplearning4j/deeplearning4j/commit/ac91961036f83a1ca5055db93223e81bcf443ed9&gt;deeplearning4j@ac91961&lt;/denchmark-link&gt;
 or available in the examples at &lt;denchmark-link:https://github.com/deeplearning4j/dl4j-examples/tree/master/android&gt;https://github.com/deeplearning4j/dl4j-examples/tree/master/android&lt;/denchmark-link&gt;
 and it will work fine.
		</comment>
		<comment id='13' author='AILTON091' date='2018-08-17T00:57:02Z'>
		when I upgrade to beta2, NativeImageLoader is not in the package and displays the message can not resolve symbol.
so I added
compile 'org.datavec: datavec-data-image: 1.0.0-beta2' and solved this, but when compiling gave another error
Error: Execution failed for task ': app: transformResourcesWithMergeJavaResForDebug'.

More than one file was found with OS independent path 'org / bytedeco / javacpp / windows-x86_64 / api-ms-win-crt-locale-l1-1-0.dll'

How do I solve it?
		</comment>
		<comment id='14' author='AILTON091' date='2018-08-17T02:02:04Z'>
		Use the same exclude as deeplearning4j-nn, which BTW depends on
datavec-data-image so no need to list it explicitly.
		</comment>
		<comment id='15' author='AILTON091' date='2018-08-17T02:52:35Z'>
		So I have to include?
sorry for such questions is that I am still learning about this and some things are still new to me.
		</comment>
		<comment id='16' author='AILTON091' date='2018-08-17T04:37:19Z'>
		Hum, looks like that was changed back recently. Replace deeplearning4j-nn with deeplearning4j-core as with commits &lt;denchmark-link:https://github.com/deeplearning4j/deeplearning4j/commit/feb96d06b0585926039593d9e798c9fe7fcce510&gt;deeplearning4j@feb96d0&lt;/denchmark-link&gt;
 and &lt;denchmark-link:https://github.com/eclipse/deeplearning4j-examples/commit/5381c5f86170dc544522eb7926d8fbf8119bec67&gt;eclipse/deeplearning4j-examples@5381c5f&lt;/denchmark-link&gt;
, that works with 1.0.0-beta2.
		</comment>
		<comment id='17' author='AILTON091' date='2018-08-17T13:58:34Z'>
		replace e deeplearning4j-nn with deeplearning4j-core work, but when compiling, this error appears below in the line: MultiLayerNetwork model = ModelSerializer.restoreMultiLayerNetwork (inputStream);
here is the code:
&lt;denchmark-code&gt;try {
                    // Load the pretrained network.
                   InputStream inputStream = getResources().openRawResource(R.raw.classecharacter);
                   MultiLayerNetwork model = ModelSerializer.restoreMultiLayerNetwork(inputStream);

                     NativeImageLoader nativeImageLoader = new NativeImageLoader(28, 28, 1);//Use the nativeImageLoader to convert to numerical matrix
                     INDArray imageArray = nativeImageLoader.asMatrix(digito);//put image into INDArray

&lt;/denchmark-code&gt;

here is the error
&lt;denchmark-code&gt;E/AndroidRuntime: FATAL EXCEPTION: main
                  Process: com.example.ailton.converttogray, PID: 26958
                  java.lang.IllegalStateException: Could not execute method for android:onClick
                      at android.support.v7.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:293)
                      at android.view.View.performClick(View.java:5242)
                      at android.widget.TextView.performClick(TextView.java:10571)
                      at android.view.View$PerformClick.run(View.java:21196)
                      at android.os.Handler.handleCallback(Handler.java:739)
                      at android.os.Handler.dispatchMessage(Handler.java:95)
                      at android.os.Looper.loop(Looper.java:145)
                      at android.app.ActivityThread.main(ActivityThread.java:6938)
                      at java.lang.reflect.Method.invoke(Native Method)
                      at java.lang.reflect.Method.invoke(Method.java:372)
                      at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1404)
                      at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1199)
                   Caused by: java.lang.reflect.InvocationTargetException
                      at java.lang.reflect.Method.invoke(Native Method)
                      at java.lang.reflect.Method.invoke(Method.java:372)
                      at android.support.v7.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:288)
                      at android.view.View.performClick(View.java:5242) 
                      at android.widget.TextView.performClick(TextView.java:10571) 
                      at android.view.View$PerformClick.run(View.java:21196) 
                      at android.os.Handler.handleCallback(Handler.java:739) 
                      at android.os.Handler.dispatchMessage(Handler.java:95) 
                      at android.os.Looper.loop(Looper.java:145) 
                      at android.app.ActivityThread.main(ActivityThread.java:6938) 
                      at java.lang.reflect.Method.invoke(Native Method) 
                      at java.lang.reflect.Method.invoke(Method.java:372) 
                      at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1404) 
                      at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1199) 
                   Caused by: java.lang.ClassCastException: org.bytedeco.javacpp.indexer.LongBufferIndexer cannot be cast to org.bytedeco.javacpp.indexer.LongRawIndexer
                      at org.nd4j.linalg.api.buffer.BaseDataBuffer.put(BaseDataBuffer.java:1219)
                      at org.nd4j.linalg.api.ndarray.BaseShapeInfoProvider.createShapeInformation(BaseShapeInfoProvider.java:87)
                      at org.nd4j.linalg.cpu.nativecpu.DirectShapeInfoProvider.createShapeInformation(DirectShapeInfoProvider.java:59)
                      at org.nd4j.linalg.cpu.nativecpu.DirectShapeInfoProvider.createShapeInformation(DirectShapeInfoProvider.java:44)
                      at org.nd4j.linalg.api.ndarray.BaseNDArray.&lt;init&gt;(BaseNDArray.java:172)
                      at org.nd4j.linalg.cpu.nativecpu.NDArray.&lt;init&gt;(NDArray.java:77)
                      at org.nd4j.linalg.cpu.nativecpu.CpuNDArrayFactory.create(CpuNDArrayFactory.java:205)
                      at org.nd4j.linalg.factory.Nd4j.create(Nd4j.java:3928)
                      at org.nd4j.linalg.factory.Nd4j.createArrayFromShapeBuffer(Nd4j.java:2397)
                      at org.nd4j.linalg.factory.Nd4j.read(Nd4j.java:2436)
                      at org.deeplearning4j.util.ModelSerializer.restoreMultiLayerNetwork(ModelSerializer.java:254)
                      at org.deeplearning4j.util.ModelSerializer.restoreMultiLayerNetwork(ModelSerializer.java:342)
                      at org.deeplearning4j.util.ModelSerializer.restoreMultiLayerNetwork(ModelSerializer.java:361)
                      at com.example.ailton.converttogray.MainActivity.convertGray(MainActivity.java:314)
                      at java.lang.reflect.Method.invoke(Native Method) 
                      at java.lang.reflect.Method.invoke(Method.java:372) 
                      at android.support.v7.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:288) 
                      at android.view.View.performClick(View.java:5242) 
                      at android.widget.TextView.performClick(TextView.java:10571) 
                      at android.view.View$PerformClick.run(View.java:21196) 
                      at android.os.Handler.handleCallback(Handler.java:739) 
                      at android.os.Handler.dispatchMessage(Handler.java:95) 
                      at android.os.Looper.loop(Looper.java:145) 
                      at android.app.ActivityThread.main(ActivityThread.java:6938) 
                      at java.lang.reflect.Method.invoke(Native Method) 
                      at java.lang.reflect.Method.invoke(Method.java:372) 
                      at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1404) 
                      at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1199) 
&lt;/denchmark-code&gt;

		</comment>
		<comment id='18' author='AILTON091' date='2018-08-17T14:41:11Z'>
		&lt;denchmark-link:https://github.com/raver119&gt;@raver119&lt;/denchmark-link&gt;
 this doesn't tlook right, do you know where this might be coming from? When we use indexer, we should try to stick to the interface, not the implementation.
It looks like we had a typo here? &lt;denchmark-link:https://github.com/deeplearning4j/deeplearning4j/blob/master/nd4j/nd4j-buffer/src/main/java/org/nd4j/linalg/api/buffer/BaseDataBuffer.java#L1219&gt;https://github.com/deeplearning4j/deeplearning4j/blob/master/nd4j/nd4j-buffer/src/main/java/org/nd4j/linalg/api/buffer/BaseDataBuffer.java#L1219&lt;/denchmark-link&gt;

		</comment>
		<comment id='19' author='AILTON091' date='2018-08-18T07:59:35Z'>
		What's digito?
		</comment>
		<comment id='20' author='AILTON091' date='2018-08-18T08:02:36Z'>
		Does it do the same with a File? If you could post a model file to reproduce this, please do. Thanks!
		</comment>
		<comment id='21' author='AILTON091' date='2018-08-18T15:09:50Z'>
		&lt;denchmark-code&gt;        package com.example.ailton.converttogray;

        import android.content.Intent;

        import android.graphics.Bitmap;
        import android.graphics.BitmapFactory;

        import android.net.Uri;
        import android.os.AsyncTask;
        import android.provider.MediaStore;
        import android.support.v7.app.AppCompatActivity;
        import android.os.Bundle;
        import android.view.View;
        import android.widget.ImageView;


        import org.bytedeco.javacpp.Pointer;
        import org.bytedeco.javacpp.opencv_core;
        import org.datavec.image.loader.AndroidNativeImageLoader;
        import org.datavec.image.loader.NativeImageLoader;
        import org.deeplearning4j.nn.multilayer.MultiLayerNetwork;
        import org.deeplearning4j.util.ModelSerializer;
        import org.nd4j.linalg.api.ndarray.INDArray;
        import org.opencv.android.OpenCVLoader;
        import org.opencv.android.Utils;
        import org.opencv.core.Core;
        import org.opencv.core.CvType;
        import org.opencv.core.Mat;
        import org.opencv.core.MatOfPoint;
        import org.opencv.core.MatOfPoint2f;
        import org.opencv.core.Point;
        import org.opencv.core.Rect;
        import org.opencv.core.RotatedRect;
        import org.opencv.core.Scalar;
        import org.opencv.core.Size;
        import org.opencv.imgproc.Imgproc;

        import java.io.File;
        import java.io.IOException;
        import java.io.InputStream;
        import java.nio.charset.CoderResult;
        import java.text.DecimalFormat;
        import java.util.ArrayList;
        import java.util.Collection;
        import java.util.Collections;
        import java.util.Comparator;
        import java.util.Iterator;
        import java.util.List;
        import java.util.Random;

public class MainActivity extends AppCompatActivity {

    ImageView imView;
    Uri imageUri;
    Bitmap grayBitmap, imageBitmap;
    MultiLayerNetwork model;


    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        OpenCVLoader.initDebug();

        imView = (ImageView) findViewById(R.id.imView);

    }

    public void openGallery( View view){
        Intent myIntent = new Intent(Intent.ACTION_PICK, MediaStore.Images.Media.EXTERNAL_CONTENT_URI );
        startActivityForResult(myIntent, 100);

    }


    @Override
    protected void onActivityResult(int requestCode, int resultCode, Intent data) {
        super.onActivityResult(requestCode, resultCode, data);

        if(requestCode == 100 &amp;&amp; resultCode == RESULT_OK &amp;&amp; data !=null){

            imageUri = data.getData();

            try{
                imageBitmap = MediaStore.Images.Media.getBitmap(getContentResolver(),imageUri);
            }catch ( IOException e)
            {
                e.printStackTrace();
            }

            imView.setImageBitmap(imageBitmap);

        }


    }



    public void convertGray(View view) throws IOException {

        Mat Rgba = new Mat();
        Mat grayMat = new Mat();



        BitmapFactory.Options o = new BitmapFactory.Options();

        o.inDither = false;
        o.inSampleSize = 4;

        int width = imageBitmap.getWidth();
        int height = imageBitmap.getHeight();


        grayBitmap = Bitmap.createBitmap(width, height, Bitmap.Config.RGB_565);


        // convert bitmap to Mat

        Utils.bitmapToMat(imageBitmap, Rgba);


        // cinza
        Imgproc.cvtColor(Rgba, grayMat, Imgproc.COLOR_RGB2GRAY);


        final Mat finalDigit = grayMat;
        //convert opencv Mat to javaCpp
        org.bytedeco.javacpp.opencv_core.Mat digito = new org.bytedeco.javacpp.opencv_core.Mat((Pointer)null) {{ address = finalDigit.getNativeObjAddr();}};

        


        try {
                // Load the pretrained network.
                InputStream inputStream = getResources().openRawResource(R.raw.classecharacter);
                model = ModelSerializer.restoreMultiLayerNetwork(inputStream);

                NativeImageLoader nativeImageLoader = new NativeImageLoader(28, 28, 1);//Use the nativeImageLoader to convert to numerical matrix
                INDArray imageArray = nativeImageLoader.asMatrix(digito);//put image into INDArray

                System.out.println("Indarray é  " + imageArray);

                // INDArray flaten;
                //flaten = image != null ? image.reshape(new int[]{1, 784}) : null; // ordena os vetores em 28*28 = 784



                //pass through neural net and store it in output array
               INDArray output = model.output(imageArray);

                System.out.println("A saida é  " + output);

        } catch (IOException e) {
                e.printStackTrace();
        }



    }




}

&lt;/denchmark-code&gt;

		</comment>
		<comment id='22' author='AILTON091' date='2018-08-18T21:42:50Z'>
		Ok, thanks, that looks alright. It looks like something is strange with the model file that you have. Could you try to load on the desktop? I think it will succeed because we can use LongRawIndexer, but not on Android...
		</comment>
		<comment id='23' author='AILTON091' date='2018-08-18T22:25:11Z'>
		load on the desktop, how?
		</comment>
		<comment id='24' author='AILTON091' date='2018-08-18T22:37:13Z'>
		I just mean running your code on Linux, Mac, or Windows, it probably works there. This is probably an issue with Android only.
		</comment>
		<comment id='25' author='AILTON091' date='2018-08-18T23:06:32Z'>
		but it is that I am developing an app for android, so it is necessary to do the compilation on android using android studio.
		</comment>
		<comment id='26' author='AILTON091' date='2018-09-14T03:22:31Z'>
		So, I'll say it again, you're not using the latest version of the code. See line 1219 of BaseDataBuffer.java here:
&lt;denchmark-link:https://github.com/deeplearning4j/deeplearning4j/blob/master/nd4j/nd4j-buffer/src/main/java/org/nd4j/linalg/api/buffer/BaseDataBuffer.java#L1219&gt;https://github.com/deeplearning4j/deeplearning4j/blob/master/nd4j/nd4j-buffer/src/main/java/org/nd4j/linalg/api/buffer/BaseDataBuffer.java#L1219&lt;/denchmark-link&gt;

There are no references to LongRawIndexer anymore. You'll need to use that version if you expect to get this running, it's that simple!
		</comment>
		<comment id='27' author='AILTON091' date='2018-09-14T03:30:54Z'>
		send me the latest version so I can do the test please, if it is SNAPSHOT could you give me a version of what comes within the pom.xml file? in the code above I was using beta2
		</comment>
		<comment id='28' author='AILTON091' date='2018-09-17T13:18:25Z'>
		You'll need to use that version if you expect to get this running, it's that simple!
what is the version that does not have LongRawIndexer I can not find.
		</comment>
		<comment id='29' author='AILTON091' date='2018-09-19T00:29:38Z'>
		I told you, you'll need to use 1.0.0-SNAPSHOT. If you're not able to get that working with the instructions I gave you, please wait for the next release.
		</comment>
		<comment id='30' author='AILTON091' date='2018-09-30T10:44:57Z'>
		So i changed the version to 1.0.0-SNAPSHOT then i get dependency error
&lt;denchmark-code&gt;09-30 13:23:18.291 28422-28800/com.example.titamrtn.formedetection E/AndroidRuntime: FATAL EXCEPTION: AsyncTask #1
    Process: com.example.titamrtn.formedetection, PID: 28422
    java.lang.RuntimeException: An error occurred while executing doInBackground()
        at android.os.AsyncTask$3.done(AsyncTask.java:309)
        at java.util.concurrent.FutureTask.finishCompletion(FutureTask.java:354)
        at java.util.concurrent.FutureTask.setException(FutureTask.java:223)
        at java.util.concurrent.FutureTask.run(FutureTask.java:242)
        at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:234)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1113)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:588)
        at java.lang.Thread.run(Thread.java:818)
     Caused by: java.lang.ExceptionInInitializerError
        at org.nd4j.nativeblas.NativeOpsHolder.getInstance(NativeOpsHolder.java:75)
        at org.nd4j.linalg.cpu.nativecpu.ops.NativeOpExecutioner.&lt;init&gt;(NativeOpExecutioner.java:69)
        at java.lang.Class.newInstance(Native Method)
        at org.nd4j.linalg.factory.Nd4j.initWithBackend(Nd4j.java:5578)
        at org.nd4j.linalg.factory.Nd4j.initContext(Nd4j.java:5473)
        at org.nd4j.linalg.factory.Nd4j.&lt;clinit&gt;(Nd4j.java:214)
        at org.nd4j.linalg.factory.Nd4j.read(Nd4j.java:2432)
        at org.deeplearning4j.util.ModelSerializer.restoreMultiLayerNetwork(ModelSerializer.java:254)
        at org.deeplearning4j.util.ModelSerializer.restoreMultiLayerNetwork(ModelSerializer.java:342)
        at org.deeplearning4j.util.ModelSerializer.restoreMultiLayerNetwork(ModelSerializer.java:361)
        at com.example.titamrtn.formedetection.CameraActivity$PredictTask.doInBackground(CameraActivity.java:263)
        at com.example.titamrtn.formedetection.CameraActivity$PredictTask.doInBackground(CameraActivity.java:239)
        at android.os.AsyncTask$2.call(AsyncTask.java:295)
        at java.util.concurrent.FutureTask.run(FutureTask.java:237)
        at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:234) 
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1113) 
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:588) 
        at java.lang.Thread.run(Thread.java:818) 
     Caused by: java.lang.RuntimeException: ND4J is probably missing dependencies. For more information, please refer to: http://nd4j.org/getstarted.html
        at org.nd4j.nativeblas.NativeOpsHolder.&lt;init&gt;(NativeOpsHolder.java:68)
        at org.nd4j.nativeblas.NativeOpsHolder.&lt;clinit&gt;(NativeOpsHolder.java:36)
        at org.nd4j.nativeblas.NativeOpsHolder.getInstance(NativeOpsHolder.java:75) 
        at org.nd4j.linalg.cpu.nativecpu.ops.NativeOpExecutioner.&lt;init&gt;(NativeOpExecutioner.java:69) 
        at java.lang.Class.newInstance(Native Method) 
        at org.nd4j.linalg.factory.Nd4j.initWithBackend(Nd4j.java:5578) 
        at org.nd4j.linalg.factory.Nd4j.initContext(Nd4j.java:5473) 
        at org.nd4j.linalg.factory.Nd4j.&lt;clinit&gt;(Nd4j.java:214) 
        at org.nd4j.linalg.factory.Nd4j.read(Nd4j.java:2432) 
        at org.deeplearning4j.util.ModelSerializer.restoreMultiLayerNetwork(ModelSerializer.java:254) 
        at org.deeplearning4j.util.ModelSerializer.restoreMultiLayerNetwork(ModelSerializer.java:342) 
        at org.deeplearning4j.util.ModelSerializer.restoreMultiLayerNetwork(ModelSerializer.java:361) 
        at com.example.titamrtn.formedetection.CameraActivity$PredictTask.doInBackground(CameraActivity.java:263) 
        at com.example.titamrtn.formedetection.CameraActivity$PredictTask.doInBackground(CameraActivity.java:239) 
        at android.os.AsyncTask$2.call(AsyncTask.java:295) 
        at java.util.concurrent.FutureTask.run(FutureTask.java:237) 
        at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:234) 
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1113) 
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:588) 
        at java.lang.Thread.run(Thread.java:818) 
     Caused by: java.lang.UnsatisfiedLinkError: dalvik.system.PathClassLoader[DexPathList[[zip file "/data/app/com.example.titamrtn.formedetection-2/base.apk", zip file "/data/app/com.example.titamrtn.formedetection-2/split_lib_dependencies_apk.apk", zip file "/data/app/com.example.titamrtn.formedetection-2/split_lib_slice_0_apk.apk", zip file "/data/app/com.example.titamrtn.formedetection-2/split_lib_slice_1_apk.apk", zip file "/data/app/com.example.titamrtn.formedetection-2/split_lib_slice_2_apk.apk", zip file "/data/app/com.example.titamrtn.formedetection-2/split_lib_slice_3_apk.apk", zip file "/data/app/com.example.titamrtn.formedetection-2/split_lib_slice_4_apk.apk", zip file "/data/app/com.example.titamrtn.formedetection-2/split_lib_slice_5_apk.apk", zip file "/data/app/com.example.titamrtn.formedetection-2/split_lib_slice_6_apk.apk", zip file "/data/app/com.example.titamrtn.formedetection-2/split_lib_slice_7_apk.apk", zip file "/data/app/com.example.titamrtn.formedetection-2/split_lib_slice_8_apk.apk", zip file "/data/app/com.example.titamrtn.formedetection-2/split_lib_slice_9_apk.apk"],nativeLibraryDirectories=[/data/app/com.example.titamrtn.formedetection-2/lib/arm64, /data/app/com.example.titamrtn.formedetection-2/base.apk!/lib/arm64-v8a, /data/app/com.example.titamrtn.formedetection-2/split_lib_dependencies_apk.apk!/lib/arm64-v8a, /data/app/com.example.titamrtn.formedetection-2/split_lib_slice_0_apk.apk!/lib/arm64-v8a, /data/app/com.example.titamrtn.formedetection-2/split_lib_slice_1_apk.apk!/lib/arm64-v8a, /data/app/com.example.titamrtn.formedetection-2/split_lib_slice_2_apk.apk!/lib/arm64-v8a, /data/app/com.example.titamrtn.formedetection-2/split_lib_slice_3_apk.apk!/lib/arm64-v8a, /data/app/com.example.titamrtn.formedetection-2/split_lib_slice_4_apk.apk!/lib/arm64-v8a, /data/app/com.example.titamrtn.formedetection-2/split_lib_slice_5_apk.apk!/lib/arm64-v8a, /data/app/com.example.tit
09-30 13:23:18.435 28422-28800/com.example.titamrtn.formedetection I/Process: Sending signal. PID: 28422 SIG: 9
&lt;/denchmark-code&gt;

This is my gradle file :
&lt;denchmark-code&gt;apply plugin: 'com.android.application'

android {
    compileSdkVersion 28
    defaultConfig {
        applicationId "com.example.titamrtn.formedetection"
        minSdkVersion 23
        targetSdkVersion 28
        versionCode 1
        versionName "1.0"
        testInstrumentationRunner "android.support.test.runner.AndroidJUnitRunner"
    }
    buildTypes {
        release {
            minifyEnabled false
            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'
        }
    }
}

repositories {
    maven { url "https://oss.sonatype.org/content/repositories/snapshots" }
    mavenCentral()
}

dependencies {
    implementation fileTree(dir: 'libs', include: ['*.jar'])
    implementation 'com.android.support:appcompat-v7:28.0.0'
    implementation 'com.android.support.constraint:constraint-layout:1.1.3'

    compile "org.slf4j:slf4j-api:1.7.25"
    compile "org.slf4j:slf4j-simple:1.7.25"

    compile (group: 'org.deeplearning4j', name: 'deeplearning4j-core', version: '1.0.0-SNAPSHOT') {
        exclude group: 'org.bytedeco.javacpp-presets', module: 'opencv-platform'
        exclude group: 'org.bytedeco.javacpp-presets', module: 'leptonica-platform'
        exclude group: 'org.bytedeco.javacpp-presets', module: 'hdf5-platform'
    }

    compile group: 'org.nd4j', name: 'nd4j-native', version: '1.0.0-SNAPSHOT'
    compile group: 'org.nd4j', name: 'nd4j-native', version: '1.0.0-SNAPSHOT'
    compile group: 'org.nd4j', name: 'nd4j-native', version: '1.0.0-SNAPSHOT'
    compile group: 'org.nd4j', name: 'nd4j-native', version: '1.0.0-SNAPSHOT'
    compile group: 'org.nd4j', name: 'nd4j-native', version: '1.0.0-SNAPSHOT'
    compile group: 'org.bytedeco.javacpp-presets', name: 'openblas', version: '0.3.0-1.4.2'
    compile group: 'org.bytedeco.javacpp-presets', name: 'openblas', version: '0.3.0-1.4.2', classifier: "android-arm"
    compile group: 'org.bytedeco.javacpp-presets', name: 'openblas', version: '0.3.0-1.4.2', classifier: "android-arm64"
    compile group: 'org.bytedeco.javacpp-presets', name: 'openblas', version: '0.3.0-1.4.2', classifier: "android-x86"
    compile group: 'org.bytedeco.javacpp-presets', name: 'openblas', version: '0.3.0-1.4.2', classifier: "android-x86_64"
    compile group: 'org.bytedeco.javacpp-presets', name: 'opencv', version: '3.4.2-1.4.2'
    compile group: 'org.bytedeco.javacpp-presets', name: 'opencv', version: '3.4.2-1.4.2', classifier: "android-arm"
    compile group: 'org.bytedeco.javacpp-presets', name: 'opencv', version: '3.4.2-1.4.2', classifier: "android-arm64"
    compile group: 'org.bytedeco.javacpp-presets', name: 'opencv', version: '3.4.2-1.4.2', classifier: "android-x86"
    compile group: 'org.bytedeco.javacpp-presets', name: 'opencv', version: '3.4.2-1.4.2', classifier: "android-x86_64"
    compile group: 'org.bytedeco.javacpp-presets', name: 'leptonica', version: '1.76.0-1.4.2'
    compile group: 'org.bytedeco.javacpp-presets', name: 'leptonica', version: '1.76.0-1.4.2', classifier: "android-arm"
    compile group: 'org.bytedeco.javacpp-presets', name: 'leptonica', version: '1.76.0-1.4.2', classifier: "android-arm64"
    compile group: 'org.bytedeco.javacpp-presets', name: 'leptonica', version: '1.76.0-1.4.2', classifier: "android-x86"
    compile group: 'org.bytedeco.javacpp-presets', name: 'leptonica', version: '1.76.0-1.4.2', classifier: "android-x86_64"

    annotationProcessor 'org.projectlombok:lombok:1.16.16'

    compile 'com.google.code.findbugs:annotations:3.0.1', {
        exclude module: 'jsr305'
        exclude module: 'jcip-annotations'
    }

    testImplementation 'junit:junit:4.12'
    androidTestImplementation 'com.android.support.test:runner:1.0.2'
    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.2'
}

&lt;/denchmark-code&gt;

And my pom.xml
&lt;denchmark-code&gt;&lt;?xml version="1.0" encoding="UTF-8"?&gt;

&lt;project&gt;
        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
        &lt;groupId&gt;org.deeplearning4j&lt;/groupId&gt;
        &lt;artifactId&gt;snapshots&lt;/artifactId&gt;
        &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;
        &lt;dependencies&gt;
            &lt;dependency&gt;
                &lt;groupId&gt;org.nd4j&lt;/groupId&gt;
                &lt;artifactId&gt;nd4j-native-platform&lt;/artifactId&gt;
                &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;
            &lt;/dependency&gt;
            &lt;dependency&gt;
                &lt;groupId&gt;org.deeplearning4j&lt;/groupId&gt;
                &lt;artifactId&gt;deeplearning4j-core&lt;/artifactId&gt;
                &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;
            &lt;/dependency&gt;
        &lt;/dependencies&gt;
        &lt;repositories&gt;
            &lt;repository&gt;
                &lt;id&gt;sonatype-nexus-snapshots&lt;/id&gt;
                &lt;url&gt;https://oss.sonatype.org/content/repositories/snapshots&lt;/url&gt;
                &lt;releases&gt;
                    &lt;enabled&gt;false&lt;/enabled&gt;
                &lt;/releases&gt;
                &lt;snapshots&gt;
                    &lt;enabled&gt;true&lt;/enabled&gt;
                    &lt;updatePolicy&gt;always&lt;/updatePolicy&gt;
                &lt;/snapshots&gt;
            &lt;/repository&gt;
        &lt;/repositories&gt;
&lt;/project&gt;

&lt;/denchmark-code&gt;

		</comment>
		<comment id='31' author='AILTON091' date='2018-09-30T11:26:51Z'>
		You didn't include the native binaries for nd4j, that's not going to work: &lt;denchmark-link:http://deeplearning4j.org/android&gt;http://deeplearning4j.org/android&lt;/denchmark-link&gt;

		</comment>
		<comment id='32' author='AILTON091' date='2018-09-30T11:38:54Z'>
		So i change pom to add this
&lt;denchmark-code&gt;   compile group: 'org.nd4j', name: 'nd4j-native', version: '1.0.0-SNAPSHOT'
    compile group: 'org.nd4j', name: 'nd4j-native', version: '1.0.0-SNAPSHOT', classifier: "android-arm"
    compile group: 'org.nd4j', name: 'nd4j-native', version: '1.0.0-SNAPSHOT', classifier: "android-arm64"
    compile group: 'org.nd4j', name: 'nd4j-native', version: '1.0.0-SNAPSHOT', classifier: "android-x86"
    compile group: 'org.nd4j', name: 'nd4j-native', version: '1.0.0-SNAPSHOT', classifier: "android-x86_64"
&lt;/denchmark-code&gt;

And i got this error when building gradle
&lt;denchmark-code&gt;Failed to resolve: nd4j-native-android-arm

Failed to resolve: nd4j-native-android-arm64

Failed to resolve: nd4j-native-android-x86

Unable to resolve dependency for ':app@debug/compileClasspath': Could not find nd4j-native-android-x86_64.jar (org.nd4j:nd4j-native:1.0.0-SNAPSHOT).

Unable to resolve dependency for ':app@debugAndroidTest/compileClasspath': Could not find nd4j-native-android-x86_64.jar (org.nd4j:nd4j-native:1.0.0-SNAPSHOT).

Unable to resolve dependency for ':app@debugUnitTest/compileClasspath': Could not find nd4j-native-android-x86_64.jar (org.nd4j:nd4j-native:1.0.0-SNAPSHOT).

Unable to resolve dependency for ':app@release/compileClasspath': Could not find nd4j-native-android-x86_64.jar (org.nd4j:nd4j-native:1.0.0-SNAPSHOT).

Unable to resolve dependency for ':app@releaseUnitTest/compileClasspath': Could not find nd4j-native-android-x86_64.jar (org.nd4j:nd4j-native:1.0.0-SNAPSHOT).
&lt;/denchmark-code&gt;

And if i use 1.0.0-beta2 version of nd4j i got the previous error
&lt;denchmark-code&gt;Caused by: java.lang.ClassCastException: org.bytedeco.javacpp.indexer.LongBufferIndexer cannot be cast to org.bytedeco.javacpp.indexer.LongRawIndexer
&lt;/denchmark-code&gt;

		</comment>
		<comment id='33' author='AILTON091' date='2018-09-30T13:46:13Z'>
		Please follow the instructions on &lt;denchmark-link:http://deeplearning4j.org/android&gt;http://deeplearning4j.org/android&lt;/denchmark-link&gt;
 they will work. If you're unable to make it work though, please wait until the next release.
		</comment>
		<comment id='34' author='AILTON091' date='2018-09-30T15:11:28Z'>
		I take code from &lt;denchmark-link:http://deeplearning4j.org/android&gt;http://deeplearning4j.org/android&lt;/denchmark-link&gt;
 and change all 1.0.0-beta2 to 1.0.0-SNAPSHOT but there's dependency error(The error i said before). Note: i copied pom.xml though and run mvn -U compile.
So there's no way to make my app work now? And the next release is for when?
		</comment>
		<comment id='35' author='AILTON091' date='2018-10-01T01:06:46Z'>
		
You will also need to include mavenLocal() in the repository {} block of the build.gradle file.

		</comment>
		<comment id='36' author='AILTON091' date='2018-10-01T08:59:06Z'>
		It's so hard to just run an example(in android only, it works fine on linux). So today i add mavenLocal(), as you said. I run mvn -U compile
and there's i new error
&lt;denchmark-code&gt;[ERROR] Failed to execute goal on project snapshots: Could not resolve dependencies for project org.deeplearning4j:snapshots:jar:1.0.0-SNAPSHOT: Could not find artifact org.nd4j:nd4j-native:jar:android-arm64:1.0.0-20180928.004910-6193 in sonatype-nexus-snapshots (https://oss.sonatype.org/content/repositories/snapshots)
&lt;/denchmark-code&gt;

So i follow this &lt;denchmark-link:https://oss.sonatype.org/content/repositories/snapshots/org/nd4j/nd4j-native/1.0.0-SNAPSHOT/&gt;link&lt;/denchmark-link&gt;
 and see that there's is no android-arm64:1.0.0-20180928.004910-6193 but it still in &lt;denchmark-link:https://oss.sonatype.org/content/repositories/snapshots/org/nd4j/nd4j-native/1.0.0-SNAPSHOT/maven-metadata.xml&gt;metadata&lt;/denchmark-link&gt;

		</comment>
		<comment id='37' author='AILTON091' date='2018-10-01T10:53:33Z'>
		&lt;denchmark-link:https://github.com/sshepel&gt;@sshepel&lt;/denchmark-link&gt;
 Any ideas why this is happening again? Sounds like an issue with the Nexus server...
		</comment>
		<comment id='38' author='AILTON091' date='2018-10-01T10:55:39Z'>
		&lt;denchmark-link:https://github.com/sshepel&gt;@sshepel&lt;/denchmark-link&gt;
 Yeah, we'll need to do something about this: &lt;denchmark-link:https://issues.sonatype.org/browse/NEXUS-1615&gt;https://issues.sonatype.org/browse/NEXUS-1615&lt;/denchmark-link&gt;

		</comment>
		<comment id='39' author='AILTON091' date='2018-10-01T11:32:05Z'>
		So i need to wait until next build/deployment or something like that of the SNAPSHOT right?
		</comment>
		<comment id='40' author='AILTON091' date='2018-10-01T19:06:31Z'>
		&lt;denchmark-link:https://github.com/saudet&gt;@saudet&lt;/denchmark-link&gt;
 I have checked links provided by &lt;denchmark-link:https://github.com/titamrtn&gt;@titamrtn&lt;/denchmark-link&gt;
 and it looks ok for me... metadata points to latest snapshots in repository (nightly build of master):
&lt;denchmark-code&gt;&lt;snapshotVersion&gt;
&lt;classifier&gt;android-arm64&lt;/classifier&gt;
&lt;extension&gt;jar&lt;/extension&gt;
&lt;value&gt;1.0.0-20181001.004621-6231&lt;/value&gt;
&lt;updated&gt;20181001004621&lt;/updated&gt;
&lt;/snapshotVersion&gt;
&lt;/denchmark-code&gt;

And this is the only record in metadata file.
Artifacts themselves are also in repo:
&lt;denchmark-link:https://user-images.githubusercontent.com/9946053/46309273-8b87e100-c5c4-11e8-8fb1-203daa81fd1e.png&gt;&lt;/denchmark-link&gt;

&lt;denchmark-link:https://github.com/saudet&gt;@saudet&lt;/denchmark-link&gt;
 the issue that you provided is really old, of course it could be a chance that it still there, but or oss.nexus update's artifact metadata really slow, but I don't think so. Will check metadata tomorrow after nightly build.
Link to the build log for October 1st: &lt;denchmark-link:https://jenkins.ci.skymind.io/blue/organizations/jenkins/deeplearing4j%2Fdeeplearning4j/detail/master/153/pipeline/50#step-537-log-903&gt;https://jenkins.ci.skymind.io/blue/organizations/jenkins/deeplearing4j%2Fdeeplearning4j/detail/master/153/pipeline/50#step-537-log-903&lt;/denchmark-link&gt;

&lt;denchmark-link:https://github.com/titamrtn&gt;@titamrtn&lt;/denchmark-link&gt;
 it's not necessary to wait next build, as workaround you can try to fetch required artifacts for oss.nexus and install it manually (more details here: &lt;denchmark-link:https://maven.apache.org/guides/mini/guide-3rd-party-jars-local.html&gt;https://maven.apache.org/guides/mini/guide-3rd-party-jars-local.html&lt;/denchmark-link&gt;
), or check you local repo, looks like it didn't pick latest snapshots...
		</comment>
		<comment id='41' author='AILTON091' date='2018-10-01T21:07:15Z'>
		&lt;denchmark-link:https://github.com/sshepel&gt;@sshepel&lt;/denchmark-link&gt;
 It's usually OK, it just happens sometimes.
		</comment>
		<comment id='42' author='AILTON091' date='2018-10-02T07:52:44Z'>
		Thanks, now it work.
		</comment>
		<comment id='43' author='AILTON091' date='2018-10-08T11:39:39Z'>
		&lt;denchmark-code&gt;
Failed to resolve: nd4j-native-android-arm

Failed to resolve: nd4j-native-android-arm64

Failed to resolve: nd4j-native-android-x86

Unable to resolve dependency for ':app@debugUnitTest/compileClasspath': Could not find opencv-android-x86_64.jar (org.bytedeco.javacpp-presets:opencv:3.4.3-1.4.3-SNAPSHOT).

&lt;a href="openFile:/home/ailton/AndroidStudioProjects/ConvertToGray/app/build.gradle"&gt;Open File&lt;/a&gt;&lt;br&gt;&lt;a href="Unable to resolve dependency for &amp;#39;:app@debugUnitTest/compileClasspath&amp;#39;: Could not find opencv-android-x86_64.jar (org.bytedeco.javacpp-presets:opencv:3.4.3-1.4.3-SNAPSHOT)."&gt;Show Details&lt;/a&gt;

Unable to resolve dependency for ':app@debug/compileClasspath': Could not find nd4j-native-android-x86_64.jar (org.nd4j:nd4j-native:1.0.0-SNAPSHOT).

Unable to resolve dependency for ':app@debugAndroidTest/compileClasspath': Could not find nd4j-native-android-x86_64.jar (org.nd4j:nd4j-native:1.0.0-SNAPSHOT).

Unable to resolve dependency for ':app@debugUnitTest/compileClasspath': Could not find nd4j-native-android-x86_64.jar (org.nd4j:nd4j-native:1.0.0-SNAPSHOT).

Unable to resolve dependency for ':app@release/compileClasspath': Could not find nd4j-native-android-x86_64.jar (org.nd4j:nd4j-native:1.0.0-SNAPSHOT).

Unable to resolve dependency for ':app@releaseUnitTest/compileClasspath': Could not find nd4j-native-android-x86_64.jar (org.nd4j:nd4j-native:1.0.0-SNAPSHOT). 

&lt;/denchmark-code&gt;

hello &lt;denchmark-link:https://github.com/titamrtn&gt;@titamrtn&lt;/denchmark-link&gt;
 , I'm with this same problem, how did you solve it?
		</comment>
		<comment id='44' author='AILTON091' date='2018-10-09T01:54:16Z'>
		&lt;denchmark-link:https://github.com/AILTON091&gt;@AILTON091&lt;/denchmark-link&gt;
 I've just tried it again to make sure nothing broke, and I'm still not seeing any issues. I've put the  file from &lt;denchmark-link:https://deeplearning4j.org/android&gt;https://deeplearning4j.org/android&lt;/denchmark-link&gt;
 in my project directory, called  on it, and built with following in the  file:
repositories {
    mavenLocal()
}

dependencies {
    compile (group: 'org.deeplearning4j', name: 'deeplearning4j-core', version: '1.0.0-SNAPSHOT') {
        exclude group: 'org.bytedeco.javacpp-presets', module: 'opencv-platform'
        exclude group: 'org.bytedeco.javacpp-presets', module: 'leptonica-platform'
        exclude group: 'org.bytedeco.javacpp-presets', module: 'hdf5-platform'
    }
    compile group: 'org.nd4j', name: 'nd4j-native', version: '1.0.0-SNAPSHOT'
    compile group: 'org.nd4j', name: 'nd4j-native', version: '1.0.0-SNAPSHOT', classifier: "android-arm"
    compile group: 'org.nd4j', name: 'nd4j-native', version: '1.0.0-SNAPSHOT', classifier: "android-arm64"
    compile group: 'org.nd4j', name: 'nd4j-native', version: '1.0.0-SNAPSHOT', classifier: "android-x86"
    compile group: 'org.nd4j', name: 'nd4j-native', version: '1.0.0-SNAPSHOT', classifier: "android-x86_64"
    compile group: 'org.bytedeco.javacpp-presets', name: 'openblas', version: '0.3.3-1.4.3-SNAPSHOT'
    compile group: 'org.bytedeco.javacpp-presets', name: 'openblas', version: '0.3.3-1.4.3-SNAPSHOT', classifier: "android-arm"
    compile group: 'org.bytedeco.javacpp-presets', name: 'openblas', version: '0.3.3-1.4.3-SNAPSHOT', classifier: "android-arm64"
    compile group: 'org.bytedeco.javacpp-presets', name: 'openblas', version: '0.3.3-1.4.3-SNAPSHOT', classifier: "android-x86"
    compile group: 'org.bytedeco.javacpp-presets', name: 'openblas', version: '0.3.3-1.4.3-SNAPSHOT', classifier: "android-x86_64"
    compile group: 'org.bytedeco.javacpp-presets', name: 'opencv', version: '3.4.3-1.4.3-SNAPSHOT'
    compile group: 'org.bytedeco.javacpp-presets', name: 'opencv', version: '3.4.3-1.4.3-SNAPSHOT', classifier: "android-arm"
    compile group: 'org.bytedeco.javacpp-presets', name: 'opencv', version: '3.4.3-1.4.3-SNAPSHOT', classifier: "android-arm64"
    compile group: 'org.bytedeco.javacpp-presets', name: 'opencv', version: '3.4.3-1.4.3-SNAPSHOT', classifier: "android-x86"
    compile group: 'org.bytedeco.javacpp-presets', name: 'opencv', version: '3.4.3-1.4.3-SNAPSHOT', classifier: "android-x86_64"
    compile group: 'org.bytedeco.javacpp-presets', name: 'leptonica', version: '1.76.0-1.4.3-SNAPSHOT'
    compile group: 'org.bytedeco.javacpp-presets', name: 'leptonica', version: '1.76.0-1.4.3-SNAPSHOT', classifier: "android-arm"
    compile group: 'org.bytedeco.javacpp-presets', name: 'leptonica', version: '1.76.0-1.4.3-SNAPSHOT', classifier: "android-arm64"
    compile group: 'org.bytedeco.javacpp-presets', name: 'leptonica', version: '1.76.0-1.4.3-SNAPSHOT', classifier: "android-x86"
    compile group: 'org.bytedeco.javacpp-presets', name: 'leptonica', version: '1.76.0-1.4.3-SNAPSHOT', classifier: "android-x86_64"
    // ...
}
		</comment>
		<comment id='45' author='AILTON091' date='2018-10-09T02:58:25Z'>
		&lt;denchmark-link:https://github.com/agibsonccc&gt;@agibsonccc&lt;/denchmark-link&gt;
 &lt;denchmark-link:https://github.com/saudet&gt;@saudet&lt;/denchmark-link&gt;
 I made the same changes to your glade but when I click sync it gives me this error
&lt;denchmark-code&gt;Error:Failed to resolve: org.deeplearning4j:deeplearning4j-core:1.0.0-SNAPSHOT

Error:Failed to resolve: org.nd4j:nd4j-native:1.0.0-SNAPSHOT

Error:Failed to resolve: org.bytedeco.javacpp-presets:openblas:0.3.3-1.4.3-SNAPSHOT

Error:Failed to resolve: org.bytedeco.javacpp-presets:opencv:3.4.3-1.4.3-SNAPSHOT

Error:Failed to resolve: org.bytedeco.javacpp-presets:leptonica:1.76.0-1.4.3-SNAPSHOT

&lt;/denchmark-code&gt;

and when run the error run -U compile command too
[ERROR] Failed to execute goal on project snapshots: Could not resolve dependencies for project org.deeplearning4j:snapshots:jar:1.0.0-SNAPSHOT: The following artifacts could not be resolved: org.slf4j:slf4j-api:jar:1.7.21, org.bytedeco.javacpp-presets:leptonica:jar:windows-x86:1.76.0-1.4.3-SNAPSHOT: Could not transfer artifact org.slf4j:slf4j-api:jar:1.7.21 from/to central (&lt;denchmark-link:https://repo.maven.apache.org/maven2&gt;https://repo.maven.apache.org/maven2&lt;/denchmark-link&gt;
): Tempo esgotado para conexão (Read failed) -&gt; [Help 1]
		</comment>
		<comment id='46' author='AILTON091' date='2018-11-07T13:54:16Z'>
		&lt;denchmark-link:https://github.com/saudet&gt;@saudet&lt;/denchmark-link&gt;
 &lt;denchmark-link:https://github.com/titamrtn&gt;@titamrtn&lt;/denchmark-link&gt;
 I am trying to run the given Iris Classifier example on android followed by the instruction, but I got an error during building by android studio.
Actually, I put the pom.xml into the root directory and did the mvn -U compile, and everything is good on my Macbook Pro. I also changed all beta2 to the 1.0.0-SNAPSHOT.
Here is the issue:
&lt;denchmark-code&gt;/Users/zhangyu/Documents/TensorFlow/dl4jZac/app/build/intermediates/transforms/dexBuilder/debug/151.jar
Learn how to resolve the issue at https://developer.android.com/studio/build/dependencies#duplicate_classes.
Program type already present: org.nd4j.serde.base64.Nd4jBase64
	at com.android.builder.dexing.D8DexArchiveMerger.getExceptionToRethrow(D8DexArchiveMerger.java:132)
	at com.android.builder.dexing.D8DexArchiveMerger.mergeDexArchives(D8DexArchiveMerger.java:117)
	at com.android.build.gradle.internal.transforms.DexMergerTransformCallable.call(DexMergerTransformCallable.java:101)
	at com.android.build.gradle.internal.transforms.ExternalLibsMergerTransform.transform(ExternalLibsMergerTransform.kt:122)
	at com.android.build.gradle.internal.pipeline.TransformTask$2.call(TransformTask.java:239)
	at com.android.build.gradle.internal.pipeline.TransformTask$2.call(TransformTask.java:235)
	at com.android.builder.profile.ThreadRecorder.record(ThreadRecorder.java:102)
	... 124 more
Caused by: com.android.tools.r8.CompilationFailedException: Compilation failed to complete
	at com.android.tools.r8.utils.ExceptionUtils.withCompilationHandler(ExceptionUtils.java:65)
	at com.android.tools.r8.utils.ExceptionUtils.withD8CompilationHandler(ExceptionUtils.java:43)
	at com.android.tools.r8.D8.run(D8.java:90)
	at com.android.builder.dexing.D8DexArchiveMerger.mergeDexArchives(D8DexArchiveMerger.java:115)
	... 129 more
Caused by: com.android.tools.r8.utils.AbortException: Error: Program type already present: org.nd4j.serde.base64.Nd4jBase64
	at com.android.tools.r8.utils.Reporter.failIfPendingErrors(Reporter.java:116)
	at com.android.tools.r8.utils.Reporter.fatalError(Reporter.java:74)
	at com.android.tools.r8.utils.ExceptionUtils.withCompilationHandler(ExceptionUtils.java:59)
	... 132 more

&lt;/denchmark-code&gt;

It seems this issue caused by the duplicate classes, and it said Error: Program type already present: org.nd4j.serde.base64.Nd4jBase64, but I applied the multiDexEnabled true.
So, could you please help me out? Many thanks for that.
And here is my app/gradle.build:
&lt;denchmark-code&gt;apply plugin: 'com.android.application'

android {
    compileSdkVersion 27

    defaultConfig {
        minSdkVersion 23
        targetSdkVersion 27
        versionCode 1
        versionName "1.0"
        testInstrumentationRunner "android.support.test.runner.AndroidJUnitRunner"
        multiDexEnabled true

        javaCompileOptions {
            annotationProcessorOptions {
                includeCompileClasspath false
            }
        }
        buildTypes {
            release {
                minifyEnabled false
                proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'
            }

        }

        packagingOptions {
            exclude 'META-INF/DEPENDENCIES'
            exclude 'META-INF/DEPENDENCIES.txt'
            exclude 'META-INF/LICENSE'
            exclude 'META-INF/LICENSE.txt'
            exclude 'META-INF/license.txt'
            exclude 'META-INF/NOTICE'
            exclude 'META-INF/NOTICE.txt'
            exclude 'META-INF/notice.txt'
            exclude 'META-INF/INDEX.LIST'

        }
    }

    repositories {
//        maven { url "https://oss.sonatype.org/content/repositories/snapshots" }
//        mavenCentral()
        mavenLocal()
    }

    dependencies {
        implementation fileTree(dir: 'libs', include: ['*.jar'])
        androidTestImplementation('com.android.support.test.espresso:espresso-core:2.2.2', {
            exclude group: 'com.android.support', module: 'support-annotations'

        })

        implementation 'com.android.support:appcompat-v7:27.1.0'
        implementation 'com.android.support:design:27.1.0'

        implementation 'com.google.code.gson:gson:2.8.2'
        annotationProcessor 'org.projectlombok:lombok:1.16.16'

        implementation 'com.google.code.findbugs:annotations:3.0.1', {
            exclude module: 'jsr305'
            exclude module: 'jcip-annotations'
        }

        implementation(group: 'org.deeplearning4j', name: 'deeplearning4j-core', version: '1.0.0-SNAPSHOT') {
            exclude group: 'org.bytedeco.javacpp-presets', module: 'opencv-platform'
            exclude group: 'org.bytedeco.javacpp-presets', module: 'leptonica-platform'
            exclude group: 'org.bytedeco.javacpp-presets', module: 'hdf5-platform'
        }
        implementation group: 'org.nd4j', name: 'nd4j-native', version: '1.0.0-SNAPSHOT'
        implementation group: 'org.nd4j', name: 'nd4j-native', version: '1.0.0-SNAPSHOT', classifier: "android-arm"
        implementation group: 'org.nd4j', name: 'nd4j-native', version: '1.0.0-SNAPSHOT', classifier: "android-arm64"
        implementation group: 'org.nd4j', name: 'nd4j-native', version: '1.0.0-SNAPSHOT', classifier: "android-x86"
        implementation group: 'org.nd4j', name: 'nd4j-native', version: '1.0.0-SNAPSHOT', classifier: "android-x86_64"

        implementation group: 'org.bytedeco.javacpp-presets', name: 'openblas', version: '0.3.3-1.4.3-SNAPSHOT'
        implementation group: 'org.bytedeco.javacpp-presets', name: 'openblas', version: '0.3.3-1.4.3-SNAPSHOT', classifier: "android-arm"
        implementation group: 'org.bytedeco.javacpp-presets', name: 'openblas', version: '0.3.3-1.4.3-SNAPSHOT', classifier: "android-arm64"
        implementation group: 'org.bytedeco.javacpp-presets', name: 'openblas', version: '0.3.3-1.4.3-SNAPSHOT', classifier: "android-x86"
        implementation group: 'org.bytedeco.javacpp-presets', name: 'openblas', version: '0.3.3-1.4.3-SNAPSHOT', classifier: "android-x86_64"
        implementation group: 'org.bytedeco.javacpp-presets', name: 'opencv', version: '3.4.3-1.4.3-SNAPSHOT'
        implementation group: 'org.bytedeco.javacpp-presets', name: 'opencv', version: '3.4.3-1.4.3-SNAPSHOT', classifier: "android-arm"
        implementation group: 'org.bytedeco.javacpp-presets', name: 'opencv', version: '3.4.3-1.4.3-SNAPSHOT', classifier: "android-arm64"
        implementation group: 'org.bytedeco.javacpp-presets', name: 'opencv', version: '3.4.3-1.4.3-SNAPSHOT', classifier: "android-x86"
        implementation group: 'org.bytedeco.javacpp-presets', name: 'opencv', version: '3.4.3-1.4.3-SNAPSHOT', classifier: "android-x86_64"
        implementation group: 'org.bytedeco.javacpp-presets', name: 'leptonica', version: '1.76.0-1.4.3-SNAPSHOT'
        implementation group: 'org.bytedeco.javacpp-presets', name: 'leptonica', version: '1.76.0-1.4.3-SNAPSHOT', classifier: "android-arm"
        implementation group: 'org.bytedeco.javacpp-presets', name: 'leptonica', version: '1.76.0-1.4.3-SNAPSHOT', classifier: "android-arm64"
        implementation group: 'org.bytedeco.javacpp-presets', name: 'leptonica', version: '1.76.0-1.4.3-SNAPSHOT', classifier: "android-x86"
        implementation group: 'org.bytedeco.javacpp-presets', name: 'leptonica', version: '1.76.0-1.4.3-SNAPSHOT', classifier: "android-x86_64"

        //This corrects for a junit version conflict.
        configurations.all {
            resolutionStrategy.force 'junit:junit:4.12'

        }
    }
}



&lt;/denchmark-code&gt;

		</comment>
		<comment id='47' author='AILTON091' date='2018-11-07T14:39:20Z'>
		&lt;denchmark-link:https://github.com/zhangy10&gt;@zhangy10&lt;/denchmark-link&gt;
 1.0.0-beta3 has been released, try with that! Thanks. Note that you'll need to add  to work around that known issue.
		</comment>
		<comment id='48' author='AILTON091' date='2018-11-07T23:23:25Z'>
		&lt;denchmark-link:https://github.com/saudet&gt;@saudet&lt;/denchmark-link&gt;
 Thanks so much for that and now it works!
		</comment>
		<comment id='49' author='AILTON091' date='2018-11-08T02:07:11Z'>
		&lt;denchmark-link:https://github.com/AILTON091&gt;@AILTON091&lt;/denchmark-link&gt;
 Please open another issue if you're still having problems with 1.0.0-beta3, thanks!
		</comment>
		<comment id='50' author='AILTON091' date='2018-12-08T02:59:55Z'>
		This thread has been automatically locked since there has not been any recent activity after it was closed. Please open a new issue for related bugs.
		</comment>
	</comments>
</bug>