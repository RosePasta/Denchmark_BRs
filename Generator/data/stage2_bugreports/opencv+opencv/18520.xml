<bug id='18520' author='mmoerdijk' open_date='2020-10-06T05:25:18Z' closed_time='2020-12-20T22:55:26Z'>
	<summary>rotatedRectangleIntersection does not work when one rectangle has zero size</summary>
	<description>
&lt;denchmark-h:h5&gt;System information (version)&lt;/denchmark-h&gt;


OpenCV =&gt; 4.4.0
Operating System / Platform =&gt; Ubuntu 18.04

&lt;denchmark-h:h5&gt;Detailed description&lt;/denchmark-h&gt;

I encountered this bug after trying to do collision checking on rectangles generated by minAreaRect. Some rectangles that were clearly not touching where marked as being in collision. I found out that some of mine rotated rectangles are actually more points but still i would expect the rotatedRectangleIntersection to work correctly.
&lt;denchmark-h:h5&gt;Steps to reproduce&lt;/denchmark-h&gt;

This is in python, but C++ has the same behaviour.
import cv2
r1 = ((2, 2), (0, 0), 0)
r2 = ((50, 50) , (4, 4), 0)
res =  cv2.rotatedRectangleIntersection(r1, r2)
print(res)
output:
&lt;denchmark-code&gt;(2, array([[[48., 52.]],
       [[48., 48.]],
       [[52., 48.]],
       [[52., 52.]]], dtype=float32))
&lt;/denchmark-code&gt;

expected output:
&lt;denchmark-code&gt;(0, None)
&lt;/denchmark-code&gt;

In the case of a non zero sized rectacle it works
import cv2
r1 = ((2, 2), (0.1, 0), 0)
r2 = ((50, 50) , (4, 4), 0)
res =  cv2.rotatedRectangleIntersection(r1, r2)
print(res)
ouput
&lt;denchmark-code&gt;(0, None)
&lt;/denchmark-code&gt;

&lt;denchmark-h:h5&gt;Issue submission checklist&lt;/denchmark-h&gt;


 I report the issue, it's not a question


 I checked the problem with documentation, FAQ, open issues,
answers.opencv.org, Stack Overflow, etc and have not found solution


 I updated to latest OpenCV version and the issue is still there


 There is reproducer code and related data files: videos, images, onnx, etc



	</description>
	<comments>
		<comment id='1' author='mmoerdijk' date='2020-10-06T20:27:51Z'>
		
Rect != RotatedRect. They have different design principles (Rect doesn't include right/bottom pixels)
RotatedRect initializer format is (center, size, angle).
[3, 3] belongs to both rectangles. INTERSECT_PARTIAL (=1) is valid too.

		</comment>
		<comment id='2' author='mmoerdijk' date='2020-10-07T04:38:49Z'>
		Sorry you are completely right, if messed up with making the python code to demonstrate.
I updated the code and if the rectangle is of zero size the the problem does still occur.
		</comment>
		<comment id='3' author='mmoerdijk' date='2020-10-09T15:36:31Z'>
		&lt;denchmark-link:https://github.com/alalek&gt;@alalek&lt;/denchmark-link&gt;
 still think this is invalid?
		</comment>
	</comments>
</bug>