<bug id='2748' author='Shreeshrii' open_date='2019-11-05T04:44:06Z' closed_time='2019-11-09T03:48:09Z'>
	<summary>lstmf files not being built - Failed to read pages from</summary>
	<description>
tesseract 5.0.0-alpha-547-g9b46
leptonica-1.78.0
libgif 5.1.4 : libjpeg 8d (libjpeg-turbo 1.4.2) : libpng 1.2.54 : libtiff 4.0.9 : zlib 1.2.11 : libwebp 0.4.4 : libopenjp2 2.3.0
Latest code fails to build lstmf files
&lt;denchmark-code&gt;Tesseract Open Source OCR Engine v5.0.0-alpha-547-g9b46 with Leptonica
Page 1
Failed to read pages from TamilOldNum/TamilOldNum.Karla_Tamil_Upright.1.exp0.tif
Error during processing.
Stripped 9 unrenderable words
Rendered page 0 to file TamilOldNum/TamilOldNum.Karla_Tamil_Upright_Bold.1.exp0.tif
Tesseract Open Source OCR Engine v5.0.0-alpha-547-g9b46 with Leptonica
Page 1
Failed to read pages from TamilOldNum/TamilOldNum.Karla_Tamil_Upright_Bold.1.exp0.tif
Error during processing.
Rendered page 0 to file TamilOldNum/TamilOldNum.Lohit_Tamil_Classical.1.exp0.tif
Tesseract Open Source OCR Engine v5.0.0-alpha-547-g9b46 with Leptonica
Page 1
Failed to read pages from TamilOldNum/TamilOldNum.Lohit_Tamil_Classical.1.exp0.tif
Error during processing.
Rendered page 0 to file TamilOldNum/TamilOldNum.e-Grantamil.1.exp0.tif
Tesseract Open Source OCR Engine v5.0.0-alpha-547-g9b46 with Leptonica
Page 1
Failed to read pages from TamilOldNum/TamilOldNum.e-Grantamil.1.exp0.tif
Error during processing.
&lt;/denchmark-code&gt;

These are multiline images, sample attached.
&lt;denchmark-link:https://user-images.githubusercontent.com/5095331/68179167-ccff7280-ffb4-11e9-8aee-6a5260a99cd3.png&gt;&lt;/denchmark-link&gt;

	</description>
	<comments>
		<comment id='1' author='Shreeshrii' date='2019-11-05T04:47:20Z'>
		Similarly for single line images:
&lt;denchmark-code&gt;PYTHONIOENCODING=utf-8 python3 generate_line_box.py -i "data/engeval/engImpact.Impact_Condensed.70.exp0.tif" -t "data/engeval/engImpact.Impact_Condensed.70.exp0.gt.txt" &gt; "data/engeval/engImpact.Impact_Condensed.70.exp0.box"
tesseract data/engeval/engImpact.Impact_Condensed.70.exp0.tif data/engeval/engImpact.Impact_Condensed.70.exp0 --psm 3 lstm.train
Tesseract Open Source OCR Engine v5.0.0-alpha-547-g9b46 with Leptonica
Page 1
Warning: Invalid resolution 0 dpi. Using 70 instead.
Estimating resolution as 556
Failed to read pages from data/engeval/engImpact.Impact_Condensed.70.exp0.tif
Error during processing.
Makefile:182: recipe for target 'data/engeval/engImpact.Impact_Condensed.70.exp0.lstmf' failed
make: *** [data/engeval/engImpact.Impact_Condensed.70.exp0.lstmf] Error 1
rm data/engeval/engImpact.Impact_Condensed.70.exp0.box
&lt;/denchmark-code&gt;

Sample image
&lt;denchmark-link:https://user-images.githubusercontent.com/5095331/68179306-629b0200-ffb5-11e9-9f00-9cea60b6b3e0.png&gt;&lt;/denchmark-link&gt;

&lt;denchmark-link:https://github.com/tesseract-ocr/tesseract/files/3807282/engImpact.Impact_Condensed.70.exp0.gt.txt&gt;engImpact.Impact_Condensed.70.exp0.gt.txt&lt;/denchmark-link&gt;

		</comment>
		<comment id='2' author='Shreeshrii' date='2019-11-05T04:51:07Z'>
		Error generated by &lt;denchmark-link:https://github.com/tesseract-ocr/tesseract/commit/94d0f77f56bb9123c4c33c97125e76e7bdb73159&gt;94d0f77&lt;/denchmark-link&gt;

		</comment>
		<comment id='3' author='Shreeshrii' date='2019-11-05T04:57:32Z'>
		Works with earlier version.
&lt;denchmark-code&gt;PYTHONIOENCODING=utf-8 python3 generate_line_box.py -i "data/engeval/engImpact.Impact_Condensed.70.exp0.tif" -t "data/engeval/engImpact.Impact_Condensed.70.exp0.gt.txt" &gt; "data/engeval/engImpact.Impact_Condensed.70.exp0.box"
tesseract data/engeval/engImpact.Impact_Condensed.70.exp0.tif data/engeval/engImpact.Impact_Condensed.70.exp0 --psm 3 lstm.train
Tesseract Open Source OCR Engine v5.0.0-alpha-537-g6f31 with Leptonica
Page 1
Warning: Invalid resolution 0 dpi. Using 70 instead.
Estimating resolution as 556
PYTHONIOENCODING=utf-8 python3 generate_line_box.py -i "data/engeval/engImpact.Impact_Condensed.13.exp0.tif" -t "data/engeval/engImpact.Impact_Condensed.13.exp0.gt.txt" &gt; "data/engeval/engImpact.Impact_Condensed.13.exp0.box"
tesseract data/engeval/engImpact.Impact_Condensed.13.exp0.tif data/engeval/engImpact.Impact_Condensed.13.exp0 --psm 3 lstm.train
Tesseract Open Source OCR Engine v5.0.0-alpha-537-g6f31 with Leptonica
Page 1
Warning: Invalid resolution 0 dpi. Using 70 instead.
Estimating resolution as 553
PYTHONIOENCODING=utf-8 python3 generate_line_box.py -i "data/engeval/engImpact.Impact_Condensed.29.exp0.tif" -t "data/engeval/engImpact.Impact_Condensed.29.exp0.gt.txt" &gt; "data/engeval/engImpact.Impact_Condensed.29.exp0.box"
tesseract data/engeval/engImpact.Impact_Condensed.29.exp0.tif data/engeval/engImpact.Impact_Condensed.29.exp0 --psm 3 lstm.train
Tesseract Open Source OCR Engine v5.0.0-alpha-537-g6f31 with Leptonica
Page 1
Warning: Invalid resolution 0 dpi. Using 70 instead.
Estimating resolution as 544
&lt;/denchmark-code&gt;

		</comment>
		<comment id='4' author='Shreeshrii' date='2019-11-08T15:31:45Z'>
		Also reported by a user in the forum
&lt;denchmark-link:https://groups.google.com/forum/#!topic/tesseract-ocr/ilpopyI3hIM&gt;https://groups.google.com/forum/#!topic/tesseract-ocr/ilpopyI3hIM&lt;/denchmark-link&gt;


Reverting commit 94d0f77 worked. Thank you!

		</comment>
		<comment id='5' author='Shreeshrii' date='2019-11-08T16:15:51Z'>
		&lt;denchmark-link:https://github.com/Shreeshrii&gt;@Shreeshrii&lt;/denchmark-link&gt;
, could you please try pull request &lt;denchmark-link:https://github.com/tesseract-ocr/tesseract/pull/2751&gt;#2751&lt;/denchmark-link&gt;
? I had to add a new function.
		</comment>
		<comment id='6' author='Shreeshrii' date='2019-11-09T03:48:09Z'>
		Working fine now. Thank you.
&lt;denchmark-code&gt;PYTHONIOENCODING=utf-8 python3 generate_line_box.py -i "data/eng4scripts/eng4scripts.Arial_Italic.29.exp0.tif" -t "data/eng4scripts/eng4scripts.Arial_Italic.29.exp0.gt.txt" &gt; "data/eng4scripts/eng4scripts.Arial_Italic.29.exp0.box"
tesseract data/eng4scripts/eng4scripts.Arial_Italic.29.exp0.tif data/eng4scripts/eng4scripts.Arial_Italic.29.exp0 --psm 6 lstm.train
Tesseract Open Source OCR Engine v5.0.0-alpha-550-g944c1 with Leptonica
Page 1
Warning: Invalid resolution 0 dpi. Using 70 instead.
PYTHONIOENCODING=utf-8 python3 generate_line_box.py -i "data/eng4scripts/eng4scripts.Times_New_Roman,_Italic.36.exp1.tif" -t "data/eng4scripts/eng4scripts.Times_New_Roman,_Italic.36.exp1.gt.txt" &gt; "data/eng4scripts/eng4scripts.Times_New_Roman,_Italic.36.exp1.box"
tesseract data/eng4scripts/eng4scripts.Times_New_Roman,_Italic.36.exp1.tif data/eng4scripts/eng4scripts.Times_New_Roman,_Italic.36.exp1 --psm 6 lstm.train
Tesseract Open Source OCR Engine v5.0.0-alpha-550-g944c1 with Leptonica
Page 1
Warning: Invalid resolution 0 dpi. Using 70 instead.
&lt;/denchmark-code&gt;

		</comment>
		<comment id='7' author='Shreeshrii' date='2019-11-11T13:14:12Z'>
		apologies all. I am a bit new to Tesseract, python, and Linux, and  I am coming from issue &lt;denchmark-link:https://github.com/tesseract-ocr/tesseract/issues/2754&gt;#2754&lt;/denchmark-link&gt;
. What is the fix that works? Do I have to add some files or upgrade or downgrade anything?
		</comment>
		<comment id='8' author='Shreeshrii' date='2019-11-11T15:43:36Z'>
		&lt;denchmark-link:https://github.com/Prashantptnk&gt;@Prashantptnk&lt;/denchmark-link&gt;
 how did u build or install tesseract? The latest code from github will work, if building from source.
		</comment>
		<comment id='9' author='Shreeshrii' date='2019-11-11T17:07:03Z'>
		
@Prashantptnk how did u build or install tesseract? The latest code from github will work, if building from source.

hi &lt;denchmark-link:https://github.com/Shreeshrii&gt;@Shreeshrii&lt;/denchmark-link&gt;
, I am following the instructions from  the following link
&lt;denchmark-link:https://github.com/tesseract-ocr/tesseract/wiki/TrainingTesseract-4.00#creating-starter-traineddata&gt;https://github.com/tesseract-ocr/tesseract/wiki/TrainingTesseract-4.00#creating-starter-traineddata&lt;/denchmark-link&gt;

Please let me know if I am missing anything anywhere.
		</comment>
		<comment id='10' author='Shreeshrii' date='2019-11-12T08:27:34Z'>
		You seem to be using a recent version of tesseract which had the issue,
which has since been fixed. So if you cloned the repo and built tesseract
from source, you should pull the latest code, rebuild and it should work.

If you installed in a different manner, then the process will be different.
&lt;denchmark-link:#&gt;…&lt;/denchmark-link&gt;


On Mon, Nov 11, 2019, 22:38 Prashantptnk ***@***.***&gt; wrote:
 @Prashantptnk &lt;https://github.com/Prashantptnk&gt; how did u build or
 install tesseract? The latest code from github will work, if building from
 source.

 hi @Shreeshrii &lt;https://github.com/Shreeshrii&gt;, I am following the
 instructions from the following link

 https://github.com/tesseract-ocr/tesseract/wiki/TrainingTesseract-4.00#creating-starter-traineddata

 Please let me know if I am missing anything anywhere.

 —
 You are receiving this because you were mentioned.
 Reply to this email directly, view it on GitHub
 &lt;#2748?email_source=notifications&amp;email_token=ABG37I5IFML2GAP7WJZN3Q3QTGGQ3A5CNFSM4JI5Q44KYY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOEDXO4VQ#issuecomment-552529494&gt;,
 or unsubscribe
 &lt;https://github.com/notifications/unsubscribe-auth/ABG37I2NAQZONPNFE6OQXCDQTGGQ3ANCNFSM4JI5Q44A&gt;
 .



		</comment>
		<comment id='11' author='Shreeshrii' date='2019-11-12T08:47:34Z'>
		
You seem to be using a recent version of tesseract which had the issue, which has since been fixed. So if you cloned the repo and built tesseract from source, you should pull the latest code, rebuild and it should work. If you installed in a different manner, then the process will be different.
…
On Mon, Nov 11, 2019, 22:38 Prashantptnk @.***&gt; wrote: @Prashantptnk https://github.com/Prashantptnk how did u build or install tesseract? The latest code from github will work, if building from source. hi @Shreeshrii https://github.com/Shreeshrii, I am following the instructions from the following link https://github.com/tesseract-ocr/tesseract/wiki/TrainingTesseract-4.00#creating-starter-traineddata Please let me know if I am missing anything anywhere. — You are receiving this because you were mentioned. Reply to this email directly, view it on GitHub &lt;#2748?email_source=notifications&amp;email_token=ABG37I5IFML2GAP7WJZN3Q3QTGGQ3A5CNFSM4JI5Q44KYY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOEDXO4VQ#issuecomment-552529494&gt;, or unsubscribe https://github.com/notifications/unsubscribe-auth/ABG37I2NAQZONPNFE6OQXCDQTGGQ3ANCNFSM4JI5Q44A .

Thanks &lt;denchmark-link:https://github.com/Shreeshrii&gt;@Shreeshrii&lt;/denchmark-link&gt;
, I installed it cloning from GitHub.
The link I used &lt;denchmark-link:https://github.com/tesseract-ocr/tesseract/wiki/Compiling-%E2%80%93-GitInstallation#build-with-tensorflow&gt;https://github.com/tesseract-ocr/tesseract/wiki/Compiling-%E2%80%93-GitInstallation#build-with-tensorflow&lt;/denchmark-link&gt;
.
The GitHub link I used is &lt;denchmark-link:https://github.com/tesseract-ocr/tesseract&gt;https://github.com/tesseract-ocr/tesseract&lt;/denchmark-link&gt;
.
is it the right place to look?
		</comment>
		<comment id='12' author='Shreeshrii' date='2019-11-12T08:56:57Z'>
		That is correct.
git pull origin
this will pull the recent commits from the repo, then go thru the build process again
		</comment>
		<comment id='13' author='Shreeshrii' date='2019-11-12T10:38:39Z'>
		Thanks &lt;denchmark-link:https://github.com/Shreeshrii&gt;@Shreeshrii&lt;/denchmark-link&gt;
, It worked now.
		</comment>
	</comments>
</bug>