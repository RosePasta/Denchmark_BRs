<bug id='350' author='mohammadkamalzare' open_date='2018-12-10T13:45:27Z' closed_time='2019-01-16T22:29:32Z'>
	<summary>Problem with coordinates of boxes</summary>
	<description>
Recently, I used VoTT to create a new dataset, and I used pascal voc export format. Now, I realize that the coordinates of boxes in some of .xml files have problems and they are more than their corresponding image size. For example, There is an image with width of 261px and height of 193, and the xmin of a sample box in the image is 424!!!. I do not know how this might happen! please help me. Thanks.
	</description>
	<comments>
		<comment id='1' author='mohammadkamalzare' date='2018-12-10T15:51:30Z'>
		

Are all the images of the same size?


Can you check the json-file generated by VoTT for your dataset? What is stored for your image?


		</comment>
		<comment id='2' author='mohammadkamalzare' date='2018-12-11T07:32:30Z'>
		No they are not. The images size and format are varied.
The json-files also have been correctly stored, and I use them to create xml-files by myself. The problem is that I did not save some of the json-files.
		</comment>
		<comment id='3' author='mohammadkamalzare' date='2018-12-11T10:49:18Z'>
		Yeah, we noted this issue in &lt;denchmark-link:https://github.com/microsoft/VoTT/issues/345&gt;#345&lt;/denchmark-link&gt;
. Sorry, for your loss, VoTT wasn't designed to support that use case, but we are looking into how to fix that issue.
Not sure if it will help you to recreate the data, but the way how it works right now for images is that it uses the width/height of the first frame for the rest of calculations while exporting. So maybe the coordinates in xml-file are ok, but the image width/height is wrong?
		</comment>
		<comment id='4' author='mohammadkamalzare' date='2018-12-11T11:30:34Z'>
		Fortunately, I found the problem early, and the problematic xml files are not much. So, it's okay.
I checked the image width/height of 3 xml files but their width and height were correct. Perhaps, the coordinates are calculated based on first image size; I mean, perhaps, they are normalized at the time based on current image size, and then they are recalculated based on first image width and height while exporting!?
		</comment>
		<comment id='5' author='mohammadkamalzare' date='2018-12-11T16:53:18Z'>
		It seems to me that this has been adressed allready in &lt;denchmark-link:https://github.com/microsoft/VoTT/pull/283&gt;#283&lt;/denchmark-link&gt;
. The solution there seems to store the image size for every single annotation, which to me seems a bit of an overkill. It should be enough to store the image size just once.
I also did a quick test with images of different size and the annotated boxes could be restored the right way for all images.
		</comment>
		<comment id='6' author='mohammadkamalzare' date='2018-12-12T09:46:05Z'>
		It seems that the solution of &lt;denchmark-link:https://github.com/microsoft/VoTT/pull/283&gt;#283&lt;/denchmark-link&gt;
 works for me.
&lt;denchmark-link:https://github.com/Legor&gt;@Legor&lt;/denchmark-link&gt;
 Thanks a lot.
		</comment>
	</comments>
</bug>