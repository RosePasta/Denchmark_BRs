<bug id='31915' author='zh794390558' open_date='2019-08-23T04:50:08Z' closed_time='2019-10-07T20:57:50Z'>
	<summary>tf logging error</summary>
	<description>
System information
&lt;denchmark-code&gt;== check python ===================================================
python version: 3.6.0
python branch: 
python build version: ('default', 'Dec 23 2016 12:22:00')
python compiler version: GCC 4.4.7 20120313 (Red Hat 4.4.7-1)
python implementation: CPython


== check os platform ===============================================
os: Linux
os kernel version: #1 SMP Wed Apr 12 15:04:24 UTC 2017
os release version: 3.10.0-514.16.1.el7.x86_64
os platform: Linux-3.10.0-514.16.1.el7.x86_64-x86_64-with-centos-7.3.1611-Core
linux distribution: ('CentOS Linux', '7.3.1611', 'Core')
linux os distribution: ('centos', '7.3.1611', 'Core')
mac version: ('', ('', '', ''), '')
uname: uname_result(system='Linux', node='dfdd64ab2304', release='3.10.0-514.16.1.el7.x86_64', version='#1 SMP Wed Apr 12 15:04:24 UTC 2017', machine='x86_64', processor='x86_64')
architecture: ('64bit', 'ELF')
machine: x86_64


== are we in docker =============================================
Yes

== compiler =====================================================
c++ (GCC) 4.8.5 20150623 (Red Hat 4.8.5-11)
Copyright (C) 2015 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.


== check pips ===================================================
numpy                         1.16.4   
protobuf                      3.9.0    
tensorflow-estimator          1.14.0   
tensorflow-gpu                1.14.0   

== check for virtualenv =========================================
False

== tensorflow import ============================================
tf.version.VERSION = 1.14.0
tf.version.GIT_VERSION = v1.14.0-rc1-22-gaf24dc91b5
tf.version.COMPILER_VERSION = 4.8.5
Sanity check: array([1], dtype=int32)
     21634:     find library=libpython3.6m.so.1.0 [0]; searching
     21634:      search path=/home/luban/zhanghui/env/py3.6_tf1.14pip/bin/../lib/tls/x86_64:/home/luban/zhanghui/env/py3.6_tf1.14pip/bin/../lib/tls:/home/luban/zhanghui/env/py3.6_tf1.14pip/bin/../lib/x86_64:/home/luban/zhanghui/env/py3.6_tf1.14pip/bin/../lib              (RPATH from file /home/luban/zhanghui/env/py3.6_tf1.14pip/bin/python3)
     21634:       trying file=/home/luban/zhanghui/env/py3.6_tf1.14pip/bin/../lib/tls/x86_64/libpython3.6m.so.1.0
     21634:       trying file=/home/luban/zhanghui/env/py3.6_tf1.14pip/bin/../lib/tls/libpython3.6m.so.1.0
     21634:       trying file=/home/luban/zhanghui/env/py3.6_tf1.14pip/bin/../lib/x86_64/libpython3.6m.so.1.0
     21634:       trying file=/home/luban/zhanghui/env/py3.6_tf1.14pip/bin/../lib/libpython3.6m.so.1.0
     21634:
     21634:     find library=libpthread.so.0 [0]; searching
     21634:      search path=/home/luban/zhanghui/env/py3.6_tf1.14pip/bin/../lib                (RPATH from file /home/luban/zhanghui/env/py3.6_tf1.14pip/bin/python3)
     21634:       trying file=/home/luban/zhanghui/env/py3.6_tf1.14pip/bin/../lib/libpthread.so.0
     21634:      search path=/usr/local/nvidia/lib/tls/x86_64:/usr/local/nvidia/lib/tls:/usr/local/nvidia/lib/x86_64:/usr/local/nvidia/lib:/usr/local/nvidia/lib64/tls/x86_64:/usr/local/nvidia/lib64/tls:/usr/local/nvidia/lib64/x86_64:/usr/local/nvidia/lib64:/usr/local/cuda/lib64/tls/x86_64:/usr/local/cuda/lib64/tls:/usr/local/cuda/lib64/x86_64:/usr/local/cuda/lib64:tls/x86_64:tls:x86_64:           (LD_LIBRARY_PATH)
     21634:       trying file=/usr/local/nvidia/lib/tls/x86_64/libpthread.so.0
     21634:       trying file=/usr/local/nvidia/lib/tls/libpthread.so.0
     21634:       trying file=/usr/local/nvidia/lib/x86_64/libpthread.so.0
     21634:       trying file=/usr/local/nvidia/lib/libpthread.so.0
/../../x86_64:/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/lib-dynload/../..          (RPATH from file /home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/lib-dynload/_lzma.cpython-36m-x86_64-linux-gnu.so)
     21634:       trying file=/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/lib-dynload/../../tls/x86_64/liblzma.so.5
     21634:       trying file=/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/lib-dynload/../../tls/liblzma.so.5
     21634:       trying file=/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/lib-dynload/../../x86_64/liblzma.so.5
     21634:       trying file=/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/lib-dynload/../../liblzma.so.5
     21634:
     21634:
     21634:     calling init: /home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/lib-dynload/../../liblzma.so.5
     21634:
     21634:
     21634:     calling init: /home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/lib-dynload/_lzma.cpython-36m-x86_64-linux-gnu.so
     21634:
     21634:
     21634:     calling init: /home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/lib-dynload/_decimal.cpython-36m-x86_64-linux-gnu.so
     21634:
     21634:
     21634:     calling init: /home/luban/.local/lib/python3.6/site-packages/numpy/fft/fftpack_lite.cpython-36m-x86_64-linux-gnu.so
     21634:
     21634:
     21634:     calling init: /home/luban/.local/lib/python3.6/site-packages/numpy/random/mtrand.cpython-36m-x86_64-linux-gnu.so
     21634:
     21634:     find library=libssl.so.1.0.0 [0]; searching
     21634:      search path=/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/lib-dynload/../..           (RPATH from file /home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/lib-dynload/_lzma.cpython-36m-x86_64-linux-gnu.so)
     21634:       trying file=/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/lib-dynload/../../libssl.so.1.0.0
     21634:
     21634:     find library=libcrypto.so.1.0.0 [0]; searching
     21634:      search path=/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/lib-dynload/../..           (RPATH from file /home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/lib-dynload/_lzma.cpython-36m-x86_64-linux-gnu.so)
     21634:       trying file=/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/lib-dynload/../../libcrypto.so.1.0.0
     21634:
     21634:
     21634:     calling init: /home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/lib-dynload/../../libcrypto.so.1.0.0
     21634:
     21634:
     21634:     calling init: /home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/lib-dynload/../../libssl.so.1.0.0
     21634:
     21634:
     21634:     calling init: /home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/lib-dynload/_hashlib.cpython-36m-x86_64-linux-gnu.so
     21634:
     21634:
     21634:     calling init: /home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/lib-dynload/_blake2.cpython-36m-x86_64-linux-gnu.so
     21634:
     21634:
     21634:     calling init: /home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/lib-dynload/_sha3.cpython-36m-x86_64-linux-gnu.so
     21634:
     21634:
     21634:     calling init: /home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/lib-dynload/_bisect.cpython-36m-x86_64-linux-gnu.so
     21634:
     21634:
     21634:     calling init: /home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/lib-dynload/_random.cpython-36m-x86_64-linux-gnu.so
     21634:
     21634:     find library=libtensorflow_framework.so.1 [0]; searching
     21634:      search path=/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/site-packages/tensorflow/python/../../_solib_local/_U_S_Stensorflow_Spython_C_Upywrap_Utensorflow_Uinternal.so___Utensorflow/tls/x86_64:/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/site-packages/tensorflow/python/../../_solib_local/_U_S_Stensorflow_Spython_C_Upywrap_Utensorflow_Uinternal.so___Utensorflow/tls:/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/site-packages/tensorflow/python/../../_solib_local/_U_S_Stensorflow_Spython_C_Upywrap_Utensorflow_Uinternal.so___Utensorflow/x86_64:/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/site-packages/tensorflow/python/../../_solib_local/_U_S_Stensorflow_Spython_C_Upywrap_Utensorflow_Uinternal.so___Utensorflow:/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/site-packages/tensorflow/python/tls/x86_64:/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/site-packages/tensorflow/python/tls:/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/site-packages/tensorflow/python/x86_64:/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/site-packages/tensorflow/python:/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/site-packages/tensorflow/python/../tls/x86_64:/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/site-packages/tensorflow/python/../tls:/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/site-packages/tensorflow/python/../x86_64:/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/site-packages/tensorflow/python/..             (RPATH from file /home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so)
     21634:       trying file=/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/site-packages/tensorflow/python/../../_solib_local/_U_S_Stensorflow_Spython_C_Upywrap_Utensorflow_Uinternal.so___Utensorflow/tls/x86_64/libtensorflow_framework.so.1
     21634:       trying file=/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/site-packages/tensorflow/python/../../_solib_local/_U_S_Stensorflow_Spython_C_Upywrap_Utensorflow_Uinternal.so___Utensorflow/tls/libtensorflow_framework.so.1
     21634:       trying file=/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/site-packages/tensorflow/python/../../_solib_local/_U_S_Stensorflow_Spython_C_Upywrap_Utensorflow_Uinternal.so___Utensorflow/x86_64/libtensorflow_framework.so.1
     21634:       trying file=/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/site-packages/tensorflow/python/../../_solib_local/_U_S_Stensorflow_Spython_C_Upywrap_Utensorflow_Uinternal.so___Utensorflow/libtensorflow_framework.so.1
     21634:       trying file=/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/site-packages/tensorflow/python/tls/x86_64/libtensorflow_framework.so.1
     21634:       trying file=/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/site-packages/tensorflow/python/tls/libtensorflow_framework.so.1
     21634:       trying file=/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/site-packages/tensorflow/python/x86_64/libtensorflow_framework.so.1
     21634:       trying file=/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/site-packages/tensorflow/python/libtensorflow_framework.so.1
     21634:       trying file=/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/site-packages/tensorflow/python/../tls/x86_64/libtensorflow_framework.so.1
     21634:       trying file=/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/site-packages/tensorflow/python/../tls/libtensorflow_framework.so.1
     21634:       trying file=/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/site-packages/tensorflow/python/../x86_64/libtensorflow_framework.so.1
     21634:       trying file=/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/site-packages/tensorflow/python/../libtensorflow_framework.so.1
     21634:
     21634:     find library=libstdc++.so.6 [0]; searching
     21634:      search path=/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/site-packages/tensorflow/python:/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/site-packages/tensorflow/python/..           (RPATH from file /home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so)
     21634:       trying file=/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/site-packages/tensorflow/python/libstdc++.so.6
     21634:       trying file=/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/site-packages/tensorflow/python/../libstdc++.so.6
     21634:      search path=/home/luban/zhanghui/env/py3.6_tf1.14pip/bin/../lib                (RPATH from file /home/luban/zhanghui/env/py3.6_tf1.14pip/bin/python3)
     21634:       trying file=/home/luban/zhanghui/env/py3.6_tf1.14pip/bin/../lib/libstdc++.so.6
     21634:      search path=/usr/local/nvidia/lib:/usr/local/nvidia/lib64:/usr/local/cuda/lib64:tls/x86_64:tls:x86_64:         (LD_LIBRARY_PATH)
     21634:       trying file=/usr/local/nvidia/lib/libstdc++.so.6
     21634:       trying file=/usr/local/nvidia/lib64/libstdc++.so.6
     21634:       trying file=/usr/local/cuda/lib64/libstdc++.so.6
     21634:       trying file=tls/x86_64/libstdc++.so.6
     21634:       trying file=tls/libstdc++.so.6
     21634:       trying file=x86_64/libstdc++.so.6
     21634:       trying file=libstdc++.so.6
     21634:      search cache=/etc/ld.so.cache
     21634:       trying file=/lib64/libstdc++.so.6
     21634:
     21634:     find library=libgcc_s.so.1 [0]; searching
     21634:      search path=/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/site-packages/tensorflow/python:/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/site-packages/tensorflow/python/..           (RPATH from file /home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so)
     21634:       trying file=/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/site-packages/tensorflow/python/libgcc_s.so.1
     21634:       trying file=/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/site-packages/tensorflow/python/../libgcc_s.so.1
     21634:      search path=/home/luban/zhanghui/env/py3.6_tf1.14pip/bin/../lib                (RPATH from file /home/luban/zhanghui/env/py3.6_tf1.14pip/bin/python3)
     21634:       trying file=/home/luban/zhanghui/env/py3.6_tf1.14pip/bin/../lib/libgcc_s.so.1
     21634:
     21634:
     21634:     calling init: /home/luban/zhanghui/env/py3.6_tf1.14pip/bin/../lib/libgcc_s.so.1
     21634:
     21634:
     21634:     calling init: /lib64/libstdc++.so.6
     21634:
     21634:
     21634:     calling init: /home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/site-packages/tensorflow/python/../libtensorflow_framework.so.1
     21634:
     21634:     find library=libhdfs.so [0]; searching
     21634:      search path=/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/site-packages/tensorflow/python/..          (RPATH from file /home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so)
     21634:       trying file=/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/site-packages/tensorflow/python/../libhdfs.so
     21634:      search path=/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/site-packages/tensorflow/python:/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/site-packages/tensorflow/python/..           (RPATH from file /home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so)
     21634:       trying file=/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/site-packages/tensorflow/python/libhdfs.so
     21634:       trying file=/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/site-packages/tensorflow/python/../libhdfs.so
     21634:      search path=/home/luban/zhanghui/env/py3.6_tf1.14pip/bin/../lib                (RPATH from file /home/luban/zhanghui/env/py3.6_tf1.14pip/bin/python3)
     21634:       trying file=/home/luban/zhanghui/env/py3.6_tf1.14pip/bin/../lib/libhdfs.so
     21634:      search path=/usr/local/nvidia/lib:/usr/local/nvidia/lib64:/usr/local/cuda/lib64:tls/x86_64:tls:x86_64:         (LD_LIBRARY_PATH)
     21634:       trying file=/usr/local/nvidia/lib/libhdfs.so
     21634:       trying file=/usr/local/nvidia/lib64/libhdfs.so
     21634:       trying file=/usr/local/cuda/lib64/libhdfs.so
     21634:       trying file=tls/x86_64/libhdfs.so
     21634:       trying file=tls/libhdfs.so
     21634:       trying file=x86_64/libhdfs.so
     21634:       trying file=libhdfs.so
     21634:      search cache=/etc/ld.so.cache
     21634:      search path=/lib64/tls/x86_64:/lib64/tls:/lib64/x86_64:/lib64:/usr/lib64/tls/x86_64:/usr/lib64/tls:/usr/lib64/x86_64:/usr/lib64                (system search path)
     21634:       trying file=/lib64/tls/x86_64/libhdfs.so
     21634:       trying file=/lib64/tls/libhdfs.so
     21634:       trying file=/lib64/x86_64/libhdfs.so
     21634:     calling fini: /lib64/libutil.so.1 [0]
     21634:
     21634:
     21634:     calling fini: /lib64/libdl.so.2 [0]
     21634:
     21634:
     21634:     calling fini: /lib64/libpthread.so.0 [0]
     21634:

== env ==========================================================
LD_LIBRARY_PATH /usr/local/nvidia/lib:/usr/local/nvidia/lib64:/usr/local/cuda/lib64:/usr/local/nvidia/lib:/usr/local/nvidia/lib64:/usr/local/cuda/lib64:
DYLD_LIBRARY_PATH is unset

== nvidia-smi ===================================================
Fri Aug 23 12:51:21 2019       
+-----------------------------------------------------------------------------+
| NVIDIA-SMI 410.72       Driver Version: 410.72       CUDA Version: 10.0     |
|-------------------------------+----------------------+----------------------+
| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |
| Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |
|===============================+======================+======================|
|   0  Tesla P40           Off  | 00000000:02:00.0 Off |                  N/A |
| N/A   23C    P0    53W / 250W |     10MiB / 22919MiB |      0%      Default |
+-------------------------------+----------------------+----------------------+
|   1  Tesla P40           Off  | 00000000:03:00.0 Off |                  N/A |
| N/A   20C    P8    10W / 250W |     10MiB / 22919MiB |      0%      Default |
+-------------------------------+----------------------+----------------------+
|   2  Tesla P40           Off  | 00000000:83:00.0 Off |                  N/A |
| N/A   46C    P0    73W / 250W |  22041MiB / 22919MiB |     34%      Default |
+-------------------------------+----------------------+----------------------+
|   3  Tesla P40           Off  | 00000000:84:00.0 Off |                  N/A |
| N/A   44C    P0   114W / 250W |  21935MiB / 22919MiB |     97%      Default |
+-------------------------------+----------------------+----------------------+
                                                                               
+-----------------------------------------------------------------------------+
| Processes:                                                       GPU Memory |
|  GPU       PID   Type   Process name                             Usage      |
|=============================================================================|
+-----------------------------------------------------------------------------+

== cuda libs  ===================================================
/usr/local/cuda-8.0/targets/x86_64-linux/lib/libcudart.so.8.0.61
/usr/local/cuda-8.0/targets/x86_64-linux/lib/libcudart_static.a
/usr/local/cuda-10.0/lib64/libcudart_static.a
/usr/local/cuda-10.0/lib64/libcudart.so.10.0.130
/usr/local/cuda-10.0/doc/man/man7/libcudart.7
/usr/local/cuda-10.0/doc/man/man7/libcudart.so.7

== tensorflow installed from info ==================

== python version  ==============================================
(major, minor, micro, releaselevel, serial)
(3, 6, 0, 'final', 0)

== bazel version  ===============================================
Build label: 0.16.1
Build time: Mon Aug 13 13:43:36 2018 (1534167816)
Build timestamp: 1534167816
Build timestamp as int: 1534167816
&lt;/denchmark-code&gt;

Describe the current behavior
using evaluate_generateor do evaluation, tf logging has error on flush info to stream.
Describe the expected behavior
Code to reproduce the issue
Other info / logs
&lt;denchmark-code&gt;--- Logging error ---
Traceback (most recent call last):
  File "/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/logging/__init__.py", line 989, in emit
    stream.write(msg)
ValueError: I/O operation on closed file.
Call stack:
  File "/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/site-packages/tensorflow/python/training/tracking/util.py", line 244, in __del__
    .format(pretty_printer.node_names[node_id]))
  File "/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/site-packages/tensorflow/python/platform/tf_logging.py", line 166, in warning
    get_logger().warning(msg, *args, **kwargs)
  File "/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/logging/__init__.py", line 1313, in warning
    self._log(WARNING, msg, args, **kwargs)
  File "/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/logging/__init__.py", line 1437, in _log
    self.handle(record)
  File "/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/logging/__init__.py", line 1447, in handle
    self.callHandlers(record)
  File "/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/logging/__init__.py", line 1509, in callHandlers
    hdlr.handle(record)
  File "/home/luban/.local/lib/python3.6/site-packages/absl/logging/__init__.py", line 891, in handle
    return self._current_handler.handle(record)
  File "/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/logging/__init__.py", line 858, in handle
    self.emit(record)
  File "/home/luban/.local/lib/python3.6/site-packages/absl/logging/__init__.py", line 829, in emit
    super(PythonHandler, self).emit(record)
Message: "Unresolved object in checkpoint: (root).optimizer's state 'm' for (root).dense1.layer.kernel"
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/logging/__init__.py", line 989, in emit
    stream.write(msg)
ValueError: I/O operation on closed file.
Call stack:
  File "/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/site-packages/tensorflow/python/training/tracking/util.py", line 244, in __del__
    .format(pretty_printer.node_names[node_id]))
  File "/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/site-packages/tensorflow/python/platform/tf_logging.py", line 166, in warning
    get_logger().warning(msg, *args, **kwargs)
  File "/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/logging/__init__.py", line 1313, in warning
    self._log(WARNING, msg, args, **kwargs)
  File "/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/logging/__init__.py", line 1437, in _log
    self.handle(record)
  File "/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/logging/__init__.py", line 1447, in handle
    self.callHandlers(record)
  File "/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/logging/__init__.py", line 1509, in callHandlers
    hdlr.handle(record)
  File "/home/luban/.local/lib/python3.6/site-packages/absl/logging/__init__.py", line 891, in handle
    return self._current_handler.handle(record)
  File "/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/logging/__init__.py", line 858, in handle
    self.emit(record)
  File "/home/luban/.local/lib/python3.6/site-packages/absl/logging/__init__.py", line 829, in emit
    super(PythonHandler, self).emit(record)
Message: "Unresolved object in checkpoint: (root).optimizer's state 'm' for (root).dense1.layer.bias"
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/logging/__init__.py", line 989, in emit
    stream.write(msg)
ValueError: I/O operation on closed file.
Call stack:
  File "/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/site-packages/tensorflow/python/training/tracking/util.py", line 244, in __del__
    .format(pretty_printer.node_names[node_id]))
  File "/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/site-packages/tensorflow/python/platform/tf_logging.py", line 166, in warning
    get_logger().warning(msg, *args, **kwargs)
  File "/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/logging/__init__.py", line 1313, in warning
    self._log(WARNING, msg, args, **kwargs)
  File "/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/logging/__init__.py", line 1437, in _log
    self.handle(record)
  File "/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/logging/__init__.py", line 1447, in handle
    self.callHandlers(record)
  File "/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/logging/__init__.py", line 1509, in callHandlers
    hdlr.handle(record)
  File "/home/luban/.local/lib/python3.6/site-packages/absl/logging/__init__.py", line 891, in handle
    return self._current_handler.handle(record)
  File "/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/logging/__init__.py", line 858, in handle
    self.emit(record)
  File "/home/luban/.local/lib/python3.6/site-packages/absl/logging/__init__.py", line 829, in emit
    super(PythonHandler, self).emit(record)
Message: "Unresolved object in checkpoint: (root).optimizer's state 'm' for (root).lstm1.forward_layer.cell.kernel"
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/logging/__init__.py", line 989, in emit
    stream.write(msg)
ValueError: I/O operation on closed file.
Call stack:
  File "/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/site-packages/tensorflow/python/training/tracking/util.py", line 244, in __del__
    .format(pretty_printer.node_names[node_id]))
  File "/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/site-packages/tensorflow/python/platform/tf_logging.py", line 166, in warning
    get_logger().warning(msg, *args, **kwargs)
  File "/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/logging/__init__.py", line 1313, in warning
    self._log(WARNING, msg, args, **kwargs)
  File "/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/logging/__init__.py", line 1437, in _log
    self.handle(record)
  File "/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/logging/__init__.py", line 1447, in handle
    self.callHandlers(record)
  File "/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/logging/__init__.py", line 1509, in callHandlers
    hdlr.handle(record)
  File "/home/luban/.local/lib/python3.6/site-packages/absl/logging/__init__.py", line 891, in handle
    return self._current_handler.handle(record)
  File "/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/logging/__init__.py", line 858, in handle
    self.emit(record)
  File "/home/luban/.local/lib/python3.6/site-packages/absl/logging/__init__.py", line 829, in emit
    super(PythonHandler, self).emit(record)
Message: "Unresolved object in checkpoint: (root).optimizer's state 'm' for (root).lstm1.forward_layer.cell.recurrent_kernel"
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/logging/__init__.py", line 989, in emit
    stream.write(msg)
ValueError: I/O operation on closed file.
Call stack:
  File "/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/site-packages/tensorflow/python/training/tracking/util.py", line 244, in __del__
    get_logger().warning(msg, *args, **kwargs)
  File "/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/logging/__init__.py", line 1313, in warning
    self._log(WARNING, msg, args, **kwargs)
  File "/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/logging/__init__.py", line 1437, in _log
    self.handle(record)
  File "/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/logging/__init__.py", line 1447, in handle
    self.callHandlers(record)
  File "/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/logging/__init__.py", line 1509, in callHandlers
    hdlr.handle(record)
  File "/home/luban/.local/lib/python3.6/site-packages/absl/logging/__init__.py", line 891, in handle
    return self._current_handler.handle(record)
  File "/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/logging/__init__.py", line 858, in handle
    self.emit(record)
  File "/home/luban/.local/lib/python3.6/site-packages/absl/logging/__init__.py", line 829, in emit
    super(PythonHandler, self).emit(record)
Message: "Unresolved object in checkpoint: (root).optimizer's state 'v' for (root).lstm1.forward_layer.cell.recurrent_kernel"
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/logging/__init__.py", line 989, in emit
    stream.write(msg)
ValueError: I/O operation on closed file.
Call stack:
  File "/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/site-packages/tensorflow/python/training/tracking/util.py", line 244, in __del__
    .format(pretty_printer.node_names[node_id]))
  File "/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/site-packages/tensorflow/python/platform/tf_logging.py", line 166, in warning
    get_logger().warning(msg, *args, **kwargs)
  File "/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/logging/__init__.py", line 1313, in warning
    self._log(WARNING, msg, args, **kwargs)
  File "/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/logging/__init__.py", line 1437, in _log
    self.handle(record)
  File "/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/logging/__init__.py", line 1447, in handle
    self.callHandlers(record)
  File "/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/logging/__init__.py", line 1509, in callHandlers
    hdlr.handle(record)
  File "/home/luban/.local/lib/python3.6/site-packages/absl/logging/__init__.py", line 891, in handle
    return self._current_handler.handle(record)
  File "/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/logging/__init__.py", line 858, in handle
    self.emit(record)
  File "/home/luban/.local/lib/python3.6/site-packages/absl/logging/__init__.py", line 829, in emit
    super(PythonHandler, self).emit(record)
Message: "Unresolved object in checkpoint: (root).optimizer's state 'v' for (root).lstm1.forward_layer.cell.bias"
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/logging/__init__.py", line 989, in emit
    stream.write(msg)
ValueError: I/O operation on closed file.
Call stack:
  File "/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/site-packages/tensorflow/python/training/tracking/util.py", line 244, in __del__
    .format(pretty_printer.node_names[node_id]))
  File "/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/site-packages/tensorflow/python/platform/tf_logging.py", line 166, in warning
    get_logger().warning(msg, *args, **kwargs)
  File "/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/logging/__init__.py", line 1313, in warning
    self._log(WARNING, msg, args, **kwargs)
  File "/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/logging/__init__.py", line 1437, in _log
    self.handle(record)
  File "/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/logging/__init__.py", line 1447, in handle
    self.callHandlers(record)
  File "/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/logging/__init__.py", line 1509, in callHandlers
    hdlr.handle(record)
  File "/home/luban/.local/lib/python3.6/site-packages/absl/logging/__init__.py", line 891, in handle
    return self._current_handler.handle(record)
  File "/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/logging/__init__.py", line 858, in handle
    self.emit(record)
  File "/home/luban/.local/lib/python3.6/site-packages/absl/logging/__init__.py", line 829, in emit
    super(PythonHandler, self).emit(record)
Message: "Unresolved object in checkpoint: (root).optimizer's state 'v' for (root).lstm1.backward_layer.cell.kernel"
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/logging/__init__.py", line 989, in emit
    stream.write(msg)
ValueError: I/O operation on closed file.
Call stack:
  File "/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/site-packages/tensorflow/python/training/tracking/util.py", line 244, in __del__
    .format(pretty_printer.node_names[node_id]))
  File "/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/site-packages/tensorflow/python/platform/tf_logging.py", line 166, in warning
    get_logger().warning(msg, *args, **kwargs)
  File "/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/logging/__init__.py", line 1313, in warning
    self._log(WARNING, msg, args, **kwargs)
  File "/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/logging/__init__.py", line 1437, in _log
    self.handle(record)
  File "/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/logging/__init__.py", line 1447, in handle
    self.callHandlers(record)
  File "/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/logging/__init__.py", line 1509, in callHandlers
    hdlr.handle(record)
  File "/home/luban/.local/lib/python3.6/site-packages/absl/logging/__init__.py", line 891, in handle
    return self._current_handler.handle(record)
  File "/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/logging/__init__.py", line 858, in handle
    self.emit(record)
  File "/home/luban/.local/lib/python3.6/site-packages/absl/logging/__init__.py", line 829, in emit
    super(PythonHandler, self).emit(record)
Message: "Unresolved object in checkpoint: (root).optimizer's state 'v' for (root).lstm1.backward_layer.cell.recurrent_kernel"
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "/home/luban/zhanghui/env/py3.6_tf1.14pip/lib/python3.6/logging/__init__.py", line 989, in emit
    stream.write(msg)
ValueError: I/O operation on closed file.
&lt;/denchmark-code&gt;

	</description>
	<comments>
		<comment id='1' author='zh794390558' date='2019-08-26T18:14:37Z'>
		&lt;denchmark-link:https://github.com/zh794390558&gt;@zh794390558&lt;/denchmark-link&gt;
 Can you provide a standalone code to reproduce the issue? Add any more details to resolve the issue faster. Thanks!
		</comment>
		<comment id='2' author='zh794390558' date='2019-08-27T02:23:27Z'>
		replace &lt;denchmark-link:https://github.com/didi/delta/blob/master/egs/iemocap/emo/v1/run.sh#L50&gt;https://github.com/didi/delta/blob/master/egs/iemocap/emo/v1/run.sh#L50&lt;/denchmark-link&gt;
  to  will reproduce this bug.
		</comment>
		<comment id='3' author='zh794390558' date='2019-08-30T20:18:30Z'>
		&lt;denchmark-link:https://github.com/zh794390558&gt;@zh794390558&lt;/denchmark-link&gt;
 Can you provide a simple standalone code reproduce the issue. Thanks!
		</comment>
		<comment id='4' author='zh794390558' date='2019-10-07T20:57:50Z'>
		Closing due to lack of recent activity. Please update the issue when new information becomes available, and we will reopen the issue. Thanks!
		</comment>
		<comment id='5' author='zh794390558' date='2019-10-07T20:57:52Z'>
		Are you satisfied with the resolution of your issue?
&lt;denchmark-link:https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=Yes&amp;entry.2137816233=https://github.com/tensorflow/tensorflow/issues/31915&gt;Yes&lt;/denchmark-link&gt;

&lt;denchmark-link:https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=No&amp;entry.2137816233=https://github.com/tensorflow/tensorflow/issues/31915&gt;No&lt;/denchmark-link&gt;

		</comment>
	</comments>
</bug>