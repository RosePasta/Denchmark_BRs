<bug id='269' author='jiriklein' open_date='2019-09-30T15:32:08Z' closed_time='2020-04-06T14:09:16Z'>
	<summary>Running profiling kills kernel with Assertion failed error</summary>
	<description>
Describe the bug
Running profiling kills kernel with Assertion failed error.
&lt;denchmark-code&gt;[I 16:16:10.164 NotebookApp] Kernel started: 73b63e16-8eb5-479e-9712-00c2ae7807c3
Assertion failed: (PassInf &amp;&amp; "Expected all immutable passes to be initialized"), function addImmutablePass, file /Users/buildbot/miniconda3/conda-bld/llvmdev_1556270736866/work/lib/IR/LegacyPassManager.cpp, line 849.
&lt;/denchmark-code&gt;

To Reproduce
&lt;denchmark-code&gt;import numpy as np
import pandas as pd
import pandas_profiling

df = pd.DataFrame(
    np.random.rand(100, 5),
    columns=['a', 'b', 'c', 'd', 'e']
)
&lt;/denchmark-code&gt;

&lt;denchmark-code&gt;df.profile_report()
&lt;/denchmark-code&gt;

&lt;denchmark-code&gt;2019-09-30 16:28:22,512 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
&lt;/denchmark-code&gt;

Data:
See above
Code:
See above
Version information:
Version information is essential in reproducing and resolving bugs. Please report:

Python version: Python 3.7.4
Environment: Jupyter Notebook (local)
pip:

Click to expand Version information

anyconfig==0.9.10
appnope==0.1.0
arrow==0.15.2
astroid==2.3.1
astropy==3.2.1
atomicwrites==1.3.0
attrs==19.1.0
backcall==0.1.0
binaryornot==0.4.4
bleach==3.1.0
boto3==1.9.238
botocore==1.12.238
certifi==2019.9.11
chardet==3.0.4
Click==7.0
confuse==1.0.0
cookiecutter==1.6.0
coverage==4.5.4
cycler==0.10.0
decorator==4.4.0
defusedxml==0.6.0
docutils==0.15.2
entrypoints==0.3
fsspec==0.5.1
future==0.17.1
htmlmin==0.1.12
idna==2.8
importlib-metadata==0.23
ipykernel==5.1.2
ipython==7.8.0
ipython-genutils==0.2.0
ipywidgets==7.5.1
isort==4.3.21
jedi==0.15.1
Jinja2==2.10.1
jinja2-time==0.2.0
jmespath==0.9.4
jsonschema==3.0.2
jupyter==1.0.0
jupyter-client==5.3.3
jupyter-console==6.0.0
jupyter-core==4.5.0
jupyterlab==0.31.1
jupyterlab-launcher==0.10.5
kedro==0.15.1
kiwisolver==1.1.0
lazy-object-proxy==1.4.2
llvmlite==0.29.0
MarkupSafe==1.1.1
matplotlib==3.1.1
mccabe==0.6.1
memory-profiler==0.55.0
missingno==0.4.2
mistune==0.8.4
mock==3.0.5
more-itertools==7.2.0
nbconvert==5.6.0
nbformat==4.4.0
nbstripout==0.3.3
notebook==6.0.1
numba==0.45.1
numexpr==2.7.0
numpy==1.17.2
packaging==19.2
pandas==0.25.1
pandas-profiling==2.3.0
pandocfilters==1.4.2
parso==0.5.1
pexpect==4.7.0
phik==0.9.8
pickleshare==0.7.5
pip-tools==4.1.0
pluggy==0.13.0
poyo==0.5.0
prometheus-client==0.7.1
prompt-toolkit==2.0.9
psutil==5.6.3
ptyprocess==0.6.0
py==1.8.0
pyarrow==0.14.1
Pygments==2.4.2
pylint==2.4.2
pyparsing==2.4.2
pyrsistent==0.15.4
pytest==5.2.0
pytest-cov==2.7.1
pytest-mock==1.11.0
pytest-pylint==0.14.1
python-dateutil==2.8.0
python-json-logger==0.1.11
pytz==2019.2
PyYAML==5.1.2
pyzmq==18.1.0
qtconsole==4.5.5
requests==2.22.0
s3fs==0.3.4
s3transfer==0.2.1
scipy==1.3.1
seaborn==0.9.0
Send2Trash==1.5.0
six==1.12.0
SQLAlchemy==1.3.8
tables==3.5.2
tabulate==0.8.5
terminado==0.8.2
testpath==0.4.2
toposort==1.5
tornado==6.0.3
traitlets==4.3.2
typed-ast==1.4.0
urllib3==1.25.6
wcwidth==0.1.7
webencodings==0.5.1
whichcraft==0.6.1
widgetsnbextension==3.5.1
wrapt==1.11.2
xlrd==1.2.0
XlsxWriter==1.2.1
zipp==0.6.0



	</description>
	<comments>
		<comment id='1' author='jiriklein' date='2020-01-17T21:59:33Z'>
		Probably the cause is outside of this package. If it still occurs, it's worth trying to turn off multiprocessing, which gives us more diagnostic information:
df.profile_report(pool_size=1)
		</comment>
		<comment id='2' author='jiriklein' date='2020-02-03T16:59:11Z'>
		I had the same issue and investigated a bit with the pool_size and other settings in configuration yaml files since when I set minimal=True it didn't raise the Assertion error.
Basically pool_size couldn't solve the problem, but I manually updated my pyarrow version to pyarrow==0.15.1 and now it works nicely without killing jupyter kernel. Hope this helps.
		</comment>
		<comment id='3' author='jiriklein' date='2020-04-04T00:01:07Z'>
		Stale issue
		</comment>
	</comments>
</bug>