<bug id='49' author='eyadsibai' open_date='2017-06-27T12:18:24Z' closed_time='2020-07-02T00:02:01Z'>
	<summary>TypeError: numpy boolean subtract, the `-` operator, is deprecated, use the bitwise_xor, the `^` operator, or the logical_xor function instead.</summary>
	<description>
&lt;denchmark-code&gt;    stats['range'] = stats['max'] - stats['min']
TypeError: numpy boolean subtract, the `-` operator, is deprecated, use the bitwise_xor, the `^` operator, or the logical_xor function instead.
&lt;/denchmark-code&gt;

I got this error
	</description>
	<comments>
		<comment id='1' author='eyadsibai' date='2017-07-04T08:13:40Z'>
		Boolean values shouldn't enter describe_numeric_1d function. It must be treated as Categorical.
Can you provide a snapshot of the data you're running it on?
Or the datatype may also help.
		</comment>
		<comment id='2' author='eyadsibai' date='2017-07-04T10:08:23Z'>
		I had a boolean column using latest numpy version... and pandas 0.20.2
		</comment>
		<comment id='3' author='eyadsibai' date='2017-07-04T10:22:15Z'>
		In base.py file, go to line number 59.
Change
stats['range'] = stats['max'] - stats['min']
to
stats['range'] = np.subtract(stats['max'], stats['min'], dtype=np.float32)
and report the results.
		</comment>
		<comment id='4' author='eyadsibai' date='2017-07-04T13:36:34Z'>
		&lt;denchmark-link:https://github.com/eyadsibai&gt;@eyadsibai&lt;/denchmark-link&gt;
 Does it work?
I couldn't reproduce the results. So, bear with me for some manual editing.
		</comment>
		<comment id='5' author='eyadsibai' date='2017-08-06T19:02:30Z'>
		Yes I believe this solves the problem!
		</comment>
		<comment id='6' author='eyadsibai' date='2018-02-16T16:07:34Z'>
		yep. had a similar issue where series.py at line ~1800 had to manually edit
'good = -bad' to 'good = ~bad'
surprisingly even when I commented the first line to add the second it game me an error saying  - is not supported ...
		</comment>
		<comment id='7' author='eyadsibai' date='2018-11-16T09:50:59Z'>
		I also got this error ，and then check the numpy version numpy1.8.1 can ，but 1.5.1 not
		</comment>
		<comment id='8' author='eyadsibai' date='2020-01-13T17:59:19Z'>
		Still encountering this error when going through a GCP tutorial:
&lt;denchmark-link:https://cloud.google.com/solutions/building-a-propensity-model-for-financial-services-on-gcp&gt;https://cloud.google.com/solutions/building-a-propensity-model-for-financial-services-on-gcp&lt;/denchmark-link&gt;

Trying to run the 2nd cell in section 2) Data Exploration.
		</comment>
		<comment id='9' author='eyadsibai' date='2020-01-13T18:17:15Z'>
		&lt;denchmark-link:https://github.com/jvschoen&gt;@jvschoen&lt;/denchmark-link&gt;
 thank you for reporting this issue. This is a specific GCP issue. In a local environment, the code seems to work just fine:
&lt;denchmark-code&gt;# As features on the Google Cloud Platform website:
# https://cloud.google.com/solutions/building-a-propensity-model-for-financial-services-on-gcp


import pandas as pd

from pandas_profiling import ProfileReport


if __name__ == "__main__":
    df = pd.read_csv('https://storage.googleapis.com/erwinh-public-data/bankingdata/bank-full.csv', sep=';')

    profile = ProfileReport(df, title="GCP Banking Data")
    profile.to_file('gcp_banking_report.html', silent=False)
&lt;/denchmark-code&gt;

Solution for GCP Jupyterlab:
There is a solution for the GCP notebook.

Make sure the you have the latest version of pandas-profiling installed. You can achieve this by replacing the pip install in the first cell with:

&lt;denchmark-code&gt;!pip install --user -U pandas-profiling
&lt;/denchmark-code&gt;

Make sure you restart the kernel.
You can verify the version using:
&lt;denchmark-code&gt;from pandas_profiling.version import __version__
print(__version__)
&lt;/denchmark-code&gt;


Replace

&lt;denchmark-code&gt;import pandas_profiling as pp
pp.ProfileReport(df)
&lt;/denchmark-code&gt;

with
&lt;denchmark-code&gt;import pandas_profiling as pp
report = pp.ProfileReport(df)
report.to_notebook_iframe()
&lt;/denchmark-code&gt;

Enabeling widgets
The widget inferface might need some extra steps to work:

Install using !pip install --user -U pandas-profiling[notebook]
Enable the jupyter widgets: sudo jupyter labextension install @jupyter-widgets/jupyterlab-manager
Refresh the page and restart the kernel.

You can then run this code:
&lt;denchmark-code&gt;import pandas_profiling as pp
pp.ProfileReport(df)
&lt;/denchmark-code&gt;

		</comment>
		<comment id='10' author='eyadsibai' date='2020-01-13T22:09:52Z'>
		&lt;denchmark-link:https://github.com/sbrugman&gt;@sbrugman&lt;/denchmark-link&gt;
 I worked through a force update earlier that worked, but this seems a bit cleaner approach. I'll edit it in my notebook and run accordingly in the future. Thanks for the quick response and solution!
Edit:
Finally got around to implementing your suggestion and the widget and all worked out perfectly! Thanks for the direction!
		</comment>
		<comment id='11' author='eyadsibai' date='2020-02-12T15:42:25Z'>
		To add to this thread. This solution will break the notebook instance and you can no longer access the jupyterlab. you'll need to ssh in to troubleshoot. However, I did figure out you need to pip uninstall attr then pip install attrs before shutting down your instance to ensure jupyter starts up properly. I know this is a bit of a tangent from the question, and more of an issue with GCP, but just wanted to make sure if someone tried this solution they may run into issues getting back into their AI notebook.
		</comment>
		<comment id='12' author='eyadsibai' date='2020-04-13T00:00:53Z'>
		Stale issue
		</comment>
		<comment id='13' author='eyadsibai' date='2020-04-23T19:54:19Z'>
		What is the status of this issue? I'm getting the same error when trying to run the report in a JupyterLab notebook. It looks like solutions have been proposed (modifying the local version of the user's code), but no PRs are referenced or merged.
		</comment>
		<comment id='14' author='eyadsibai' date='2020-04-25T12:21:52Z'>
		&lt;denchmark-link:https://github.com/joshtemple&gt;@joshtemple&lt;/denchmark-link&gt;

Could you provide the minimal information to reproduce this error? As &lt;denchmark-link:https://github.com/tejaslodaya&gt;@tejaslodaya&lt;/denchmark-link&gt;
 mentioned, booleans should not enter . &lt;denchmark-link:http://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports&gt;This guide&lt;/denchmark-link&gt;
 can help crafting a minimal bug report.


the minimal code you are using to generate the report


which environment you are using:

operating system (e.g. Windows, Linux, Mac)
Python version (e.g. 3.7)
jupyter notebook, console or IDE such as PyCharm
Package manager (e.g. pip, conda)
packages (pip freeze &gt; packages.txt)



a sample or description of the dataset (df.head(), df.info())


		</comment>
		<comment id='15' author='eyadsibai' date='2020-06-25T00:01:48Z'>
		Stale issue
		</comment>
	</comments>
</bug>