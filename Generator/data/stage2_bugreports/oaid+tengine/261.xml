<bug id='261' author='lutzroeder' open_date='2020-04-14T07:03:48Z' closed_time='2020-08-07T01:44:19Z'>
	<summary>Reshape offset_re_shape has incorrect value</summary>
	<description>
Model zoo file detect_tflite.tmfile contains a Reshape operator at address 23244.
offset_t_param = 23220 points to this TM2_ReshapeParam data:
&lt;denchmark-code&gt;01 00 00 00 06 00 00 00 5B 00 00 00
&lt;/denchmark-code&gt;

0x0000005B is not a valid pointer for offset_re_shape?
&lt;denchmark-link:https://github.com/OAID/Tengine/commit/04b679130770c059de74ae0e0bf6bdd998236cc6&gt;04b6791&lt;/denchmark-link&gt;
 seems to have changed the serialization format without updating the version number?
&lt;denchmark-link:https://github.com/pierricklee&gt;@pierricklee&lt;/denchmark-link&gt;
 &lt;denchmark-link:https://github.com/LEMON-LM&gt;@LEMON-LM&lt;/denchmark-link&gt;
 @&lt;denchmark-link:https://github.com/BUG1989&gt;@BUG1989&lt;/denchmark-link&gt;

	</description>
	<comments>
		<comment id='1' author='lutzroeder' date='2020-04-14T10:48:55Z'>
		Hi, Lutz,
Thanks for supporting Tengine!
Actaully, this tmfile model on google drive is out of date compare to the latest version of Tengine v1.12.
The data here you found is aligned by
&lt;denchmark-code&gt;&gt;     int32_t dim_0;
&gt;     int32_t dim_1;
&gt;     int32_t dim_2;
&gt;     int32_t dim_3;
&gt;     int32_t dim_size;
&gt;     int32_t axis;`
&lt;/denchmark-code&gt;

&lt;denchmark-link:https://github.com/OAID/Tengine/commit/04b679130770c059de74ae0e0bf6bdd998236cc6&gt;04b6791 &lt;/denchmark-link&gt;
has changed the TM2_ReshapeParam here:
&lt;denchmark-link:https://user-images.githubusercontent.com/21244722/79216591-08656d80-7e80-11ea-87e8-1f331ebf93cd.png&gt;&lt;/denchmark-link&gt;

The model on google drive used the previous format. So it makes sense with 0x0001 * 0x0006 * 0x005B,  which equals 1 * 6 * 91.
&lt;denchmark-h:hr&gt;&lt;/denchmark-h&gt;

With the latest model:
&lt;denchmark-link:https://user-images.githubusercontent.com/21244722/79215771-a9ebbf80-7e7e-11ea-96a6-dfe85dfd55a1.png&gt;&lt;/denchmark-link&gt;

You could use this model: &lt;denchmark-link:https://github.com/pierricklee/tmfile-sample/blob/master/detect_tflite.tmfile&gt;https://github.com/pierricklee/tmfile-sample/blob/master/detect_tflite.tmfile&lt;/denchmark-link&gt;

&lt;denchmark-link:https://github.com/LEMON-LM&gt;@LEMON-LM&lt;/denchmark-link&gt;
 Please update this model to google drive.
		</comment>
		<comment id='2' author='lutzroeder' date='2020-04-14T12:20:11Z'>
		&lt;denchmark-link:https://github.com/pierricklee&gt;@pierricklee&lt;/denchmark-link&gt;
 Users will have copies of the old file and the same happens for other files. Users might use older versions of Tengine and might still open older files in Netron which is now going to crash when the old format is loaded. You can't call it the old format because it looks identical to the new format and tools can't tell the difference.
This is not acceptable. If you change the format and want things to continue working you need to update version numbers (either the version for the operator or the version number for the entire model) so tools can support both versions. Tools can't be crashing because there is no way to handle this.
		</comment>
		<comment id='3' author='lutzroeder' date='2020-04-15T02:56:43Z'>
		&lt;denchmark-link:https://github.com/lutzroeder&gt;@lutzroeder&lt;/denchmark-link&gt;
 That is a good suggestion! We are planning add an opset version and magic number into tmfile model. This will be on Tengine roadmap as soon as possible. I will keep you updated.
		</comment>
		<comment id='4' author='lutzroeder' date='2020-04-15T04:27:10Z'>
		&lt;denchmark-link:https://github.com/pierricklee&gt;@pierricklee&lt;/denchmark-link&gt;
  exists on  already (there is also model version). It needs to be updated for breaking changes like this and all new files need to be regenerated to include the new version number. The longer you wait, the more these incompatible identical looking files will spread causing problems.
		</comment>
		<comment id='5' author='lutzroeder' date='2020-04-15T05:21:59Z'>
		&lt;denchmark-link:https://github.com/lutzroeder&gt;@lutzroeder&lt;/denchmark-link&gt;
 That's the point. We are rewriting the  part and will regenerate model files.
		</comment>
	</comments>
</bug>