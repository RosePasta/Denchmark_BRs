<bug id='407' author='yaroslavvb' open_date='2019-07-02T01:34:42Z' closed_time='2019-07-11T23:45:04Z'>
	<summary>Install issue on DLAMI images, conflict with PyYAML</summary>
	<description>
wandb has a dependency conflict when installing on AWS Deep Learning images -- DLAMI v23
You can get arround it with 'pip install wandb --ignore-installed', but also perhaps wandb could relax PyYAML version requirement to make life easier (ie, I can't put wandb in requirements.txt because of this)
&lt;denchmark-code&gt;(pytorch_p36) ubuntu@ip-172-31-28-233:~$ pip install wandb
Collecting wandb
  Using cached https://files.pythonhosted.org/packages/6a/d1/af8371f39d9383f4f1e9ba76c8894f75c01d5eddf4ec57bd45952fefab74/wandb-0.8.3-py2.py3-none-any.whl
Collecting watchdog&gt;=0.8.3 (from wandb)
Requirement already satisfied: psutil&gt;=5.0.0 in ./anaconda3/envs/pytorch_p36/lib/python3.6/site-packages (from wandb) (5.4.5)
Collecting backports.tempfile&gt;=1.0 (from wandb)
  Using cached https://files.pythonhosted.org/packages/b4/5c/077f910632476281428fe254807952eb47ca78e720d059a46178c541e669/backports.tempfile-1.0-py2.py3-none-any.whl
Requirement already satisfied: requests&gt;=2.0.0 in ./anaconda3/envs/pytorch_p36/lib/python3.6/site-packages (from wandb) (2.20.0)
Requirement already satisfied: sentry-sdk&gt;=0.4.0 in ./anaconda3/envs/pytorch_p36/lib/python3.6/site-packages (from wandb) (0.9.5)
Requirement already satisfied: six&gt;=1.10.0 in ./anaconda3/envs/pytorch_p36/lib/python3.6/site-packages (from wandb) (1.11.0)
Collecting shortuuid&gt;=0.5.0 (from wandb)
Collecting gql&gt;=0.1.0 (from wandb)
Requirement already satisfied: subprocess32&gt;=3.5.3 in ./anaconda3/envs/pytorch_p36/lib/python3.6/site-packages (from wandb) (3.5.4)
Collecting GitPython&gt;=1.0.0 (from wandb)
  Using cached https://files.pythonhosted.org/packages/fe/e5/fafe827507644c32d6dc553a1c435cdf882e0c28918a5bab29f7fbebfb70/GitPython-2.1.11-py2.py3-none-any.whl
Requirement already satisfied: docker-pycreds&gt;=0.4.0 in ./anaconda3/envs/pytorch_p36/lib/python3.6/site-packages (from wandb) (0.4.0)
Requirement already satisfied: nvidia-ml-py3&gt;=7.352.0 in ./anaconda3/envs/pytorch_p36/lib/python3.6/site-packages (from wandb) (7.352.0)
Requirement already satisfied: Click&gt;=7.0 in ./anaconda3/envs/pytorch_p36/lib/python3.6/site-packages (from wandb) (7.0)
Requirement already satisfied: python-dateutil&gt;=2.6.1 in ./anaconda3/envs/pytorch_p36/lib/python3.6/site-packages (from wandb) (2.7.3)
Collecting PyYAML&gt;=4.2b4 (from wandb)
Requirement already satisfied: argh&gt;=0.24.1 in ./anaconda3/envs/pytorch_p36/lib/python3.6/site-packages (from watchdog&gt;=0.8.3-&gt;wandb) (0.26.2)
Collecting pathtools&gt;=0.1.1 (from watchdog&gt;=0.8.3-&gt;wandb)
Collecting backports.weakref (from backports.tempfile&gt;=1.0-&gt;wandb)
  Using cached https://files.pythonhosted.org/packages/88/ec/f598b633c3d5ffe267aaada57d961c94fdfa183c5c3ebda2b6d151943db6/backports.weakref-1.0.post1-py2.py3-none-any.whl
Requirement already satisfied: urllib3&lt;1.25,&gt;=1.21.1 in ./anaconda3/envs/pytorch_p36/lib/python3.6/site-packages (from requests&gt;=2.0.0-&gt;wandb) (1.23)
Requirement already satisfied: certifi&gt;=2017.4.17 in ./anaconda3/envs/pytorch_p36/lib/python3.6/site-packages (from requests&gt;=2.0.0-&gt;wandb) (2019.3.9)
Requirement already satisfied: idna&lt;2.8,&gt;=2.5 in ./anaconda3/envs/pytorch_p36/lib/python3.6/site-packages (from requests&gt;=2.0.0-&gt;wandb) (2.6)
Requirement already satisfied: chardet&lt;3.1.0,&gt;=3.0.2 in ./anaconda3/envs/pytorch_p36/lib/python3.6/site-packages (from requests&gt;=2.0.0-&gt;wandb) (3.0.4)
Collecting graphql-core&gt;=0.5.0 (from gql&gt;=0.1.0-&gt;wandb)
  Using cached https://files.pythonhosted.org/packages/f1/88/a4a7bf8ab66c35b146e44d77a1f9fd2c36e0ec9fb1a51581608c16deb6e3/graphql_core-2.2-py2.py3-none-any.whl
Collecting promise&gt;=0.4.0 (from gql&gt;=0.1.0-&gt;wandb)
Collecting gitdb2&gt;=2.0.0 (from GitPython&gt;=1.0.0-&gt;wandb)
  Using cached https://files.pythonhosted.org/packages/da/30/a407568aa8d8f25db817cf50121a958722f3fc5f87e3a6fba1f40c0633e3/gitdb2-2.0.5-py2.py3-none-any.whl
Collecting rx&gt;=1.6.0 (from graphql-core&gt;=0.5.0-&gt;gql&gt;=0.1.0-&gt;wandb)
  Using cached https://files.pythonhosted.org/packages/33/0f/5ef4ac78e2a538cc1b054eb86285fe0bf7a5dbaeaac2c584757c300515e2/Rx-1.6.1-py2.py3-none-any.whl
Collecting smmap2&gt;=2.0.0 (from gitdb2&gt;=2.0.0-&gt;GitPython&gt;=1.0.0-&gt;wandb)
  Using cached https://files.pythonhosted.org/packages/55/d2/866d45e3a121ee15a1dc013824d58072fd5c7799c9c34d01378eb262ca8f/smmap2-2.0.5-py2.py3-none-any.whl
thinc 6.12.1 has requirement msgpack&lt;0.6.0,&gt;=0.5.6, but you'll have msgpack 0.6.0 which is incompatible.
tensorflow 1.13.1 has requirement protobuf&gt;=3.6.1, but you'll have protobuf 3.5.2 which is incompatible.
tensorboard 1.13.1 has requirement protobuf&gt;=3.6.0, but you'll have protobuf 3.5.2 which is incompatible.
docker-compose 1.24.0 has requirement PyYAML&lt;4.3,&gt;=3.10, but you'll have pyyaml 5.1.1 which is incompatible.
Installing collected packages: PyYAML, pathtools, watchdog, backports.weakref, backports.tempfile, shortuuid, rx, promise, graphql-core, gql, smmap2, gitdb2, GitPython, wandb
  Found existing installation: PyYAML 3.12
Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall.
You are using pip version 10.0.1, however version 19.1.1 is available.
You should consider upgrading via the 'pip install --upgrade pip' command.
(pytorch_p36) ubuntu@ip-172-31-28-233:~$ echo $?

&lt;/denchmark-code&gt;

	</description>
	<comments>
		<comment id='1' author='yaroslavvb' date='2019-07-02T01:34:44Z'>
		Issue-Label Bot is automatically applying the label bug to this issue, with a confidence of 0.83. Please mark this comment with üëç or üëé to give our bot feedback!
Links: &lt;denchmark-link:https://github.com/marketplace/issue-label-bot&gt;app homepage&lt;/denchmark-link&gt;
, &lt;denchmark-link:https://mlbot.net/data/wandb/client&gt;dashboard&lt;/denchmark-link&gt;
 and &lt;denchmark-link:https://github.com/hamelsmu/MLapp&gt;code&lt;/denchmark-link&gt;
 for this bot.
		</comment>
		<comment id='2' author='yaroslavvb' date='2019-07-04T14:10:33Z'>
		Solution on user side:
&lt;denchmark-code&gt;pip install --upgrade --force-reinstall pip==9.0.3
pip install -U pyyaml --disable-pip-version-check
pip install --upgrade pip
pip install wandb
&lt;/denchmark-code&gt;

		</comment>
		<comment id='3' author='yaroslavvb' date='2019-07-04T14:10:57Z'>
		added in &lt;denchmark-link:https://github.com/wandb/client/pull/384&gt;#384&lt;/denchmark-link&gt;

		</comment>
		<comment id='4' author='yaroslavvb' date='2019-07-11T21:46:30Z'>
		Reopning because I think this issue affects every Amazon Deep Learning AMI user, so it could use a workaround from wandb side
		</comment>
		<comment id='5' author='yaroslavvb' date='2019-07-12T23:48:23Z'>
		Version 0.8.5 no longer pins the pyyaml version.  &lt;denchmark-link:https://github.com/yaroslavvb&gt;@yaroslavvb&lt;/denchmark-link&gt;
 wandb should install cleanly on AMI's now.
		</comment>
	</comments>
</bug>