<bug id='2962' author='Omniscimus' open_date='2020-08-18T09:00:02Z' closed_time='2021-01-15T18:45:06Z'>
	<summary>Windows build fails</summary>
	<description>
&lt;denchmark-h:h1&gt;Bug Report&lt;/denchmark-h&gt;

&lt;denchmark-h:h3&gt;Is the issue related to model conversion?&lt;/denchmark-h&gt;

No
&lt;denchmark-h:h3&gt;Describe the bug&lt;/denchmark-h&gt;

The setup.py script fails to build ONNX on my Windows machine.
&lt;denchmark-h:h3&gt;System information&lt;/denchmark-h&gt;


OS Platform and Distribution: Windows 10
ONNX version: master branch (52c9aa0)
Python version: 3.8.3
Compiler version: MSVC 19.27.29111.0
CMake version: 3.18.0
Protobuf version: 3.9.x branch
Visual Studio version: 16.7.1

&lt;denchmark-h:h3&gt;Reproduction instructions&lt;/denchmark-h&gt;

I followed the build from source instructions for Windows from the README. First, I built protobuf:
git clone https://github.com/protocolbuffers/protobuf.git
cd protobuf
git checkout 3.9.x
cd cmake
mkdir ~/programs/protobuf
cmake -G "Visual Studio 15 2017 Win64" -Dprotobuf_MSVC_STATIC_RUNTIME=OFF -Dprotobuf_BUILD_TESTS=OFF -Dprotobuf_BUILD_EXAMPLES=OFF -DCMAKE_INSTALL_PREFIX=C:\Users\omniscimus\programs\protobuf
msbuild protobuf.sln /m /p:Configuration=Release
msbuild INSTALL.vcxproj /p:Configuration=Release

Note, to work around several errors I got when executing the last two commands, I first had to:

In regedit, in HKLM\SOFTWARE\Microsoft\MSBuild\ToolsVersions\4.0 and in HKLM\WOW6432Node\Microsoft\MSBuild\ToolsVersions\4.0, set VCTargetsPath to C:\Program Files (x86)\Microsoft Visual Studio\2017\Community\Common7\IDE\VC\VCTargets
Use "C:\Program Files (x86)\Microsoft Visual Studio\2017\Community\MSBuild\15.0\Bin\MSBuild.exe" instead of the msbuild command
Use double slashes, as in //m //p:Configuration=Release. Apparently this has to do with me using Git Bash


Then I built ONNX:
git clone https://github.com/onnx/onnx.git
cd onnx
git submodule update --init --recursive
set PATH="C:\Users\omniscimus\programs\protobuf\bin;%PATH%"
set USE_MSVC_STATIC_RUNTIME=0
set ONNX_ML=1
python setup.py install

Again, to work around some errors with the last command, I first had to install MSVC 14.26 components for VS 2019 using the Visual Studio installer. (I already had 14.27 but apparently it required 14.26)

Now after fixing all these errors, the setup.py script still fails, this time with the following output:
&lt;denchmark-code&gt;running install
running bdist_egg
running egg_info
writing onnx.egg-info\PKG-INFO
writing dependency_links to onnx.egg-info\dependency_links.txt
writing entry points to onnx.egg-info\entry_points.txt
writing requirements to onnx.egg-info\requires.txt
writing top-level names to onnx.egg-info\top_level.txt
reading manifest file 'onnx.egg-info\SOURCES.txt'
reading manifest template 'MANIFEST.in'
writing manifest file 'onnx.egg-info\SOURCES.txt'
installing library code to build\bdist.win-amd64\egg
running install_lib
running build_py
running create_version
running cmake_build
-- Selecting Windows SDK version 10.0.19041.0 to target Windows 10.0.18363.
Generated: C:/Users/omniscimus/Documents/repos/onnx/.setuptools-cmake-build/onnx/onnx-ml.proto
Generated: C:/Users/omniscimus/Documents/repos/onnx/.setuptools-cmake-build/onnx/onnx-operators-ml.proto
CMake Warning at CMakeLists.txt:402 (find_package):
  By not providing "Findpybind11.cmake" in CMAKE_MODULE_PATH this project has
  asked CMake to find a package configuration file provided by "pybind11",
  but CMake did not find one.

  Could not find a package configuration file provided by "pybind11"
  (requested version 2.2) with any of the following names:

    pybind11Config.cmake
    pybind11-config.cmake

  Add the installation prefix of "pybind11" to CMAKE_PREFIX_PATH or set
  "pybind11_DIR" to a directory containing one of the above files.  If
  "pybind11" provides a separate development package or SDK, be sure it has
  been installed.


--
-- ******** Summary ********
--   CMake version         : 3.18.0
--   CMake command         : C:/Program Files/CMake/bin/cmake.exe
--   System                : Windows
--   C++ compiler          : C:/Program Files (x86)/Microsoft Visual Studio/2019/Community/VC/Tools/MSVC/14.27.29110/bin/Hostx64/x64/cl.exe
--   C++ compiler version  : 19.27.29111.0
--   CXX flags             : /DWIN32 /D_WINDOWS /W3 /GR /EHsc
--   Build type            : Release
--   Compile definitions   :
--   CMAKE_PREFIX_PATH     :
--   CMAKE_INSTALL_PREFIX  : C:/Program Files (x86)/onnx
--   CMAKE_MODULE_PATH     :
--
--   ONNX version          : 1.7.0
--   ONNX NAMESPACE        : onnx
--   ONNX_BUILD_TESTS      : OFF
--   ONNX_BUILD_BENCHMARKS : OFF
--   ONNX_USE_LITE_PROTO   : OFF
--   ONNXIFI_DUMMY_BACKEND : OFF
--   ONNXIFI_ENABLE_EXT    : OFF
--
--   Protobuf compiler     : C:/Users/omniscimus/Documents/programs/protobuf/bin/protoc.exe
--   Protobuf includes     : C:/Users/omniscimus/Documents/programs/protobuf/include
--   Protobuf libraries    : C:/Users/omniscimus/Documents/programs/protobuf/lib/libprotobuf.lib
--   BUILD_ONNX_PYTHON     : ON
--     Python version      : 3.8
--     Python executable   : C:/Users/omniscimus/AppData/Local/Programs/Python/Python38/python.exe
--     Python includes     : C:/Users/omniscimus/AppData/Local/Programs/Python/Python38/include
-- Configuring done
-- Generating done
-- Build files have been written to: C:/Users/omniscimus/Documents/repos/onnx/.setuptools-cmake-build
Microsoft (R) Build Engine version 16.7.0+b89cb5fde for .NET Framework
Copyright (C) Microsoft Corporation. All rights reserved.

  Checking Build System
  Building Custom Rule C:/Users/omniscimus/Documents/repos/onnx/CMakeLists.txt
  Building Custom Rule C:/Users/omniscimus/Documents/repos/onnx/CMakeLists.txt
  Building Custom Rule C:/Users/omniscimus/Documents/repos/onnx/CMakeLists.txt
  onnxifi_loader.vcxproj -&gt; C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\Release\onnxifi_loader.lib
  onnx-ml.pb.cc
  onnx-operators-ml.pb.cc
  Building Custom Rule C:/Users/omniscimus/Documents/repos/onnx/CMakeLists.txt
  onnxifi_wrapper.vcxproj -&gt; C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\Release\onnxifi.dll
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/io/coded_stream.h(881,64): error C2220: the following warning is treated as an error (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/io/coded_stream.h(881,64): warning C4251: 'google::protobuf::io::CodedOutputStream::default_serialization_deterministic_': struct 'std::atomic&lt;bool&gt;' needs to have dll-interface to be used by clients of class 'google::protobuf::io::CodedOutputStream' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.27.29110\include\atomic(1965): message : see declaration of 'std::atomic&lt;bool&gt;' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/stubs/logging.h(102,23): warning C4251: 'google::protobuf::internal::LogMessage::message_': class 'std::basic_string&lt;char,std::char_traits&lt;char&gt;,std::allocator&lt;char&gt;&gt;' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::LogMessage' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.27.29110\include\xstring(4564): message : see declaration of 'std::basic_string&lt;char,std::char_traits&lt;char&gt;,std::allocator&lt;char&gt;&gt;' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/io/coded_stream.h(881,64): error C2220: the following warning is treated as an error (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-operators-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/arena_impl.h(251,58): warning C4251: 'google::protobuf::internal::ArenaImpl::lifecycle_id_generator_': struct 'std::atomic&lt;__int64&gt;' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::ArenaImpl' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.27.29110\include\atomic(1976): message : see declaration of 'std::atomic&lt;__int64&gt;' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/io/coded_stream.h(881,64): warning C4251: 'google::protobuf::io::CodedOutputStream::default_serialization_deterministic_': struct 'std::atomic&lt;bool&gt;' needs to have dll-interface to be used by clients of class 'google::protobuf::io::CodedOutputStream' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-operators-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.27.29110\include\atomic(1965): message : see declaration of 'std::atomic&lt;bool&gt;' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-operators-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/arena_impl.h(285,15): warning C4251: 'google::protobuf::internal::ArenaImpl::threads_': struct 'std::atomic&lt;google::protobuf::internal::ArenaImpl::SerialArena *&gt;' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::ArenaImpl' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/arena_impl.h(284): message : see declaration of 'std::atomic&lt;google::protobuf::internal::ArenaImpl::SerialArena *&gt;' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/arena_impl.h(286,34): warning C4251: 'google::protobuf::internal::ArenaImpl::hint_': struct 'std::atomic&lt;google::protobuf::internal::ArenaImpl::SerialArena *&gt;' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::ArenaImpl' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/arena_impl.h(284): message : see declaration of 'std::atomic&lt;google::protobuf::internal::ArenaImpl::SerialArena *&gt;' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/arena_impl.h(287,39): warning C4251: 'google::protobuf::internal::ArenaImpl::space_allocated_': struct 'std::atomic&lt;unsigned __int64&gt;' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::ArenaImpl' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.27.29110\include\atomic(1977): message : see declaration of 'std::atomic&lt;unsigned __int64&gt;' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/arena_impl.h(299,19): warning C4251: 'google::protobuf::internal::ArenaImpl::options_': struct 'google::protobuf::internal::ArenaImpl::Options' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::ArenaImpl' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/arena_impl.h(68): message : see declaration of 'google::protobuf::internal::ArenaImpl::Options' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/stubs/logging.h(102,23): warning C4251: 'google::protobuf::internal::LogMessage::message_': class 'std::basic_string&lt;char,std::char_traits&lt;char&gt;,std::allocator&lt;char&gt;&gt;' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::LogMessage' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-operators-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.27.29110\include\xstring(4564): message : see declaration of 'std::basic_string&lt;char,std::char_traits&lt;char&gt;,std::allocator&lt;char&gt;&gt;' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-operators-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/arena_impl.h(251,58): warning C4251: 'google::protobuf::internal::ArenaImpl::lifecycle_id_generator_': struct 'std::atomic&lt;__int64&gt;' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::ArenaImpl' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-operators-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.27.29110\include\atomic(1976): message : see declaration of 'std::atomic&lt;__int64&gt;' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-operators-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/arena_impl.h(285,15): warning C4251: 'google::protobuf::internal::ArenaImpl::threads_': struct 'std::atomic&lt;google::protobuf::internal::ArenaImpl::SerialArena *&gt;' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::ArenaImpl' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-operators-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/arena_impl.h(284): message : see declaration of 'std::atomic&lt;google::protobuf::internal::ArenaImpl::SerialArena *&gt;' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-operators-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/arena_impl.h(286,34): warning C4251: 'google::protobuf::internal::ArenaImpl::hint_': struct 'std::atomic&lt;google::protobuf::internal::ArenaImpl::SerialArena *&gt;' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::ArenaImpl' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-operators-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/arena_impl.h(284): message : see declaration of 'std::atomic&lt;google::protobuf::internal::ArenaImpl::SerialArena *&gt;' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-operators-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/arena_impl.h(287,39): warning C4251: 'google::protobuf::internal::ArenaImpl::space_allocated_': struct 'std::atomic&lt;unsigned __int64&gt;' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::ArenaImpl' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-operators-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.27.29110\include\atomic(1977): message : see declaration of 'std::atomic&lt;unsigned __int64&gt;' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-operators-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/arena_impl.h(299,19): warning C4251: 'google::protobuf::internal::ArenaImpl::options_': struct 'google::protobuf::internal::ArenaImpl::Options' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::ArenaImpl' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-operators-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/arena_impl.h(68): message : see declaration of 'google::protobuf::internal::ArenaImpl::Options' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-operators-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/implicit_weak_message.h(97,20): warning C4251: 'google::protobuf::internal::ImplicitWeakMessage::data_': class 'std::basic_string&lt;char,std::char_traits&lt;char&gt;,std::allocator&lt;char&gt;&gt;' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::ImplicitWeakMessage' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.27.29110\include\xstring(4564): message : see declaration of 'std::basic_string&lt;char,std::char_traits&lt;char&gt;,std::allocator&lt;char&gt;&gt;' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/implicit_weak_message.h(97,20): warning C4251: 'google::protobuf::internal::ImplicitWeakMessage::data_': class 'std::basic_string&lt;char,std::char_traits&lt;char&gt;,std::allocator&lt;char&gt;&gt;' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::ImplicitWeakMessage' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-operators-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.27.29110\include\xstring(4564): message : see declaration of 'std::basic_string&lt;char,std::char_traits&lt;char&gt;,std::allocator&lt;char&gt;&gt;' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-operators-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/generated_message_util.h(176,25): warning C4251: 'google::protobuf::internal::CachedSize::size_': struct 'std::atomic&lt;int&gt;' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::CachedSize' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.27.29110\include\atomic(1972): message : see declaration of 'std::atomic&lt;int&gt;' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/metadata_lite.h(226,22): warning C4251: 'google::protobuf::internal::LiteUnknownFieldSetter::buffer_': class 'std::basic_string&lt;char,std::char_traits&lt;char&gt;,std::allocator&lt;char&gt;&gt;' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::LiteUnknownFieldSetter' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.27.29110\include\xstring(4564): message : see declaration of 'std::basic_string&lt;char,std::char_traits&lt;char&gt;,std::allocator&lt;char&gt;&gt;' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/generated_message_util.h(176,25): warning C4251: 'google::protobuf::internal::CachedSize::size_': struct 'std::atomic&lt;int&gt;' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::CachedSize' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-operators-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.27.29110\include\atomic(1972): message : see declaration of 'std::atomic&lt;int&gt;' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-operators-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/metadata_lite.h(226,22): warning C4251: 'google::protobuf::internal::LiteUnknownFieldSetter::buffer_': class 'std::basic_string&lt;char,std::char_traits&lt;char&gt;,std::allocator&lt;char&gt;&gt;' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::LiteUnknownFieldSetter' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-operators-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.27.29110\include\xstring(4564): message : see declaration of 'std::basic_string&lt;char,std::char_traits&lt;char&gt;,std::allocator&lt;char&gt;&gt;' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-operators-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/inlined_string_field.h(158,21): warning C4251: 'google::protobuf::internal::InlinedStringField::value_': class 'std::basic_string&lt;char,std::char_traits&lt;char&gt;,std::allocator&lt;char&gt;&gt;' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::InlinedStringField' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.27.29110\include\xstring(4564): message : see declaration of 'std::basic_string&lt;char,std::char_traits&lt;char&gt;,std::allocator&lt;char&gt;&gt;' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/unknown_field_set.h(182,36): warning C4251: 'google::protobuf::UnknownFieldSet::fields_': class 'std::vector&lt;google::protobuf::UnknownField,std::allocator&lt;google::protobuf::UnknownField&gt;&gt;' needs to have dll-interface to be used by clients of class 'google::protobuf::UnknownFieldSet' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/unknown_field_set.h(182): message : see declaration of 'std::vector&lt;google::protobuf::UnknownField,std::allocator&lt;google::protobuf::UnknownField&gt;&gt;' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/stubs/mutex.h(107,17): warning C4251: 'google::protobuf::internal::WrappedMutex::mu_': class 'std::mutex' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::WrappedMutex' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.27.29110\include\mutex(87): message : see declaration of 'std::mutex' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/inlined_string_field.h(158,21): warning C4251: 'google::protobuf::internal::InlinedStringField::value_': class 'std::basic_string&lt;char,std::char_traits&lt;char&gt;,std::allocator&lt;char&gt;&gt;' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::InlinedStringField' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-operators-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.27.29110\include\xstring(4564): message : see declaration of 'std::basic_string&lt;char,std::char_traits&lt;char&gt;,std::allocator&lt;char&gt;&gt;' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-operators-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/unknown_field_set.h(182,36): warning C4251: 'google::protobuf::UnknownFieldSet::fields_': class 'std::vector&lt;google::protobuf::UnknownField,std::allocator&lt;google::protobuf::UnknownField&gt;&gt;' needs to have dll-interface to be used by clients of class 'google::protobuf::UnknownFieldSet' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-operators-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/unknown_field_set.h(182): message : see declaration of 'std::vector&lt;google::protobuf::UnknownField,std::allocator&lt;google::protobuf::UnknownField&gt;&gt;' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-operators-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/descriptor.h(1858,34): warning C4251: 'google::protobuf::DescriptorPool::tables_': class 'std::unique_ptr&lt;google::protobuf::DescriptorPool::Tables,std::default_delete&lt;google::protobuf::DescriptorPool::Tables&gt;&gt;' needs to have dll-interface to be used by clients of class 'google::protobuf::DescriptorPool' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/descriptor.h(1858): message : see declaration of 'std::unique_ptr&lt;google::protobuf::DescriptorPool::Tables,std::default_delete&lt;google::protobuf::DescriptorPool::Tables&gt;&gt;' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/stubs/mutex.h(107,17): warning C4251: 'google::protobuf::internal::WrappedMutex::mu_': class 'std::mutex' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::WrappedMutex' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-operators-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.27.29110\include\mutex(87): message : see declaration of 'std::mutex' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-operators-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/descriptor.h(1865,51): warning C4251: 'google::protobuf::DescriptorPool::unused_import_track_files_': class 'std::set&lt;std::string,std::less&lt;std::string&gt;,std::allocator&lt;std::string&gt;&gt;' needs to have dll-interface to be used by clients of class 'google::protobuf::DescriptorPool' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/descriptor.h(1865): message : see declaration of 'std::set&lt;std::string,std::less&lt;std::string&gt;,std::allocator&lt;std::string&gt;&gt;' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/descriptor.h(1858,34): warning C4251: 'google::protobuf::DescriptorPool::tables_': class 'std::unique_ptr&lt;google::protobuf::DescriptorPool::Tables,std::default_delete&lt;google::protobuf::DescriptorPool::Tables&gt;&gt;' needs to have dll-interface to be used by clients of class 'google::protobuf::DescriptorPool' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-operators-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/descriptor.h(1858): message : see declaration of 'std::unique_ptr&lt;google::protobuf::DescriptorPool::Tables,std::default_delete&lt;google::protobuf::DescriptorPool::Tables&gt;&gt;' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-operators-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/descriptor.h(1865,51): warning C4251: 'google::protobuf::DescriptorPool::unused_import_track_files_': class 'std::set&lt;std::string,std::less&lt;std::string&gt;,std::allocator&lt;std::string&gt;&gt;' needs to have dll-interface to be used by clients of class 'google::protobuf::DescriptorPool' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-operators-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/descriptor.h(1865): message : see declaration of 'std::set&lt;std::string,std::less&lt;std::string&gt;,std::allocator&lt;std::string&gt;&gt;' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-operators-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
Traceback (most recent call last):
  File "setup.py", line 321, in &lt;module&gt;
    setuptools.setup(
  File "C:\Users\omniscimus\AppData\Local\Programs\Python\Python38\lib\site-packages\setuptools\__init__.py", line 145, in setup
    return distutils.core.setup(**attrs)
  File "C:\Users\omniscimus\AppData\Local\Programs\Python\Python38\lib\distutils\core.py", line 148, in setup
    dist.run_commands()
  File "C:\Users\omniscimus\AppData\Local\Programs\Python\Python38\lib\distutils\dist.py", line 966, in run_commands
    self.run_command(cmd)
  File "C:\Users\omniscimus\AppData\Local\Programs\Python\Python38\lib\distutils\dist.py", line 985, in run_command
    cmd_obj.run()
  File "C:\Users\omniscimus\AppData\Local\Programs\Python\Python38\lib\site-packages\setuptools\command\install.py", line 67, in run
    self.do_egg_install()
  File "C:\Users\omniscimus\AppData\Local\Programs\Python\Python38\lib\site-packages\setuptools\command\install.py", line 109, in do_egg_install
    self.run_command('bdist_egg')
  File "C:\Users\omniscimus\AppData\Local\Programs\Python\Python38\lib\distutils\cmd.py", line 313, in run_command
    self.distribution.run_command(command)
  File "C:\Users\omniscimus\AppData\Local\Programs\Python\Python38\lib\distutils\dist.py", line 985, in run_command
    cmd_obj.run()
  File "C:\Users\omniscimus\AppData\Local\Programs\Python\Python38\lib\site-packages\setuptools\command\bdist_egg.py", line 172, in run
    cmd = self.call_command('install_lib', warn_dir=0)
  File "C:\Users\omniscimus\AppData\Local\Programs\Python\Python38\lib\site-packages\setuptools\command\bdist_egg.py", line 158, in call_command
    self.run_command(cmdname)
  File "C:\Users\omniscimus\AppData\Local\Programs\Python\Python38\lib\distutils\cmd.py", line 313, in run_command
    self.distribution.run_command(command)
  File "C:\Users\omniscimus\AppData\Local\Programs\Python\Python38\lib\distutils\dist.py", line 985, in run_command
    cmd_obj.run()
  File "C:\Users\omniscimus\AppData\Local\Programs\Python\Python38\lib\site-packages\setuptools\command\install_lib.py", line 11, in run
    self.build()
  File "C:\Users\omniscimus\AppData\Local\Programs\Python\Python38\lib\distutils\command\install_lib.py", line 105, in build
    self.run_command('build_py')
  File "C:\Users\omniscimus\AppData\Local\Programs\Python\Python38\lib\distutils\cmd.py", line 313, in run_command
    self.distribution.run_command(command)
  File "C:\Users\omniscimus\AppData\Local\Programs\Python\Python38\lib\distutils\dist.py", line 985, in run_command
    cmd_obj.run()
  File "setup.py", line 217, in run
    self.run_command('cmake_build')
  File "C:\Users\omniscimus\AppData\Local\Programs\Python\Python38\lib\distutils\cmd.py", line 313, in run_command
    self.distribution.run_command(command)
  File "C:\Users\omniscimus\AppData\Local\Programs\Python\Python38\lib\distutils\dist.py", line 985, in run_command
    cmd_obj.run()
  File "setup.py", line 211, in run
    subprocess.check_call(build_args)
  File "C:\Users\omniscimus\AppData\Local\Programs\Python\Python38\lib\subprocess.py", line 364, in check_call
    raise CalledProcessError(retcode, cmd)
subprocess.CalledProcessError: Command '['C:\\Program Files\\CMake\\bin\\cmake.exe', '--build', '.', '--config', 'Release', '--', '/maxcpucount:3']' returned non-zero exit status 1.
&lt;/denchmark-code&gt;

&lt;denchmark-h:h3&gt;Expected behavior&lt;/denchmark-h&gt;

I expected that when I would follow the build instructions in the README, ONNX would simply build successfully, without me having to figure out solutions for at least 5 build errors.
	</description>
	<comments>
		<comment id='1' author='Omniscimus' date='2020-08-18T17:16:45Z'>
		Hi &lt;denchmark-link:https://github.com/Omniscimus&gt;@Omniscimus&lt;/denchmark-link&gt;
,
Sorry that the README led you to these errors. It also took me some effort to build onnx on my Windows successfully.
Using the Native tools Command Prompt from Visual Studio should solve most of issues you have encountered.
For the last error you mentioned, I also bumped into that on my Windows before.
Setting the environment as follows before python setup.py install should solve this issue.
set CMAKE_ARGS=-DONNX_USE_PROTOBUF_SHARED_LIBS=OFF -DProtobuf_USE_STATIC_LIBS=ON -DONNX_USE_LITE_PROTO=OFF
Other than that, install onnx with Anaconda works for Windows as well.
&lt;denchmark-link:https://github.com/onnx/onnx#build-onnx-on-windows-with-anaconda&gt;https://github.com/onnx/onnx#build-onnx-on-windows-with-anaconda&lt;/denchmark-link&gt;

Hope it helps. The README should be updated and clarified according to your experience. Thank you for reporting this!
		</comment>
		<comment id='2' author='Omniscimus' date='2020-08-25T06:55:41Z'>
		Thanks &lt;denchmark-link:https://github.com/jcwchen&gt;@jcwchen&lt;/denchmark-link&gt;
 !
After executing set CMAKE_ARGS=-DONNX_USE_PROTOBUF_SHARED_LIBS=OFF -DProtobuf_USE_STATIC_LIBS=ON -DONNX_USE_LITE_PROTO=OFF I unfortunately still get a very similar error:
&lt;denchmark-code&gt;running install
running bdist_egg
running egg_info
writing onnx.egg-info\PKG-INFO
writing dependency_links to onnx.egg-info\dependency_links.txt
writing entry points to onnx.egg-info\entry_points.txt
writing requirements to onnx.egg-info\requires.txt
writing top-level names to onnx.egg-info\top_level.txt
reading manifest file 'onnx.egg-info\SOURCES.txt'
reading manifest template 'MANIFEST.in'
writing manifest file 'onnx.egg-info\SOURCES.txt'
installing library code to build\bdist.win-amd64\egg
running install_lib
running build_py
running create_version
running cmake_build
-- Selecting Windows SDK version 10.0.19041.0 to target Windows 10.0.18363.
Generated: C:/Users/omniscimus/Documents/repos/onnx/.setuptools-cmake-build/onnx/onnx-ml.proto
Generated: C:/Users/omniscimus/Documents/repos/onnx/.setuptools-cmake-build/onnx/onnx-operators-ml.proto
CMake Warning at CMakeLists.txt:402 (find_package):
  By not providing "Findpybind11.cmake" in CMAKE_MODULE_PATH this project has
  asked CMake to find a package configuration file provided by "pybind11",
  but CMake did not find one.

  Could not find a package configuration file provided by "pybind11"
  (requested version 2.2) with any of the following names:

    pybind11Config.cmake
    pybind11-config.cmake

  Add the installation prefix of "pybind11" to CMAKE_PREFIX_PATH or set
  "pybind11_DIR" to a directory containing one of the above files.  If
  "pybind11" provides a separate development package or SDK, be sure it has
  been installed.


--
-- ******** Summary ********
--   CMake version         : 3.18.0
--   CMake command         : C:/Program Files/CMake/bin/cmake.exe
--   System                : Windows
--   C++ compiler          : C:/Program Files (x86)/Microsoft Visual Studio/2019/Community/VC/Tools/MSVC/14.27.29110/bin/Hostx64/x64/cl.exe
--   C++ compiler version  : 19.27.29111.0
--   CXX flags             : /DWIN32 /D_WINDOWS /W3 /GR /EHsc
--   Build type            : Release
--   Compile definitions   :
--   CMAKE_PREFIX_PATH     :
--   CMAKE_INSTALL_PREFIX  : C:/Program Files (x86)/onnx
--   CMAKE_MODULE_PATH     :
--
--   ONNX version          : 1.7.0
--   ONNX NAMESPACE        : onnx
--   ONNX_BUILD_TESTS      : OFF
--   ONNX_BUILD_BENCHMARKS : OFF
--   ONNX_USE_LITE_PROTO   : OFF
--   ONNXIFI_DUMMY_BACKEND : OFF
--   ONNXIFI_ENABLE_EXT    : OFF
--
--   Protobuf compiler     : C:/Users/omniscimus/Documents/programs/protobuf/bin/protoc.exe
--   Protobuf includes     : C:/Users/omniscimus/Documents/programs/protobuf/include
--   Protobuf libraries    : C:/Users/omniscimus/Documents/programs/protobuf/lib/libprotobuf.lib
--   BUILD_ONNX_PYTHON     : ON
--     Python version      : 3.8
--     Python executable   : C:/Users/omniscimus/AppData/Local/Programs/Python/Python38/python.exe
--     Python includes     : C:/Users/omniscimus/AppData/Local/Programs/Python/Python38/include
-- Configuring done
-- Generating done
-- Build files have been written to: C:/Users/omniscimus/Documents/repos/onnx/.setuptools-cmake-build
Microsoft (R) Build Engine version 16.7.0+b89cb5fde for .NET Framework
Copyright (C) Microsoft Corporation. All rights reserved.

  onnx-ml.pb.cc
  onnx-operators-ml.pb.cc
  onnxifi_loader.vcxproj -&gt; C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\Release\onnxifi_loader.lib
  onnxifi_wrapper.vcxproj -&gt; C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\Release\onnxifi.dll
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/io/coded_stream.h(881,64): error C2220: the following warning is treated as an error (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/io/coded_stream.h(881,64): warning C4251: 'google::protobuf::io::CodedOutputStream::default_serialization_deterministic_': struct 'std::atomic&lt;bool&gt;' needs to have dll-interface to be used by clients of class 'google::protobuf::io::CodedOutputStream' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.27.29110\include\atomic(1965): message : see declaration of 'std::atomic&lt;bool&gt;' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/stubs/logging.h(102,23): warning C4251: 'google::protobuf::internal::LogMessage::message_': class 'std::basic_string&lt;char,std::char_traits&lt;char&gt;,std::allocator&lt;char&gt;&gt;' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::LogMessage' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.27.29110\include\xstring(4564): message : see declaration of 'std::basic_string&lt;char,std::char_traits&lt;char&gt;,std::allocator&lt;char&gt;&gt;' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/arena_impl.h(251,58): warning C4251: 'google::protobuf::internal::ArenaImpl::lifecycle_id_generator_': struct 'std::atomic&lt;__int64&gt;' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::ArenaImpl' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.27.29110\include\atomic(1976): message : see declaration of 'std::atomic&lt;__int64&gt;' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/arena_impl.h(285,15): warning C4251: 'google::protobuf::internal::ArenaImpl::threads_': struct 'std::atomic&lt;google::protobuf::internal::ArenaImpl::SerialArena *&gt;' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::ArenaImpl' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/arena_impl.h(284): message : see declaration of 'std::atomic&lt;google::protobuf::internal::ArenaImpl::SerialArena *&gt;' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/arena_impl.h(286,34): warning C4251: 'google::protobuf::internal::ArenaImpl::hint_': struct 'std::atomic&lt;google::protobuf::internal::ArenaImpl::SerialArena *&gt;' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::ArenaImpl' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/arena_impl.h(284): message : see declaration of 'std::atomic&lt;google::protobuf::internal::ArenaImpl::SerialArena *&gt;' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/arena_impl.h(287,39): warning C4251: 'google::protobuf::internal::ArenaImpl::space_allocated_': struct 'std::atomic&lt;unsigned __int64&gt;' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::ArenaImpl' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.27.29110\include\atomic(1977): message : see declaration of 'std::atomic&lt;unsigned __int64&gt;' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/io/coded_stream.h(881,64): error C2220: the following warning is treated as an error (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-operators-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/arena_impl.h(299,19): warning C4251: 'google::protobuf::internal::ArenaImpl::options_': struct 'google::protobuf::internal::ArenaImpl::Options' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::ArenaImpl' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/arena_impl.h(68): message : see declaration of 'google::protobuf::internal::ArenaImpl::Options' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/io/coded_stream.h(881,64): warning C4251: 'google::protobuf::io::CodedOutputStream::default_serialization_deterministic_': struct 'std::atomic&lt;bool&gt;' needs to have dll-interface to be used by clients of class 'google::protobuf::io::CodedOutputStream' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-operators-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.27.29110\include\atomic(1965): message : see declaration of 'std::atomic&lt;bool&gt;' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-operators-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/stubs/logging.h(102,23): warning C4251: 'google::protobuf::internal::LogMessage::message_': class 'std::basic_string&lt;char,std::char_traits&lt;char&gt;,std::allocator&lt;char&gt;&gt;' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::LogMessage' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-operators-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.27.29110\include\xstring(4564): message : see declaration of 'std::basic_string&lt;char,std::char_traits&lt;char&gt;,std::allocator&lt;char&gt;&gt;' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-operators-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/arena_impl.h(251,58): warning C4251: 'google::protobuf::internal::ArenaImpl::lifecycle_id_generator_': struct 'std::atomic&lt;__int64&gt;' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::ArenaImpl' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-operators-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.27.29110\include\atomic(1976): message : see declaration of 'std::atomic&lt;__int64&gt;' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-operators-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/arena_impl.h(285,15): warning C4251: 'google::protobuf::internal::ArenaImpl::threads_': struct 'std::atomic&lt;google::protobuf::internal::ArenaImpl::SerialArena *&gt;' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::ArenaImpl' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-operators-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/arena_impl.h(284): message : see declaration of 'std::atomic&lt;google::protobuf::internal::ArenaImpl::SerialArena *&gt;' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-operators-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/arena_impl.h(286,34): warning C4251: 'google::protobuf::internal::ArenaImpl::hint_': struct 'std::atomic&lt;google::protobuf::internal::ArenaImpl::SerialArena *&gt;' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::ArenaImpl' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-operators-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/arena_impl.h(284): message : see declaration of 'std::atomic&lt;google::protobuf::internal::ArenaImpl::SerialArena *&gt;' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-operators-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/arena_impl.h(287,39): warning C4251: 'google::protobuf::internal::ArenaImpl::space_allocated_': struct 'std::atomic&lt;unsigned __int64&gt;' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::ArenaImpl' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-operators-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.27.29110\include\atomic(1977): message : see declaration of 'std::atomic&lt;unsigned __int64&gt;' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-operators-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/arena_impl.h(299,19): warning C4251: 'google::protobuf::internal::ArenaImpl::options_': struct 'google::protobuf::internal::ArenaImpl::Options' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::ArenaImpl' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-operators-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/arena_impl.h(68): message : see declaration of 'google::protobuf::internal::ArenaImpl::Options' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-operators-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/implicit_weak_message.h(97,20): warning C4251: 'google::protobuf::internal::ImplicitWeakMessage::data_': class 'std::basic_string&lt;char,std::char_traits&lt;char&gt;,std::allocator&lt;char&gt;&gt;' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::ImplicitWeakMessage' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.27.29110\include\xstring(4564): message : see declaration of 'std::basic_string&lt;char,std::char_traits&lt;char&gt;,std::allocator&lt;char&gt;&gt;' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/implicit_weak_message.h(97,20): warning C4251: 'google::protobuf::internal::ImplicitWeakMessage::data_': class 'std::basic_string&lt;char,std::char_traits&lt;char&gt;,std::allocator&lt;char&gt;&gt;' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::ImplicitWeakMessage' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-operators-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.27.29110\include\xstring(4564): message : see declaration of 'std::basic_string&lt;char,std::char_traits&lt;char&gt;,std::allocator&lt;char&gt;&gt;' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-operators-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/generated_message_util.h(176,25): warning C4251: 'google::protobuf::internal::CachedSize::size_': struct 'std::atomic&lt;int&gt;' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::CachedSize' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.27.29110\include\atomic(1972): message : see declaration of 'std::atomic&lt;int&gt;' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/metadata_lite.h(226,22): warning C4251: 'google::protobuf::internal::LiteUnknownFieldSetter::buffer_': class 'std::basic_string&lt;char,std::char_traits&lt;char&gt;,std::allocator&lt;char&gt;&gt;' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::LiteUnknownFieldSetter' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.27.29110\include\xstring(4564): message : see declaration of 'std::basic_string&lt;char,std::char_traits&lt;char&gt;,std::allocator&lt;char&gt;&gt;' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/generated_message_util.h(176,25): warning C4251: 'google::protobuf::internal::CachedSize::size_': struct 'std::atomic&lt;int&gt;' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::CachedSize' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-operators-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.27.29110\include\atomic(1972): message : see declaration of 'std::atomic&lt;int&gt;' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-operators-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/metadata_lite.h(226,22): warning C4251: 'google::protobuf::internal::LiteUnknownFieldSetter::buffer_': class 'std::basic_string&lt;char,std::char_traits&lt;char&gt;,std::allocator&lt;char&gt;&gt;' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::LiteUnknownFieldSetter' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-operators-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.27.29110\include\xstring(4564): message : see declaration of 'std::basic_string&lt;char,std::char_traits&lt;char&gt;,std::allocator&lt;char&gt;&gt;' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-operators-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/inlined_string_field.h(158,21): warning C4251: 'google::protobuf::internal::InlinedStringField::value_': class 'std::basic_string&lt;char,std::char_traits&lt;char&gt;,std::allocator&lt;char&gt;&gt;' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::InlinedStringField' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.27.29110\include\xstring(4564): message : see declaration of 'std::basic_string&lt;char,std::char_traits&lt;char&gt;,std::allocator&lt;char&gt;&gt;' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/unknown_field_set.h(182,36): warning C4251: 'google::protobuf::UnknownFieldSet::fields_': class 'std::vector&lt;google::protobuf::UnknownField,std::allocator&lt;google::protobuf::UnknownField&gt;&gt;' needs to have dll-interface to be used by clients of class 'google::protobuf::UnknownFieldSet' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/unknown_field_set.h(182): message : see declaration of 'std::vector&lt;google::protobuf::UnknownField,std::allocator&lt;google::protobuf::UnknownField&gt;&gt;' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/stubs/mutex.h(107,17): warning C4251: 'google::protobuf::internal::WrappedMutex::mu_': class 'std::mutex' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::WrappedMutex' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.27.29110\include\mutex(87): message : see declaration of 'std::mutex' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/inlined_string_field.h(158,21): warning C4251: 'google::protobuf::internal::InlinedStringField::value_': class 'std::basic_string&lt;char,std::char_traits&lt;char&gt;,std::allocator&lt;char&gt;&gt;' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::InlinedStringField' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-operators-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.27.29110\include\xstring(4564): message : see declaration of 'std::basic_string&lt;char,std::char_traits&lt;char&gt;,std::allocator&lt;char&gt;&gt;' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-operators-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/descriptor.h(1858,34): warning C4251: 'google::protobuf::DescriptorPool::tables_': class 'std::unique_ptr&lt;google::protobuf::DescriptorPool::Tables,std::default_delete&lt;google::protobuf::DescriptorPool::Tables&gt;&gt;' needs to have dll-interface to be used by clients of class 'google::protobuf::DescriptorPool' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/descriptor.h(1858): message : see declaration of 'std::unique_ptr&lt;google::protobuf::DescriptorPool::Tables,std::default_delete&lt;google::protobuf::DescriptorPool::Tables&gt;&gt;' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/unknown_field_set.h(182,36): warning C4251: 'google::protobuf::UnknownFieldSet::fields_': class 'std::vector&lt;google::protobuf::UnknownField,std::allocator&lt;google::protobuf::UnknownField&gt;&gt;' needs to have dll-interface to be used by clients of class 'google::protobuf::UnknownFieldSet' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-operators-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/unknown_field_set.h(182): message : see declaration of 'std::vector&lt;google::protobuf::UnknownField,std::allocator&lt;google::protobuf::UnknownField&gt;&gt;' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-operators-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/descriptor.h(1865,51): warning C4251: 'google::protobuf::DescriptorPool::unused_import_track_files_': class 'std::set&lt;std::string,std::less&lt;std::string&gt;,std::allocator&lt;std::string&gt;&gt;' needs to have dll-interface to be used by clients of class 'google::protobuf::DescriptorPool' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/descriptor.h(1865): message : see declaration of 'std::set&lt;std::string,std::less&lt;std::string&gt;,std::allocator&lt;std::string&gt;&gt;' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/stubs/mutex.h(107,17): warning C4251: 'google::protobuf::internal::WrappedMutex::mu_': class 'std::mutex' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::WrappedMutex' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-operators-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.27.29110\include\mutex(87): message : see declaration of 'std::mutex' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-operators-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/descriptor.h(1858,34): warning C4251: 'google::protobuf::DescriptorPool::tables_': class 'std::unique_ptr&lt;google::protobuf::DescriptorPool::Tables,std::default_delete&lt;google::protobuf::DescriptorPool::Tables&gt;&gt;' needs to have dll-interface to be used by clients of class 'google::protobuf::DescriptorPool' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-operators-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/descriptor.h(1858): message : see declaration of 'std::unique_ptr&lt;google::protobuf::DescriptorPool::Tables,std::default_delete&lt;google::protobuf::DescriptorPool::Tables&gt;&gt;' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-operators-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/descriptor.h(1865,51): warning C4251: 'google::protobuf::DescriptorPool::unused_import_track_files_': class 'std::set&lt;std::string,std::less&lt;std::string&gt;,std::allocator&lt;std::string&gt;&gt;' needs to have dll-interface to be used by clients of class 'google::protobuf::DescriptorPool' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-operators-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/descriptor.h(1865): message : see declaration of 'std::set&lt;std::string,std::less&lt;std::string&gt;,std::allocator&lt;std::string&gt;&gt;' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-operators-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
Traceback (most recent call last):
  File "setup.py", line 321, in &lt;module&gt;
    setuptools.setup(
  File "C:\Users\omniscimus\AppData\Local\Programs\Python\Python38\lib\site-packages\setuptools\__init__.py", line 145, in setup
    return distutils.core.setup(**attrs)
  File "C:\Users\omniscimus\AppData\Local\Programs\Python\Python38\lib\distutils\core.py", line 148, in setup
    dist.run_commands()
  File "C:\Users\omniscimus\AppData\Local\Programs\Python\Python38\lib\distutils\dist.py", line 966, in run_commands
    self.run_command(cmd)
  File "C:\Users\omniscimus\AppData\Local\Programs\Python\Python38\lib\distutils\dist.py", line 985, in run_command
    cmd_obj.run()
  File "C:\Users\omniscimus\AppData\Local\Programs\Python\Python38\lib\site-packages\setuptools\command\install.py", line 67, in run
    self.do_egg_install()
  File "C:\Users\omniscimus\AppData\Local\Programs\Python\Python38\lib\site-packages\setuptools\command\install.py", line 109, in do_egg_install
    self.run_command('bdist_egg')
  File "C:\Users\omniscimus\AppData\Local\Programs\Python\Python38\lib\distutils\cmd.py", line 313, in run_command
    self.distribution.run_command(command)
  File "C:\Users\omniscimus\AppData\Local\Programs\Python\Python38\lib\distutils\dist.py", line 985, in run_command
    cmd_obj.run()
  File "C:\Users\omniscimus\AppData\Local\Programs\Python\Python38\lib\site-packages\setuptools\command\bdist_egg.py", line 172, in run
    cmd = self.call_command('install_lib', warn_dir=0)
  File "C:\Users\omniscimus\AppData\Local\Programs\Python\Python38\lib\site-packages\setuptools\command\bdist_egg.py", line 158, in call_command
    self.run_command(cmdname)
  File "C:\Users\omniscimus\AppData\Local\Programs\Python\Python38\lib\distutils\cmd.py", line 313, in run_command
    self.distribution.run_command(command)
  File "C:\Users\omniscimus\AppData\Local\Programs\Python\Python38\lib\distutils\dist.py", line 985, in run_command
    cmd_obj.run()
  File "C:\Users\omniscimus\AppData\Local\Programs\Python\Python38\lib\site-packages\setuptools\command\install_lib.py", line 11, in run
    self.build()
  File "C:\Users\omniscimus\AppData\Local\Programs\Python\Python38\lib\distutils\command\install_lib.py", line 105, in build
    self.run_command('build_py')
  File "C:\Users\omniscimus\AppData\Local\Programs\Python\Python38\lib\distutils\cmd.py", line 313, in run_command
    self.distribution.run_command(command)
  File "C:\Users\omniscimus\AppData\Local\Programs\Python\Python38\lib\distutils\dist.py", line 985, in run_command
    cmd_obj.run()
  File "setup.py", line 217, in run
    self.run_command('cmake_build')
  File "C:\Users\omniscimus\AppData\Local\Programs\Python\Python38\lib\distutils\cmd.py", line 313, in run_command
    self.distribution.run_command(command)
  File "C:\Users\omniscimus\AppData\Local\Programs\Python\Python38\lib\distutils\dist.py", line 985, in run_command
    cmd_obj.run()
  File "setup.py", line 211, in run
    subprocess.check_call(build_args)
  File "C:\Users\omniscimus\AppData\Local\Programs\Python\Python38\lib\subprocess.py", line 364, in check_call
    raise CalledProcessError(retcode, cmd)
subprocess.CalledProcessError: Command '['C:\\Program Files\\CMake\\bin\\cmake.exe', '--build', '.', '--config', 'Release', '--', '/maxcpucount:3']' returned non-zero exit status 1.
&lt;/denchmark-code&gt;

		</comment>
		<comment id='3' author='Omniscimus' date='2020-08-25T15:15:34Z'>
		It seems that the new setting didn't apply to your build.
&lt;denchmark-link:https://github.com/Omniscimus&gt;@Omniscimus&lt;/denchmark-link&gt;
 Could you try to  first and then  again? Thanks.
		</comment>
		<comment id='4' author='Omniscimus' date='2020-08-26T06:17:18Z'>
		If I first run git clean -xdf, then set all the environment variables including the one you mentioned, then run python setup.py install, I still get the same error. I tried running "C:\\Program Files\\CMake\\bin\\cmake.exe" --build . --config Release -- //maxcpucount:3, and got the output:
Error: could not load cache
Here is the output of python setup.py install:
&lt;denchmark-code&gt;running install
running bdist_egg
running egg_info
creating onnx.egg-info
writing onnx.egg-info\PKG-INFO
writing dependency_links to onnx.egg-info\dependency_links.txt
writing entry points to onnx.egg-info\entry_points.txt
writing requirements to onnx.egg-info\requires.txt
writing top-level names to onnx.egg-info\top_level.txt
writing manifest file 'onnx.egg-info\SOURCES.txt'
reading manifest file 'onnx.egg-info\SOURCES.txt'
reading manifest template 'MANIFEST.in'
writing manifest file 'onnx.egg-info\SOURCES.txt'
installing library code to build\bdist.win-amd64\egg
running install_lib
running build_py
running create_version
running cmake_build
-- Building for: Visual Studio 16 2019
-- Selecting Windows SDK version 10.0.19041.0 to target Windows 10.0.18363.
-- The C compiler identification is MSVC 19.27.29111.0
-- The CXX compiler identification is MSVC 19.27.29111.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: C:/Program Files (x86)/Microsoft Visual Studio/2019/Community/VC/Tools/MSVC/14.27.29110/bin/Hostx64/x64/cl.exe - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: C:/Program Files (x86)/Microsoft Visual Studio/2019/Community/VC/Tools/MSVC/14.27.29110/bin/Hostx64/x64/cl.exe - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
-- Found Protobuf: C:/Users/omniscimus/Documents/programs/protobuf/lib/libprotobuf.lib (found version "3.9.2")
Generated: C:/Users/omniscimus/Documents/repos/onnx/.setuptools-cmake-build/onnx/onnx-ml.proto
Generated: C:/Users/omniscimus/Documents/repos/onnx/.setuptools-cmake-build/onnx/onnx-operators-ml.proto
CMake Warning at CMakeLists.txt:402 (find_package):
  By not providing "Findpybind11.cmake" in CMAKE_MODULE_PATH this project has
  asked CMake to find a package configuration file provided by "pybind11",
  but CMake did not find one.

  Could not find a package configuration file provided by "pybind11"
  (requested version 2.2) with any of the following names:

    pybind11Config.cmake
    pybind11-config.cmake

  Add the installation prefix of "pybind11" to CMAKE_PREFIX_PATH or set
  "pybind11_DIR" to a directory containing one of the above files.  If
  "pybind11" provides a separate development package or SDK, be sure it has
  been installed.


-- Found PythonInterp: C:/Users/omniscimus/AppData/Local/Programs/Python/Python38/python.exe (found suitable version "3.8.3", minimum required is "3.8")
-- Found PythonLibs: C:/Users/omniscimus/AppData/Local/Programs/Python/Python38/libs/python38.lib (found suitable version "3.8.3", minimum required is "3.8")
--
-- ******** Summary ********
--   CMake version         : 3.18.0
--   CMake command         : C:/Program Files/CMake/bin/cmake.exe
--   System                : Windows
--   C++ compiler          : C:/Program Files (x86)/Microsoft Visual Studio/2019/Community/VC/Tools/MSVC/14.27.29110/bin/Hostx64/x64/cl.exe
--   C++ compiler version  : 19.27.29111.0
--   CXX flags             : /DWIN32 /D_WINDOWS /W3 /GR /EHsc
--   Build type            : Release
--   Compile definitions   :
--   CMAKE_PREFIX_PATH     :
--   CMAKE_INSTALL_PREFIX  : C:/Program Files (x86)/onnx
--   CMAKE_MODULE_PATH     :
--
--   ONNX version          : 1.7.0
--   ONNX NAMESPACE        : onnx
--   ONNX_BUILD_TESTS      : OFF
--   ONNX_BUILD_BENCHMARKS : OFF
--   ONNX_USE_LITE_PROTO   : OFF
--   ONNXIFI_DUMMY_BACKEND : OFF
--   ONNXIFI_ENABLE_EXT    : OFF
--
--   Protobuf compiler     : C:/Users/omniscimus/Documents/programs/protobuf/bin/protoc.exe
--   Protobuf includes     : C:/Users/omniscimus/Documents/programs/protobuf/include
--   Protobuf libraries    : C:/Users/omniscimus/Documents/programs/protobuf/lib/libprotobuf.lib
--   BUILD_ONNX_PYTHON     : ON
--     Python version      : 3.8
--     Python executable   : C:/Users/omniscimus/AppData/Local/Programs/Python/Python38/python.exe
--     Python includes     : C:/Users/omniscimus/AppData/Local/Programs/Python/Python38/include
-- Configuring done
-- Generating done
CMake Warning:
  Manually-specified variables were not used by the project:

    CMAKE_EXPORT_COMPILE_COMMANDS


-- Build files have been written to: C:/Users/omniscimus/Documents/repos/onnx/.setuptools-cmake-build
Microsoft (R) Build Engine version 16.7.0+b89cb5fde for .NET Framework
Copyright (C) Microsoft Corporation. All rights reserved.

  Checking Build System
  Running gen_proto.py on onnx/onnx.in.proto
  Processing C:\Users\omniscimus\Documents\repos\onnx\onnx\onnx.in.proto
  Writing C:/Users/omniscimus/Documents/repos/onnx/.setuptools-cmake-build/onnx\onnx-ml.proto
  Writing C:/Users/omniscimus/Documents/repos/onnx/.setuptools-cmake-build/onnx\onnx-ml.proto3
  generating C:/Users/omniscimus/Documents/repos/onnx/.setuptools-cmake-build/onnx\onnx_pb.py
  Building Custom Rule C:/Users/omniscimus/Documents/repos/onnx/CMakeLists.txt
  onnxifi_loader.c
  Running C++ protocol buffer compiler on C:/Users/omniscimus/Documents/repos/onnx/.setuptools-cmake-build/onnx/onnx-ml.proto
  Writing mypy to onnx/onnx_ml_pb2.pyi
  Building Custom Rule C:/Users/omniscimus/Documents/repos/onnx/CMakeLists.txt
  onnxifi_loader.vcxproj -&gt; C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\Release\onnxifi_loader.lib
  Running gen_proto.py on onnx/onnx-operators.in.proto
  Processing C:\Users\omniscimus\Documents\repos\onnx\onnx\onnx-operators.in.proto
  Writing C:/Users/omniscimus/Documents/repos/onnx/.setuptools-cmake-build/onnx\onnx-operators-ml.proto
  Writing C:/Users/omniscimus/Documents/repos/onnx/.setuptools-cmake-build/onnx\onnx-operators-ml.proto3
  generating C:/Users/omniscimus/Documents/repos/onnx/.setuptools-cmake-build/onnx\onnx_operators_pb.py
  Running C++ protocol buffer compiler on C:/Users/omniscimus/Documents/repos/onnx/.setuptools-cmake-build/onnx/onnx-operators-ml.proto
  Writing mypy to onnx/onnx_operators_ml_pb2.pyi
  Building Custom Rule C:/Users/omniscimus/Documents/repos/onnx/CMakeLists.txt
  Building Custom Rule C:/Users/omniscimus/Documents/repos/onnx/CMakeLists.txt
  onnx-ml.pb.cc
  onnx-operators-ml.pb.cc
  onnxifi_wrapper.c
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/io/coded_stream.h(881,64): error C2220: the following warning is treated as an error (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/io/coded_stream.h(881,64): warning C4251: 'google::protobuf::io::CodedOutputStream::default_serialization_deterministic_': struct 'std::atomic&lt;bool&gt;' needs to have dll-interface to be used by clients of class 'google::protobuf::io::CodedOutputStream' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.27.29110\include\atomic(1965): message : see declaration of 'std::atomic&lt;bool&gt;' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/stubs/logging.h(102,23): warning C4251: 'google::protobuf::internal::LogMessage::message_': class 'std::basic_string&lt;char,std::char_traits&lt;char&gt;,std::allocator&lt;char&gt;&gt;' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::LogMessage' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.27.29110\include\xstring(4564): message : see declaration of 'std::basic_string&lt;char,std::char_traits&lt;char&gt;,std::allocator&lt;char&gt;&gt;' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/arena_impl.h(251,58): warning C4251: 'google::protobuf::internal::ArenaImpl::lifecycle_id_generator_': struct 'std::atomic&lt;__int64&gt;' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::ArenaImpl' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.27.29110\include\atomic(1976): message : see declaration of 'std::atomic&lt;__int64&gt;' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/arena_impl.h(285,15): warning C4251: 'google::protobuf::internal::ArenaImpl::threads_': struct 'std::atomic&lt;google::protobuf::internal::ArenaImpl::SerialArena *&gt;' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::ArenaImpl' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/arena_impl.h(284): message : see declaration of 'std::atomic&lt;google::protobuf::internal::ArenaImpl::SerialArena *&gt;' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/arena_impl.h(286,34): warning C4251: 'google::protobuf::internal::ArenaImpl::hint_': struct 'std::atomic&lt;google::protobuf::internal::ArenaImpl::SerialArena *&gt;' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::ArenaImpl' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/arena_impl.h(284): message : see declaration of 'std::atomic&lt;google::protobuf::internal::ArenaImpl::SerialArena *&gt;' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/arena_impl.h(287,39): warning C4251: 'google::protobuf::internal::ArenaImpl::space_allocated_': struct 'std::atomic&lt;unsigned __int64&gt;' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::ArenaImpl' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.27.29110\include\atomic(1977): message : see declaration of 'std::atomic&lt;unsigned __int64&gt;' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/arena_impl.h(299,19): warning C4251: 'google::protobuf::internal::ArenaImpl::options_': struct 'google::protobuf::internal::ArenaImpl::Options' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::ArenaImpl' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/arena_impl.h(68): message : see declaration of 'google::protobuf::internal::ArenaImpl::Options' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/io/coded_stream.h(881,64): error C2220: the following warning is treated as an error (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-operators-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/io/coded_stream.h(881,64): warning C4251: 'google::protobuf::io::CodedOutputStream::default_serialization_deterministic_': struct 'std::atomic&lt;bool&gt;' needs to have dll-interface to be used by clients of class 'google::protobuf::io::CodedOutputStream' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-operators-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.27.29110\include\atomic(1965): message : see declaration of 'std::atomic&lt;bool&gt;' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-operators-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/stubs/logging.h(102,23): warning C4251: 'google::protobuf::internal::LogMessage::message_': class 'std::basic_string&lt;char,std::char_traits&lt;char&gt;,std::allocator&lt;char&gt;&gt;' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::LogMessage' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-operators-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.27.29110\include\xstring(4564): message : see declaration of 'std::basic_string&lt;char,std::char_traits&lt;char&gt;,std::allocator&lt;char&gt;&gt;' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-operators-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/arena_impl.h(251,58): warning C4251: 'google::protobuf::internal::ArenaImpl::lifecycle_id_generator_': struct 'std::atomic&lt;__int64&gt;' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::ArenaImpl' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-operators-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.27.29110\include\atomic(1976): message : see declaration of 'std::atomic&lt;__int64&gt;' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-operators-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/arena_impl.h(285,15): warning C4251: 'google::protobuf::internal::ArenaImpl::threads_': struct 'std::atomic&lt;google::protobuf::internal::ArenaImpl::SerialArena *&gt;' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::ArenaImpl' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-operators-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/arena_impl.h(284): message : see declaration of 'std::atomic&lt;google::protobuf::internal::ArenaImpl::SerialArena *&gt;' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-operators-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/arena_impl.h(286,34): warning C4251: 'google::protobuf::internal::ArenaImpl::hint_': struct 'std::atomic&lt;google::protobuf::internal::ArenaImpl::SerialArena *&gt;' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::ArenaImpl' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-operators-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/arena_impl.h(284): message : see declaration of 'std::atomic&lt;google::protobuf::internal::ArenaImpl::SerialArena *&gt;' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-operators-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/arena_impl.h(287,39): warning C4251: 'google::protobuf::internal::ArenaImpl::space_allocated_': struct 'std::atomic&lt;unsigned __int64&gt;' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::ArenaImpl' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-operators-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.27.29110\include\atomic(1977): message : see declaration of 'std::atomic&lt;unsigned __int64&gt;' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-operators-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/arena_impl.h(299,19): warning C4251: 'google::protobuf::internal::ArenaImpl::options_': struct 'google::protobuf::internal::ArenaImpl::Options' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::ArenaImpl' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-operators-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/arena_impl.h(68): message : see declaration of 'google::protobuf::internal::ArenaImpl::Options' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-operators-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/implicit_weak_message.h(97,20): warning C4251: 'google::protobuf::internal::ImplicitWeakMessage::data_': class 'std::basic_string&lt;char,std::char_traits&lt;char&gt;,std::allocator&lt;char&gt;&gt;' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::ImplicitWeakMessage' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.27.29110\include\xstring(4564): message : see declaration of 'std::basic_string&lt;char,std::char_traits&lt;char&gt;,std::allocator&lt;char&gt;&gt;' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/generated_message_util.h(176,25): warning C4251: 'google::protobuf::internal::CachedSize::size_': struct 'std::atomic&lt;int&gt;' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::CachedSize' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.27.29110\include\atomic(1972): message : see declaration of 'std::atomic&lt;int&gt;' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/metadata_lite.h(226,22): warning C4251: 'google::protobuf::internal::LiteUnknownFieldSetter::buffer_': class 'std::basic_string&lt;char,std::char_traits&lt;char&gt;,std::allocator&lt;char&gt;&gt;' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::LiteUnknownFieldSetter' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.27.29110\include\xstring(4564): message : see declaration of 'std::basic_string&lt;char,std::char_traits&lt;char&gt;,std::allocator&lt;char&gt;&gt;' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/implicit_weak_message.h(97,20): warning C4251: 'google::protobuf::internal::ImplicitWeakMessage::data_': class 'std::basic_string&lt;char,std::char_traits&lt;char&gt;,std::allocator&lt;char&gt;&gt;' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::ImplicitWeakMessage' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-operators-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.27.29110\include\xstring(4564): message : see declaration of 'std::basic_string&lt;char,std::char_traits&lt;char&gt;,std::allocator&lt;char&gt;&gt;' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-operators-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/inlined_string_field.h(158,21): warning C4251: 'google::protobuf::internal::InlinedStringField::value_': class 'std::basic_string&lt;char,std::char_traits&lt;char&gt;,std::allocator&lt;char&gt;&gt;' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::InlinedStringField' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.27.29110\include\xstring(4564): message : see declaration of 'std::basic_string&lt;char,std::char_traits&lt;char&gt;,std::allocator&lt;char&gt;&gt;' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/unknown_field_set.h(182,36): warning C4251: 'google::protobuf::UnknownFieldSet::fields_': class 'std::vector&lt;google::protobuf::UnknownField,std::allocator&lt;google::protobuf::UnknownField&gt;&gt;' needs to have dll-interface to be used by clients of class 'google::protobuf::UnknownFieldSet' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/unknown_field_set.h(182): message : see declaration of 'std::vector&lt;google::protobuf::UnknownField,std::allocator&lt;google::protobuf::UnknownField&gt;&gt;' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/generated_message_util.h(176,25): warning C4251: 'google::protobuf::internal::CachedSize::size_': struct 'std::atomic&lt;int&gt;' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::CachedSize' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-operators-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.27.29110\include\atomic(1972): message : see declaration of 'std::atomic&lt;int&gt;' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-operators-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/stubs/mutex.h(107,17): warning C4251: 'google::protobuf::internal::WrappedMutex::mu_': class 'std::mutex' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::WrappedMutex' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.27.29110\include\mutex(87): message : see declaration of 'std::mutex' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/metadata_lite.h(226,22): warning C4251: 'google::protobuf::internal::LiteUnknownFieldSetter::buffer_': class 'std::basic_string&lt;char,std::char_traits&lt;char&gt;,std::allocator&lt;char&gt;&gt;' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::LiteUnknownFieldSetter' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-operators-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.27.29110\include\xstring(4564): message : see declaration of 'std::basic_string&lt;char,std::char_traits&lt;char&gt;,std::allocator&lt;char&gt;&gt;' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-operators-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/descriptor.h(1858,34): warning C4251: 'google::protobuf::DescriptorPool::tables_': class 'std::unique_ptr&lt;google::protobuf::DescriptorPool::Tables,std::default_delete&lt;google::protobuf::DescriptorPool::Tables&gt;&gt;' needs to have dll-interface to be used by clients of class 'google::protobuf::DescriptorPool' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/descriptor.h(1858): message : see declaration of 'std::unique_ptr&lt;google::protobuf::DescriptorPool::Tables,std::default_delete&lt;google::protobuf::DescriptorPool::Tables&gt;&gt;' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/descriptor.h(1865,51): warning C4251: 'google::protobuf::DescriptorPool::unused_import_track_files_': class 'std::set&lt;std::string,std::less&lt;std::string&gt;,std::allocator&lt;std::string&gt;&gt;' needs to have dll-interface to be used by clients of class 'google::protobuf::DescriptorPool' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/descriptor.h(1865): message : see declaration of 'std::set&lt;std::string,std::less&lt;std::string&gt;,std::allocator&lt;std::string&gt;&gt;' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/inlined_string_field.h(158,21): warning C4251: 'google::protobuf::internal::InlinedStringField::value_': class 'std::basic_string&lt;char,std::char_traits&lt;char&gt;,std::allocator&lt;char&gt;&gt;' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::InlinedStringField' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-operators-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.27.29110\include\xstring(4564): message : see declaration of 'std::basic_string&lt;char,std::char_traits&lt;char&gt;,std::allocator&lt;char&gt;&gt;' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-operators-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/unknown_field_set.h(182,36): warning C4251: 'google::protobuf::UnknownFieldSet::fields_': class 'std::vector&lt;google::protobuf::UnknownField,std::allocator&lt;google::protobuf::UnknownField&gt;&gt;' needs to have dll-interface to be used by clients of class 'google::protobuf::UnknownFieldSet' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-operators-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/unknown_field_set.h(182): message : see declaration of 'std::vector&lt;google::protobuf::UnknownField,std::allocator&lt;google::protobuf::UnknownField&gt;&gt;' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-operators-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/stubs/mutex.h(107,17): warning C4251: 'google::protobuf::internal::WrappedMutex::mu_': class 'std::mutex' needs to have dll-interface to be used by clients of class 'google::protobuf::internal::WrappedMutex' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-operators-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.27.29110\include\mutex(87): message : see declaration of 'std::mutex' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-operators-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/descriptor.h(1858,34): warning C4251: 'google::protobuf::DescriptorPool::tables_': class 'std::unique_ptr&lt;google::protobuf::DescriptorPool::Tables,std::default_delete&lt;google::protobuf::DescriptorPool::Tables&gt;&gt;' needs to have dll-interface to be used by clients of class 'google::protobuf::DescriptorPool' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-operators-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/descriptor.h(1858): message : see declaration of 'std::unique_ptr&lt;google::protobuf::DescriptorPool::Tables,std::default_delete&lt;google::protobuf::DescriptorPool::Tables&gt;&gt;' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-operators-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/descriptor.h(1865,51): warning C4251: 'google::protobuf::DescriptorPool::unused_import_track_files_': class 'std::set&lt;std::string,std::less&lt;std::string&gt;,std::allocator&lt;std::string&gt;&gt;' needs to have dll-interface to be used by clients of class 'google::protobuf::DescriptorPool' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-operators-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
C:\Users\omniscimus\Documents\programs\protobuf\include\google/protobuf/descriptor.h(1865): message : see declaration of 'std::set&lt;std::string,std::less&lt;std::string&gt;,std::allocator&lt;std::string&gt;&gt;' (compiling source file C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx\onnx-operators-ml.pb.cc) [C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\onnx_proto.vcxproj]
     Creating library C:/Users/omniscimus/Documents/repos/onnx/.setuptools-cmake-build/Release/onnxifi.lib and object C:/Users/omniscimus/Documents/repos/onnx/.setuptools-cmake-build/Release/onnxifi.exp
  onnxifi_wrapper.vcxproj -&gt; C:\Users\omniscimus\Documents\repos\onnx\.setuptools-cmake-build\Release\onnxifi.dll
Traceback (most recent call last):
  File "setup.py", line 321, in &lt;module&gt;
    setuptools.setup(
  File "C:\Users\omniscimus\AppData\Local\Programs\Python\Python38\lib\site-packages\setuptools\__init__.py", line 145, in setup
    return distutils.core.setup(**attrs)
  File "C:\Users\omniscimus\AppData\Local\Programs\Python\Python38\lib\distutils\core.py", line 148, in setup
    dist.run_commands()
  File "C:\Users\omniscimus\AppData\Local\Programs\Python\Python38\lib\distutils\dist.py", line 966, in run_commands
    self.run_command(cmd)
  File "C:\Users\omniscimus\AppData\Local\Programs\Python\Python38\lib\distutils\dist.py", line 985, in run_command
    cmd_obj.run()
  File "C:\Users\omniscimus\AppData\Local\Programs\Python\Python38\lib\site-packages\setuptools\command\install.py", line 67, in run
    self.do_egg_install()
  File "C:\Users\omniscimus\AppData\Local\Programs\Python\Python38\lib\site-packages\setuptools\command\install.py", line 109, in do_egg_install
    self.run_command('bdist_egg')
  File "C:\Users\omniscimus\AppData\Local\Programs\Python\Python38\lib\distutils\cmd.py", line 313, in run_command
    self.distribution.run_command(command)
  File "C:\Users\omniscimus\AppData\Local\Programs\Python\Python38\lib\distutils\dist.py", line 985, in run_command
    cmd_obj.run()
  File "C:\Users\omniscimus\AppData\Local\Programs\Python\Python38\lib\site-packages\setuptools\command\bdist_egg.py", line 172, in run
    cmd = self.call_command('install_lib', warn_dir=0)
  File "C:\Users\omniscimus\AppData\Local\Programs\Python\Python38\lib\site-packages\setuptools\command\bdist_egg.py", line 158, in call_command
    self.run_command(cmdname)
  File "C:\Users\omniscimus\AppData\Local\Programs\Python\Python38\lib\distutils\cmd.py", line 313, in run_command
    self.distribution.run_command(command)
  File "C:\Users\omniscimus\AppData\Local\Programs\Python\Python38\lib\distutils\dist.py", line 985, in run_command
    cmd_obj.run()
  File "C:\Users\omniscimus\AppData\Local\Programs\Python\Python38\lib\site-packages\setuptools\command\install_lib.py", line 11, in run
    self.build()
  File "C:\Users\omniscimus\AppData\Local\Programs\Python\Python38\lib\distutils\command\install_lib.py", line 105, in build
    self.run_command('build_py')
  File "C:\Users\omniscimus\AppData\Local\Programs\Python\Python38\lib\distutils\cmd.py", line 313, in run_command
    self.distribution.run_command(command)
  File "C:\Users\omniscimus\AppData\Local\Programs\Python\Python38\lib\distutils\dist.py", line 985, in run_command
    cmd_obj.run()
  File "setup.py", line 217, in run
    self.run_command('cmake_build')
  File "C:\Users\omniscimus\AppData\Local\Programs\Python\Python38\lib\distutils\cmd.py", line 313, in run_command
    self.distribution.run_command(command)
  File "C:\Users\omniscimus\AppData\Local\Programs\Python\Python38\lib\distutils\dist.py", line 985, in run_command
    cmd_obj.run()
  File "setup.py", line 211, in run
    subprocess.check_call(build_args)
  File "C:\Users\omniscimus\AppData\Local\Programs\Python\Python38\lib\subprocess.py", line 364, in check_call
    raise CalledProcessError(retcode, cmd)
subprocess.CalledProcessError: Command '['C:\\Program Files\\CMake\\bin\\cmake.exe', '--build', '.', '--config', 'Release', '--', '/maxcpucount:3']' returned non-zero exit status 1.
&lt;/denchmark-code&gt;

		</comment>
		<comment id='5' author='Omniscimus' date='2020-08-27T01:17:35Z'>
		Similar to &lt;denchmark-link:https://github.com/onnx/onnx/issues/2759&gt;#2759&lt;/denchmark-link&gt;
. It seems that somehow the static protobuf does not link successfully.
Can you try to reinstall protobuf again with ? (same as the onnx build)
Something like:
&lt;denchmark-code&gt;git clone https://github.com/protocolbuffers/protobuf.git
cd protobuf
git checkout 3.9.x
cd cmake
cmake -G "Visual Studio 16 2019" -Dprotobuf_MSVC_STATIC_RUNTIME=OFF -Dprotobuf_BUILD_TESTS=OFF -Dprotobuf_BUILD_EXAMPLES=OFF -DCMAKE_INSTALL_PREFIX="/path/for/installed/protobuf"
msbuild protobuf.sln /m /p:Configuration=Release
msbuild INSTALL.vcxproj /p:Configuration=Release
&lt;/denchmark-code&gt;

And use Native tools Command Prompt from Visual Studio to rerun all the commands, please. Thank you.
		</comment>
		<comment id='6' author='Omniscimus' date='2020-08-27T07:16:40Z'>
		Ok, I removed everything and tried again. In "x64 Native Tools Command Prompt for VS 2019" I did:
cd C:\Users\omniscimus\Documents\repos
git clone https://github.com/protocolbuffers/protobuf.git
cd protobuf
git checkout 3.9.x
cd cmake
mkdir C:\Users\omniscimus\programs\protobuf
cmake -G "Visual Studio 16 2019" -Dprotobuf_MSVC_STATIC_RUNTIME=OFF -Dprotobuf_BUILD_TESTS=OFF -Dprotobuf_BUILD_EXAMPLES=OFF -DCMAKE_INSTALL_PREFIX="C:\Users\omniscimus\programs\protobuf"
msbuild protobuf.sln /m /p:Configuration=Release
msbuild INSTALL.vcxproj /p:Configuration=Release

cd ..\..
git clone https://github.com/onnx/onnx.git
cd onnx
git submodule update --init --recursive
git clean -xdf
set PATH="C:\Users\omniscimus\programs\protobuf\bin;%PATH%"
set USE_MSVC_STATIC_RUNTIME=0
set ONNX_ML=1
set CMAKE_ARGS=-DONNX_USE_PROTOBUF_SHARED_LIBS=OFF -DProtobuf_USE_STATIC_LIBS=ON -DONNX_USE_LITE_PROTO=OFF
C:\Users\omniscimus\AppData\Local\Programs\Python\Python38\python setup.py install
At first this gave an error again (Protobuf compiler not found, even though protoc was in protobuf's bin directory). I inspected my PATH environment variable, it didn't seem right (" in the wrong places). The solution was to use
set PATH=C:\Users\omniscimus\programs\protobuf\bin;%PATH%
instead of
set PATH="C:\Users\omniscimus\programs\protobuf\bin;%PATH%".
I think you might need to do something like
set PATH="path\to\protobuf\bin";%PATH%
if there are spaces in the path to protobuf.
Using this new path variable, the build went smoothly. Thanks for all the help!
		</comment>
		<comment id='7' author='Omniscimus' date='2020-08-27T15:36:18Z'>
		Hi &lt;denchmark-link:https://github.com/Omniscimus&gt;@Omniscimus&lt;/denchmark-link&gt;
,
Glad that you have installed onnx on Windows successfully! I will update the document based on your experience. Thank you for all the detailed information.
		</comment>
		<comment id='8' author='Omniscimus' date='2021-01-15T18:45:06Z'>
		The PR for improving Windows has been merged. Please reopen it if you have other concerns or issues. Thank you!
		</comment>
	</comments>
</bug>