<bug id='90' author='tfujiwar' open_date='2019-01-08T05:17:38Z' closed_time='2019-01-10T13:37:46Z'>
	<summary>`train` command with data augmentation options failed</summary>
	<description>
I tried to execute train command with data augmentation options but it failed. I think generate_lmnet_config.py is not working correctly because there was a SyntaxError in lmnet config file which is generated by the script.
Error messages:
&lt;denchmark-code&gt;Traceback (most recent call last):
  File "blueoil/blueoil_train.py", line 51, in &lt;module&gt;
  ...
  File "/home/blueoil/test.py", line 112
    RandomErasingForDetection(probability=0.5sl=0.02sh=0.2r1=0.3content_type='mean'mean=[125, 122, 114]i_a=Trueo_a=True),
                                              ^
SyntaxError: invalid syntax
ERROR: Training exited with a non-zero status
&lt;/denchmark-code&gt;

The Config file I tried:
task_type: object_detection
network_name: LMFYoloQuantize

dataset:
  format: DeLTA-Mark for Object Detection
  train_path: /mnt/dataset/training
  test_path: /mnt/dataset/test

trainer:
  batch_size: 16
  epochs: 100
  learning_rate_schedule: constant
  initial_learning_rate: 0.001

network:
  quantize_first_convolution: yes

common:
  image_size:
    - 128  # height
    - 128  # width

  # set pretrain model name. currently, this feature is not supported, always ignored.
  pretrain_model: false

  # enable dataset prefetch, set false if weired problem happens
  dataset_prefetch: true

  data_augmentation:
    - RandomErasingForDetection:
        - probability: 0.5
        - sl: 0.02
        - sh: 0.2
        - r1: 0.3
        - content_type: mean
        - mean: [125, 122, 114]
        - i_a: True
        - o_a: True
	</description>
	<comments>
		<comment id='1' author='tfujiwar' date='2019-01-08T05:34:30Z'>
		&lt;denchmark-link:https://github.com/tfujiwar&gt;@tfujiwar&lt;/denchmark-link&gt;
 Thanks. Is this in ?
		</comment>
		<comment id='2' author='tfujiwar' date='2019-01-08T06:07:57Z'>
		&lt;denchmark-link:https://github.com/ruimashita&gt;@ruimashita&lt;/denchmark-link&gt;
 Yes, I'm using the tag .
		</comment>
		<comment id='3' author='tfujiwar' date='2019-01-08T07:14:09Z'>
		&lt;denchmark-link:https://github.com/ruimashita&gt;@ruimashita&lt;/denchmark-link&gt;

I found a difference between  and . One comma is needed after . So this error occurres only in object detection task.



blueoil/blueoil/templates/lmnet/classification.tpl.py


        Lines 94 to 96
      in
      8529940






 DATASET.AUGMENTOR = Sequence([{% if data_augmentation %}{% for augmentor in data_augmentation %} 



     {{ augmentor[0] }}({% for d_name, d_value in augmentor[1] %}{{ d_name }}={{ d_value }}, {% endfor %}),{% endfor %} 



 {% endif %}]) 








blueoil/blueoil/templates/lmnet/object_detection.tpl.py


        Lines 126 to 128
      in
      8529940






 DATASET.AUGMENTOR = Sequence([{% if data_augmentation %}{% for augmentor in data_augmentation %} 



     {{ augmentor[0] }}({% for d_name, d_value in augmentor[1] %}{{ d_name }}={{ d_value }}{% endfor %}),{% endfor %} 



 {% endif %}]) 





Can I make a PR to fix it?
		</comment>
	</comments>
</bug>