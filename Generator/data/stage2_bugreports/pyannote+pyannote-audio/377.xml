<bug id='377' author='alamnasim' open_date='2020-05-13T10:44:54Z' closed_time='2020-05-14T19:51:53Z'>
	<summary>getting AttributeError: 'str' object has no attribute 'durationToSamples' for speaker change detection</summary>
	<description>
Hi &lt;denchmark-link:https://github.com/hbredin&gt;@hbredin&lt;/denchmark-link&gt;
 ,
I am running speaker_change_detection training using the latest develop branch on my own custom dataset.
I am getting Attribute error :  'str' object has no attribute 'durationToSamples' for speaker change detection.
I ran this command:
pyannote-audio scd train --subset=train --to=500 --parallel=4 --gpu ${EXP_DIR} audiosd.SpeakerDiarization.Hinglish
Full Traceback:
File "/home/ubuntu/anaconda3/envs/pyannote/bin/pyannote-audio", line 8, in 
sys.exit(main())
File "/home/root/anaconda3/envs/pyannote/lib/python3.6/site-packages/pyannote/audio/applications/pyannote_audio.py", line 366, in main
app.train(protocol, **params)
File "/home/root/anaconda3/envs/pyannote/lib/python3.6/site-packages/pyannote/audio/applications/base.py", line 206, in train
alignment=self.model_alignment_,
File "/home/root/anaconda3/envs/pyannote/lib/python3.6/site-packages/pyannote/audio/labeling/tasks/speaker_change_detection.py", line 274, in get_batch_generator
per_epoch=self.per_epoch,
File "/home/root/anaconda3/envs/pyannote/lib/python3.6/site-packages/pyannote/audio/labeling/tasks/speaker_change_detection.py", line 114, in init
self.collar_ = resolution.durationToSamples(collar)
AttributeError: 'str' object has no attribute 'durationToSamples
speaker_change_detection.py:line#112-114:
if resolution is None:
resolution = feature_extraction.sliding_window
self.collar_ = resolution.durationToSamples(collar)
Any help appreciated.
Thanks,
Nasim
	</description>
	<comments>
		<comment id='1' author='alamnasim' date='2020-05-14T15:06:36Z'>
		Can you please share the content of your config.yml file?
		</comment>
		<comment id='2' author='alamnasim' date='2020-05-14T15:22:57Z'>
		Can you please also share the output of the following command?
pip freeze | grep pyannote
		</comment>
		<comment id='3' author='alamnasim' date='2020-05-14T19:52:22Z'>
		Commit &lt;denchmark-link:https://github.com/pyannote/pyannote-audio/commit/d6fbb5ad0e238d983f3afcc4350b50b510a6ceca&gt;d6fbb5a&lt;/denchmark-link&gt;
 fixes the issue.
		</comment>
	</comments>
</bug>