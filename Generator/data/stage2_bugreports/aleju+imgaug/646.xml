<bug id='646' author='WillNichols726' open_date='2020-03-26T14:50:12Z' closed_time='2020-04-13T15:09:11Z'>
	<summary>Array broadcast error in Change Color Temperatures</summary>
	<description>
Getting the following broadcast error when trying to use the Change color temperature augmenter
Calling code:
&lt;denchmark-code&gt;self.augmenter = iaa.SomeOf((0,2), [
                iaa.AdditiveGaussianNoise(scale=0.3*255, per_channel=True),
                iaa.Cutout(nb_iterations=(1,8), size=0.1, fill_mode='gaussian', fill_per_channel=True),
                iaa.GaussianBlur(sigma=(0, 0.2)),
                iaa.MultiplyAndAddToBrightness(mul=(0.5, 1.5), add=(-30, 30)),
                iaa.ChangeColorTemperature((1100, 10000)),
                iaa.GammaContrast((0.5, 2.0)),
                iaa.Clouds()
            ],
            random_order=True            
            )

#images is a numpy array (N, 96, 96, 3)
images = self.augmenter.augment_images(images=images)
&lt;/denchmark-code&gt;

Exception Stack:
&lt;denchmark-code&gt;File "C:\Users\Will.Nichols\AppData\Local\Continuum\miniconda3\lib\site-packages\imgaug\augmenters\meta.py", line 825, in augment_images
    hooks=hooks
  File "C:\Users\Will.Nichols\AppData\Local\Continuum\miniconda3\lib\site-packages\imgaug\augmenters\meta.py", line 645, in augment_batch_
    hooks=hooks)
  File "C:\Users\Will.Nichols\AppData\Local\Continuum\miniconda3\lib\site-packages\imgaug\augmenters\meta.py", line 3406, in _augment_batch_
    hooks=hooks
  File "C:\Users\Will.Nichols\AppData\Local\Continuum\miniconda3\lib\site-packages\imgaug\augmenters\meta.py", line 645, in augment_batch_
    hooks=hooks)
  File "C:\Users\Will.Nichols\AppData\Local\Continuum\miniconda3\lib\site-packages\imgaug\augmenters\color.py", line 3093, in _augment_batch_
    batch.images, kelvins, from_colorspaces=self.from_colorspace)
  File "C:\Users\Will.Nichols\AppData\Local\Continuum\miniconda3\lib\site-packages\imgaug\augmenters\color.py", line 926, in change_color_temperatures_
    rgb_multipliers = table.transform_kelvins_to_rgb_multipliers(kelvins)
  File "C:\Users\Will.Nichols\AppData\Local\Continuum\miniconda3\lib\site-packages\imgaug\augmenters\color.py", line 451, in transform_kelvins_to_rgb_multipliers
    * (multipliers_ceiled - multipliers_floored)
ValueError: operands could not be broadcast together with shapes (4,) (4,3)
&lt;/denchmark-code&gt;

	</description>
	<comments>
		<comment id='1' author='WillNichols726' date='2020-03-26T17:13:45Z'>
		Was able to patch my code by making the following code change. Was unable to create pull request.
current:
imgaug/augmenters/color.py: Line 450
            + interpolation_factors
patched:
imgaug/augmenters/color.py: Line 450
            + interpolation_factors[:,None]
		</comment>
		<comment id='2' author='WillNichols726' date='2020-04-13T15:09:11Z'>
		Thanks for reporting this issue. The tests all ran with 1 or 3 images (leading to broadcastable arrays in the mentioned line) and thus did not catch this error. It is now fixed in master.
		</comment>
		<comment id='3' author='WillNichols726' date='2020-12-14T13:47:39Z'>
		Hello, it seems that this fix hasn't been released to PyPi yet. Are there any plans for new release please?
		</comment>
	</comments>
</bug>