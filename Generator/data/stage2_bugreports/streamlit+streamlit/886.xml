<bug id='886' author='MarcSkovMadsen' open_date='2019-12-21T18:09:08Z' closed_time='2019-12-23T15:24:44Z'>
	<summary>AssertionError: Key "s3.requireLoginToView" is not defined.</summary>
	<description>
&lt;denchmark-h:h1&gt;Summary&lt;/denchmark-h&gt;

When upgrading awesome-streamlit.org from 0.51 to 0.52 i get AssertionError: Key "s3.requireLoginToView" is not defined.
&lt;denchmark-h:h1&gt;Steps to reproduce&lt;/denchmark-h&gt;

pip install streamlit==0.52 -U
streamlit run app.py
&lt;denchmark-h:h2&gt;Expected behavior:&lt;/denchmark-h&gt;

No exception. Or alternatively a better error message or just a warning that the key is skipped.
I thought the key was missing in the config.toml file. But later I found out that the problem is that the key exists in the config.toml file.
&lt;denchmark-h:h2&gt;Actual behavior:&lt;/denchmark-h&gt;

Traceback (most recent call last):
  File "C:\Users\masma\AppData\Local\Programs\Python\Python37\lib\runpy.py", line 193, in _run_module_as_main
    "__main__", mod_spec)
  File "C:\Users\masma\AppData\Local\Programs\Python\Python37\lib\runpy.py", line 85, in _run_code
    exec(code, run_globals)
  File "C:\repos\private\awesomestreamlit\.venv\Scripts\streamlit.exe\__main__.py", line 4, in &lt;module&gt;
  File "c:\repos\private\awesomestreamlit\.venv\lib\site-packages\streamlit\__init__.py", line 121, in &lt;module&gt;
    from streamlit.DeltaGenerator import DeltaGenerator as _DeltaGenerator
  File "c:\repos\private\awesomestreamlit\.venv\lib\site-packages\streamlit\DeltaGenerator.py", line 33, in &lt;module&gt;
    from streamlit import caching
  File "c:\repos\private\awesomestreamlit\.venv\lib\site-packages\streamlit\caching.py", line 38, in &lt;module&gt;
    from streamlit.hashing import CodeHasher
  File "c:\repos\private\awesomestreamlit\.venv\lib\site-packages\streamlit\hashing.py", line 36, in &lt;module&gt;
    from streamlit.folder_black_list import FolderBlackList
  File "c:\repos\private\awesomestreamlit\.venv\lib\site-packages\streamlit\folder_black_list.py", line 39, in &lt;module&gt;
    if config.get_option('global.developmentMode'):
  File "c:\repos\private\awesomestreamlit\.venv\lib\site-packages\streamlit\config.py", line 94, in get_option
    parse_config_file()
  File "c:\repos\private\awesomestreamlit\.venv\lib\site-packages\streamlit\config.py", line 856, in parse_config_file
    _update_config_with_toml(file_contents, filename)
  File "c:\repos\private\awesomestreamlit\.venv\lib\site-packages\streamlit\config.py", line 786, in _update_config_with_toml
    where_defined,
  File "c:\repos\private\awesomestreamlit\.venv\lib\site-packages\streamlit\config.py", line 763, in _set_option
    assert key in _config_options, 'Key "%s" is not defined.' % key
AssertionError: Key "s3.requireLoginToView" is not defined.
&lt;denchmark-h:h1&gt;Debug info&lt;/denchmark-h&gt;


Streamlit version: 0.52
Python version: 3.7.4
Using python -m venv .venv
OS version: Windows 8.1
Browser version: Not relevant

&lt;denchmark-h:h1&gt;Additional information&lt;/denchmark-h&gt;

my config.toml file
# Below are all the sections and options you can have in ~/.streamlit/config.toml.

[global]

# By default, Streamlit checks if the Python watchdog module is available and, if not, prints a warning asking for you to install it. The watchdog module is not required, but highly recommended. It improves Streamlit's ability to detect changes to files in your filesystem.
# If you'd like to turn off this warning, set this to True.
# Default: false
disableWatchdogWarning = false

# Configure the ability to share apps to the cloud.
# Should be set to one of these values: - "off" : turn off sharing. - "s3" : share to S3, based on the settings under the [s3] section of this config file.
# Default: "off"
sharingMode = "off"

# If True, will show a warning when you run a Streamlit-enabled script via "python my_script.py".
# Default: true
showWarningOnDirectExecution = true

# Level of logging: 'error', 'warning', 'info', or 'debug'.
# Default: 'info'
logLevel = "info"


[client]

# Whether to enable st.cache.
# Default: true
caching = true

# If false, makes your Streamlit script not draw to a Streamlit app.
# Default: true
displayEnabled = true


[runner]

# Allows you to type a variable or string by itself in a single line of Python code to write it to the app.
# Default: true
magicEnabled = true

# Install a Python tracer to allow you to stop or pause your script at any point and introspect it. As a side-effect, this slows down your script's execution.
# Default: false
installTracer = false

# Sets the MPLBACKEND environment variable to Agg inside Streamlit to prevent Python crashing.
# Default: true
fixMatplotlib = true


[server]

# List of folders that should not be watched for changes. Relative paths will be taken as relative to the current working directory.
# Example: ['/home/user1/env', 'relative/path/to/folder']
# Default: []
folderWatchBlacklist = ['.venv', 'storage']

# If false, will attempt to open a browser window on start.
# Default: false unless (1) we are on a Linux box where DISPLAY is unset, or (2) server.liveSave is set.
headless = true

# Immediately share the app in such a way that enables live monitoring, and post-run analysis.
# Default: false
liveSave = false

# Automatically rerun script when the file is modified on disk.
# Default: false
runOnSave = false

# The port where the server will listen for client and browser connections.
# Default: 8000
port = 8501

# Enables support for Cross-Origin Request Sharing, for added security.
# Default: true
enableCORS = true


[browser]

# Internet address of the server server that the browser should connect to. Can be IP address or DNS name.
# Default: 'localhost'
serverAddress = "127.0.0.1"

# Whether to send usage statistics to Streamlit.
# Default: true
gatherUsageStats = true

# Port that the browser should use to connect to the server when in liveSave mode.
# Default: whatever value is set in server.port.
serverPort = 8501


[s3]

# Name of the AWS S3 bucket to save apps.
# Default: (unset)
#bucket =

# URL root for external view of Streamlit apps.
# Default: (unset)
#url =

# Access key to write to the S3 bucket.
# Leave unset if you want to use an AWS profile.
# Default: (unset)
#accessKeyId =

# Secret access key to write to the S3 bucket.
# Leave unset if you want to use an AWS profile.
# Default: (unset)
#secretAccessKey =

# Make the shared app visible only to users who have been granted view permission. If you are interested in this option, contact us at support@streamlit.io.
# Default: false
requireLoginToView = false

# The "subdirectory" within the S3 bucket where to save apps.
# S3 calls paths "keys" which is why the keyPrefix is like a subdirectory. Use "" to mean the root directory.
# Default: ""
keyPrefix = ""

# AWS region where the bucket is located, e.g. "us-west-2".
# Default: (unset)
#region =

# AWS credentials profile to use.
# Leave unset to use your default profile.
# Default: (unset)
#profile =
	</description>
	<comments>
		<comment id='1' author='MarcSkovMadsen' date='2019-12-21T18:10:07Z'>
		Solved by removing the line requireLoginToView = false from config.toml.
		</comment>
		<comment id='2' author='MarcSkovMadsen' date='2019-12-21T18:19:50Z'>
		I can see this issue is a duplicate of &lt;denchmark-link:https://github.com/streamlit/streamlit/issues/881&gt;#881&lt;/denchmark-link&gt;
.
		</comment>
		<comment id='3' author='MarcSkovMadsen' date='2019-12-23T15:23:54Z'>
		The s3.requireLoginToView option was a vestigial config option from over a year ago, and it didn't actually work anymore, so we removed it.
The error you're seeing is because you have s3.requireLoginToView defined in your config.toml, and Streamlit is complaining that it's not a real config option (anymore).
So the solution is to remove it from your config file.
		</comment>
	</comments>
</bug>