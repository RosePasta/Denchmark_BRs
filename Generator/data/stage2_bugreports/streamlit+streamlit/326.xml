<bug id='326' author='vlbrown' open_date='2019-10-08T17:29:35Z' closed_time='2019-10-11T23:38:03Z'>
	<summary>DataFrame demo fails</summary>
	<description>
&lt;denchmark-h:h1&gt;Summary&lt;/denchmark-h&gt;

&lt;denchmark-code&gt;DataFrame Demo
This demo shows how to use st.write to visualize Pandas DataFrames.

(Data courtesy of the UN Data Exlorer.)

Streamlit failed to hash an object of type &lt;class 'code'&gt;.,

More information: to prevent unexpected behavior, Streamlit tries to detect mutations in cached objects so it can alert the user if needed. However, something went wrong while performing this check.

Please file a bug.

To stop this warning from showing in the meantime, try one of the following:

Preferred: modify your code to avoid using this type of object.
Or add the argument ignore_cache=True to the st.cache decorator.
...
Streamlit failed to hash an object of type &lt;class 'list'&gt;.,  &lt;== repeated twice
...
Streamlit failed to hash an object of type &lt;class 'code'&gt;.,
...
Streamlit failed to hash an object of type &lt;class 'function'&gt;.,
 &lt;== repeated 7 times

TypeError: object supporting the buffer API required
File "/Local/Users/vlb/anaconda3/lib/python3.7/site-packages/streamlit/ScriptRunner.py", line 306, in _run_script exec(code, module.__dict__)
File "/Local/Users/vlb/anaconda3/lib/python3.7/site-packages/streamlit/hello.py", line 334, in &lt;module&gt; run()
File "/Local/Users/vlb/anaconda3/lib/python3.7/site-packages/streamlit/hello.py", line 308, in run demo()
File "/Local/Users/vlb/anaconda3/lib/python3.7/site-packages/streamlit/hello.py", line 247, in data_frame_demo df = get_UN_data()
File "/Local/Users/vlb/anaconda3/lib/python3.7/site-packages/streamlit/caching.py", line 544, in wrapped_func return get_or_set_cache()
File "/Local/Users/vlb/anaconda3/lib/python3.7/site-packages/streamlit/caching.py", line 509, in get_or_set_cache code_hasher.update(func)
File "/Local/Users/vlb/anaconda3/lib/python3.7/site-packages/streamlit/hashing.py", line 185, in update self._update(self.hasher, obj, context)
File "/Local/Users/vlb/anaconda3/lib/python3.7/site-packages/streamlit/hashing.py", line 217, in _update hasher.update(b)
&lt;/denchmark-code&gt;

&lt;denchmark-h:h1&gt;Steps to reproduce&lt;/denchmark-h&gt;

What are the steps we should take to reproduce the bug:

install streamlit
2.Run streamlist hello
Try the DataFrame demo

&lt;denchmark-h:h1&gt;Summary&lt;/denchmark-h&gt;

Mapping Demo
This demo shows how to use st.deck_gl_chart to display geospatial data.
Streamlit cannot hash an object of type &lt;class 'os._Environ'&gt;.,
More information: to prevent unexpected behavior, Streamlit tries to detect mutations in cached objects so it can alert the user if needed. However, something went wrong while performing this check.
Please file a bug.
To stop this warning from showing in the meantime, try one of the following:
Preferred: modify your code to avoid using this type of object.
Or add the argument ignore_cache=True to the st.cache decorator.
&lt;denchmark-h:h1&gt;Steps to reproduce&lt;/denchmark-h&gt;

What are the steps we should take to reproduce the bug:

install streamlit on Mac OS X 10.11
run streamlit hello
Try the Mapping demo

&lt;denchmark-h:h2&gt;Expected behavior:&lt;/denchmark-h&gt;

No error
&lt;denchmark-h:h2&gt;Actual behavior:&lt;/denchmark-h&gt;

See above
&lt;denchmark-h:h2&gt;Is this a regression?&lt;/denchmark-h&gt;

no
&lt;denchmark-h:h1&gt;Debug info&lt;/denchmark-h&gt;


Streamlit version: Streamlit, version 0.47.4
Python version: Python 3.7.3
Using Conda? PipEnv? PyEnv? Pex? conda 4.7.12
OS version: Mac OS X 10.11.6
Browser version: Google Chrome Version 77.0.3865.90 (Official Build) (64-bit)

&lt;denchmark-h:h1&gt;Additional information&lt;/denchmark-h&gt;

&lt;denchmark-code&gt;# packages in environment at /Local/Users/vlb/anaconda3:
#
# Name                    Version                   Build  Channel
_ipyw_jlab_nb_ext_conf    0.1.0                    py37_0  
aioboto3                  6.4.1                    pypi_0    pypi
aiobotocore               0.10.3                     py_0    conda-forge
aiohttp                   3.6.1            py37h01d97ff_0    conda-forge
altair                    3.2.0                    pypi_0    pypi
anaconda-client           1.7.2                      py_0    conda-forge
anaconda-navigator        1.9.7                    py37_0  
appnope                   0.1.0                 py37_1000    conda-forge
argh                      0.26.2                   pypi_0    pypi
arviz                     0.5.1                    pypi_0    pypi
asn1crypto                0.24.0                py37_1003    conda-forge
astor                     0.8.0                    pypi_0    pypi
astunparse                1.6.2                    pypi_0    pypi
async-timeout             3.0.1                   py_1000    conda-forge
async_generator           1.10                       py_0    conda-forge
attrs                     19.1.0                     py_0    conda-forge
backcall                  0.1.0                      py_0    conda-forge
backports                 1.0                        py_2    conda-forge
backports.functools_lru_cache 1.5                        py_1    conda-forge
backports.tempfile        1.0                        py_0    conda-forge
backports.weakref         1.0.post1             py37_1000    conda-forge
base58                    1.0.3                    pypi_0    pypi
beautifulsoup4            4.8.0                    py37_0    conda-forge
bleach                    3.1.0                      py_0    conda-forge
blinker                   1.4                      pypi_0    pypi
bookstore                 2.4.1                      py_0    conda-forge
boto3                     1.9.189                  pypi_0    pypi
botocore                  1.12.189                 pypi_0    pypi
ca-certificates           2019.9.11            hecc5488_0    conda-forge
cctools                   921                  h5ba7a2e_3    conda-forge
certifi                   2019.9.11                py37_0    conda-forge
cffi                      1.12.3           py37hccf1714_0    conda-forge
cftime                    1.0.3.4                  pypi_0    pypi
chardet                   3.0.4                 py37_1003    conda-forge
clang                     9.0.0                h28b9765_0    conda-forge
clang_osx-64              9.0.0                h22b1bf0_0    conda-forge
clangxx                   9.0.0                         0    conda-forge
clangxx_osx-64            9.0.0                h22b1bf0_0    conda-forge
click                     7.0                        py_0    conda-forge
clyent                    1.2.2                      py_1    conda-forge
colour                    0.1.5                    pypi_0    pypi
compiler-rt               9.0.0                hce3ea14_0    conda-forge
conda                     4.7.12                   py37_0    conda-forge
conda-build               3.18.8                   py37_0  
conda-env                 2.6.0                         1  
conda-package-handling    1.6.0            py37h01d97ff_0    conda-forge
conda-verify              3.4.2                      py_1  
cryptography              2.7              py37h212c5bf_0    conda-forge
cycler                    0.10.0                     py_1    conda-forge
dbus                      1.13.6               h2f22bb5_0    conda-forge
decorator                 4.4.0                      py_0    conda-forge
defusedxml                0.5.0                      py_1    conda-forge
docutils                  0.15.2                   py37_0    conda-forge
entrypoints               0.3                   py37_1000    conda-forge
enum-compat               0.0.2                    pypi_0    pypi
expat                     2.2.5             h6de7cb9_1003    conda-forge
filelock                  3.0.10                     py_0    conda-forge
freetype                  2.10.0               h24853df_1    conda-forge
future                    0.17.1                py37_1000    conda-forge
geojson                   2.5.0                    pypi_0    pypi
gettext                   0.19.8.1          h46ab8bc_1002    conda-forge
glib                      2.58.3            h9d45998_1002    conda-forge
glob2                     0.7                        py_0    conda-forge
h5py                      2.10.0          nompi_py37h6248fd5_100    conda-forge
hdf5                      1.10.5          nompi_h15a436c_1103    conda-forge
icu                       58.2              h0a44026_1000    conda-forge
idna                      2.8                   py37_1000    conda-forge
ipykernel                 5.1.2            py37h5ca1d4c_0    conda-forge
ipython                   7.8.0            py37h5ca1d4c_0    conda-forge
ipython-sql               0.3.9                    pypi_0    pypi
ipython_genutils          0.2.0                      py_1    conda-forge
ipywidgets                7.5.1                      py_0    conda-forge
jedi                      0.15.1                   py37_0    conda-forge
jinja2                    2.10.1                     py_0    conda-forge
jmespath                  0.9.4                      py_0    conda-forge
jpeg                      9c                h1de35cc_1001    conda-forge
json5                     0.8.5                      py_0    conda-forge
jsonschema                3.0.2                    py37_0    conda-forge
jupyter-contrib-core      0.3.3                    pypi_0    pypi
jupyter-contrib-nbextensions 0.5.1                    pypi_0    pypi
jupyter-highlight-selected-word 0.2.0                    pypi_0    pypi
jupyter-latex-envs        1.4.6                    pypi_0    pypi
jupyter-nbextensions-configurator 0.4.1                    pypi_0    pypi
jupyter-sql               0.1.0                    pypi_0    pypi
jupyter_client            5.3.3                    py37_1    conda-forge
jupyter_contrib_core      0.3.3                      py_2    conda-forge
jupyter_contrib_nbextensions 0.5.1                    py37_0    conda-forge
jupyter_core              4.4.0                      py_0    conda-forge
jupyter_highlight_selected_word 0.2.0                 py37_1000    conda-forge
jupyter_latex_envs        1.4.4                 py37_1000    conda-forge
jupyter_nbextensions_configurator 0.4.1                    py37_0    conda-forge
jupyterlab                1.1.4                      py_0    conda-forge
jupyterlab_server         1.0.6                      py_0    conda-forge
kiwisolver                1.1.0            py37h770b8ee_0    conda-forge
ld64                      409.12               h3c32e8a_3    conda-forge
libblas                   3.8.0               12_openblas    conda-forge
libcblas                  3.8.0               12_openblas    conda-forge
libcxx                    9.0.0                         0    conda-forge
libcxxabi                 9.0.0                         0    conda-forge
libffi                    3.2.1             h6de7cb9_1006    conda-forge
libgfortran               4.0.0                         2    conda-forge
libgpuarray               0.7.6             h1de35cc_1003    conda-forge
libiconv                  1.15              h01d97ff_1005    conda-forge
liblapack                 3.8.0               12_openblas    conda-forge
liblief                   0.9.0                h2a1bed3_1    conda-forge
libllvm9                  9.0.0                h770b8ee_2    conda-forge
libopenblas               0.3.7                h4bb4525_1    conda-forge
libpng                    1.6.37               h2573ce8_0    conda-forge
libsodium                 1.0.17               h01d97ff_0    conda-forge
libtiff                   4.0.10            hd08fb8f_1003    conda-forge
libxml2                   2.9.9                hd80cff7_2    conda-forge
libxslt                   1.1.32            h1e79283_1003    conda-forge
llvm-openmp               9.0.0                h40edb58_0    conda-forge
lxml                      4.4.1            py37h08abf6f_0    conda-forge
lz4-c                     1.8.3             h6de7cb9_1001    conda-forge
magic-markdown            1.0.0                    pypi_0    pypi
mako                      1.1.0                      py_0    conda-forge
markdown                  3.1.1                    pypi_0    pypi
markupsafe                1.1.1            py37h1de35cc_0    conda-forge
matplotlib                3.1.1                    py37_1    conda-forge
matplotlib-base           3.1.1            py37h3a684a6_1    conda-forge
mistune                   0.8.4           py37h1de35cc_1000    conda-forge
mpld3                     0.3                      pypi_0    pypi
multidict                 4.5.2           py37h1de35cc_1000    conda-forge
navigator-updater         0.2.1                    py37_0  
nbconvert                 5.6.0                    py37_1    conda-forge
nbformat                  4.4.0                      py_1    conda-forge
ncurses                   6.1               h0a44026_1002    conda-forge
netcdf4                   1.5.2                    pypi_0    pypi
notebook                  6.0.1                    py37_0    conda-forge
numpy                     1.17.2           py37h6b0580a_0    conda-forge
olefile                   0.46                       py_0    conda-forge
openssl                   1.1.1c               h01d97ff_0    conda-forge
pandas                    0.25.1           py37h86efe34_0    conda-forge
pandoc                    2.7.3                         0    conda-forge
pandocfilters             1.4.2                      py_1    conda-forge
parso                     0.5.1                      py_0    conda-forge
pathtools                 0.1.2                    pypi_0    pypi
patsy                     0.5.1                      py_0    conda-forge
pcre                      8.41              h0a44026_1003    conda-forge
pexpect                   4.7.0                    py37_0    conda-forge
pickleshare               0.7.5                 py37_1000    conda-forge
pillow                    6.1.0            py37h75ffe9a_1    conda-forge
pip                       19.2.3                   pypi_0    pypi
pixiedust                 1.1.17                   pypi_0    pypi
pkginfo                   1.5.0.1                    py_0    conda-forge
prettytable               0.7.2                    pypi_0    pypi
prometheus_client         0.7.1                      py_0    conda-forge
prompt_toolkit            2.0.9                      py_0    conda-forge
protobuf                  3.10.0                   pypi_0    pypi
psutil                    5.6.3            py37h01d97ff_0    conda-forge
ptyprocess                0.6.0                   py_1001    conda-forge
py-d3                     0.3.0                    pypi_0    pypi
py-lief                   0.9.0            py37h6d6d4d2_1    conda-forge
pycosat                   0.6.3           py37h1de35cc_1001    conda-forge
pycparser                 2.19                     py37_1    conda-forge
pygments                  2.4.2                      py_0    conda-forge
pygpu                     0.7.6           py37h917ab60_1000    conda-forge
pymc3                     3.7                        py_0    conda-forge
pymysql                   0.9.3                    pypi_0    pypi
pyopenssl                 19.0.0                   py37_0    conda-forge
pyparsing                 2.4.2                      py_0    conda-forge
pyqt                      5.9.2            py37h2a560b1_4    conda-forge
pyrsistent                0.15.4           py37h01d97ff_0    conda-forge
pysocks                   1.7.1                    py37_0    conda-forge
pystache                  0.5.4                    pypi_0    pypi
python                    3.7.3                h359304d_0  
python-dateutil           2.8.0                      py_0    conda-forge
python.app                2                        py37_9  
pytz                      2019.2                     py_0    conda-forge
pyyaml                    5.1.2            py37h01d97ff_0    conda-forge
pyzmq                     18.1.0           py37hee98d25_0    conda-forge
qt                        5.9.7                h93ee506_2    conda-forge
qtpy                      1.9.0                      py_0    conda-forge
readline                  7.0               hcfe32e1_1001    conda-forge
requests                  2.22.0                   py37_1    conda-forge
ruamel_yaml               0.15.71         py37h1de35cc_1000    conda-forge
s3transfer                0.2.1                    pypi_0    pypi
scipy                     1.3.1            py37h7e0e109_2    conda-forge
send2trash                1.5.0                      py_0    conda-forge
setuptools                41.2.0                   py37_0    conda-forge
sip                       4.19.8          py37h0a44026_1000    conda-forge
six                       1.12.0                py37_1000    conda-forge
soupsieve                 1.9.4                    py37_0    conda-forge
sqlite                    3.28.0               h9721f7c_0    conda-forge
sqlparse                  0.3.0                    pypi_0    pypi
streamlit                 0.47.4                   pypi_0    pypi
tapi                      1000.10.8            h770b8ee_2    conda-forge
terminado                 0.8.2                    py37_0    conda-forge
testpath                  0.4.2                   py_1001    conda-forge
theano                    1.0.4           py37h0a44026_1000    conda-forge
tk                        8.6.9             h2573ce8_1003    conda-forge
toml                      0.10.0                   pypi_0    pypi
toolz                     0.10.0                   pypi_0    pypi
tornado                   5.1.1                    pypi_0    pypi
tqdm                      4.36.1                     py_0    conda-forge
traitlets                 4.3.2                 py37_1000    conda-forge
tzlocal                   2.0.0                    pypi_0    pypi
urllib3                   1.24.3                   py37_0    conda-forge
validators                0.14.0                   pypi_0    pypi
wakatime                  13.0.0                   pypi_0    pypi
watchdog                  0.9.0                    pypi_0    pypi
wcwidth                   0.1.7                      py_1    conda-forge
webencodings              0.5.1                      py_1    conda-forge
wheel                     0.33.6                   py37_0    conda-forge
widgetsnbextension        3.5.1                    py37_0    conda-forge
wrapt                     1.11.2           py37h01d97ff_0    conda-forge
xarray                    0.13.0                   pypi_0    pypi
xz                        5.2.4             h1de35cc_1001    conda-forge
yaml                      0.1.7             h1de35cc_1001    conda-forge
yarl                      1.3.0           py37h1de35cc_1000    conda-forge
zeromq                    4.3.2                h6de7cb9_2    conda-forge
zlib                      1.2.11            h01d97ff_1006    conda-forge
zstd                      1.4.0                ha9f0a20_0    conda-forge
&lt;/denchmark-code&gt;

	</description>
	<comments>
		<comment id='1' author='vlbrown' date='2019-10-08T20:45:51Z'>
		This appears to be another duplicate of issue &lt;denchmark-link:https://github.com/streamlit/streamlit/issues/242&gt;#242&lt;/denchmark-link&gt;
.
		</comment>
		<comment id='2' author='vlbrown' date='2019-10-11T23:38:03Z'>
		Yup! The fix is coming soon: &lt;denchmark-link:https://github.com/streamlit/streamlit/pull/254&gt;#254&lt;/denchmark-link&gt;

(Closing this as a duplicate. Please reopen if you think this is not right)
		</comment>
	</comments>
</bug>