<bug id='1131' author='drorata' open_date='2020-02-21T20:45:18Z' closed_time='2020-03-03T18:48:06Z'>
	<summary>Hot load doesn't work in a package setting</summary>
	<description>
&lt;denchmark-h:h1&gt;Summary&lt;/denchmark-h&gt;

When changing an imported module/function's code, streamlit won't reload properly.
&lt;denchmark-h:h1&gt;Steps to reproduce&lt;/denchmark-h&gt;

&lt;denchmark-h:h2&gt;Setting&lt;/denchmark-h&gt;

&lt;denchmark-h:h3&gt;Code&lt;/denchmark-h&gt;

Assume the following tree structure:
&lt;denchmark-code&gt;.
├── mymod
│   ├── __init__.py
│   ├── dashboard
│   │   ├── __init__.py
│   │   └── app.py
│   └── foo.py
└── setup.py
&lt;/denchmark-code&gt;

with the following code:
# setup.py
from setuptools import setup

setup(name="mymod", version="0.1", packages=["mymod"], zip_safe=False)
# foo.py
def combine_numbers(a, b):
    return a+b
# app.py
import streamlit as st
from mymod.foo import combine_numbers

print(combine_numbers(2, 3))
st.write(combine_numbers(2, 3))
&lt;denchmark-h:h3&gt;Environment&lt;/denchmark-h&gt;

Create a conda environment with Python 3.7 and install streamlit using pip. In addition install the package using pip install -e ..
&lt;denchmark-h:h3&gt;What next?&lt;/denchmark-h&gt;


Run the application streamlit run mymod/dashboard/app.py.
As expected, 5 is rendered.
Edit the file foo.py and replace + with *
go back to the app.
6 is not rendered. Rerunning the app doesn't help. Only killing the app and restarting it picks up the change in foo.py.

&lt;denchmark-h:h2&gt;Expected behavior:&lt;/denchmark-h&gt;

I would hope that streamlit will pick up changes in depending files
&lt;denchmark-h:h2&gt;Actual behavior:&lt;/denchmark-h&gt;

In order for the app to reflect changes in the imported code, the app has to be restarted.
&lt;denchmark-h:h2&gt;Is this a regression?&lt;/denchmark-h&gt;

no
&lt;denchmark-h:h1&gt;Debug info&lt;/denchmark-h&gt;


Streamlit version: 0.56.0
Python version: 3.7.6
Using conda
OS version: macOS 10.14.6
Browser version: Chrome  80.0.3987.106

&lt;denchmark-h:h1&gt;Additional information&lt;/denchmark-h&gt;

Related to &lt;denchmark-link:https://github.com/streamlit/streamlit/issues/358&gt;#358&lt;/denchmark-link&gt;
 as per &lt;denchmark-link:https://github.com/tconkling&gt;@tconkling&lt;/denchmark-link&gt;
 request.
	</description>
	<comments>
		<comment id='1' author='drorata' date='2020-02-21T21:47:06Z'>
		Thanks, &lt;denchmark-link:https://github.com/drorata&gt;@drorata&lt;/denchmark-link&gt;
 - we'll take a look at this soon
		</comment>
		<comment id='2' author='drorata' date='2020-02-26T07:23:19Z'>
		Was someone able to reproduce this issue?
		</comment>
		<comment id='3' author='drorata' date='2020-02-27T13:55:02Z'>
		I would be happy to provide more information about this problem. At the moment, I can only say this is really slowing down the work with streamlit :(
		</comment>
		<comment id='4' author='drorata' date='2020-02-28T18:58:57Z'>
		Hi &lt;denchmark-link:https://github.com/drorata&gt;@drorata&lt;/denchmark-link&gt;
,
by default, we only watch modules contained in the current directory of the main app module. This means that in your case,  is not tracked.
You can change the default behavior by adding the parent directory of the module you want to track to the . Let me know if this helps. We implemented this &lt;denchmark-link:https://github.com/streamlit/streamlit/pull/845&gt;here&lt;/denchmark-link&gt;
.
matteo
		</comment>
		<comment id='5' author='drorata' date='2020-03-02T12:39:58Z'>
		&lt;denchmark-link:https://github.com/monchier&gt;@monchier&lt;/denchmark-link&gt;
 This seems to work as expected! Cool. Is it documented somewhere I missed?
		</comment>
		<comment id='6' author='drorata' date='2020-03-03T18:44:20Z'>
		Thanks &lt;denchmark-link:https://github.com/drorata&gt;@drorata&lt;/denchmark-link&gt;
. I think we don't do a good job at documenting this. I'll open a documentation bug.
		</comment>
		<comment id='7' author='drorata' date='2020-03-03T18:48:06Z'>
		Here is the documentation bug: &lt;denchmark-link:https://github.com/streamlit/streamlit/issues/1176&gt;#1176&lt;/denchmark-link&gt;

		</comment>
	</comments>
</bug>