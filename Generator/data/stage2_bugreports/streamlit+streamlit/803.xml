<bug id='803' author='isConic' open_date='2019-12-05T01:44:33Z' closed_time='2019-12-12T00:02:50Z'>
	<summary>deck_gl_chart does not react to viewport state change.</summary>
	<description>
&lt;denchmark-h:h1&gt;Summary&lt;/denchmark-h&gt;

When viewport state is changed  and streamlit rerenders the page with new state, deck_gl_chart map does not rerender with new viewport values.
&lt;denchmark-h:h1&gt;Steps to reproduce&lt;/denchmark-h&gt;

check_box_checked = st.checkbox('foobar')

view_port_1 = {'latitude': 42.3600825, 'longitude': -71.0588801, 'zoom': 11, 'pitch': 50} 
view_port_2 = {'latitude': 45.4548269, 'longitude': -73.5698729, 'zoom': 14, 'pitch': 50}

view_port = None

if check_box_checked == True: 
   view_port = view_port_1
else:
   view_port = view_port_2

st.deck_gl_chart( viewport = viewport )
&lt;denchmark-h:h2&gt;Expected behavior:&lt;/denchmark-h&gt;

DeckGL accepts a parameter called viewport to determine what area and zoom level the map pans to.
If the viewport parameters change in streamlit, I expect that the map changes what area it looks at.
&lt;denchmark-h:h2&gt;Actual behavior:&lt;/denchmark-h&gt;

When I change the viewport values, the map doesn't re-render or pan to a different area.
Here is an example of a small tool I'm putting together.  The intention is for a user to input the name of a region and have a map pan to that area, or at least rerender with it centered.
First pass: I write an address, press enter, and it finds approriate viewport parameters and renders a deckgl map around Verdun, Montreal in Canada.
&lt;denchmark-link:https://user-images.githubusercontent.com/48657113/70195171-f0602f00-16d2-11ea-88a1-a6df8587e16d.png&gt;&lt;/denchmark-link&gt;

Second Pass: I write an address, press enter, and expect it to recenter around Boston MA. This time, even though new viewport parameters are generated. The mao does not rerender. It stays centered on Verdun, Montreal, Canada
&lt;denchmark-link:https://user-images.githubusercontent.com/48657113/70195341-65cbff80-16d3-11ea-8c74-5a9a9c062675.png&gt;&lt;/denchmark-link&gt;

&lt;denchmark-h:h1&gt;Debug info&lt;/denchmark-h&gt;



Streamlit, version 0.51.0


Python 3.7.5


VirtualEnv


OSX 10.15.1


Chrome 78.0.3904.108 (Official Build) (64-bit)


	</description>
	<comments>
		<comment id='1' author='isConic' date='2019-12-12T00:02:49Z'>
		Hey &lt;denchmark-link:https://github.com/isConic&gt;@isConic&lt;/denchmark-link&gt;
 - thanks for the detailed bug report! This looks like a duplicate of &lt;denchmark-link:https://github.com/streamlit/streamlit/issues/475&gt;#475&lt;/denchmark-link&gt;
; the issue, as you've noted, is that the viewport is fixed at chart creation time, and the frontend never applies updated viewport values.
I'm going to close this issue as a duplicate, but it'll remain linked to that original issue for future reference.
		</comment>
	</comments>
</bug>