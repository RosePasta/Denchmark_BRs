<bug id='1686' author='PerplexedFox' open_date='2020-07-08T14:26:00Z' closed_time='2020-10-08T18:59:28Z'>
	<summary>File Uploader never resets (not None for every session)</summary>
	<description>
&lt;denchmark-h:h1&gt;Summary&lt;/denchmark-h&gt;

Once uploaded a file, no matter whether the server was restarted or the app just rerun or the caches cleared - the file_uploder still saves the last uploaded file!
&lt;denchmark-h:h1&gt;Steps to reproduce&lt;/denchmark-h&gt;

&lt;denchmark-code&gt;up = st.empty()
 message = st.empty()
 up.file_uploader('Please, choose .csv file',  type="csv") 
 upload = st.button("Upload!")
 if not up :
   message.info("Please upload a file of type: .csv" )
   return
 else:
   message.info("File received" )
&lt;/denchmark-code&gt;

&lt;denchmark-h:h2&gt;Expected behavior:&lt;/denchmark-h&gt;

Obviously, when the app is opened, before the user has uploaded the file the message "Please upload a file of type: .csv" should be shown since no file was uploaded.
&lt;denchmark-h:h2&gt;Actual behavior:&lt;/denchmark-h&gt;

Yet, each time" File received" is shown (you can also display the contents). This is very undesired behavior since the files are private and must be shown only to the owner. Clear caches, restart server, disabling pychache etc. did not help.  Disabling pychache  only helps for the first run after server restart. In fact, short of creating (renaming) the uploader and starting again, I see no way to clear this uploader. Since my server has to run all the time without restarting, it would be very nice, if you fix this issue!
&lt;denchmark-link:https://user-images.githubusercontent.com/60888823/86930143-f4f03880-c136-11ea-8511-cf3e1dfaf5e6.png&gt;&lt;/denchmark-link&gt;

&lt;denchmark-h:h2&gt;Is this a regression?&lt;/denchmark-h&gt;

That is, did this use to work the way you expected in the past?
yes
&lt;denchmark-h:h1&gt;Debug info&lt;/denchmark-h&gt;


Streamlit version:  0.62.1
Python version: 3.8.3
Using Conda? PipEnv? PyEnv? Pex? - no
OS version: Catalina 10.15.5
Browser version: Safari 13.1.1

&lt;denchmark-h:h1&gt;Additional&lt;/denchmark-h&gt;

Is there is any way to manually set the uploader to None?
	</description>
	<comments>
		<comment id='1' author='PerplexedFox' date='2020-07-09T16:56:40Z'>
		I have the same question, I never success clearing the file_uploader widget. I have to reload the page to clear it.
		</comment>
		<comment id='2' author='PerplexedFox' date='2020-07-10T08:20:47Z'>
		page reload does not clear it - you won't see the file, but it is still there :
easy to prove:
&lt;denchmark-code&gt;up = file_uploader('Please, choose .csv file',  type="csv") 
if up:
   data = pd.read_csv(up, sep = ';', engine= 'python')
   st.write(data)
&lt;/denchmark-code&gt;

even after reloading the page you will see the table filled with data from the previously uploaded file
the only workaround I found is to define the different keys. So each time the page refreshes (or wherever you need to clear) a new key will be given. This is, however, not nice, since as soon as the key repeats itself, the file uploaded with it will be shown again, so I assume the data stored is building up somewhere in cookies...
		</comment>
		<comment id='3' author='PerplexedFox' date='2020-07-27T17:05:07Z'>
		Thanks for reporting the issue! We are currently undergoing a file uploader redesign and this is an item that is being addressed. When we release the redesigned file uploader, users will get to have better control and insight into the files that are being uploaded. Stay tuned!
		</comment>
		<comment id='4' author='PerplexedFox' date='2020-08-07T10:25:31Z'>
		I came up with this problem too, waiting to see the new version. :)
		</comment>
		<comment id='5' author='PerplexedFox' date='2020-12-01T18:22:07Z'>
		I have the same issue. Do we have the fix for this? &lt;denchmark-link:https://github.com/PerplexedFox&gt;@PerplexedFox&lt;/denchmark-link&gt;
 Thanks for mentioning the workaround for the same.
		</comment>
		<comment id='6' author='PerplexedFox' date='2020-12-03T18:29:32Z'>
		&lt;denchmark-link:https://github.com/chakra-ai&gt;@chakra-ai&lt;/denchmark-link&gt;
 can you provide some more details or sample code about your issue and confirm what version of Streamlit you are using? I'm unable to reproduce this using the information provided in the original issue on the latest Streamlit.
		</comment>
		<comment id='7' author='PerplexedFox' date='2020-12-22T12:55:32Z'>
		Even I am facing the same issue whenever I change the selection file loads as None.
I am on Streamlit, version 0.68.0
		</comment>
		<comment id='8' author='PerplexedFox' date='2020-12-22T16:49:19Z'>
		Hi &lt;denchmark-link:https://github.com/METAVar&gt;@METAVar&lt;/denchmark-link&gt;
, this issue should be fixed in subsequent versions. Could you try upgrading to latest (0.73.1) and see if this solves your issue?
		</comment>
	</comments>
</bug>