<bug id='1356' author='jaseuts' open_date='2020-04-17T12:55:27Z' closed_time='2020-04-19T11:56:47Z'>
	<summary>SchemaValidationError:</summary>
	<description>
&lt;denchmark-h:h1&gt;Summary&lt;/denchmark-h&gt;

I tried to create an altair_chart with the following code in anaconda prompt streamlit run demo.py
&lt;denchmark-h:h1&gt;Steps to reproduce&lt;/denchmark-h&gt;

This is the code in the demo.py
&lt;denchmark-code&gt;import streamlit as st
import pandas as pd
import numpy as np
import altair as alt
from vega_datasets import data as vdata

# Load data
DATE_COLUMN = 'last_review'
DATA_URL = ('listings_hk_17Mar2020.csv')

@st.cache
def load_data():
    data = pd.read_csv(DATA_URL)
    lowercase = lambda x: str(x).lower()
    data.rename(lowercase, axis='columns', inplace=True)
    data[DATE_COLUMN] = pd.to_datetime(data[DATE_COLUMN])
    return data

# Create a text element and let the reader know the data is loading.
data_load_state = st.text('Loading data...')

# Load 10,000 rows of data into the dataframe.
data = load_data()

# Notify the reader that the data was successfully loaded.
data_load_state.text('Loading data...done!')

# Count number of listings per host name
hostNames = data.groupby('host_name').count().reset_index()[['host_name', 'id']]

# Rename the columns
hostNames = hostNames.rename(columns={"host_name": "Name", "id": "Count"})

# Only include host names that have 50 or more listings
hostNames = hostNames[hostNames['Count'].astype(float) &gt;= 30]

st.subheader('Column chart')

barChart = alt.Chart(hostNames).mark_bar().encode(
    x=alt.X('Name', type='nominal', sort='-y'),
    y=alt.Y('Count', type='quantitative')
)

st.altair_chart(barChart)
&lt;/denchmark-code&gt;

&lt;denchmark-h:h2&gt;Expected behavior:&lt;/denchmark-h&gt;

A chart should be displayed in a web browser
&lt;denchmark-h:h2&gt;Actual behavior:&lt;/denchmark-h&gt;

The web browser displayed this error message
&lt;denchmark-link:https://user-images.githubusercontent.com/11934573/79570868-8edab300-80fd-11ea-9320-34a3fe659458.png&gt;&lt;/denchmark-link&gt;

And the anaconda prompt generated this message:
&lt;denchmark-code&gt;Streamlit was unable to parse the data from an exception in the user's script.
This is usually due to a bug in the Exception object itself. Here is some info
about that Exception object, so you can report a bug to the original author:

Exception type:
  SchemaValidationError

Problem:
  sequence item 1: expected str instance, int found

Traceback:
File "d:\users\jng\anaconda3\lib\site-packages\streamlit\elements\exception_pr
oto.py", line 66, in marshall
    exception_proto.message = str(exception).strip()
File "d:\users\jng\anaconda3\lib\site-packages\altair\utils\schemapi.py", line
 93, in __unicode__
    schema_path = '-&gt;'.join(val for val in schema_path[:-1]
&lt;/denchmark-code&gt;

&lt;denchmark-h:h1&gt;Debug info&lt;/denchmark-h&gt;


Streamlit version: 0.5.73
Python version: 3.7.6
Using Conda
OS version: Windows 7 64-bit
Browser version: Version 80.0.3987.163 (Official Build) (64-bit)
altair version: 4.1.0

&lt;denchmark-link:https://github.com/streamlit/streamlit/files/4493021/listings_hk_17Mar2020.zip&gt;listings_hk_17Mar2020.zip&lt;/denchmark-link&gt;

	</description>
	<comments>
	</comments>
</bug>