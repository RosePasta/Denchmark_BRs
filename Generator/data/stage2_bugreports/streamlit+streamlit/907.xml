<bug id='907' author='treuille' open_date='2020-01-01T18:39:00Z' closed_time='2020-04-01T16:28:35Z'>
	<summary>Exceptions thrown inside of a `hash_func` should display properly.</summary>
	<description>
&lt;denchmark-h:h1&gt;Summary&lt;/denchmark-h&gt;

Exceptions thrown inside of a &lt;denchmark-link:https://streamlit.io/docs/api.html?highlight=cache#streamlit.cache&gt;hash_func&lt;/denchmark-link&gt;
 should display properly to the screen.
What happens instead is that Streamlit outputs a bunch of unintelligible nonsense. :(
This is important because throwing an exception is a very quick way to debug something, particularly your function is a callback in someone else's API (as would be the case for a user using hash_funcs).
&lt;denchmark-h:h2&gt;Steps to reproduce&lt;/denchmark-h&gt;

Run this:
import streamlit as st

class TestClass:
    pass

def cache_test_class(x):
    raise RuntimeError

@st.cache(hash_funcs={TestClass: cache_test_class})
def foo(x):
    return x

st.show(foo(TestClass()))
&lt;denchmark-h:h1&gt;Behavior&lt;/denchmark-h&gt;

&lt;denchmark-h:h2&gt;Actual behavior&lt;/denchmark-h&gt;

Streamlit outputs a bunch of unintelligible nonsense. :(
&lt;denchmark-link:https://user-images.githubusercontent.com/1673013/71644756-c2ebae80-2c9b-11ea-840b-949110ed0fc4.png&gt;&lt;/denchmark-link&gt;

&lt;denchmark-h:h2&gt;Expected behavior&lt;/denchmark-h&gt;

I would like to see a nice, clean, Pythonic stack trace ending with cache_test_class.
&lt;denchmark-h:h1&gt;Debug info&lt;/denchmark-h&gt;

&lt;denchmark-code&gt;$ streamlit version &amp;&amp; python --version &amp;&amp; pyenv --version &amp;&amp; sw_vers &amp;&amp; "/Applications/Google Chrome.app/Contents/MacOS/Google Chrome" --version

Streamlit, version 0.52.2
Python 3.6.3
pyenv 1.2.15
ProductName:    Mac OS X
ProductVersion: 10.15.1
BuildVersion:   19B88
Google Chrome 79.0.3945.88 
&lt;/denchmark-code&gt;

	</description>
	<comments>
		<comment id='1' author='treuille' date='2020-04-01T16:28:35Z'>
		&lt;denchmark-link:https://user-images.githubusercontent.com/699897/78162170-d9311400-741c-11ea-8c10-8466dffdfadc.png&gt;&lt;/denchmark-link&gt;

		</comment>
	</comments>
</bug>