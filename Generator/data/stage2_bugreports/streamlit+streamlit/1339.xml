<bug id='1339' author='lsimmons2' open_date='2020-04-12T23:01:00Z' closed_time='2020-10-29T10:01:46Z'>
	<summary>InternalHashError: Type aliases cannot be used with isinstance() - when using st.cache</summary>
	<description>
&lt;denchmark-h:h1&gt;Summary&lt;/denchmark-h&gt;

Getting st.cache error when running streamlit in docker container FROM nvcr.io/nvidia/tensorflow:19.01-py3
&lt;denchmark-h:h1&gt;Steps to reproduce&lt;/denchmark-h&gt;


Copy dockerfile and script into a directory:

Dockerfile
&lt;denchmark-code&gt;
RUN mkdir /work
WORKDIR /work

RUN pip install streamlit
&lt;/denchmark-code&gt;

script.py
&lt;denchmark-code&gt;
@st.cache
def get_model():
	model = {}
	return model

model = get_model()
st.write("loaded")
&lt;/denchmark-code&gt;



Run docker build -t streamlit-example . &amp;&amp; docker run -v /this/dir:/work -it streamlit-example bash


In container run streamlit run script.py


&lt;denchmark-h:h2&gt;Actual behavior:&lt;/denchmark-h&gt;

Get the following error:
&lt;denchmark-link:https://user-images.githubusercontent.com/17400725/79081822-a1a45080-7cd5-11ea-9722-8a7e60166194.png&gt;&lt;/denchmark-link&gt;

&lt;denchmark-h:h2&gt;Is this a regression?&lt;/denchmark-h&gt;

Haven't tried running streamlit in a container of the image before
&lt;denchmark-h:h1&gt;Debug info&lt;/denchmark-h&gt;

&lt;denchmark-code&gt;root@b2e152534f0e:/work# streamlit version
Streamlit, version 0.57.3
root@b2e152534f0e:/work# python --version
Python 3.5.2
root@b2e152534f0e:/work# uname -a
Linux b2e152534f0e 5.3.0-46-generic #38~18.04.1-Ubuntu SMP Tue Mar 31 04:17:56 UTC 2020 x86_64 x86_64 x86_64 GNU/Linux
&lt;/denchmark-code&gt;

Seeing this in Firefox and Chrome.
	</description>
	<comments>
		<comment id='1' author='lsimmons2' date='2020-04-12T23:43:14Z'>
		Might a &lt;denchmark-link:https://stackoverflow.com/a/50496822/717608&gt;bug&lt;/denchmark-link&gt;
 in Python 3.5.2
Can you try with a newer python version &lt;denchmark-link:https://github.com/lsimmons2&gt;@lsimmons2&lt;/denchmark-link&gt;
 ?
We support &gt;=3.6
		</comment>
		<comment id='2' author='lsimmons2' date='2020-10-29T10:01:45Z'>
		Closing due to age and need for more information (i.e. trying with Streamlit-supported version of Python).
Please file a new bug if a similar error occurs.  Thanks!
		</comment>
	</comments>
</bug>