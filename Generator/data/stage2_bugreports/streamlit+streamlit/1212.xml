<bug id='1212' author='m3xw3ll' open_date='2020-03-11T07:11:26Z' closed_time='2020-05-11T07:39:16Z'>
	<summary>running as systmd service - EXCEPTION! 'NoneType' object has no attribute 'strip'</summary>
	<description>
&lt;denchmark-h:h1&gt;Summary&lt;/denchmark-h&gt;

Same bug like mentioned in &lt;denchmark-link:https://github.com/streamlit/streamlit/issues/554&gt;#554&lt;/denchmark-link&gt;
  but I do not use docker, instead I want to run it as a service on ubuntu.
&lt;denchmark-h:h1&gt;Steps to reproduce&lt;/denchmark-h&gt;

Create a bash init_bug_report_service script like this:
&lt;denchmark-code&gt;#!bin/bash
cd /data/projects/myenv/streamlit
/data/anaconda3/envs/myenv/bin/streamlit run bug_report.py
&lt;/denchmark-code&gt;

create a systemd service like this:
&lt;denchmark-code&gt;[Unit]
Description=My Service

[Service]
Type=simple
ExecStart=/scripts/&lt;my-project&gt;/init_bug_report_service

[Install]
WantedBy=multi-user.target
&lt;/denchmark-code&gt;

Try to start the service with systemctl start chatbot-bug-report.
Note: If you run the bash file on its own streamlit starts without problems, if you want to run it as a service it wonÂ´t.
&lt;denchmark-h:h2&gt;Expected behavior:&lt;/denchmark-h&gt;

running streamlit as a service
&lt;denchmark-h:h2&gt;Actual behavior:&lt;/denchmark-h&gt;

&lt;denchmark-code&gt;Mar 11 07:43:27 init_bug_report_service[4334]: Did not auto detect external IP.
Mar 11 07:43:27 init_bug_report_service[4334]: Please go to https://docs.streamlit.io/ for debugging hints.
Mar 11 07:43:27 init_bug_report_service[4334]: Please report this bug at https://github.com/streamlit/streamlit/issues.
Mar 11 07:43:27 init_bug_report_service[4334]: EXCEPTION! 'NoneType' object has no attribute 'strip'
Mar 11 07:43:27 init_bug_report_service[4334]:   File "/data/anaconda3/envs/rasa/bin/streamlit", line 8, in &lt;module&gt;
Mar 11 07:43:27 init_bug_report_service[4334]:     sys.exit(main())
Mar 11 07:43:27 init_bug_report_service[4334]:   File "/data/anaconda3/envs/rasa/lib/python3.7/site-packages/click/core.py", line 764, in __call__
Mar 11 07:43:27 init_bug_report_service[4334]:     return self.main(*args, **kwargs)
Mar 11 07:43:27 init_bug_report_service[4334]:   File "/data/anaconda3/envs/rasa/lib/python3.7/site-packages/click/core.py", line 717, in main
Mar 11 07:43:27 init_bug_report_service[4334]:     rv = self.invoke(ctx)
Mar 11 07:43:27 init_bug_report_service[4334]:   File "/data/anaconda3/envs/rasa/lib/python3.7/site-packages/click/core.py", line 1137, in invoke
Mar 11 07:43:27 init_bug_report_service[4334]:     return _process_result(sub_ctx.command.invoke(sub_ctx))
Mar 11 07:43:27 init_bug_report_service[4334]:   File "/data/anaconda3/envs/rasa/lib/python3.7/site-packages/click/core.py", line 956, in invoke
Mar 11 07:43:27 init_bug_report_service[4334]:     return ctx.invoke(self.callback, **ctx.params)
Mar 11 07:43:27 init_bug_report_service[4334]:   File "/data/anaconda3/envs/rasa/lib/python3.7/site-packages/click/core.py", line 555, in invoke
Mar 11 07:43:27 init_bug_report_service[4334]:     return callback(*args, **kwargs)
Mar 11 07:43:27 init_bug_report_service[4334]:   File "/data/anaconda3/envs/rasa/lib/python3.7/site-packages/streamlit/cli.py", line 235, in main_run
Mar 11 07:43:27 init_bug_report_service[4334]:     _main_run(target, args)
Mar 11 07:43:27 init_bug_report_service[4334]:   File "/data/anaconda3/envs/rasa/lib/python3.7/site-packages/streamlit/cli.py", line 260, in _main_run
Mar 11 07:43:27 init_bug_report_service[4334]:     bootstrap.run(file, command_line, args)
Mar 11 07:43:27 init_bug_report_service[4334]:   File "/data/anaconda3/envs/rasa/lib/python3.7/site-packages/streamlit/bootstrap.py", line 233, in run
Mar 11 07:43:27 init_bug_report_service[4334]:     ioloop.start()
Mar 11 07:43:27 init_bug_report_service[4334]:   File "/data/anaconda3/envs/rasa/lib/python3.7/site-packages/tornado/platform/asyncio.py", line 132, in start
Mar 11 07:43:27 init_bug_report_service[4334]:     self.asyncio_loop.run_forever()
Mar 11 07:43:27 init_bug_report_service[4334]:   File "/data/anaconda3/envs/rasa/lib/python3.7/asyncio/base_events.py", line 534, in run_forever
Mar 11 07:43:27 init_bug_report_service[4334]:     self._run_once()
Mar 11 07:43:27 init_bug_report_service[4334]:   File "/data/anaconda3/envs/rasa/lib/python3.7/asyncio/base_events.py", line 1771, in _run_once
Mar 11 07:43:27 init_bug_report_service[4334]:     handle._run()
Mar 11 07:43:27 init_bug_report_service[4334]:   File "/data/anaconda3/envs/rasa/lib/python3.7/asyncio/events.py", line 88, in _run
Mar 11 07:43:27 init_bug_report_service[4334]:     self._context.run(self._callback, *self._args)
Mar 11 07:43:27 init_bug_report_service[4334]:   File "/data/anaconda3/envs/rasa/lib/python3.7/site-packages/tornado/ioloop.py", line 758, in _run_callback
Mar 11 07:43:27 init_bug_report_service[4334]:     ret = callback()
Mar 11 07:43:27 init_bug_report_service[4334]:   File "/data/anaconda3/envs/rasa/lib/python3.7/site-packages/tornado/stack_context.py", line 300, in null_wrapper
Mar 11 07:43:27 init_bug_report_service[4334]:     return fn(*args, **kwargs)
Mar 11 07:43:27 init_bug_report_service[4334]:   File "/data/anaconda3/envs/rasa/lib/python3.7/site-packages/tornado/gen.py", line 326, in wrapper
Mar 11 07:43:27 init_bug_report_service[4334]:     yielded = next(result)
Mar 11 07:43:27 init_bug_report_service[4334]:   File "/data/anaconda3/envs/rasa/lib/python3.7/site-packages/streamlit/server/Server.py", line 343, in _loop_coroutine
Mar 11 07:43:27 init_bug_report_service[4334]:     traceback.print_stack(file=sys.stdout)
&lt;/denchmark-code&gt;

&lt;denchmark-h:h1&gt;Debug info&lt;/denchmark-h&gt;


Streamlit version: 0.56.0
Python version: 3.7.5
Conda version: 3.7.12
OS version: Ubuntu 18.04.3 LTS
Local Browser Version: Chrome Version 78.0.3904.108

	</description>
	<comments>
		<comment id='1' author='m3xw3ll' date='2020-05-11T07:39:16Z'>
		Looks like another instance of &lt;denchmark-link:https://github.com/streamlit/streamlit/issues/554&gt;#554&lt;/denchmark-link&gt;

Marking as dupe. Please reopen if you think this is not correct.
		</comment>
	</comments>
</bug>