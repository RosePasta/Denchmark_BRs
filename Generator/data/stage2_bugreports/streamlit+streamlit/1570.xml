<bug id='1570' author='keltin13' open_date='2020-06-12T19:32:02Z' closed_time='2020-06-12T20:08:48Z'>
	<summary>Streamlit freezing when training pytorch model</summary>
	<description>
&lt;denchmark-h:h1&gt;Summary&lt;/denchmark-h&gt;

When training a pytorch model from the simpletransformers library my streamlit app freezes and writes 'Stopping...' to the console but never stops, and can only be stopped by killing the terminal. I am running streamlit in an AWS instance and ssh to access the app. I am working in a conda environment.
&lt;denchmark-h:h1&gt;Steps to reproduce&lt;/denchmark-h&gt;

Training this model in the terminal or a jupyter notebook works fine, but not when running streamlit.
`import streamlit as st
import pandas as pd
from simpletransformers.classification import ClassificationModel
data = pd.DataFrame({
'text' : ['this is some text', 'i do not want this'],
'label': [1, 0]
})
model = ClassificationModel('distilbert', 'distilbert-base-cased', use_cuda=False)
model.train_model(data)
st.write('done training')`
&lt;denchmark-h:h2&gt;Expected behavior:&lt;/denchmark-h&gt;

Train the model and write 'done training'.
&lt;denchmark-h:h2&gt;Actual behavior:&lt;/denchmark-h&gt;

Freezes after processing the dataframe, writing Stopping... to the terminal in blue, but not stopping. It can only be stopped by killing the terminal.
&lt;denchmark-h:h2&gt;Is this a regression?&lt;/denchmark-h&gt;

Yes. Just began having an issue with this today.
&lt;denchmark-h:h1&gt;Debug info&lt;/denchmark-h&gt;


Streamlit version: 0.61.0
Python version: 3.7.7
Using Conda
OS version: Ubuntu 18.04.4
Browser version: Chrome 83

&lt;denchmark-h:h1&gt;Additional information&lt;/denchmark-h&gt;

None
	</description>
	<comments>
		<comment id='1' author='keltin13' date='2020-06-19T22:41:46Z'>
		I have the same issue when using Simpletransformers on inference
		</comment>
	</comments>
</bug>