<bug id='1373' author='LjubeBoskovski' open_date='2020-04-22T10:35:47Z' closed_time='2020-05-20T17:29:52Z'>
	<summary>pyDeck TripsLayer does not display trips</summary>
	<description>
&lt;denchmark-h:h1&gt;Summary&lt;/denchmark-h&gt;

The pyDeck TripsLayer is not displayed via st.pydeck_chart(deck) nor via st.write(deck), allthough the same input data in a PathLayer is displayed.
&lt;denchmark-h:h1&gt;Steps to reproduce&lt;/denchmark-h&gt;

The pyDeck repository features an example for the TripsLayer: &lt;denchmark-link:https://github.com/visgl/deck.gl/blob/master/bindings/pydeck/examples/trips_layer.py&gt;https://github.com/visgl/deck.gl/blob/master/bindings/pydeck/examples/trips_layer.py&lt;/denchmark-link&gt;

This example code snippet is modified to be used with streamlit. Only the streamlit import and the last line of code are added:
&lt;denchmark-code&gt;TripsLayer
==========
Plot of a single vehicle trip within San Francisco, fading in from the origin.
Adapted from a deck.gl documentation example.
"""

import streamlit as st
import pydeck as pdk
import pandas as pd

TRIPS_LAYER_DATA = "https://raw.githubusercontent.com/visgl/deck.gl-data/master/website/sf.trips.json"  # noqa

df = pd.read_json(TRIPS_LAYER_DATA)

df["coordinates"] = df["waypoints"].apply(lambda f: [item["coordinates"] for item in f])
df["timestamps"] = df["waypoints"].apply(lambda f: [item["timestamp"] - 1554772579000 for item in f])

df.drop(["waypoints"], axis=1, inplace=True)

layer = pdk.Layer(
    "TripsLayer",
    df,
    get_path="coordinates",
    get_timestamps="timestamps",
    get_color=[253, 128, 93],
    opacity=0.8,
    width_min_pixels=5,
    rounded=True,
    trail_length=600,
    current_time=500,
)

view_state = pdk.ViewState(latitude=37.7749295, longitude=-122.4194155, zoom=11, bearing=0, pitch=45)

# Render
r = pdk.Deck(layers=[layer], initial_view_state=view_state)
r.to_html("trips_layer.html", notebook_display=False)
st.write(r)
&lt;/denchmark-code&gt;

When running streamlit with the file, the path is not displayed whereas the html file generated by pyDeck displays it.
&lt;denchmark-h:h1&gt;Debug info&lt;/denchmark-h&gt;


Streamlit version: 0.57.3
Python version: 3.7.4
Using conda
OS version: ("$ uname -r" delivers) 5.5.13-arch2-1
Browser version: Chromium Version 80.0.3987.163 (Official Build) Arch Linux (64-bit)

	</description>
	<comments>
		<comment id='1' author='LjubeBoskovski' date='2020-04-22T13:54:14Z'>
		Hi &lt;denchmark-link:https://github.com/LjubeBoskovski&gt;@LjubeBoskovski&lt;/denchmark-link&gt;
,
There's a &lt;denchmark-link:https://github.com/streamlit/streamlit/pull/1306&gt;PR&lt;/denchmark-link&gt;
 on adding GeoLayers that I think should solve your problem, thanks for the code snippet we'll make sure it runs with the PR !
		</comment>
		<comment id='2' author='LjubeBoskovski' date='2020-05-20T17:29:51Z'>
		Hi &lt;denchmark-link:https://github.com/LjubeBoskovski&gt;@LjubeBoskovski&lt;/denchmark-link&gt;
 , should be fixed in 0.60.0
&lt;denchmark-link:https://user-images.githubusercontent.com/699897/82478292-1aea4c80-9aa7-11ea-8f72-66e08c9c2b53.png&gt;&lt;/denchmark-link&gt;

		</comment>
	</comments>
</bug>