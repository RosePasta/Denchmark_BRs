<bug id='330' author='dnuske' open_date='2019-10-08T20:38:26Z' closed_time='2019-10-28T18:37:47Z'>
	<summary>@st.cache does not work properly on conda</summary>
	<description>
&lt;denchmark-h:h1&gt;Summary&lt;/denchmark-h&gt;

1 Run tutorial code with the cache decorator
2 after “Loading data…” string is shown throws error KeyError: 'start' -&gt; File "/home/akavalar/anaconda3/envs/datascience-v1.2/lib/python3.7/site-packages/streamlit/hashing_py3.py", line 49, in get_referenced_objects set_tos(context.cells[op.argval])
&lt;denchmark-h:h2&gt;Expected behavior:&lt;/denchmark-h&gt;

Should not throw an error!
&lt;denchmark-h:h2&gt;Actual behavior:&lt;/denchmark-h&gt;

Looks like something deep inside the cache managing, but related only to Conda environment.
&lt;denchmark-h:h2&gt;Is this a regression?&lt;/denchmark-h&gt;

no
&lt;denchmark-h:h1&gt;Debug info&lt;/denchmark-h&gt;


Streamlit version: 0.45 and also 0.47.2
Python version: Python 3.7/Python 2.7.15
Using: Conda
OS version: Ubuntu 18.04 LTS
Browser version: Not specified

	</description>
	<comments>
		<comment id='1' author='dnuske' date='2019-10-15T17:54:38Z'>
		&lt;denchmark-link:https://hackmd.io/T2P592jvSvWNTllaYE9OxQ&gt;Original issue&lt;/denchmark-link&gt;

		</comment>
		<comment id='2' author='dnuske' date='2019-10-15T17:54:53Z'>
		Can't reproduce
&lt;denchmark-code&gt;FROM continuumio/anaconda3

SHELL ["/bin/bash", "-c"]
ENV PYTHONUNBUFFERED 1

RUN /opt/conda/bin/conda create -n uber python=3.7
RUN /opt/conda/bin/conda init bash
RUN echo "conda activate uber" &gt;&gt; /root/.bashrc
RUN /opt/conda/envs/uber/bin/pip install streamlit

# register streamlit user
RUN mkdir $HOME/.streamlit \
    &amp;&amp; echo '[general]' &gt;  $HOME/.streamlit/credentials.toml \
    &amp;&amp; echo 'email = "jonathan@streamlit.io"' &gt;&gt; $HOME/.streamlit/credentials.toml

COPY uber.py /root/uber.py

EXPOSE 8501

# docker build -t uber -f Dockerfile .
# docker run -i -p 8501:8501 -t uber /bin/bash
&lt;/denchmark-code&gt;

		</comment>
	</comments>
</bug>