<bug id='531' author='tvst' open_date='2019-10-24T23:24:28Z' closed_time='2019-10-25T20:14:48Z'>
	<summary>height arg is broken in st.dataframe</summary>
	<description>
&lt;denchmark-h:h1&gt;Summary&lt;/denchmark-h&gt;

st.dataframe has a height arg, but it seems to not do anything right now.
Don't we have a test for this? If not, we should create one!
&lt;denchmark-h:h1&gt;Steps to reproduce&lt;/denchmark-h&gt;

import streamlit as st
import numpy as np

data = np.random.randn(5, 100)

st.dataframe(data)

st.dataframe(data, height=900)
&lt;denchmark-h:h2&gt;Expected behavior:&lt;/denchmark-h&gt;

The two dataframes should have different heights.
&lt;denchmark-h:h2&gt;Actual behavior:&lt;/denchmark-h&gt;

The two dataframes have the same height!
&lt;denchmark-h:h2&gt;Is this a regression?&lt;/denchmark-h&gt;

yes
&lt;denchmark-h:h1&gt;Debug info&lt;/denchmark-h&gt;


Streamlit version: 0.49.0

	</description>
	<comments>
		<comment id='1' author='tvst' date='2019-10-24T23:40:50Z'>
		This seems to be the root cause:
&lt;denchmark-code&gt;const DEFAULT_HEIGHT = 300
height: Math.min(rows * rowHeight, height || DEFAULT_HEIGHT)
&lt;/denchmark-code&gt;

Also the dataframe_dimensions_test only tests for heights smaller than the default.
		</comment>
		<comment id='2' author='tvst' date='2019-10-25T16:50:04Z'>
		Looks like Vega Lite Chart is affected too:
&lt;denchmark-link:https://discuss.streamlit.io/t/something-not-working-with-altair-chart-height-past-v0-47-4/720&gt;https://discuss.streamlit.io/t/something-not-working-with-altair-chart-height-past-v0-47-4/720&lt;/denchmark-link&gt;

		</comment>
		<comment id='3' author='tvst' date='2019-10-25T16:53:40Z'>
		My guess is the Maximize PR broke this
		</comment>
		<comment id='4' author='tvst' date='2019-10-25T17:31:48Z'>
		Yes, taking my comment back :-( It seems we pass an undefined height to st.dataframe
		</comment>
		<comment id='5' author='tvst' date='2019-10-25T17:57:16Z'>
		After debugging a bit:
in the repro code:
&lt;denchmark-code&gt;data = np.random.randn(5, 100)
&lt;/denchmark-code&gt;

this generates a dataframe with 5 rows.
We take the minimum of the dataframe height with 5 rows and the height argument.
If we change it to a bigger dataframe, it works fine. For example:
&lt;denchmark-code&gt;data = np.random.randn(500, 100)
&lt;/denchmark-code&gt;

This dataframe is big enough for the height parameter to have an effect.
		</comment>
		<comment id='6' author='tvst' date='2019-10-25T17:59:32Z'>
		As for testing  should cover the  and  parameters.
&lt;denchmark-link:https://github.com/streamlit/streamlit/blob/develop/e2e/scripts/dataframe_dimension_spec.py&gt;https://github.com/streamlit/streamlit/blob/develop/e2e/scripts/dataframe_dimension_spec.py&lt;/denchmark-link&gt;

&lt;denchmark-link:https://github.com/streamlit/streamlit/blob/develop/e2e/specs/dataframe_dimension_spec.spec.ts&gt;https://github.com/streamlit/streamlit/blob/develop/e2e/specs/dataframe_dimension_spec.spec.ts&lt;/denchmark-link&gt;

		</comment>
	</comments>
</bug>