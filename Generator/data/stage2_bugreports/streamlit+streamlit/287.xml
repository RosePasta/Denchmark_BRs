<bug id='287' author='Va1da2' open_date='2019-10-06T07:00:41Z' closed_time='2019-10-11T23:55:28Z'>
	<summary>Mapping and DataFrame demo apps through errors</summary>
	<description>
&lt;denchmark-h:h1&gt;Summary&lt;/denchmark-h&gt;

While going through the demos provided in hello app I have encountered problems with two out of four (Mapping and DataFrame demo apps) through errors.
&lt;denchmark-h:h1&gt;Steps to reproduce&lt;/denchmark-h&gt;


mkvirtualenv streamllit
pip install streamlit
streamlit hello
Click on Mapping Demo or DataFrame Demo

&lt;denchmark-h:h2&gt;Expected behavior:&lt;/denchmark-h&gt;

I would expect demos would be shown in the right pain. It works as expected for the first two apps (Animation and Plotting Demo).
&lt;denchmark-h:h2&gt;Actual behavior:&lt;/denchmark-h&gt;

I get notifications, first
&lt;denchmark-code&gt;Streamlit cannot hash an object of type &lt;class 'os._Environ'&gt;.,
...
&lt;/denchmark-code&gt;

and then 6 of these
&lt;denchmark-code&gt;Streamlit failed to hash an object of type &lt;class 'function'&gt;.,
...
&lt;/denchmark-code&gt;

and at the end there is a traceback:
&lt;denchmark-code&gt;TypeError: object supporting the buffer API required
File "/home/vaidas/.virtualenvs/streamlit/lib/python3.6/site-packages/streamlit/ScriptRunner.py", line 306, in _run_script exec(code, module.__dict__)
File "/home/vaidas/.virtualenvs/streamlit/lib/python3.6/site-packages/streamlit/hello.py", line 334, in &lt;module&gt; run()
File "/home/vaidas/.virtualenvs/streamlit/lib/python3.6/site-packages/streamlit/hello.py", line 308, in run demo()
File "/home/vaidas/.virtualenvs/streamlit/lib/python3.6/site-packages/streamlit/hello.py", line 78, in mapping_demo "data": from_data_file("bike_rental_stats.json"),
File "/home/vaidas/.virtualenvs/streamlit/lib/python3.6/site-packages/streamlit/caching.py", line 544, in wrapped_func return get_or_set_cache()
File "/home/vaidas/.virtualenvs/streamlit/lib/python3.6/site-packages/streamlit/caching.py", line 509, in get_or_set_cache code_hasher.update(func)
File "/home/vaidas/.virtualenvs/streamlit/lib/python3.6/site-packages/streamlit/hashing.py", line 185, in update self._update(self.hasher, obj, context)
File "/home/vaidas/.virtualenvs/streamlit/lib/python3.6/site-packages/streamlit/hashing.py", line 217, in _update hasher.update(b)
&lt;/denchmark-code&gt;

&lt;denchmark-h:h2&gt;Is this a regression?&lt;/denchmark-h&gt;

Tried to launch it for the first time.
&lt;denchmark-h:h1&gt;Debug info&lt;/denchmark-h&gt;


Streamlit version: 0.47.4
Python version: Python 3.6.8
Using virtualenv with virtualenvwrapper
OS version: Ubuntu 18.04
Browser version: Chrome Version 77.0.3865.90

	</description>
	<comments>
		<comment id='1' author='Va1da2' date='2019-10-06T07:21:35Z'>
		I have the same issue:
Streamlit version: 0.47.4
OS version: Mac OS 10.14.3
Python: Python 3.7.1 and virtualenv
		</comment>
		<comment id='2' author='Va1da2' date='2019-10-06T10:14:42Z'>
		I have the same issue:
Streamlit version: 0.47.4
OS version: Ubuntu 19.04
Python: Python 3.7.3 and virtualenv
		</comment>
		<comment id='3' author='Va1da2' date='2019-10-06T12:20:17Z'>
		Had the same issue, but just restarting streamlit appeared to fix it. I also disabled the gathering of usage stats (adding gatherUsageStats = false in the config.toml file) prior to restarting, but the demos still work even after removing this and restarting again, so I suspect its a first time run issue.
Streamlit version: 0.47.4
OS version: Ubuntu 18.04 on Windows Subsystem for Linux (WSL)
Python: Python 3.6.8
		</comment>
		<comment id='4' author='Va1da2' date='2019-10-06T12:49:15Z'>
		For me, a restart did not fix the issue.
Streamlit version: 0.47.4
OS version: Ubuntu 19.04
Python: Python 3.7.4 (no virtualenv)
Firefox: 69.0.1
		</comment>
		<comment id='5' author='Va1da2' date='2019-10-06T15:38:07Z'>
		also have this issue
streamlit version 0.47.4
archlinux 5.3.1-arch1-1-ARCH
python 3.7.4
firefox 69.0.2
		</comment>
		<comment id='6' author='Va1da2' date='2019-10-06T20:15:03Z'>
		same error;
Streamlit, version 0.47.4
Ubuntu 18.10
Python 3.6.8
However - trying python 2.7.15+ on the same OS DID work!
So it looks like they've tested it on Python 2 mostly and not really done much running on Python 3.  Shame, considering Python 2 will reach the end of its life on January 1st, 2020.
		</comment>
		<comment id='7' author='Va1da2' date='2019-10-07T04:06:38Z'>
		Same error --
Streamlit, version 0.47.4
Debian 10
Python 3.6.8 :: Anaconda, Inc.
The Mapping and DataFrame demos worked on Python 2.7.16
		</comment>
		<comment id='8' author='Va1da2' date='2019-10-07T12:24:03Z'>
		I have the same problem. Seems somehow connected to the apex package. pip uninstall apex fixed my problem.
Streamlit version: 0.47.4
Apex version: 0.9.10.dev0
OS version: Mac OS 10.14.6
Python: Python 3.7.3 (in anaconda)
		</comment>
		<comment id='9' author='Va1da2' date='2019-10-07T14:34:56Z'>
		&lt;denchmark-link:https://github.com/aseifert&gt;@aseifert&lt;/denchmark-link&gt;
 this did not solve the error on my install
		</comment>
		<comment id='10' author='Va1da2' date='2019-10-07T14:42:53Z'>
		apex is also not required for streamlit.
		</comment>
		<comment id='11' author='Va1da2' date='2019-10-07T18:00:19Z'>
		Same problem
Streamlit, version 0.47.4
Python 3.6.0 (default, Nov  3 2018, 16:47:43)
MacOS: 10.13.6
Works for me on the same computer (different virtualenv):
Streamlit, version 0.47.4
Python 2.7.13 (default, Nov  8 2018, 20:05:26)
		</comment>
		<comment id='12' author='Va1da2' date='2019-10-07T23:11:59Z'>
		I'm experiencing the same issue.
Streamlit version 0.47.4
Python 3.6.8 in venv
Ubuntu 18.04
		</comment>
		<comment id='13' author='Va1da2' date='2019-10-08T04:16:42Z'>
		This looks like the same issue as &lt;denchmark-link:https://github.com/streamlit/streamlit/issues/242&gt;#242&lt;/denchmark-link&gt;

See the work around to run the demos &lt;denchmark-link:https://github.com/streamlit/streamlit/issues/242#issuecomment-539314792&gt;in this comment&lt;/denchmark-link&gt;
.
		</comment>
		<comment id='14' author='Va1da2' date='2019-10-08T14:04:52Z'>
		Same issue as above, same fix works as well.
streamlit 0.47.4
python 3.7 in conda env
debian 9.9
		</comment>
		<comment id='15' author='Va1da2' date='2019-10-11T23:55:28Z'>
		Agreed with &lt;denchmark-link:https://github.com/roycoding&gt;@roycoding&lt;/denchmark-link&gt;
. This looks like a dupe of &lt;denchmark-link:https://github.com/streamlit/streamlit/issues/242&gt;#242&lt;/denchmark-link&gt;
. (Thanks Roy!)
The fix is coming soon with PR &lt;denchmark-link:https://github.com/streamlit/streamlit/pull/254&gt;#254&lt;/denchmark-link&gt;

(Closing this as a duplicate. Please reopen if you think this is not right)
		</comment>
	</comments>
</bug>