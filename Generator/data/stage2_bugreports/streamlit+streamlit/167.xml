<bug id='167' author='treuille' open_date='2019-09-22T17:30:25Z' closed_time='2020-02-13T23:45:44Z'>
	<summary>Implicit cache imports aren't handled properly during `streamlit run URL`</summary>
	<description>
&lt;denchmark-h:h1&gt;Summary&lt;/denchmark-h&gt;

I have detected a &lt;denchmark-link:https://gist.github.com/treuille/c84d78967b9ddc9474ed53054fa0efee&gt;snippet of code&lt;/denchmark-link&gt;
 which behaves differently when run
locally vs from a URL. The issue has to do with whether Streamlit hashes implicit imports to a cached funnction.
&lt;denchmark-h:h2&gt;Steps to reproduce&lt;/denchmark-h&gt;

&lt;denchmark-h:h3&gt;Test Case 1: Run the code locally&lt;/denchmark-h&gt;


Copy this snippet of code into a file called cache_bug.py and run:

&lt;denchmark-code&gt;streamlit run cache_bug.py
&lt;/denchmark-code&gt;


Play with the sliders.
Notice that the output changes both when x and y change, the correct behavior.

&lt;denchmark-h:h3&gt;Test Case 2: Run the code remotely&lt;/denchmark-h&gt;


Run:

&lt;denchmark-code&gt;streamlit run https://gist.githubusercontent.com/treuille/c84d78967b9ddc9474ed53054fa0efee/raw/ca6547a66d481efe5b34a87783a8de7ecc2a4c91/cache_bug.py
&lt;/denchmark-code&gt;


Play with the sliders.
Notice that changing y does not change the output!

&lt;denchmark-h:h1&gt;Behavior&lt;/denchmark-h&gt;

&lt;denchmark-h:h2&gt;Expected behavior&lt;/denchmark-h&gt;

Both cases should behave identically. The behavior in Test Case 1 is correct.
&lt;denchmark-h:h2&gt;Actual behavior&lt;/denchmark-h&gt;

Test Case 2 behaves incorrectly, as described above.
&lt;denchmark-h:h2&gt;Is this a regression?&lt;/denchmark-h&gt;

No.
&lt;denchmark-h:h1&gt;Debug info&lt;/denchmark-h&gt;

I'm using a version beyond 0.35 on the develop branch:
&lt;denchmark-code&gt;$ streamlit version &amp;&amp; python --version &amp;&amp; pyenv --version &amp;&amp; sw_vers &amp;&amp; "/Applications/Google Chrome.app/Contents/MacOS/Google Chrome" --version
Streamlit, version 0.45.0
Python 3.6.5
pyenv 1.2.3
ProductName:	Mac OS X
ProductVersion:	10.14.6
BuildVersion:	18G95
Google Chrome 76.0.3809.132 
&lt;/denchmark-code&gt;

Latest commit:
&lt;denchmark-code&gt;$ git log | head -n 5
commit 670de52f1f10afca228da22c97e56b1356e5172b
Author: Felix Geilert &lt;root92@live.de&gt;
Date:   Thu Sep 19 21:53:03 2019 +0200

    Fix bug for startup under windows (#144)
&lt;/denchmark-code&gt;

	</description>
	<comments>
		<comment id='1' author='treuille' date='2019-10-09T20:39:39Z'>
		This issue is popping up other places:

@lcerman's issue
@sam-qordoba issue

		</comment>
		<comment id='2' author='treuille' date='2019-10-11T17:32:16Z'>
		This should be fixed by &lt;denchmark-link:https://github.com/streamlit/streamlit/pull/254&gt;#254&lt;/denchmark-link&gt;
 , but we still need to double-check
		</comment>
		<comment id='3' author='treuille' date='2019-10-11T17:35:03Z'>
		&lt;denchmark-link:https://github.com/monchier&gt;@monchier&lt;/denchmark-link&gt;
 : Can you please run the test as described in this issue and see whether &lt;denchmark-link:https://github.com/streamlit/streamlit/pull/254&gt;#254&lt;/denchmark-link&gt;
 fixes it? If so, please close this bug as fixed. If not, please let &lt;denchmark-link:https://github.com/tvst&gt;@tvst&lt;/denchmark-link&gt;
 and me know! Thanks!
		</comment>
		<comment id='4' author='treuille' date='2019-10-22T15:51:43Z'>
		Unable to reproduce the bug on latest develop
&lt;denchmark-code&gt;$ git log | head -n 5
commit e10b79a60bc2a21acd8fd1ccfcf83dc2d9e26069
Author: erikhopf &lt;erik.hopf@gmail.com&gt;
Date:   Tue Oct 22 02:05:15 2019 -0700

    Doc updates (#286)
&lt;/denchmark-code&gt;

		</comment>
		<comment id='5' author='treuille' date='2020-02-13T23:45:44Z'>
		Cannot repro; closing.
		</comment>
	</comments>
</bug>