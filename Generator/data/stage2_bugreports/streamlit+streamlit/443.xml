<bug id='443' author='DanielDondorp' open_date='2019-10-17T08:14:11Z' closed_time='2019-11-06T12:48:09Z'>
	<summary>Can`t connect to streamlit server over network</summary>
	<description>
&lt;denchmark-h:h1&gt;Summary&lt;/denchmark-h&gt;

When I run streamlit hello it works very well in my local browser. When I try to connect from another computer on the network, using the provided network url or using the local ip address of the computer running the app, streamlit seems to get stuck on connecting.
&lt;denchmark-h:h1&gt;Steps to reproduce&lt;/denchmark-h&gt;

What are the steps we should take to reproduce the bug:

Run streamlit hello
with another computer on the same network go to other.ip.address:port

&lt;denchmark-h:h2&gt;Expected behavior:&lt;/denchmark-h&gt;

I expected to be able to access the running app over the network, and being able to see the hello-example in the browser on another computer.
&lt;denchmark-h:h2&gt;Actual behavior:&lt;/denchmark-h&gt;

On the computer not running the app, you do see that it is trying to do something but it never connects to the streamlit server.
&lt;denchmark-link:https://user-images.githubusercontent.com/30178487/66990078-d25c5200-f0c5-11e9-9302-2f1772f2bee8.png&gt;&lt;/denchmark-link&gt;

&lt;denchmark-h:h2&gt;Is this a regression?&lt;/denchmark-h&gt;

no, I have not had this work before
&lt;denchmark-h:h1&gt;Debug info&lt;/denchmark-h&gt;


Streamlit version: 0.47.0, 0.48.1
Python version: 3.6.8
Python3 with venv
OS version: ubuntu
Browser version: chrome, firefox

&lt;denchmark-h:h1&gt;Additional information&lt;/denchmark-h&gt;

If needed, add any other context about the problem here.
	</description>
	<comments>
		<comment id='1' author='DanielDondorp' date='2019-10-22T20:00:58Z'>
		This is happening with me as well. I am running inside a docker container. Works fine when I run on my local box, but stuck at "please wait" when I try to access over the network. Mapping container ports 8501:8501.
&lt;denchmark-code&gt;FROM python:3

WORKDIR /app

RUN pip install numpy
RUN pip install pandas
RUN pip install sqlalchemy
RUN pip install pymysql
RUN pip install matplotlib
RUN pip install streamlit

COPY ./ ./

ENTRYPOINT ["streamlit", "run", "app.py"]
&lt;/denchmark-code&gt;

		</comment>
		<comment id='2' author='DanielDondorp' date='2019-10-24T13:46:18Z'>
		Based on the screenshot it looks like the HTTP request to load the page and static resources is working, and that it's the Websocket connection that is failing.
So my guess is this is because of &lt;denchmark-link:https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS&gt;CORS&lt;/denchmark-link&gt;

Can you try either disabling CORS or configuring it in Streamlit?
To disable it, set this in .streamlit/config.toml:
&lt;denchmark-code&gt;[server]
enableCORS = false
&lt;/denchmark-code&gt;

To configure it, set this instead:
&lt;denchmark-code&gt;[browser]
serverAddress = "the_address.com" # Can be an IP address too
&lt;/denchmark-code&gt;

Finally, if none of that works, it would be great to get a HAR file so we can debug: &lt;denchmark-link:https://support.zendesk.com/hc/en-us/articles/204410413-Generating-a-HAR-file-for-troubleshooting&gt;https://support.zendesk.com/hc/en-us/articles/204410413-Generating-a-HAR-file-for-troubleshooting&lt;/denchmark-link&gt;
.
		</comment>
		<comment id='3' author='DanielDondorp' date='2019-10-25T07:56:04Z'>
		Thank you for your answer. I looked for ~/.streamlit/config.toml and it was not there. In ~/.streamlit only credentials.toml existed. I created config.toml with only this in it:
&lt;denchmark-code&gt;[server]
enableCORS = false
&lt;/denchmark-code&gt;

This indeed fixed the problem for access over the local network.
Configuring it with
&lt;denchmark-code&gt;[browser]
serverAddress = "the_address.com"
&lt;/denchmark-code&gt;

does not work. If I navigate to the_address.com/8501 both on the computer that runs the  app and other computers on the network the browser does try to go to the network ip address that streamlit gives in the console but I get server-not-found errors.
		</comment>
		<comment id='4' author='DanielDondorp' date='2019-10-29T17:04:41Z'>
		I am having the same issue. I am using Ubuntu 16.04 with Python 3.6, but for some reason, I don't have this file on my system "config.toml". I only have "credentials.toml". Is this normal? What could be wrong here?
		</comment>
		<comment id='5' author='DanielDondorp' date='2019-10-29T17:18:27Z'>
		
some


I am having the same issue. I am using Ubuntu 16.04 with Python 3.6, but for some reason, I don't have this file on my system "config.toml". I only have "credentials.toml". Is this normal? What could be wrong here?

I also did not have the config file. When I made and edited it as described above it did work. I am now also curious if this file is supposed to be there with a clean install of streamlit.
		</comment>
		<comment id='6' author='DanielDondorp' date='2019-10-30T23:10:21Z'>
		&lt;denchmark-link:https://github.com/DanielDondorp&gt;@DanielDondorp&lt;/denchmark-link&gt;
 I agree that it would better to include 'config.toml' by default with any clean install of streamlit.
		</comment>
		<comment id='7' author='DanielDondorp' date='2019-11-04T22:22:38Z'>
		Streamlit doesn’t create any config files and it uses all default values.
If you’d like to see all config options you can run streamlit config show, and if you’d like to create your own config.toml file you can copy all the values from streamlit config show and edit where needed.
Hope this helps and feel free to let me know if you have any other questions!
		</comment>
		<comment id='8' author='DanielDondorp' date='2019-11-06T12:48:09Z'>
		Ok, thanks for the help. I`ll consider this one closed.
		</comment>
		<comment id='9' author='DanielDondorp' date='2019-12-09T07:59:21Z'>
		Is there a single/system-wide config? What is the behavior when using streamlit in different virtual environments?
		</comment>
		<comment id='10' author='DanielDondorp' date='2019-12-09T17:20:53Z'>
		&lt;denchmark-link:https://github.com/dcaminos&gt;@dcaminos&lt;/denchmark-link&gt;
 inside of a conda environmet where should I place my config.toml file?
		</comment>
		<comment id='11' author='DanielDondorp' date='2019-12-12T02:37:29Z'>
		&lt;denchmark-link:https://github.com/drorata&gt;@drorata&lt;/denchmark-link&gt;
, &lt;denchmark-link:https://github.com/kurt-rhee&gt;@kurt-rhee&lt;/denchmark-link&gt;
 have you figured out how?
		</comment>
		<comment id='12' author='DanielDondorp' date='2019-12-12T17:20:37Z'>
		Hey &lt;denchmark-link:https://github.com/mneira10&gt;@mneira10&lt;/denchmark-link&gt;
  I got a response here:
&lt;denchmark-link:https://discuss.streamlit.io/t/config-in-windows-conda-environment/1295&gt;https://discuss.streamlit.io/t/config-in-windows-conda-environment/1295&lt;/denchmark-link&gt;

But I still haven't been able to get a connection working with streamlit server over my network
		</comment>
		<comment id='13' author='DanielDondorp' date='2019-12-13T17:33:00Z'>
		Changing the configuration mentioned above, solved my issue. I still don't know how to have different configurations for different virtual environments.
		</comment>
		<comment id='14' author='DanielDondorp' date='2019-12-17T09:34:50Z'>
		I have the same problem accessing my application form an external network.
I have tried every step described above but none worked.
Streamlit is running on a linux VM and I've a proxyconfig pointing to the VM on port 8501.
does anyone have any ideas what could be the problem?
		</comment>
		<comment id='15' author='DanielDondorp' date='2019-12-17T20:29:42Z'>
		Hi &lt;denchmark-link:https://github.com/drorata&gt;@drorata&lt;/denchmark-link&gt;
, &lt;denchmark-link:https://github.com/mneira10&gt;@mneira10&lt;/denchmark-link&gt;
,
Streamlit configuration is set with the following precedence:

command line arguments
${CWD}/.streamlit/config.toml (where cwd is the folder you're running streamlit from)
${HOME}/.streamlit/config.toml (where home is the user's home folder)

There is no virtual environment specific way to have different configs. You'll need to be running streamlit from different folders to have multiple local configurations, unless you pass args in via the ClI.
		</comment>
		<comment id='16' author='DanielDondorp' date='2019-12-25T00:37:20Z'>
		Hi &lt;denchmark-link:https://github.com/LarsFichtel&gt;@LarsFichtel&lt;/denchmark-link&gt;
 ,
Could you open a new issue for your problem?
Thanks!
		</comment>
		<comment id='17' author='DanielDondorp' date='2020-01-15T13:49:03Z'>
		I think the enableCORS is not what it really sounds. Instead of 'to enable CORS', it's actually to filter out URLs. While not to enable CORS, then it's allowing the traffic to go through.
I have raised an issue &lt;denchmark-link:https://github.com/streamlit/streamlit/issues/964&gt;#964&lt;/denchmark-link&gt;
 , and a change &lt;denchmark-link:https://github.com/streamlit/streamlit/pull/965&gt;#965&lt;/denchmark-link&gt;
 for it.
		</comment>
		<comment id='18' author='DanielDondorp' date='2020-08-19T18:41:13Z'>
		i faced the same issue
i feel
http:// version of the app is faster
compared to the https://
since https:// connects after more than 3-4 mins
while
http:// connects within a minute
		</comment>
	</comments>
</bug>