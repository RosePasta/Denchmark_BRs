<bug id='169' author='tvst' open_date='2019-09-23T00:06:21Z' closed_time='2019-10-02T19:58:33Z'>
	<summary>Error when running examples/mnist-cnn.py in two tabs</summary>
	<description>
&lt;denchmark-h:h1&gt;Steps to reproduce&lt;/denchmark-h&gt;


streamlit run examples/mnist-cnn.py
Open two browser tabs at localhost:8501

&lt;denchmark-h:h2&gt;Expected behavior:&lt;/denchmark-h&gt;

The app shows in both tabs.
&lt;denchmark-h:h2&gt;Actual behavior:&lt;/denchmark-h&gt;

The first tab works correctly. The second shows this error:
&lt;denchmark-code&gt;AttributeError: 'thread._local' object has no attribute 'value'
File "/home/tvst/.local/share/virtualenvs/prod-g-ag5BPd/local/lib/python2.7/site-packages/streamlit/ScriptRunner.py", line 321, in _run_script exec(code, module.__dict__)
File "/home/tvst/Projects/streamlit/prod/mnist-cnn.py", line 162, in &lt;module&gt; model = Sequential()
File "/home/tvst/.local/share/virtualenvs/prod-g-ag5BPd/local/lib/python2.7/site-packages/keras/engine/sequential.py", line 88, in __init__ super(Sequential, self).__init__(name=name)
File "/home/tvst/.local/share/virtualenvs/prod-g-ag5BPd/local/lib/python2.7/site-packages/keras/legacy/interfaces.py", line 91, in wrapper return func(*args, **kwargs)
File "/home/tvst/.local/share/virtualenvs/prod-g-ag5BPd/local/lib/python2.7/site-packages/keras/engine/network.py", line 97, in __init__ self._init_subclassed_network(**kwargs)
File "/home/tvst/.local/share/virtualenvs/prod-g-ag5BPd/local/lib/python2.7/site-packages/keras/engine/network.py", line 304, in _init_subclassed_network self._base_init(name=name, **kwargs)
File "/home/tvst/.local/share/virtualenvs/prod-g-ag5BPd/local/lib/python2.7/site-packages/keras/engine/network.py", line 111, in _base_init self.name = name
File "/home/tvst/.local/share/virtualenvs/prod-g-ag5BPd/local/lib/python2.7/site-packages/keras/engine/network.py", line 323, in __setattr__ super(Network, self).__setattr__(name, value)
File "/home/tvst/.local/share/virtualenvs/prod-g-ag5BPd/local/lib/python2.7/site-packages/keras/engine/base_layer.py", line 1215, in __setattr__ if not _DISABLE_TRACKING.value:
&lt;/denchmark-code&gt;

&lt;denchmark-h:h2&gt;Is this a regression?&lt;/denchmark-h&gt;

No idea ðŸ˜•
&lt;denchmark-h:h1&gt;Debug info&lt;/denchmark-h&gt;


Streamlit version: 0.46.0
Python: happens in both 2 and 3

	</description>
	<comments>
		<comment id='1' author='tvst' date='2019-09-30T21:28:35Z'>
		&lt;denchmark-link:https://github.com/keras-team/keras/issues/13336&gt;keras-team/keras#13336&lt;/denchmark-link&gt;

&lt;denchmark-link:https://github.com/autonomio/talos/issues/410&gt;autonomio/talos#410&lt;/denchmark-link&gt;

		</comment>
		<comment id='2' author='tvst' date='2019-10-10T14:39:27Z'>
		i have same issue with keras==2.3.1 and tensorflow==2.0, any solution?
I only have 1 tab open but it fails too.
		</comment>
		<comment id='3' author='tvst' date='2019-10-10T14:48:44Z'>
		Hi &lt;denchmark-link:https://github.com/ASC689561&gt;@ASC689561&lt;/denchmark-link&gt;
,
Could you provide a stacktrace?
Thanks
		</comment>
	</comments>
</bug>