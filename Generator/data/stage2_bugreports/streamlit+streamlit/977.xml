<bug id='977' author='firstmover' open_date='2020-01-15T21:14:50Z' closed_time='2020-01-16T20:02:53Z'>
	<summary>MNIST example raises KeyError</summary>
	<description>
mnist example $ streamlit run examples/mnist-cnn.py raises KeyError.
	</description>
	<comments>
		<comment id='1' author='firstmover' date='2020-01-15T23:18:47Z'>
		Hi &lt;denchmark-link:https://github.com/firstmover&gt;@firstmover&lt;/denchmark-link&gt;
,
I just ran the mnist example and didn't get the KeyError problem you're having.  Additionally I used the source you submitted as a fix, and that threw the KeyError for me.
If you're seeing a KeyError thrown from the mnist-cnn.py example and we are not, there must be a discrepancy between your environment and ours.
Can you do me a favor and do the following in your Python environment and share here the results:
&lt;denchmark-code&gt;pip freeze | grep keras
pip freeze | grep tensorflow
streamlit version
&lt;/denchmark-code&gt;

Thanks!
		</comment>
		<comment id='2' author='firstmover' date='2020-01-16T00:46:57Z'>
		Hi &lt;denchmark-link:https://github.com/nthmost&gt;@nthmost&lt;/denchmark-link&gt;
 ,
Sorry for not including my environment information.
I use a conda environment. The result of
&lt;denchmark-code&gt;conda list | grep keras
conda list | grep tensorflow 
streamlit version 
&lt;/denchmark-code&gt;

is
&lt;denchmark-code&gt;keras                     2.2.4                         0
keras-applications        1.0.8                      py_0    anaconda
keras-base                2.2.4                    py37_0
keras-preprocessing       1.1.0                      py_1    anaconda
tensorflow                1.15.0          gpu_py37h0f0df58_0
tensorflow-base           1.15.0          gpu_py37h9dcbed7_0
tensorflow-estimator      1.15.1             pyh2649769_0
tensorflow-gpu            1.15.0               h0d30ee6_0
Streamlit, version 0.53.0
&lt;/denchmark-code&gt;

Thanks
		</comment>
		<comment id='3' author='firstmover' date='2020-01-16T19:47:01Z'>
		Hi &lt;denchmark-link:https://github.com/firstmover&gt;@firstmover&lt;/denchmark-link&gt;
 -- The first thing I'm noticing is your tensorflow version, which is a full major version behind what we're using at Streamlit.
Are you able to upgrade your tensorflow to 2.0 or better?
		</comment>
		<comment id='4' author='firstmover' date='2020-01-16T20:02:53Z'>
		Hi &lt;denchmark-link:https://github.com/nthmost&gt;@nthmost&lt;/denchmark-link&gt;
. The script works well after I upgrade my tensorflow to 2.0. Thanks.
		</comment>
	</comments>
</bug>