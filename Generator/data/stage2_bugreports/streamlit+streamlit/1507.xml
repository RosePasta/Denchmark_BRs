<bug id='1507' author='resposit' open_date='2020-05-28T10:32:59Z' closed_time='2020-07-31T21:19:35Z'>
	<summary>Error using modin.pandas within streamlit app</summary>
	<description>
&lt;denchmark-h:h1&gt;Summary&lt;/denchmark-h&gt;

I'm trying to using &lt;denchmark-link:https://github.com/modin-project/modin&gt;modin pandas&lt;/denchmark-link&gt;
 (which has a nice parallel pandas dataframe implementation) within a streamlit app, but I get an error on startup
&lt;denchmark-h:h1&gt;Steps to reproduce&lt;/denchmark-h&gt;

Create simple app app.py:
&lt;denchmark-code&gt;import streamlit as st
import modin.pandas as pd
&lt;/denchmark-code&gt;

Launch it:
&lt;denchmark-code&gt;&gt; streamlit run app.py

  You can now view your Streamlit app in your browser.

  URL: http://localhost:8501

Failed to set SIGTERM handler, processes mightnot be cleaned up properly on exit.
&lt;/denchmark-code&gt;

In the browser I get this error:
&lt;denchmark-code&gt;RuntimeError: The ray global state API cannot be used before ray.init has been called.
Traceback:
File "/usr/local/lib/python3.6/site-packages/streamlit/ScriptRunner.py", line 322, in _run_script
    exec(code, module.__dict__)
File "/tmp/x.py", line 2, in &lt;module&gt;
    import modin.pandas as pd
File "/usr/local/lib/python3.6/site-packages/modin/pandas/__init__.py", line 242, in &lt;module&gt;
    num_cpus = ray.cluster_resources()["CPU"]
File "/usr/local/lib/python3.6/site-packages/ray/state.py", line 1209, in cluster_resources
    return state.cluster_resources()
File "/usr/local/lib/python3.6/site-packages/ray/state.py", line 884, in cluster_resources
    self._check_connected()
File "/usr/local/lib/python3.6/site-packages/ray/state.py", line 146, in _check_connected
    raise RuntimeError("The ray global state API cannot be used "
&lt;/denchmark-code&gt;

&lt;denchmark-h:h1&gt;Debug info&lt;/denchmark-h&gt;


Streamlit version: 0.60.0

	</description>
	<comments>
		<comment id='1' author='resposit' date='2020-06-16T15:51:48Z'>
		Hi &lt;denchmark-link:https://github.com/resposit&gt;@resposit&lt;/denchmark-link&gt;
, can you try the following?
&lt;denchmark-code&gt;import streamlit as st
import ray
ray.init()
import modin.pandas as pd
&lt;/denchmark-code&gt;

		</comment>
		<comment id='2' author='resposit' date='2020-06-27T02:40:27Z'>
		
Hi @resposit, can you try the following?
import streamlit as st
import ray
ray.init()
import modin.pandas as pd


I had the same problem but the suggestion work for me.
Thks!
		</comment>
		<comment id='3' author='resposit' date='2020-07-31T21:19:35Z'>
		Since this seems to be &lt;denchmark-link:https://github.com/streamlit/streamlit/issues/1507#issuecomment-650476620&gt;confirmed as a syntax issue&lt;/denchmark-link&gt;
, not a bug, closing. If I am mistaken, please let me know and I will re-open the issue.
		</comment>
	</comments>
</bug>