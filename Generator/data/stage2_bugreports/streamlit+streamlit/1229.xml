<bug id='1229' author='mysterefrank' open_date='2020-03-17T20:47:09Z' closed_time='2020-05-06T20:26:30Z'>
	<summary>H3HexagonLayer in pydeck doesn't display</summary>
	<description>
I previously posted this as a feature request but realized it's a bug.
Data loaded in an H3HexagonLayer in pydeck doesn't display. The data I'm hoping to visualize has lat long and hex features. Loading the lat longs into a HexagonLayer works, loading the hex feature into an H3HexagonLayer does not. There's no error message - the map displays with no data overlay. I ran the same code in a notebook without streamlit and it works as expected, so this isn't a pydeck bug.
Here's the relevant code:
&lt;denchmark-code&gt;st.write(
  pdk.Deck(
    mapbox_key='my_key',
    map_style="mapbox://styles/mapbox/light-v9",
    tooltip={"text": "Trips: {count}"},
    initial_view_state=pdk.ViewState(
      latitude=40.763781,
      longitude=-111.894560,
      zoom=10,
      bearing=0,
      pitch=50
    ),
    layers=[
      pdk.Layer(
        "H3HexagonLayer",
        df,
        pickable=True,
        stroked=True,
        filled=True,
        extruded=True,
        get_hexagon="hex",
        get_fill_color=f"[255, (1 - count / {max_count}) * 255, 0]",
        get_elevation='count * 20',
        get_line_color=[255, 255, 255],
        line_width_min_pixels=2,
      ),
    ],
  )
)
&lt;/denchmark-code&gt;

Here's df.head():



Â  hex
start_hour
count




8926960292fffff
0
1


8926960440bffff
0
1


8926960444bffff
0
1


89269604457ffff
0
1


892696044cfffff
0
1



	</description>
	<comments>
		<comment id='1' author='mysterefrank' date='2020-04-01T19:35:13Z'>
		Anybody?
		</comment>
		<comment id='2' author='mysterefrank' date='2020-04-02T13:28:32Z'>
		Dear &lt;denchmark-link:https://github.com/mysterefrank&gt;@mysterefrank&lt;/denchmark-link&gt;
,
I believe I've found a solution. Will send a PR today.
		</comment>
		<comment id='3' author='mysterefrank' date='2020-04-04T01:19:54Z'>
		Awesome thanks!
		</comment>
		<comment id='4' author='mysterefrank' date='2020-04-05T18:01:34Z'>
		PR (&lt;denchmark-link:https://github.com/streamlit/streamlit/pull/1306&gt;#1306&lt;/denchmark-link&gt;
) is out.
		</comment>
		<comment id='5' author='mysterefrank' date='2020-05-11T18:47:57Z'>
		Thanks! Think this'll be on master soon?
		</comment>
		<comment id='6' author='mysterefrank' date='2020-05-11T18:53:10Z'>
		&lt;denchmark-link:https://github.com/mysterefrank&gt;@mysterefrank&lt;/denchmark-link&gt;
 It's merged into develop which means you can try it now on the &lt;denchmark-link:https://pypi.org/project/streamlit-nightly/&gt;nightly build&lt;/denchmark-link&gt;

		</comment>
		<comment id='7' author='mysterefrank' date='2020-05-13T07:16:26Z'>
		Thanks! Unfortunately the H3HexagonLayer still doesn't appear :/
		</comment>
		<comment id='8' author='mysterefrank' date='2020-05-13T16:59:31Z'>
		Using your initial code snippet with the following data, I'm seeing the chart below. What are you expecting to see?
&lt;denchmark-code&gt;df = pd.DataFrame({
    "hex": ["8926960292fffff", "8926960440bffff", "8926960444bffff", "89269604457ffff", "892696044cfffff"],
    "start_hour": [0,0,0,0,0],
    "count": [10,50,100,200,500]})

max_count = 500
&lt;/denchmark-code&gt;

&lt;denchmark-link:https://user-images.githubusercontent.com/699897/81842171-ef54e880-9521-11ea-9606-0f61df18e12b.png&gt;&lt;/denchmark-link&gt;

		</comment>
		<comment id='9' author='mysterefrank' date='2020-05-14T00:49:04Z'>
		Oh my it does work, thanks!
		</comment>
	</comments>
</bug>