<bug id='1192' author='Flinst0n' open_date='2020-03-06T13:47:00Z' closed_time='2020-03-09T20:26:52Z'>
	<summary>Plotly Express Treemap from DataFrame does not render</summary>
	<description>
&lt;denchmark-h:h1&gt;Summary&lt;/denchmark-h&gt;

Plotly Express Treemap from a pandas dataframe does not render
&lt;denchmark-h:h1&gt;Steps to reproduce&lt;/denchmark-h&gt;




import streamlit as st
import plotly.express as px

df = px.data.tips()
fig = px.treemap(df, path=['day', 'time', 'sex'], values='total_bill')

st.plotly_chart(fig)

Page is empty

&lt;denchmark-h:h2&gt;Expected behavior:&lt;/denchmark-h&gt;

It should look like this: &lt;denchmark-link:https://plot.ly/python/treemaps/#treemap-of-a-rectangular-dataframe-with-plotlyexpress&gt;https://plot.ly/python/treemaps/#treemap-of-a-rectangular-dataframe-with-plotlyexpress&lt;/denchmark-link&gt;

&lt;denchmark-h:h2&gt;Actual behavior:&lt;/denchmark-h&gt;

No treemap is rendered. An empty plotly canvas appears.
&lt;denchmark-h:h2&gt;Is this a regression?&lt;/denchmark-h&gt;

No
&lt;denchmark-h:h1&gt;Debug info&lt;/denchmark-h&gt;


Streamlit version: Streamlit, version 0.56.0
Python version: Python 3.7.4
Using Conda? PipEnv? PyEnv? Pex? Nope
OS version: Windows 10 1803
Browser version: Chrome Version 80.0.3987.122

&lt;denchmark-h:h1&gt;Additional information&lt;/denchmark-h&gt;

Similar to &lt;denchmark-link:https://github.com/streamlit/streamlit/issues/578&gt;#578&lt;/denchmark-link&gt;
 that has been solved, where an explicit go.Figure and go.Treemap has been used. However, this is in relation to Plotly Express in combination with a rectangular data frame.
	</description>
	<comments>
		<comment id='1' author='Flinst0n' date='2020-03-09T20:26:52Z'>
		As it is specified within the additional information, this is fixed here &lt;denchmark-link:https://github.com/streamlit/streamlit/issues/578&gt;#578&lt;/denchmark-link&gt;

		</comment>
		<comment id='2' author='Flinst0n' date='2020-03-09T21:26:54Z'>
		With the newest streamlit, the presented code is not working. I've installed streamlit-nightly and the code is running now. A hint would have been helpful. Thank you
		</comment>
		<comment id='3' author='Flinst0n' date='2020-07-30T23:45:49Z'>
		Hi &lt;denchmark-link:https://github.com/arraydude&gt;@arraydude&lt;/denchmark-link&gt;
 and &lt;denchmark-link:https://github.com/Flinst0n&gt;@Flinst0n&lt;/denchmark-link&gt;
 ,
I'm building a dashboard for the first time using Dash. All charts are rendering except for the treemap. If I add fig.show() it will render in another tab outside the dash app, which tells me the code is working fine. I'm using plotly express for the treemap. Ive been looking everywhere for a solution so hoping you could help, given you guys are experiencing exactly the same issues in &lt;denchmark-link:https://github.com/streamlit/streamlit/issues/578&gt;#578&lt;/denchmark-link&gt;
. Cheers.
		</comment>
		<comment id='4' author='Flinst0n' date='2020-07-31T07:53:32Z'>
		Hey &lt;denchmark-link:https://github.com/s3630237&gt;@s3630237&lt;/denchmark-link&gt;

This works on my side, Streamlit 0.64 :
import plotly.express as px
import streamlit as st 

fig = px.treemap(
    names = ["Eve","Cain", "Seth", "Enos", "Noam", "Abel", "Awan", "Enoch", "Azura"],
    parents = ["", "Eve", "Eve", "Seth", "Seth", "Eve", "Eve", "Awan", "Eve"]
)
st.plotly_chart(fig)
What kind of error are you experiencing ?
Fanilo
		</comment>
		<comment id='5' author='Flinst0n' date='2020-07-31T09:15:49Z'>
		Hy Fanilo,

Thanks for getting back to me so quickly. Basically I get all charts rendering except the treemap. Below you can see a blank white chart area where the treemap is meant to be. However, If I type fig.show() in my update_treemap function, the treemap renders but not in the dashboard below. It renders in a separate tab (outside the dashboard) as per the 2nd picture. My end goal is to get that 2nd picture in the white blank space. Even if I remove my code and replace it with yours, I get the same result.
Cheers,
Bill
[cid:image002.jpg@01D6676E.FA8F09F0]


[cid:image003.jpg@01D6676E.FA8F09F0]

From: Fanilo Andrianasolo &lt;notifications@github.com&gt;
Sent: Friday, 31 July 2020 5:54 PM
To: streamlit/streamlit &lt;streamlit@noreply.github.com&gt;
Cc: Bill Koutsovasilis &lt;s3630237@student.rmit.edu.au&gt;; Mention &lt;mention@noreply.github.com&gt;
Subject: Re: [streamlit/streamlit] Plotly Express Treemap from DataFrame does not render (&lt;denchmark-link:https://github.com/streamlit/streamlit/issues/1192&gt;#1192&lt;/denchmark-link&gt;
)


Hey &lt;denchmark-link:https://github.com/s3630237&gt;@s3630237&lt;/denchmark-link&gt;
&lt;&lt;denchmark-link:https://aus01.safelinks.protection.outlook.com/?url=https%3A%2F%2Fgithub.com%2Fs3630237&amp;data=02%7C01%7Cs3630237%40student.rmit.edu.au%7C3714371a9f91407293d108d83526dc57%7Cd1323671cdbe4417b4d4bdb24b51316b%7C0%7C0%7C637317788360081511&amp;sdata=yEH2dHRiJ5ZNVp8vV3VHZDEmQFo7S1ra1F7RDOMGYQI%3D&amp;reserved=0&gt;https://aus01.safelinks.protection.outlook.com/?url=https%3A%2F%2Fgithub.com%2Fs3630237&amp;data=02%7C01%7Cs3630237%40student.rmit.edu.au%7C3714371a9f91407293d108d83526dc57%7Cd1323671cdbe4417b4d4bdb24b51316b%7C0%7C0%7C637317788360081511&amp;sdata=yEH2dHRiJ5ZNVp8vV3VHZDEmQFo7S1ra1F7RDOMGYQI%3D&amp;reserved=0&lt;/denchmark-link&gt;
&gt;

This works on my side, Streamlit 0.64 :

import plotly.express as px

import streamlit as st



fig = px.treemap(

    names = ["Eve","Cain", "Seth", "Enos", "Noam", "Abel", "Awan", "Enoch", "Azura"],

    parents = ["", "Eve", "Eve", "Seth", "Seth", "Eve", "Eve", "Awan", "Eve"]

)

st.plotly_chart(fig)

What kind of error are you experiencing ?

Fanilo

â€”
You are receiving this because you were mentioned.
Reply to this email directly, view it on GitHub&lt;&lt;denchmark-link:https://aus01.safelinks.protection.outlook.com/?url=https%3A%2F%2Fgithub.com%2Fstreamlit%2Fstreamlit%2Fissues%2F1192%23issuecomment-666988013&amp;data=02%7C01%7Cs3630237%40student.rmit.edu.au%7C3714371a9f91407293d108d83526dc57%7Cd1323671cdbe4417b4d4bdb24b51316b%7C0%7C0%7C637317788360091505&amp;sdata=aq7WGqDQiZJfMzPW%2FbwhuSY8GR2Xr7%2Ffp5gfwT7A54o%3D&amp;reserved=0&gt;https://aus01.safelinks.protection.outlook.com/?url=https%3A%2F%2Fgithub.com%2Fstreamlit%2Fstreamlit%2Fissues%2F1192%23issuecomment-666988013&amp;data=02%7C01%7Cs3630237%40student.rmit.edu.au%7C3714371a9f91407293d108d83526dc57%7Cd1323671cdbe4417b4d4bdb24b51316b%7C0%7C0%7C637317788360091505&amp;sdata=aq7WGqDQiZJfMzPW%2FbwhuSY8GR2Xr7%2Ffp5gfwT7A54o%3D&amp;reserved=0&lt;/denchmark-link&gt;
&gt;, or unsubscribe&lt;&lt;denchmark-link:https://aus01.safelinks.protection.outlook.com/?url=https%3A%2F%2Fgithub.com%2Fnotifications%2Funsubscribe-auth%2FAO2ZL3ASR2HR3X2DDE74HKLR6J2AVANCNFSM4LDAQZVA&amp;data=02%7C01%7Cs3630237%40student.rmit.edu.au%7C3714371a9f91407293d108d83526dc57%7Cd1323671cdbe4417b4d4bdb24b51316b%7C0%7C0%7C637317788360091505&amp;sdata=dB4nxiSCeLEicIyD1ver4d8%2BlkhfkUNu4hy8S3RbT0Q%3D&amp;reserved=0&gt;https://aus01.safelinks.protection.outlook.com/?url=https%3A%2F%2Fgithub.com%2Fnotifications%2Funsubscribe-auth%2FAO2ZL3ASR2HR3X2DDE74HKLR6J2AVANCNFSM4LDAQZVA&amp;data=02%7C01%7Cs3630237%40student.rmit.edu.au%7C3714371a9f91407293d108d83526dc57%7Cd1323671cdbe4417b4d4bdb24b51316b%7C0%7C0%7C637317788360091505&amp;sdata=dB4nxiSCeLEicIyD1ver4d8%2BlkhfkUNu4hy8S3RbT0Q%3D&amp;reserved=0&lt;/denchmark-link&gt;
&gt;.
		</comment>
	</comments>
</bug>