<bug id='274' author='selasley' open_date='2019-10-04T16:36:19Z' closed_time='2019-10-05T20:52:48Z'>
	<summary>streamit hello Mapping and DataFrame demos crash in Safari on macOS 10.14</summary>
	<description>
&lt;denchmark-h:h1&gt;Summary&lt;/denchmark-h&gt;

Installed streamlit in a python 3.7.4 virtual environment and ran streamlit hello.  The Animation and Plotting demos worked but the Mapping and DataFrame demos failed
&lt;denchmark-h:h1&gt;Steps to reproduce&lt;/denchmark-h&gt;

python3 -m venv strmlt
pip3 install -U pip setuptools
pip3 install streamlit
streamlit hello
select Mapping Demo from the dropdown menu
&lt;denchmark-h:h2&gt;Expected behavior:&lt;/denchmark-h&gt;

Demo runs
&lt;denchmark-h:h2&gt;Actual behavior:&lt;/denchmark-h&gt;

Three yellow boxes appeared starting wit the text "Streamlit failed to hash an object of type &lt;class 'function'&gt;.,"
Traceback in a red box at the bottom contains the text
TypeError: object supporting the buffer API required
File "/Users/test/strmlt/lib/python3.7/site-packages/streamlit/ScriptRunner.py", line 306, in _run_script exec(code, module.dict)
File "/Users/test/strmlt/lib/python3.7/site-packages/streamlit/hello.py", line 334, in  run()
File "/Users/test/strmlt/lib/python3.7/site-packages/streamlit/hello.py", line 308, in run demo()
File "/Users/test/strmlt/lib/python3.7/site-packages/streamlit/hello.py", line 78, in mapping_demo "data": from_data_file("bike_rental_stats.json"),
File "/Users/test/strmlt/lib/python3.7/site-packages/streamlit/caching.py", line 544, in wrapped_func return get_or_set_cache()
File "/Users/test/strmlt/lib/python3.7/site-packages/streamlit/caching.py", line 509, in get_or_set_cache code_hasher.update(func)
File "/Users/test/strmlt/lib/python3.7/site-packages/streamlit/hashing.py", line 185, in update self._update(self.hasher, obj, context)
File "/Users/test/strmlt/lib/python3.7/site-packages/streamlit/hashing.py", line 217, in _update hasher.update(b)
&lt;denchmark-h:h2&gt;Is this a regression?&lt;/denchmark-h&gt;

The Mapping and DataFrame demos behaved the same way the first time I ran them and in all subsequent times.
&lt;denchmark-h:h1&gt;Debug info&lt;/denchmark-h&gt;


Streamlit version: Streamlit, version 0.47.3
Python version: Python 3.7.4
Using python3 from python.org
OS version: macOS 10.14.6
Browser version: Safari 13.0.1

&lt;denchmark-h:h1&gt;Additional information&lt;/denchmark-h&gt;

Learned about streamit from the towardsdatascience article.  Looks very useful.
	</description>
	<comments>
		<comment id='1' author='selasley' date='2019-10-05T14:26:21Z'>
		I had the same issue, but with Chrome and Ubuntu 18.04.
		</comment>
		<comment id='2' author='selasley' date='2019-10-05T15:15:09Z'>
		Same here too, maybe related to &lt;denchmark-link:https://github.com/streamlit/streamlit/issues/242&gt;#242&lt;/denchmark-link&gt;
 ?

Streamlit, version 0.47.3
Python 3.7.1 (miniconda install)
Ubuntu 18.04.3 LTS
Chrome Version 71.0.3578.98

		</comment>
		<comment id='3' author='selasley' date='2019-10-05T20:52:48Z'>
		Hi all!
I believe &lt;denchmark-link:https://github.com/mostlymetalman&gt;@mostlymetalman&lt;/denchmark-link&gt;
 is right: this is the same bug as &lt;denchmark-link:https://github.com/streamlit/streamlit/issues/242&gt;#242&lt;/denchmark-link&gt;
. And we have a PR with a fix over here: &lt;denchmark-link:https://github.com/streamlit/streamlit/pull/254&gt;#254&lt;/denchmark-link&gt;
 . We're hoping this fix will land in the next minor Streamlit release.
So I'll close this bug as a duplicate for now. If you think this is not correct, please reopen.
		</comment>
	</comments>
</bug>