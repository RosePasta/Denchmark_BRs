<bug id='512' author='komodovaran' open_date='2019-10-23T11:50:50Z' closed_time='2019-11-06T17:33:16Z'>
	<summary>Plotly color scale expands to fill available labels, but doesn't contract again</summary>
	<description>
Load the example below. Because there's only 2 labels initially, the color scale takes this into account. If the slider is set all the way to max, the color scale will accomodate all 20 colors. However, when the slider is set back to 2, the scale is stuck at a 20 colors, and doesn't rescale to maximize contrast between 2.
Is this intentional?
Streamlit version 0.48.1
Plotly version 4.2.1
&lt;denchmark-code&gt;import plotly.express as px
import streamlit as st
import pandas as pd
import numpy as np

n_labels = st.slider(min_value=2, max_value=20, value=2, label="Number of labels")

data = pd.DataFrame(
    {
        "x": np.random.normal(0, 1, 20),
        "y": np.random.normal(0, 1, 20),
        "label": np.random.randint(1, n_labels + 1, 20),
    }
)

fig = px.scatter(data, x="x", y="y", color="label")

st.write(fig)
&lt;/denchmark-code&gt;

	</description>
	<comments>
		<comment id='1' author='komodovaran' date='2019-11-05T17:01:07Z'>
		Hey &lt;denchmark-link:https://github.com/komodovaran&gt;@komodovaran&lt;/denchmark-link&gt;
 - I'm taking a look at this right now. (It's not intentional - definitely a bug.)
		</comment>
		<comment id='2' author='komodovaran' date='2019-11-06T00:08:31Z'>
		As far as I can tell, this is a Plotly bug. I made a &lt;denchmark-link:https://codepen.io/timconkling/pen/XWWEgwd&gt;simple repro case for them here&lt;/denchmark-link&gt;
 and &lt;denchmark-link:https://github.com/plotly/react-plotly.js/issues/167&gt;opened a bug here&lt;/denchmark-link&gt;
.
As a workaround, I'm going to force the component to unmount and remount on each render, which may make things a wee bit slower, but at least fixes the issue...
		</comment>
	</comments>
</bug>