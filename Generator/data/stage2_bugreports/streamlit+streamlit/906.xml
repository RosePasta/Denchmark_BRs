<bug id='906' author='treuille' open_date='2020-01-01T18:14:49Z' closed_time='2020-01-07T00:56:25Z'>
	<summary>`@st.cache` should only accept valid keyword arguments</summary>
	<description>
&lt;denchmark-h:h1&gt;Summary&lt;/denchmark-h&gt;

st.cache silently accepts incorrect keyword arguments.
Such invalid keyword arguments should throw an exception.
The present behavior could cause subtle bugs if, for example, the user missspells a keyword argument (like peristtt instead of persist)
&lt;denchmark-h:h2&gt;Steps to reproduce&lt;/denchmark-h&gt;

Run this:
import streamlit as st

@st.cache(peristtt=True)
def foo(x):
    return x

st.show(foo(42))
&lt;denchmark-h:h1&gt;Behavior&lt;/denchmark-h&gt;

&lt;denchmark-h:h2&gt;Actual behavior&lt;/denchmark-h&gt;

Streamlit silently ignores the invalid keyword argument.
&lt;denchmark-h:h2&gt;Expected behavior&lt;/denchmark-h&gt;

Streamlit show throw:
&lt;denchmark-code&gt;TypeError: cache() got an unexpected keyword argument 'persisttt'
&lt;/denchmark-code&gt;

&lt;denchmark-h:h1&gt;Debug info&lt;/denchmark-h&gt;

&lt;denchmark-code&gt;$ streamlit version &amp;&amp; python --version &amp;&amp; pyenv --version &amp;&amp; sw_vers &amp;&amp; "/Applications/Google Chrome.app/Contents/MacOS/Google Chrome" --version

Streamlit, version 0.52.2
Python 3.6.3
pyenv 1.2.15
ProductName:    Mac OS X
ProductVersion: 10.15.1
BuildVersion:   19B88
Google Chrome 79.0.3945.88 
&lt;/denchmark-code&gt;

	</description>
	<comments>
		<comment id='1' author='treuille' date='2020-01-03T22:34:41Z'>
		The only thing we're using  for is this deprecated arg, so the solution discussed w/ &lt;denchmark-link:https://github.com/tvst&gt;@tvst&lt;/denchmark-link&gt;
 is to remove supporting arbitrary keywords and just explicitly name this arg until it's finally removed.
&lt;denchmark-code&gt;# Help users migrate to the new kwarg
# Remove this warning after 2020-03-16.
if "ignore_hash" in kwargs:
    raise Exception(
        "The `ignore_hash` argument has been renamed to `allow_output_mutation`."
    )
&lt;/denchmark-code&gt;

		</comment>
		<comment id='2' author='treuille' date='2020-01-03T22:53:48Z'>
		This looks right.  PR coming.
&lt;denchmark-link:https://user-images.githubusercontent.com/98836/71753877-d2542e80-2e38-11ea-834b-3b93df8ce50b.png&gt;&lt;/denchmark-link&gt;

		</comment>
	</comments>
</bug>