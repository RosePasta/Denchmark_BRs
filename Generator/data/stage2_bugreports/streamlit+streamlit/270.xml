<bug id='270' author='lmwilki' open_date='2019-10-04T09:14:54Z' closed_time='2020-05-01T21:11:51Z'>
	<summary>Text artifacts left in "hello" demo</summary>
	<description>
&lt;denchmark-h:h1&gt;Summary&lt;/denchmark-h&gt;

Some form of text corruption artefact on the the "hello" demo.
&lt;denchmark-h:h1&gt;Steps to reproduce&lt;/denchmark-h&gt;

What are the steps we should take to reproduce the bug:

Running Windows 10
Python 3.7.3 | packaged by conda-forge | (default, Mar 27 2019, 23:18:50) [MSC v.1900 64 bit (AMD64)] :: Anaconda, Inc. on win32
run "streamlit hello"
In the "choose a demo" drop down the default page is called '√¢‚Ç¨"' and the title is 'Welcome to Streamlit! √∞≈∏‚Äò‚Äπ'

&lt;denchmark-h:h2&gt;Expected behavior:&lt;/denchmark-h&gt;

Non corrupted text
&lt;denchmark-h:h2&gt;Actual behavior:&lt;/denchmark-h&gt;

In the "choose a demo" drop down the default page is called '√¢‚Ç¨"' and the title is 'Welcome to Streamlit! √∞≈∏‚Äò‚Äπ'
&lt;denchmark-h:h2&gt;Is this a regression?&lt;/denchmark-h&gt;

no
&lt;denchmark-h:h1&gt;Debug info&lt;/denchmark-h&gt;


Streamlit version: (get it with $ streamlit version) = Streamlit, version 0.47.3
Python version: (get it with $ python --version) = Python 3.7.3
Using Conda? PipEnv? PyEnv? Pex? = Conda
OS version: Microsoft Windows 10 Pro (Version	10.0.18362 Build 18362)
Browser version: Google Chrome 77.0.3865.90 (Official Build) (64-bit)

&lt;denchmark-link:https://user-images.githubusercontent.com/26510315/66196052-c61cd180-e68f-11e9-9e99-e9bc0a3d401f.png&gt;&lt;/denchmark-link&gt;

	</description>
	<comments>
		<comment id='1' author='lmwilki' date='2019-10-05T20:15:04Z'>
		Hi LiamMW
I just noticed this the other day too, when testing on a Windows VM.
This looks like a Python Unicode issue. We'll have to do some research to find the right solution here, but it would be great if someone with more Windows experience could chip in.
		</comment>
		<comment id='2' author='lmwilki' date='2019-10-11T04:25:10Z'>
		I have seen those weird symbols before. I think its because its often the case in Windows that the default encoding is latin-1 instead of UTF-8.
		</comment>
		<comment id='3' author='lmwilki' date='2019-10-11T04:29:40Z'>
		Not sure if we want to include new dependencies, but I see there are a few issues relating to encoding.
A bit of a brute force approach to solving those issues that has worked well in the past, if you have a broad user base is called; ftfy (fix text for you). Perhaps this could be handy for streamlit?
&lt;denchmark-link:https://github.com/LuminosoInsight/python-ftfy&gt;https://github.com/LuminosoInsight/python-ftfy&lt;/denchmark-link&gt;

		</comment>
		<comment id='4' author='lmwilki' date='2019-10-14T01:53:32Z'>
		Oh, that's an interesting Python module. As you say, we should be judicious about adding dependencies, so let's see if we can solve this without that. But that's a good candidate in case we have no recourse üëç
Can someone try this on Windows? (As luck would have it, my Windows machine just broke...)

st.write('Using unescaped unicode: üëç')
st.write('Using escaped unicode: \U0001F44D')
st.write(u'Using unescaped unicode and explicit unicode literal: üëç')
st.write(u'Using escaped unicode and explicit unicode literal: \U0001F44D')

Do any of these print correctly?
(If no response after I'm done triaging all pending issues, I'll download and run a Windows VM to try this out myself)
		</comment>
		<comment id='5' author='lmwilki' date='2019-10-14T04:46:38Z'>
		I'll give it a test later today and let you know.
		</comment>
		<comment id='6' author='lmwilki' date='2019-10-19T08:20:52Z'>
		Hi &lt;denchmark-link:https://github.com/tvst&gt;@tvst&lt;/denchmark-link&gt;
 , I use windows machine and is getting similar output on running the demo. These are the outputs I got


st.write('Using unescaped unicode: üëç')


Script execution error(popup window) - 'charmap' codec can't decode byte 0x8d in position 65: character maps to 


st.write('Using escaped unicode: \U0001F44D')


Using escaped unicode: üëç


st.write(u'Using unescaped unicode and explicit unicode literal: üëç')


Script execution error(popup window) - 'charmap' codec can't decode byte 0x8d in position 95: character maps to 


st.write(u'Using escaped unicode and explicit unicode literal: \U0001F44D')


Using escaped unicode and explicit unicode literal: üëç
		</comment>
		<comment id='7' author='lmwilki' date='2020-05-01T00:48:13Z'>
		&lt;denchmark-link:https://user-images.githubusercontent.com/98836/80772177-b58be700-8b0a-11ea-8172-92882aa0e7be.png&gt;&lt;/denchmark-link&gt;

Using Python 3.7 on Windows 10 with streamlit 0.58.0
		</comment>
		<comment id='8' author='lmwilki' date='2020-05-01T21:09:09Z'>
		I did not see the following behavior in any version of python on Windows:

Script execution error(popup window) - 'charmap' codec can't decode byte 0x8d in position 95: character maps to

		</comment>
		<comment id='9' author='lmwilki' date='2020-05-01T21:11:50Z'>
		The &lt;?&gt; looking character needs to be fixed by &lt;denchmark-link:https://www.quora.com/Why-doesnt-Microsoft-use-UTF-8-on-Windows-10&gt;enabling Unicode in Windows.&lt;/denchmark-link&gt;

		</comment>
	</comments>
</bug>