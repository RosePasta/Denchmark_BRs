<bug id='1636' author='oke-aditya' open_date='2020-06-27T12:45:39Z' closed_time='2020-07-02T13:39:44Z'>
	<summary>Cannot Deploy Streamlit to Heroku</summary>
	<description>
&lt;denchmark-h:h1&gt;Summary&lt;/denchmark-h&gt;

Hey Streamlit Team. You are doing fantastic job. My app build successfully locally, but when shifting it to heroku. It gives strange errors.
&lt;denchmark-h:h1&gt;Steps to reproduce&lt;/denchmark-h&gt;

What are the steps we should take to reproduce the bug:

Clone my repo. from here
Install the requirements. Check if it runs locally by running streamlit run src/object_detection_app.py
Try to deploy to Heroku. It will give strange errors.

&lt;denchmark-h:h2&gt;Expected behavior:&lt;/denchmark-h&gt;

Should deploy properly as I'm Following the steps.
&lt;denchmark-h:h2&gt;Actual behavior:&lt;/denchmark-h&gt;

Here is Heroku log: -
&lt;denchmark-link:https://user-images.githubusercontent.com/47158509/85922549-d28e2d80-b8a1-11ea-8403-bcb4fc4253da.png&gt;&lt;/denchmark-link&gt;

&lt;denchmark-h:h1&gt;Debug info&lt;/denchmark-h&gt;


Streamlit version: 0.62.0
Python version: 3.6.8 locally and 3.6.10 on Heroku.
Using Conda locally, Heroku uses Pip
OS version: Heroku Linux. Locally Windows

&lt;denchmark-h:h1&gt;Additional information&lt;/denchmark-h&gt;


My setup file looks like this, which is recommended by discussion forums. (I'm not exposing my email here it is fine in repo).

&lt;denchmark-code&gt;mkdir -p ~/.streamlit/

echo "\
[general]\n\
email = \"myemail@example.com\"\n\
" &gt; ~/.streamlit/credentials.toml

echo "\
[server]\n\
headless = true\n\
port = $PORT\n\
enableCORS = false\n\
\n\
" &gt; ~/.streamlit/config.toml

&lt;/denchmark-code&gt;

and this is the Procfile
&lt;denchmark-code&gt;web: sh setup.sh &amp;&amp; streamlit run src/object_detection_app.py
&lt;/denchmark-code&gt;

Please let me know the changes required to make this run on Heroku.
	</description>
	<comments>
		<comment id='1' author='oke-aditya' date='2020-06-27T12:46:30Z'>
		Note: - It is not a slugsize issue of Heroku. Also, the documentation has no tutorial for Heroku deployment (sad really).
		</comment>
		<comment id='2' author='oke-aditya' date='2020-07-01T11:57:07Z'>
		I have recently deployed to heroku and had no problem.
my setup.sh is a bit shorter
&lt;denchmark-code&gt;mkdir -p ~/.streamlit

echo "[server]
headless = true
port = $PORT
enableCORS = false
" &gt; ~/.streamlit/config.toml
&lt;/denchmark-code&gt;

and procfile looks similar
&lt;denchmark-code&gt;web: sh setup.sh &amp;&amp; streamlit run app.py
&lt;/denchmark-code&gt;

Now I see your main python file is in src directory, and I see it gives an error about "/"  not being recognized.  I really have no idea why it would have a problem with "/" in the path as in my mind it should work, but maybe it is something you wanna check out.  I have the same setup as yours.

Using Conda locally, Heroku uses Pip


OS version: Heroku Linux. Locally Windows

		</comment>
		<comment id='3' author='oke-aditya' date='2020-07-01T13:20:12Z'>
		Thanks for having a look. ðŸ¤— I will modify my setup.sh file
But  worked &lt;denchmark-link:https://github.com/madewithml/e2e-ml-app-pytorch/blob/master/Procfile&gt;here&lt;/denchmark-link&gt;

I am bit confused I mean it would be odd for me to restructure the code. for /
		</comment>
		<comment id='4' author='oke-aditya' date='2020-07-01T13:37:25Z'>
		have a look at this issue-&gt; &lt;denchmark-link:https://discuss.streamlit.io/t/issue-with-serving-a-streamlit-heroku-app-in-a-browser/2543&gt;https://discuss.streamlit.io/t/issue-with-serving-a-streamlit-heroku-app-in-a-browser/2543&lt;/denchmark-link&gt;

maybe there is a hidden dependency
		</comment>
		<comment id='5' author='oke-aditya' date='2020-07-02T09:31:35Z'>
		I just did a . I am using Miniconda. This is my requirments.txt file. How do I know if these dependencies are installed properly on heroku ?
&lt;denchmark-link:https://github.com/streamlit/streamlit/files/4863270/requirements.txt&gt;requirements.txt&lt;/denchmark-link&gt;

		</comment>
		<comment id='6' author='oke-aditya' date='2020-07-02T13:39:44Z'>
		Hi &lt;denchmark-link:https://github.com/oke-aditya&gt;@oke-aditya&lt;/denchmark-link&gt;
, this is probably a better question for our forum, since Heroku isn't really part of the Streamlit product.
We've got a few posts on the forum in the &lt;denchmark-link:https://discuss.streamlit.io/tag/heroku&gt;Heroku&lt;/denchmark-link&gt;
 section, so if those don't help, please feel free to start a new conversation and hopefully we can get it figured out.
Best,
Randy
		</comment>
		<comment id='7' author='oke-aditya' date='2020-07-05T18:31:47Z'>
		Thank you for this. I will go to discuss forums and see if it solves the issue.
		</comment>
		<comment id='8' author='oke-aditya' date='2020-07-05T18:31:52Z'>
		Thank you for this. I will go to discuss forums and see if it solves the issue.
		</comment>
	</comments>
</bug>