<bug id='1010' author='kmcentush' open_date='2020-01-23T20:04:31Z' closed_time='2020-03-06T00:32:44Z'>
	<summary>Selectbox Search Returning Unexpected Results</summary>
	<description>
&lt;denchmark-h:h1&gt;Summary&lt;/denchmark-h&gt;

Iâ€™m working with the select box and I noticed that, when I start typing to help narrow down the search window, it returns results that I am not expecting.
&lt;denchmark-h:h1&gt;Steps to reproduce&lt;/denchmark-h&gt;

What are the steps we should take to reproduce the bug:

Run the following streamlit code.
import streamlit as st; st.selectbox('Example', ['None'] + [i for i in range(20)]);
In the selectbox, type "8".

&lt;denchmark-h:h2&gt;Expected behavior:&lt;/denchmark-h&gt;

Searching "8" should only return results "8" and "18", as they contain the character "8" in them.
&lt;denchmark-h:h2&gt;Actual behavior:&lt;/denchmark-h&gt;

The results "7", "8", "17", and "18" are returned.
I believe that the underlying search function is also returning results whose index has an "8" in it. After all, because we padded the initial selectbox with "None", the values of "7" and "17" are actually at indices "8" and "18".
Typing "0" seems to confirm my suspicions, as "None" is returned (it's at index 0) along with "0" (as expected), "9" (which is index 10), "10" (as expected), and "19" (which is index 20).
&lt;denchmark-h:h2&gt;Is this a regression?&lt;/denchmark-h&gt;

No idea. I have only ever used streamlit 0.53.0
&lt;denchmark-h:h1&gt;Debug info&lt;/denchmark-h&gt;


Streamlit version: (get it with $ streamlit version): 0.53.0
Python version: (get it with $ python --version): 3.7.4
Using Conda? PipEnv? PyEnv? Pex?: Conda
OS version: Windows 10 Pro 64-bit
Browser version: Chrome Version 79.0.3945.130 (Official Build) (64-bit)

&lt;denchmark-h:h1&gt;Additional information&lt;/denchmark-h&gt;

See discussion here: &lt;denchmark-link:https://discuss.streamlit.io/t/bug-w-searching-in-selectbox/1717&gt;https://discuss.streamlit.io/t/bug-w-searching-in-selectbox/1717&lt;/denchmark-link&gt;

	</description>
	<comments>
		<comment id='1' author='kmcentush' date='2020-01-28T21:50:22Z'>
		Thanks for the bug report &lt;denchmark-link:https://github.com/kmcentush&gt;@kmcentush&lt;/denchmark-link&gt;
 !
I've added it to our board for triage.
BaseWeb's &lt;denchmark-link:https://baseweb.design/components/select/?code=import%20*%20as%20React%20from%20%22react%22%3B%0Aimport%20%7B%20Select%2C%20TYPE%20%7D%20from%20%22baseui%2Fselect%22%3B%0A%0Aexport%20default%20()%20%3D%3E%20%7B%0A%20%20const%20%5Bvalue%2C%20setValue%5D%20%3D%20React.useState(%5B%5D)%3B%0A%20%20return%20(%0A%20%20%20%20%3CSelect%0A%20%20%20%20%20%20options%3D%7B%5B%0A%20%20%20%20%20%20%20%20%7B%20label%3A%20%22AliceBlue%22%2C%20id%3A%20%22%23F0F8FF%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20label%3A%20%22AntiqueWhite%22%2C%20id%3A%20%22%23FAEBD7%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20label%3A%20%22Aqua%22%2C%20id%3A%20%22%2300FFFF%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20label%3A%20%22Aquamarine%22%2C%20id%3A%20%22%237FFFD4%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20label%3A%20%22Azure%22%2C%20id%3A%20%22%23F0FFFF%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20label%3A%20%22Beige%22%2C%20id%3A%20%22%23F5F5DC%22%20%7D%0A%20%20%20%20%20%20%5D%7D%0A%20%20%20%20%20%20value%3D%7Bvalue%7D%0A%20%20%20%20%20%20type%3D%7BTYPE.search%7D%0A%20%20%20%20%20%20placeholder%3D%22Select%20color%22%0A%20%20%20%20%20%20onChange%3D%7Bparams%20%3D%3E%20setValue(params.value)%7D%0A%20%20%20%20%20%20onInputChange%3D%7Bevent%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20console.log(event)%3B%0A%20%20%20%20%20%20%7D%7D%0A%20%20%20%20%2F%3E%0A%20%20)%3B%0A%7D&gt;selectbox code sandbox&lt;/denchmark-link&gt;
 behaves the same way so it seems to be the default search behavior
		</comment>
		<comment id='2' author='kmcentush' date='2020-01-28T22:27:24Z'>
		Maybe we can use onInputChange to limit the search to only the label and not the id
&lt;denchmark-link:https://github.com/uber/baseweb/blob/3d6e3c4a40d4787aa080dc48bd8b7ffe121d61e9/src/select/__tests__/select-async-options.scenario.js#L31&gt;https://github.com/uber/baseweb/blob/3d6e3c4a40d4787aa080dc48bd8b7ffe121d61e9/src/select/__tests__/select-async-options.scenario.js#L31&lt;/denchmark-link&gt;

		</comment>
		<comment id='3' author='kmcentush' date='2020-03-03T23:47:13Z'>
		We can probably override the original filter: &lt;denchmark-link:https://github.com/uber/baseweb/blob/3d6e3c4a40d4787aa080dc48bd8b7ffe121d61e9/src/select/utils/default-filter-options.js&gt;https://github.com/uber/baseweb/blob/3d6e3c4a40d4787aa080dc48bd8b7ffe121d61e9/src/select/utils/default-filter-options.js&lt;/denchmark-link&gt;

		</comment>
		<comment id='4' author='kmcentush' date='2020-03-06T00:32:44Z'>
		This should be fixed in &lt;denchmark-link:https://github.com/streamlit/streamlit/pull/1182&gt;#1182&lt;/denchmark-link&gt;
. Please, reopen if not.
		</comment>
	</comments>
</bug>