<bug id='973' author='jjpantano' open_date='2020-01-15T12:22:11Z' closed_time='2020-01-15T19:28:34Z'>
	<summary>st.write throws exception on multi-index dataframe</summary>
	<description>
&lt;denchmark-h:h1&gt;Summary&lt;/denchmark-h&gt;

Have a dataset that is multi index, first is categorical and second is timedate.
&lt;denchmark-link:https://github.com/streamlit/streamlit/files/4064813/test.zip&gt;test.zip&lt;/denchmark-link&gt;

&lt;denchmark-h:h1&gt;Steps to reproduce&lt;/denchmark-h&gt;

&lt;denchmark-code&gt;import streamlit as st
import pandas as pd

@st.cache  # whats going on here
def read_pickle(filename):
    return pd.read_pickle(filename, compression='zip')

data = read_pickle('test.zip')
st.write(data)
&lt;/denchmark-code&gt;

&lt;denchmark-h:h2&gt;Expected behavior:&lt;/denchmark-h&gt;

Expected this file to be able to read.
&lt;denchmark-h:h2&gt;Actual behavior:&lt;/denchmark-h&gt;

NotImplementedError: Can't handle &lt;class 'pandas.core.indexes.category.CategoricalIndex'&gt; yet.
Traceback:
File "c:\lib\site-packages\streamlit\ScriptRunner.py", line 324, in run_script
exec(code, module.dict)
File "C:\streamlit_dataframe_explorer_app.py", line 217, in 
main()
File "C:\streamlit_dataframe_explorer_app.py", line 52, in main
st.dataframe(df.head(int(number)))
File "c:\lib\site-packages\streamlit_init.py", line 152, in wrapped_method
return method.get(dg)(*args, **kwargs)
File "c:\lib\site-packages\streamlit\DeltaGenerator.py", line 89, in wrapped_method
return method(self, *args, **kwargs)
File "c:\lib\site-packages\streamlit\DeltaGenerator.py", line 890, in dataframe
set_data_frame, "dataframe", element_width=width, element_height=height
File "c:\lib\site-packages\streamlit\DeltaGenerator.py", line 393, in _enqueue_new_element_delta
rv = marshall_element(msg.delta.new_element)
File "c:\lib\site-packages\streamlit\DeltaGenerator.py", line 887, in set_data_frame
data_frame_proto.marshall_data_frame(data, delta.data_frame)
File "c:\lib\site-packages\streamlit\elements\data_frame_proto.py", line 52, in marshall_data_frame
_marshall_index(df.index, proto_df.index)
File "c:\lib\site-packages\streamlit\elements\data_frame_proto.py", line 224, in _marshall_index
_marshall_index(level, proto_index.multi_index.levels.add())
File "c:\lib\site-packages\streamlit\elements\data_frame_proto.py", line 244, in _marshall_index
raise NotImplementedError("Can't handle %s yet." % type(pandas_index))
&lt;denchmark-h:h2&gt;Is this a regression?&lt;/denchmark-h&gt;

No
&lt;denchmark-h:h1&gt;Debug info&lt;/denchmark-h&gt;

see above error message
Streamlit, version 0.53.0
Python 3.7.6

Conda
Windows 10
Version 80.0.3987.42 (Official Build) beta (64-bit)

&lt;denchmark-h:h1&gt;Additional information&lt;/denchmark-h&gt;

None
	</description>
	<comments>
		<comment id='1' author='jjpantano' date='2020-01-15T19:28:34Z'>
		Hey &lt;denchmark-link:https://github.com/jjpantano&gt;@jjpantano&lt;/denchmark-link&gt;
, thanks for taking the time to file a bug!
Streamlit doesn't currently support multi-index dataframes. However, there's a task underway that improves our dataframe handling, and which will add this support. (If you're interested, you can follow the progress in &lt;denchmark-link:https://github.com/streamlit/streamlit/pull/899&gt;#899&lt;/denchmark-link&gt;
.)
I'm going to close this bug report, since we're already tracking this elsewhere. (But feel free to re-open if I've misunderstood the issue!)
		</comment>
	</comments>
</bug>