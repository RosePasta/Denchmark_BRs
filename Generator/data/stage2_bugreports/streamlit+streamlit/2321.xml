<bug id='2321' author='thatlittleboy' open_date='2020-11-06T01:43:20Z' closed_time='2020-12-22T20:58:54Z'>
	<summary>Sorting dataframe does not toggle between asc and desc</summary>
	<description>
&lt;denchmark-h:h1&gt;Summary&lt;/denchmark-h&gt;

Clicking the column/index headers once sorts the st.dataframe by ascending, clicking them once again sorts the dataframe by descending, but further clicks do nothing more.
&lt;denchmark-h:h1&gt;Steps to reproduce&lt;/denchmark-h&gt;

Following the Uber example from the Streamlit docs:
&lt;denchmark-code&gt;import streamlit as st
import pandas as pd


DATE_COLUMN = 'date/time'
DATA_URL = 'https://s3-us-west-2.amazonaws.com/streamlit-demo-data/uber-raw-data-sep14.csv.gz'


@st.cache
def load_data(nrows: int) -&gt; pd.DataFrame:
    data = pd.read_csv(DATA_URL, nrows=nrows)
    data.rename(lambda x: str(x).lower(), axis='columns', inplace=True)
    data[DATE_COLUMN] = pd.to_datetime(data[DATE_COLUMN])
    return data


data_load_state = st.markdown("Loading data...")
data = load_data(20)
data_load_state.markdown("Done loading data using `st.cache`!")

st.write(data)
&lt;/denchmark-code&gt;


Run the streamlit app above.
Click on any of the column headers (e.g. date/time) in the dataframe, &gt;2 times consecutively.

&lt;denchmark-h:h2&gt;Expected behavior:&lt;/denchmark-h&gt;

Clicking on the column or index headers toggles the column sorting between asc and desc.
Currently it seems the only way to do so would be to click a different column header (to sort by that col), so that the sorting order on the original column is reset.
&lt;denchmark-h:h2&gt;Actual behavior:&lt;/denchmark-h&gt;

The dataframe sorting stops at "desc", and further clicks on the headers won't toggle the sorting any further.
&lt;denchmark-h:h2&gt;Is this a regression?&lt;/denchmark-h&gt;

Unsure.
&lt;denchmark-h:h1&gt;Debug info&lt;/denchmark-h&gt;


Streamlit version: 0.70.0
Python version: 3.8.2
Pyenv
OS version: Mac OS Catalina 10.15.7
Browser version: Firefox 82.0.2 (64 bit)

&lt;denchmark-h:h1&gt;Additional information&lt;/denchmark-h&gt;

Originally discussed here &lt;denchmark-link:https://discuss.streamlit.io/t/sorting-dataframe-does-not-toggle-between-asc-and-desc/6805&gt;https://discuss.streamlit.io/t/sorting-dataframe-does-not-toggle-between-asc-and-desc/6805&lt;/denchmark-link&gt;

If this is not a bug, consider this a feature request? :) Thanks.
	</description>
	<comments>
		<comment id='1' author='thatlittleboy' date='2020-11-06T18:04:11Z'>
		Strange!  This might be a regression.  We'll try and look at it right away.  Thanks!
		</comment>
		<comment id='2' author='thatlittleboy' date='2020-12-17T05:29:38Z'>
		(Anecdotally -- my friend &lt;denchmark-link:https://github.com/mzjliu&gt;@mzjliu&lt;/denchmark-link&gt;
 playing with Streamlit complained about this exact same issue)
		</comment>
	</comments>
</bug>