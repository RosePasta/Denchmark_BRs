<bug id='485' author='kellyamanda' open_date='2019-10-21T17:59:13Z' closed_time='2019-11-26T20:09:13Z'>
	<summary>Passing a date in index to st.line_chart defaults to UTC time zone</summary>
	<description>
&lt;denchmark-h:h1&gt;Summary&lt;/denchmark-h&gt;

This may not be a Streamlit bug - it may be a Python issue where I need to declare a datetime. When I pass a date through as the index to st.line_chart my graph is then shifted 7 hours back in time from my intended time (e.g. I would want to show value 50 on the graph for midnight on 2019-08-10 and it shows as 5pm for 2019-08-09). I think what is happening is somehow it's doing a UTC offset by default. Would like to
&lt;denchmark-h:h1&gt;Steps to reproduce&lt;/denchmark-h&gt;

df = pd.DataFrame({
'index': [date(2019, 8, 9), date(2019, 8, 10), date(2019, 8, 11), date(2019, 8, 12)],
'numbers': [10, 50, 30, 40]
})
df
st.line_chart(df.set_index('index'))
&lt;denchmark-h:h2&gt;Expected behavior:&lt;/denchmark-h&gt;

I would expect it to plot in the date that I passed through but it's converting it for some reason. Also happens when I use pd.to_datetime() on a dataset.
&lt;denchmark-h:h2&gt;Actual behavior:&lt;/denchmark-h&gt;

Shifts it back in time by 7 hours.
&lt;denchmark-h:h2&gt;Is this a regression?&lt;/denchmark-h&gt;

No
&lt;denchmark-h:h1&gt;Debug info&lt;/denchmark-h&gt;

Streamlit, version 0.47.4
Python 3.7.2
	</description>
	<comments>
		<comment id='1' author='kellyamanda' date='2019-10-30T00:56:10Z'>
		By default, Vegalite outputs time data in local time: &lt;denchmark-link:https://vega.github.io/vega-lite/docs/timeunit.html#output&gt;https://vega.github.io/vega-lite/docs/timeunit.html#output&lt;/denchmark-link&gt;

We can fix this by setting scale: {type: "utc"} in the chart spec:
chart = (
    getattr(alt.Chart(data), "mark_" + chart_type)()
    .encode(
        alt.X("index", title="", scale=alt.Scale(type="utc")),  # &lt;-- set "scale" to "utc"
        alt.Y("value", title=""),
        alt.Color("variable", title="", type="nominal"),
        alt.Tooltip(["index", "value", "variable"]),
        opacity=opacity,
    )
    .interactive()
)
(We'd only want to do this for temporal data, obviously.) But I'm not familiar with altair/vega-lite, so I'm not sure if this is the right solution.
		</comment>
		<comment id='2' author='kellyamanda' date='2019-10-30T16:16:42Z'>
		Maybe st.line_chart and friends take a new datetime_display param that defaults to "local" but can be set to "utc"?
		</comment>
	</comments>
</bug>