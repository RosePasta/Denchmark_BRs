<bug id='2208' author='kgrabowski' open_date='2020-10-15T21:11:12Z' closed_time='2020-10-19T20:07:06Z'>
	<summary>Streamlit fails to start without Git executable</summary>
	<description>
&lt;denchmark-h:h1&gt;Summary&lt;/denchmark-h&gt;

Streamlit version 0.69.1 fails to start when run inside a Docker container that doesn't have Git installed.
&lt;denchmark-h:h1&gt;Steps to reproduce&lt;/denchmark-h&gt;


Create a Dockerfile with the following contents:

FROM python:3.8-slim
RUN pip install streamlit
CMD ["streamlit", "hello"]

Build the image:

docker build -t demo .

Run the app:

docker run -it --rm demo
&lt;denchmark-h:h2&gt;Expected behavior:&lt;/denchmark-h&gt;

Streamlit starts without issues.
&lt;denchmark-h:h2&gt;Actual behavior:&lt;/denchmark-h&gt;

Streamlit fails to start and displays the following error message:
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/site-packages/git/__init__.py", line 83, in &lt;module&gt;
    refresh()
  File "/usr/local/lib/python3.8/site-packages/git/__init__.py", line 73, in refresh
    if not Git.refresh(path=path):
  File "/usr/local/lib/python3.8/site-packages/git/cmd.py", line 278, in refresh
    raise ImportError(err)
ImportError: Bad git executable.
The git executable must be specified in one of the following ways:
    - be included in your $PATH
    - be set via $GIT_PYTHON_GIT_EXECUTABLE
    - explicitly set via git.refresh()

All git commands will error until this is rectified.

This initial warning can be silenced or aggravated in the future by setting the
$GIT_PYTHON_REFRESH environment variable. Use one of the following values:
    - quiet|q|silence|s|none|n|0: for no warning or exception
    - warn|w|warning|1: for a printed warning
    - error|e|raise|r|2: for a raised exception

Example:
    export GIT_PYTHON_REFRESH=quiet
&lt;denchmark-h:h2&gt;Is this a regression?&lt;/denchmark-h&gt;

yes (worked up until at least version 0.67.1)
&lt;denchmark-h:h1&gt;Debug info&lt;/denchmark-h&gt;


Streamlit version: 0.69.1
Python version: 3.8.6
Using Conda? PipEnv? PyEnv? Pex? NO
OS version: 4.19.76-linuxkit

&lt;denchmark-h:h1&gt;Additional information&lt;/denchmark-h&gt;

This bug can be worked around by setting GIT_PYTHON_REFRESH=quiet environment variable inside the Docker image.
	</description>
	<comments>
		<comment id='1' author='kgrabowski' date='2020-10-16T12:52:20Z'>
		+1
This worked up until version 0.68.0
		</comment>
		<comment id='2' author='kgrabowski' date='2020-10-16T16:42:35Z'>
		Thanks for reporting, we're looking into making a patch for this.
		</comment>
		<comment id='3' author='kgrabowski' date='2020-12-18T15:43:58Z'>
		Hi, getting the same error in streamlit==0.73.0.
Dockerfile
&lt;denchmark-code&gt;FROM python:3.7.4-slim-stretch

COPY requirement.txt requirement.txt

RUN pip install -r requirement.txt

# copy code base in docker image
COPY . .

# exposing default port for streamlit
EXPOSE 8501

# run app
CMD streamlit run frontend.py
&lt;/denchmark-code&gt;

I wasn't getting any error with streamlit==0.70.0.
		</comment>
		<comment id='4' author='kgrabowski' date='2020-12-21T23:31:10Z'>
		&lt;denchmark-link:https://github.com/sshah90&gt;@sshah90&lt;/denchmark-link&gt;
 Thanks for reporting this!   We just released version 0.73.1 that should address this.
		</comment>
	</comments>
</bug>