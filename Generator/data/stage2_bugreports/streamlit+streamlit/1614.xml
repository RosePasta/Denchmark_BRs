<bug id='1614' author='kurt-rhee' open_date='2020-06-21T17:55:43Z' closed_time='2020-11-09T18:08:18Z'>
	<summary>Importing Pandas as pd</summary>
	<description>
&lt;denchmark-h:h1&gt;Summary&lt;/denchmark-h&gt;

I am attempting to create a few different pages, but I am having trouble importing pandas when also importing streamlit commands from a function.
&lt;denchmark-h:h1&gt;Steps to reproduce&lt;/denchmark-h&gt;

Main.py
&lt;denchmark-code&gt;import streamlit as st
import pandas as pd
import sqlite3

from Title import entry_form

# ######### Database ##########
conn = sqlite3.connect(r"G:\General\Solar\R_and_D\CodeLibrary\Python\CRUD\Database\data.db")
c = conn.cursor()

# ######### Menu ###################
menu_list = ['Title', 'Climate', 'Design', 'Layout', 'Performance']
choice = st.sidebar.radio(label='Menu',
                          options=menu_list)

# ########## Title Page ##########            
if choice == 'Title': 
    entry_form()
&lt;/denchmark-code&gt;

Title.py
&lt;denchmark-code&gt;import streamlit as st
import pandas as pd

from Sqlite import *


def entry_form():
    """
    User form to choose or upload a new solar project
    """
    
    import pandas as pd
    
    st.title("User Entry Form")
    
    region_list = ['West', 'South', 'East']
    region = st.selectbox('Region', region_list, index=0)    
    df = pd.read_sql_query("SELECT * from projtable", conn)
    df = df.where(df['region'] == region).dropna()
    
    st.subheader('Project Entry')
    project_list = list(df['project'])
    project_list.sort()
    project = st.selectbox('Project', project_list)
    project_new = st.text_input('New Project Name')
    if project_new != '':
        project = project_new
    df = df.where(df['project'] == project).dropna()
    
    st.subheader('Version Control')
    version_list = list(df['version'])
    version_list.sort()
    version = st.selectbox('Version', version_list)
    version_new = st.text_input('New Version')
    if version_new != '':
        version = version_new
    
    st.subheader('User')
    user_list = ['Angel_Velasco',
                 'Cameron_Nielsen',
                 'James_Alfi',
                 'Kurt_Rhee',
                 'Marine_Bila',
                 'Phil_Timm']
    user = st.selectbox('Username', user_list, index=3)
    
    if st.button('Add'):
        create_table()
        add_data(user, region, project, version)
        st.success('Project Saved')

    df
&lt;/denchmark-code&gt;

&lt;denchmark-h:h2&gt;Expected behavior:&lt;/denchmark-h&gt;

I would expect that importing pandas in the Title.py scipt would not give a NameError pd is not defined
&lt;denchmark-h:h2&gt;Actual behavior:&lt;/denchmark-h&gt;

&lt;denchmark-link:https://user-images.githubusercontent.com/33131958/85231527-92fca880-b3ac-11ea-9995-3733d6586960.png&gt;&lt;/denchmark-link&gt;

&lt;denchmark-h:h2&gt;Is this a regression?&lt;/denchmark-h&gt;

I have not tried this in previous versions.
&lt;denchmark-h:h1&gt;Debug info&lt;/denchmark-h&gt;


Streamlit version: 0.62.0
Python version: 3.7
Using Conda
OS version: Windows 10
Browser version: Chrome

&lt;denchmark-h:h1&gt;Additional information&lt;/denchmark-h&gt;

N/A
	</description>
	<comments>
		<comment id='1' author='kurt-rhee' date='2020-06-21T18:19:48Z'>
		I took a look at the discourse and it gives this error which looks similar to &lt;denchmark-link:https://github.com/streamlit/streamlit/issues/301&gt;#301&lt;/denchmark-link&gt;

&lt;denchmark-link:https://github.com/streamlit/streamlit/issues/301&gt;#301&lt;/denchmark-link&gt;

&lt;denchmark-link:https://user-images.githubusercontent.com/33131958/85232043-1c15de80-b3b1-11ea-9e1c-c4f75ec3f549.png&gt;&lt;/denchmark-link&gt;

		</comment>
		<comment id='2' author='kurt-rhee' date='2020-06-30T09:09:07Z'>
		&lt;denchmark-link:https://github.com/kurt-rhee&gt;@kurt-rhee&lt;/denchmark-link&gt;
 What happens if you take out the  line that's inserted under ?  You shouldn't need it anyway...
		</comment>
		<comment id='3' author='kurt-rhee' date='2020-06-30T15:18:48Z'>
		Hey,  the same issue occurs.
		</comment>
		<comment id='4' author='kurt-rhee' date='2020-07-03T23:52:41Z'>
		&lt;denchmark-link:https://github.com/kurt-rhee&gt;@kurt-rhee&lt;/denchmark-link&gt;
 have you checked the pop-up on your browser? also which browser are you using?
		</comment>
		<comment id='5' author='kurt-rhee' date='2020-07-26T08:06:18Z'>
		Maybe some problem related to importing it twice.
		</comment>
		<comment id='6' author='kurt-rhee' date='2020-10-08T15:27:04Z'>
		Same issue occurs if I import it once, no pop-up in browser, browers details are in original post.
		</comment>
		<comment id='7' author='kurt-rhee' date='2020-11-02T21:35:59Z'>
		Hi &lt;denchmark-link:https://github.com/kurt-rhee&gt;@kurt-rhee&lt;/denchmark-link&gt;
 -- is there a simplified repro you can provide for this bug?  I.e. the shortest possible script that produces this error.  It seems pretty mysterious and I haven't been able to repro it myself yet.
		</comment>
		<comment id='8' author='kurt-rhee' date='2020-11-02T21:40:34Z'>
		&lt;denchmark-link:https://github.com/nthmost&gt;@nthmost&lt;/denchmark-link&gt;
 Hey, I've been upgrading streamlit as new versions come out and haven't had this issue again.  I think the solution may just be to update if people are still using 0.62.
I think this is safe to close.
		</comment>
	</comments>
</bug>