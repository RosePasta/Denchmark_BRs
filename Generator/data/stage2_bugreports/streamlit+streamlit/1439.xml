<bug id='1439' author='Magdiel3' open_date='2020-05-12T12:17:43Z' closed_time='2020-05-18T21:24:50Z'>
	<summary>ImportError .so file in python (invalid ELF header)</summary>
	<description>
&lt;denchmark-h:h1&gt;Summary&lt;/denchmark-h&gt;

I'm building a streamlit app with python and deploying it to heroku. The app uses the python wrapper from &lt;denchmark-link:https://github.com/facebookresearch/StarSpace&gt;Starspace&lt;/denchmark-link&gt;
 and works locally but when running online on Heroku  shows an 
&lt;denchmark-h:h1&gt;Steps to reproduce&lt;/denchmark-h&gt;

What are the steps we should take to reproduce the bug:

Cloned the Starspace repo and followed the steps mentioned to compile the python wrapper
Moved the generated starwrapper.so to my Heroku repo and imported it like
import starwrap as sw
Deploy app to Heroku

&lt;denchmark-h:h2&gt;Expected behavior:&lt;/denchmark-h&gt;

Running the streamlit app locally show no error and executes just fine. I can load a saved starspace model, make predictions and display some resutls.
&lt;denchmark-h:h2&gt;Actual behavior:&lt;/denchmark-h&gt;

In Heroku I get an error displayed when trying to import the starspace python wrapper.
ImportError: /app/starwrap.so: invalid ELF header
Traceback:
File "/app/.heroku/python/lib/python3.8/site-packages/streamlit/ScriptRunner.py", line 322, in _run_script
exec(code, module.dict)
File "/app/collaborative_filtering_interface.py", line 3, in 
import starwrap as sw
&lt;denchmark-h:h2&gt;Is this a regression?&lt;/denchmark-h&gt;

That is, did this use to work the way you expected in the past?
No
&lt;denchmark-h:h1&gt;Debug info&lt;/denchmark-h&gt;


Streamlit version: 0.58.0
Python version: 3.8.2
OS version: MacOS

&lt;denchmark-h:h1&gt;Additional information&lt;/denchmark-h&gt;

	</description>
	<comments>
		<comment id='1' author='Magdiel3' date='2020-05-18T21:24:50Z'>
		Hi &lt;denchmark-link:https://github.com/Magdiel3&gt;@Magdiel3&lt;/denchmark-link&gt;
 , I believe you have to build  on the platform you plan to use it on. You can't build it on your Mac then use the binary on linux.
		</comment>
	</comments>
</bug>