<bug id='4183' author='adriang133' open_date='2020-11-04T16:59:02Z' closed_time='2020-11-12T18:49:02Z'>
	<summary>executeAsync `cannot read property 'getItem' of undefined`</summary>
	<description>
System information

Have I written custom code (as opposed to using a stock example script provided in TensorFlow.js): Yes
OS Platform and Distribution (e.g., Linux Ubuntu 16.04): macOS 10.15.6
TensorFlow.js installed from (npm or script link): npm
TensorFlow.js version (use command below): 2.7.0
Browser version: Chrome 86.0.4240.183
Tensorflow.js Converter Version: 2.7.0

Describe the current behavior
I have a model ensemble, roughly generated like this:
inputs = trained_models[0].inputs # trained_models is a list of keras.Model instances

y_pred = [model(inputs) for model in trained_models]

y_avg = keras.layers.average(y_pred)

model_ensemble = keras.Model(inputs=inputs, outputs=y_avg, name='ensemble')

model_ensemble.save('...')
I then export it via
tensorflowjs_converter --input_format=tf_saved_model model/path target/path
It loads fine in Javascript land but when I try to predict something, i.e.
const model = await loadGraphModel('...');
await model.executeAsync(...)
I get this error
&lt;denchmark-code&gt;Uncaught (in promise) TypeError: Cannot read property 'getItem' of undefined
    at executors_control_executor_executeOp (webpack-internal:///483:48432)
    at eval (webpack-internal:///483:49466)
    at operations_operation_executor_executeOp (webpack-internal:///483:49506)
    at executor_graph_executor_GraphExecutor.processStack (webpack-internal:///483:50136)
    at executor_graph_executor_GraphExecutor.executeWithControlFlow (webpack-internal:///483:50097)
    at async executor_graph_executor_GraphExecutor._executeAsync (webpack-internal:///483:50043)
    at async executor_graph_model_GraphModel.executeAsync (webpack-internal:///483:50542)
&lt;/denchmark-code&gt;

Describe the expected behavior
It should work.

I don't have a minimal example, but my exported model is at &lt;denchmark-link:https://www.dropbox.com/s/bak5vikeu86rzz8/ensemble.zip?dl=0&gt;https://www.dropbox.com/s/bak5vikeu86rzz8/ensemble.zip?dl=0&lt;/denchmark-link&gt;
.
To reproduce
&lt;denchmark-code&gt;import { loadGraphModel } from '@tensorflow/tfjs-converter';
const model = await loadGraphModel('path/to/model');

const randomInput = {
    'ts_input': tf.ones([1, 101, 3]),
    'shop_category': tf.ones([1, 1]),
    'bucketized_qoh': tf.ones([1, 101]),
}

const pred = await model.executeAsync(randomInput);
&lt;/denchmark-code&gt;

Note: Everything works if I export just one of the ensembled models, so it might be related to that.
	</description>
	<comments>
		<comment id='1' author='adriang133' date='2020-11-05T17:32:26Z'>
		&lt;denchmark-link:https://github.com/adriang133&gt;@adriang133&lt;/denchmark-link&gt;
 Thank you for reporting the issue, it would be really helpful if you can share the exact model to reproduce this error. thanks!
		</comment>
		<comment id='2' author='adriang133' date='2020-11-06T06:10:12Z'>
		&lt;denchmark-link:https://github.com/pyu10055&gt;@pyu10055&lt;/denchmark-link&gt;
 There's a link to the model generated by tensorflowjs_converter above.
Do you mean the code for generating the python model ?
		</comment>
		<comment id='3' author='adriang133' date='2020-11-06T18:45:50Z'>
		&lt;denchmark-link:https://github.com/adriang133&gt;@adriang133&lt;/denchmark-link&gt;
 yes if you can provide the python model would be great.
		</comment>
		<comment id='4' author='adriang133' date='2020-11-06T22:22:30Z'>
		&lt;denchmark-link:https://github.com/adriang133&gt;@adriang133&lt;/denchmark-link&gt;
 I tried your converted TFJS model, I works with the code you provided.
I am confused in what circumstances this would fail?
		</comment>
		<comment id='5' author='adriang133' date='2020-11-12T18:49:01Z'>
		Tried it in a fresh project and it worked. Must've been something else in my project that caused it to fail.
Sorry about that!
		</comment>
		<comment id='6' author='adriang133' date='2020-11-12T18:49:03Z'>
		Are you satisfied with the resolution of your issue?
&lt;denchmark-link:https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=Yes&amp;entry.2137816233=https://github.com/tensorflow/tfjs/issues/4183&gt;Yes&lt;/denchmark-link&gt;

&lt;denchmark-link:https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=No&amp;entry.2137816233=https://github.com/tensorflow/tfjs/issues/4183&gt;No&lt;/denchmark-link&gt;

		</comment>
	</comments>
</bug>