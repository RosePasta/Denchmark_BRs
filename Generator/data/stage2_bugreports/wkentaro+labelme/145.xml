<bug id='145' author='xikuibin' open_date='2018-04-28T06:41:23Z' closed_time='2018-04-29T21:24:35Z'>
	<summary>icon file cause pyinstaller failed on windows</summary>
	<description>
When try to build a standalone exe on windows, one exception is raised.
&lt;denchmark-code&gt;12702 INFO: Building EXE from out00-EXE.toc
12706 INFO: SRCPATH [('labelme/icons/icon.icns', None)]
12706 INFO: Updating icons from labelme/icons/icon.icns to C:\Users\user\AppData\Local\Temp\tmpp1wwf9ba
Traceback (most recent call last):
  File "c:\miniconda3\envs\labelme-buid\lib\runpy.py", line 193, in _run_module_as_main
    "__main__", mod_spec)
  File "c:\miniconda3\envs\labelme-buid\lib\runpy.py", line 85, in _run_code
    exec(code, run_globals)
  File "C:\Miniconda3\envs\labelme-buid\Scripts\pyinstaller.exe\__main__.py", line 9, in &lt;module&gt;
  File "c:\miniconda3\envs\labelme-buid\lib\site-packages\PyInstaller\__main__.py", line 94, in run
    run_build(pyi_config, spec_file, **vars(args))
  File "c:\miniconda3\envs\labelme-buid\lib\site-packages\PyInstaller\__main__.py", line 46, in run_build
    PyInstaller.building.build_main.main(pyi_config, spec_file, **kwargs)
  File "c:\miniconda3\envs\labelme-buid\lib\site-packages\PyInstaller\building\build_main.py", line 791, in main
    build(specfile, kw.get('distpath'), kw.get('workpath'), kw.get('clean_build'))
  File "c:\miniconda3\envs\labelme-buid\lib\site-packages\PyInstaller\building\build_main.py", line 737, in build
    exec(text, spec_namespace)
  File "&lt;string&gt;", line 37, in &lt;module&gt;
  File "c:\miniconda3\envs\labelme-buid\lib\site-packages\PyInstaller\building\api.py", line 420, in __init__
    self.__postinit__()
  File "c:\miniconda3\envs\labelme-buid\lib\site-packages\PyInstaller\building\datastruct.py", line 161, in __postinit__
    self.assemble()
  File "c:\miniconda3\envs\labelme-buid\lib\site-packages\PyInstaller\building\api.py", line 509, in assemble
    icon.CopyIcons(tmpnm, self.icon)
  File "c:\miniconda3\envs\labelme-buid\lib\site-packages\PyInstaller\utils\win32\icon.py", line 173, in CopyIcons
    hsrc = win32api.LoadLibraryEx(srcpath, 0, LOAD_LIBRARY_AS_DATAFILE)
pywintypes.error: (193, 'LoadLibraryEx', '%1 is not a valid Win32 application.')
&lt;/denchmark-code&gt;

The exception is caused by icon file specified in labelme.spec. icon.icns is mac icon format. So pyinstaller could not create exe with this file.
If convert it to windows format (.ico), the build process is sucessful.
	</description>
	<comments>
		<comment id='1' author='xikuibin' date='2018-04-29T21:26:48Z'>
		I think &lt;denchmark-link:https://github.com/wkentaro/labelme/pull/146&gt;#146&lt;/denchmark-link&gt;
 fixes this, so could you try the code on master?
		</comment>
	</comments>
</bug>