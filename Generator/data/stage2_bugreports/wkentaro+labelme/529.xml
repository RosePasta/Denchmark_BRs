<bug id='529' author='qvduoduo1997' open_date='2019-12-27T15:45:11Z' closed_time='2019-12-28T09:06:24Z'>
	<summary>json_to_dataset.py</summary>
	<description>
when i use json_to_dataset.py home/xxx.json, it can't work, and it will go wrong
�[33m[WARNING]�[0m This script is aimed to demonstrate how to convert theJSON file to a single image dataset, and not to handlemultiple JSON files to generate a real-use dataset. (�[1mjson_to_dataset.py�[0m:16)
Traceback (most recent call last):
File "c:\users\xxx\anaconda3\lib\runpy.py", line 193, in _run_module_as_main
"main", mod_spec)
File "c:\users\xxx\anaconda3\lib\runpy.py", line 85, in run_code
exec(code, run_globals)
File "C:\Users\xxx\Anaconda3\Scripts\labelme_json_to_dataset.exe_main.py", line 9, in 
File "c:\users\xxx\anaconda3\lib\site-packages\labelme\cli\json_to_dataset.py", line 59, in main
label=lbl, img=img, label_names=label_names, loc='rb'
File "c:\users\xxxanaconda3\lib\site-packages\imgviz\label.py", line 113, in label2rgb
legend, aabb1, aabb2, fill=(255, 255, 255))
File "c:\users\xxx\anaconda3\lib\site-packages\imgviz\draw.py", line 181, in rectangle
xy=(x1, y1, x2, y2), fill=fill, outline=outline, width=width
TypeError: rectangle() got an unexpected keyword argument 'width'
	</description>
	<comments>
		<comment id='1' author='qvduoduo1997' date='2019-12-28T09:01:07Z'>
		Please run pip install -U imgviz
Please run pip install -U pillow
		</comment>
		<comment id='2' author='qvduoduo1997' date='2019-12-28T09:06:21Z'>
		Fixed via 967f360f4dfff4857a8ed1212adbb7f812a65f54
Now pip install -U imgviz also works. (you may need --no-cache-dir option)
		</comment>
		<comment id='3' author='qvduoduo1997' date='2019-12-28T11:19:10Z'>
		Thank you very much for your timely help！~谢谢♪(･ω･)ﾉ
		</comment>
		<comment id='4' author='qvduoduo1997' date='2020-03-16T14:37:31Z'>
		Hi
This issue persists even after installing imgviz and pillow
My code output:
$ labelme_json_to_dataset /home/user/Documents/new.json
[WARNING] This script is aimed to demonstrate how to convert theJSON file to a single image dataset, and not to handlemultiple JSON files to generate a real-use dataset. (json_to_dataset.py:15)
Traceback (most recent call last):
File "/usr/local/bin/labelme_json_to_dataset", line 11, in 
sys.exit(main())
File "/usr/local/lib/python3.6/dist-packages/labelme/cli/json_to_dataset.py", line 61, in main
label=lbl, img=imgviz.asgray(img), label_names=label_names, loc='rb'
File "/usr/local/lib/python3.6/dist-packages/imgviz/label.py", line 160, in label2rgb
legend, aabb1, aabb2, fill=(255, 255, 255)
File "/usr/local/lib/python3.6/dist-packages/imgviz/draw.py", line 188, in rectangle
xy=(x1, y1, x2, y2), fill=fill, outline=outline, width=width
TypeError: rectangle() got an unexpected keyword argument 'width'
		</comment>
		<comment id='5' author='qvduoduo1997' date='2020-03-16T14:58:05Z'>
		What’s the version of labelme and ingviz?
On Mon, 16 Mar 2020 at 14:37, Abhiroop Talasila ***@***.***&gt; wrote:
 Hi
 This issue persists even after installing imgviz and pillow
 My code output:
 $ labelme_json_to_dataset /home/user/Documents/new.json

 [WARNING] This script is aimed to demonstrate how to convert theJSON file
 to a single image dataset, and not to handlemultiple JSON files to generate
 a real-use dataset. (json_to_dataset.py:15)
 Traceback (most recent call last):
 File "/usr/local/bin/labelme_json_to_dataset", line 11, in
 sys.exit(main())
 File
 "/usr/local/lib/python3.6/dist-packages/labelme/cli/json_to_dataset.py",
 line 61, in main
 label=lbl, img=imgviz.asgray(img), label_names=label_names, loc='rb'
 File "/usr/local/lib/python3.6/dist-packages/imgviz/label.py", line 160,
 in label2rgb
 legend, aabb1, aabb2, fill=(255, 255, 255)
 File "/usr/local/lib/python3.6/dist-packages/imgviz/draw.py", line 188, in
 rectangle
 xy=(x1, y1, x2, y2), fill=fill, outline=outline, width=width
 TypeError: rectangle() got an unexpected keyword argument 'width'

 —
 You are receiving this because you modified the open/close state.
 Reply to this email directly, view it on GitHub
 &lt;&lt;denchmark-link:https://github.com/wkentaro/labelme/issues/529#issuecomment-599572070&gt;#529 (comment)&lt;/denchmark-link&gt;
&gt;,
 or unsubscribe
 &lt;&lt;denchmark-link:https://github.com/notifications/unsubscribe-auth/ABA4LE4OKAXOODUX2BKGNL3RHY2TVANCNFSM4J76APSA&gt;https://github.com/notifications/unsubscribe-auth/ABA4LE4OKAXOODUX2BKGNL3RHY2TVANCNFSM4J76APSA&lt;/denchmark-link&gt;
&gt;
 .

-- 
Kentaro Wada / 和田 健太郎
&lt;denchmark-link:https://wkentaro.com&gt;https://wkentaro.com&lt;/denchmark-link&gt;
 &lt;&lt;denchmark-link:http://wkentaro.com&gt;http://wkentaro.com&lt;/denchmark-link&gt;
&gt;
		</comment>
		<comment id='6' author='qvduoduo1997' date='2020-03-16T16:16:55Z'>
		Hi
I managed to get it working!
When I tried updating pillow it wasn't replacing the default PIL package Ubuntu comes with out of the box. I had to manually remove all associated files/folders regarding PIL and Pillow and reinstall them by running:
sudo apt-get install python-pil
python3 -m pip install image
Thank you and hope this helps others!
		</comment>
	</comments>
</bug>